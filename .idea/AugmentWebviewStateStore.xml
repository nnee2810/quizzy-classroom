<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="AugmentWebviewStateStore">
    <option name="stateMap">
      <map>
        <entry key="CHAT_STATE" value="eyJjdXJyZW50Q29udmVyc2F0aW9uSWQiOiJkNDU1ZGUxYi02MGY4LTQ0NzYtOGQ2Yi05ZTA2YmIwYWFiZDUiLCJjb252ZXJzYXRpb25zIjp7ImQ2YzM1N2QzLTgxZjItNGU0ZC04NDNmLTkxY2E5YjZmZWU0MyI6eyJpZCI6ImQ2YzM1N2QzLTgxZjItNGU0ZC04NDNmLTkxY2E5YjZmZWU0MyIsIm5hbWUiOiJXZWxjb21lIHRvIHRoZSBBdWdtZW50IEFnZW50IiwiY3JlYXRlZEF0SXNvIjoiMjAyNS0wNC0yMVQxNTo0NToxMC4zODVaIiwibGFzdEludGVyYWN0ZWRBdElzbyI6IjIwMjUtMDQtMjFUMTY6MjE6MjIuMDc3WiIsImNoYXRIaXN0b3J5IjpbeyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImIzMzZjODkxLTlkZDgtNDUwNC1iZWEwLTcxNzQ3MTQ0MDAzNyIsInJlcXVlc3RfbWVzc2FnZSI6InThuqFvIGFwaSBs4bqleSBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3UiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoidOG6oW8gYXBpIGzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJFhbmcgc+G7nyBo4buvdSJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxU2ZYQ0NtdU03WGhqcnVCMUpoeHVaNiIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiRmluZCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaGFuZGxlci9oYW5kbGVyLmdvIGZpbGUgc3RydWN0dXJlIGFuZCBob3cgQVBJIGVuZHBvaW50cyBhcmUgZGVmaW5lZCBpbiB0aGlzIHByb2plY3QuIEFsc28gbG9vayBmb3IgYW55IGV4aXN0aW5nIGNsYXNzIG9yIGNsYXNzcm9vbSByZWxhdGVkIG1vZGVscywgaGFuZGxlcnMsIGFuZCBkYXRhYmFzZSBpbnRlcmFjdGlvbnMuXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJJ2xsIGhlbHAgeW91IGNyZWF0ZSBhbiBBUEkgdG8gcmV0cmlldmUgYSBsaXN0IG9mIGNsYXNzZXMgb3duZWQgYnkgYSB1c2VyLiBMZXQgbWUgZmlyc3QgZ2F0aGVyIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjb2RlYmFzZSBzdHJ1Y3R1cmUgdG8gdW5kZXJzdGFuZCBob3cgdG8gaW1wbGVtZW50IHRoaXMgZmVhdHVyZSBwcm9wZXJseS5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50IjoidOG6oW8gYXBpIGzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJFhbmcgc+G7nyBo4buvdSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkknbGwgaGVscCB5b3UgY3JlYXRlIGFuIEFQSSB0byByZXRyaWV2ZSBhIGxpc3Qgb2YgY2xhc3NlcyBvd25lZCBieSBhIHVzZXIuIExldCBtZSBmaXJzdCBnYXRoZXIgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNvZGViYXNlIHN0cnVjdHVyZSB0byB1bmRlcnN0YW5kIGhvdyB0byBpbXBsZW1lbnQgdGhpcyBmZWF0dXJlIHByb3Blcmx5LlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjdhMDcyMzE5LWZmYjAtNGFlNi05OWJjLTgxYjQ1NWEwNzMyNyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTRQN1dnYnFXdnZLZDdjU1o1THhFeGUiLCJ0b29sX25hbWUiOiJjb2RlYmFzZS1yZXRyaWV2YWwiLCJpbnB1dF9qc29uIjoie1wiaW5mb3JtYXRpb25fcmVxdWVzdFwiOiBcIkZpbmQgaW5mb3JtYXRpb24gYWJvdXQgYW55IGV4aXN0aW5nIHJlcG9zaXRvcnkgbWV0aG9kcyBvciB1c2VjYXNlIG1ldGhvZHMgdGhhdCBtaWdodCBiZSByZWxhdGVkIHRvIHJldHJpZXZpbmcgY2xhc3Nyb29tcyBvd25lZCBieSBhIHVzZXIuIEFsc28gbG9vayBmb3IgYW55IGV4aXN0aW5nIG1vZGVscyBvciBlbnRpdGllcyB0aGF0IHJlcHJlc2VudCBjbGFzc3Jvb21zIGFuZCB0aGVpciByZWxhdGlvbnNoaXBzIHRvIHVzZXJzLlwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0IG1lIGdhdGhlciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZSByZXBvc2l0b3J5IGFuZCB1c2VjYXNlIGxheWVycyB0byB1bmRlcnN0YW5kIGhvdyB0byBpbXBsZW1lbnQgdGhlIEFQSSBmb3IgcmV0cmlldmluZyBvd25lZCBjbGFzc3Jvb21zLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogaGFuZGxlci9oYW5kbGVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcblxudHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAvLyBU4bqhbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTOG7jWMgdGjDoG5oIHZpw6puIGPhu6dhIGzhu5twIGjhu41jXG5cdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4budaSBt4budaVxuXHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gVOG7qyBjaOG7kWkgbOG7nWkgbeG7nWlcblx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIEzhu41jIGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgxJHGsOG7o2MgbeG7nWlcbn1cblxudHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xuXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2Vcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2Vcblx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Vcblx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxuXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG5cdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG59XG5cbnR5cGUgSW5qZWN0IHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Vcbn1cblxuZnVuYyBOZXcoaW5qZWN0ICpJbmplY3QpIEhhbmRsZXIge1xuXHRyZXR1cm4gJmhhbmRsZXJJbXBse1xuXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICBpbmplY3QuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSxcblx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogaW5qZWN0LkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLFxuXHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICBpbmplY3QuSW52aXRlTWVtYmVyVXNlQ2FzZSxcblx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgaW5qZWN0LkZpbHRlckludml0YXRpb25zVXNlQ2FzZSxcblx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LlJlamVjdEludml0YXRpb25Vc2VDYXNlLFxuXHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuQWNjZXB0SW52aXRhdGlvblVzZUNhc2UsXG5cdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIGluamVjdC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UsXG5cdH1cbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSByLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBib2R5IHJlcS5DcmVhdGVDbGFzc3Jvb21SZXF1ZXN0XG5cblx0aWYgZXJyIDo9IGMuQm9keVBhcnNlcigmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHIuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5LkNsYXNzcm9vbUVudGl0eXtcblx0XHRVc2VySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHROYW1lOiAgICAgIHZhbHVlLkdldFZhbHVlKGJvZHkuTmFtZSwgXCJcIiksXG5cdFx0QXZhdGFyVXJsOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkF2YXRhclVybCwgXCJcIiksXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogc2VydmVyL3JvdXRlci5nb1xucGFja2FnZSBzZXJ2ZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2hhbmRsZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG5mdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG5cdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcIi9jbGFzc3Jvb21cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2NyZWF0ZVwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcblxuXHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBib2R5IHJlcS5JbnZpdGVNZW1iZXJSZXF1ZXN0XG5cblx0aWYgZXJyIDo9IGMuQm9keVBhcnNlcigmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IGguSW52aXRlTWVtYmVyVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5Lkludml0YXRpb25FbnRpdHl7XG5cdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGJvZHkuQ2xhc3Nyb29tSUQsIFwiXCIpLFxuXHRcdFNlbmRlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0UmVjZWl2ZXJJRDogIHZhbHVlLkdldFZhbHVlKGJvZHkuUmVjZWl2ZXJJRCwgXCJcIiksXG5cdFx0U3RhdHVzOiAgICAgIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZyxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRzd2l0Y2gge1xuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyclJlY2VpdmVyQWxyZWFkeUhhc0ludml0YXRpb24pOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgxJFhbmcgY2jhu50geOG7rSBsw70gaG/hurdjIMSRw6MgxJHGsOG7o2MgY2jhuqVwIG5o4bqtblwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBjbGFzc3Jvb21faWQgdOG7qyBVUkxcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcXVlcnkgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksIHF1ZXJ5KVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0aWYgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKSB7XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHR9XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuLi4uXG5QYXRoOiBzZXJ2ZXIvc2VydmVyLmdvXG4uLi5cblx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcblx0aGFuZGxlciA6PSBoYW5kbGVyLk5ldygmaGFuZGxlci5JbmplY3R7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIHVzZWNhc2UuTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgdXNlY2FzZS5OZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICB1c2VjYXNlLk5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdH0pXG4uLi5cblBhdGg6IGhhbmRsZXIvYWNjZXB0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBJRCBj4bunYSBpbnZpdGF0aW9uIHThu6sgVVJMXG5cdGludml0YXRpb25JRCA6PSBjLlBhcmFtcyhcImlkXCIpXG5cdGlmIGludml0YXRpb25JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImlkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG4uLi5cblBhdGg6IG1pZ3JhdGUvbWlncmF0ZS5nb1xucGFja2FnZSBtaWdyYXRlXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWxcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG5mdW5jIFJ1bihzZXJ2aWNlQ29uZmlnICptb2RlbC5TZXJ2aWNlQ29uZmlnKSB7XG5cdHByb3ZpZGVyLCBlcnIgOj0gcHJvdmlkZXIuSW5pdChzZXJ2aWNlQ29uZmlnKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gaW5pdCBwcm92aWRlclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuXG5cdGlmIGVyciA6PSBwcm92aWRlci5EYi5BdXRvTWlncmF0ZShcblx0XHQmZW50aXR5LkNsYXNzcm9vbUVudGl0eXt9LFxuXHRcdCZlbnRpdHkuQ2xhc3Nyb29tTWVtYmVye30sXG5cdFx0JmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e30sXG5cdCk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBtaWdyYXRlIGRhdGFiYXNlXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG5cblx0bG9nZ2VyLkluZm8oXCJtaWdyYXRlIGRhdGFiYXNlIHN1Y2Nlc3NcIilcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9yZWplY3RfaW52aXRhdGlvbi5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IElEIGPhu6dhIGludml0YXRpb24gdOG7qyBVUkxcblx0aW52aXRhdGlvbklEIDo9IGMuUGFyYW1zKFwiaWRcIilcblx0aWYgaW52aXRhdGlvbklEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiaWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbS5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblxudHlwZSBDbGFzc3Jvb21FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblxuXHRVc2VySUQgICAgc3RyaW5nIGBqc29uOlwidXNlcl9pZFwiYFxuXHROYW1lICAgICAgc3RyaW5nIGBqc29uOlwibmFtZVwiYFxuXHRBdmF0YXJVcmwgc3RyaW5nIGBqc29uOlwiYXZhdGFyX3VybFwiYFxufVxuXG5mdW5jIChjICpDbGFzc3Jvb21FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7XG5cdHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tc1wiXG59XG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXG50eXBlIENsYXNzcm9vbU1lbWJlclJvbGUgc3RyaW5nXG5cbmNvbnN0IChcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVRlYWNoZXIgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwidGVhY2hlclwiXG5cdENsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50IENsYXNzcm9vbU1lbWJlclJvbGUgPSBcInN0dWRlbnRcIlxuKVxuXG50eXBlIENsYXNzcm9vbU1lbWJlciBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXHRDbGFzc3Jvb21JRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiY2xhc3Nyb29tX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRVc2VySUQgICAgICBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwidXNlcl9pZFwiIGdvcm06XCJ1bmlxdWVJbmRleDppZHhfY2xhc3Nyb29tX3VzZXJcImBcblx0Um9sZSAgICAgICAgQ2xhc3Nyb29tTWVtYmVyUm9sZSBganNvbjpcInJvbGVcImBcblx0SW52aXRlZEJ5SUQgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcImludml0ZWRfYnlfaWRcImBcbn1cblxuZnVuYyAoYyBDbGFzc3Jvb21NZW1iZXIpIFRhYmxlTmFtZSgpIHN0cmluZyB7XG5cdHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tX21lbWJlcnNcIlxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuXG50eXBlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG5cdENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG5cdElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcblx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcblx0RmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcblx0R2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpXG5cdFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvclxuXHRDcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgbWVtYmVyICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyKSBlcnJvclxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSByZXBvc2l0b3J5SW1wbCBzdHJ1Y3Qge1xuXHRQcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXJcbn1cblxuZnVuYyBOZXcocHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyKSBSZXBvc2l0b3J5IHtcblx0cmV0dXJuICZyZXBvc2l0b3J5SW1wbHtcblx0XHRQcm92aWRlcjogcHJvdmlkZXIsXG5cdH1cbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuVHJhbnNhY3Rpb24oZnVuYyh0eCAqZ29ybS5EQikgZXJyb3Ige1xuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoY2xhc3Nyb29tKS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZSgmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShjbGFzc3Jvb20uSUQsIFwiXCIpLFxuXHRcdFx0VXNlcklEOiAgICAgIGNsYXNzcm9vbS5Vc2VySUQsXG5cdFx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyLFxuXHRcdH0pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRyZXR1cm4gbmlsXG5cdH0pXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdvcm0uaW8vZ29ybS9jbGF1c2VcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Ige1xuXHQvLyBT4butIGThu6VuZyBjbGF1c2UuT25Db25mbGljdCgpLkRvTm90aGluZygpIMSR4buDIHRyw6FuaCBs4buXaSBraGkgdGjDqm0gdGjDoG5oIHZpw6puIMSRw6MgdOG7k24gdOG6oWlcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5cblx0XHRDbGF1c2VzKGNsYXVzZS5PbkNvbmZsaWN0e0RvTm90aGluZzogdHJ1ZX0pLlxuXHRcdENyZWF0ZShtZW1iZXIpLkVycm9yXG59XG4uLi5cblBhdGg6IGVudGl0eS9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvblN0YXR1cyBzdHJpbmdcblxuY29uc3QgKFxuXHRJbnZpdGF0aW9uU3RhdHVzUGVuZGluZyAgSW52aXRhdGlvblN0YXR1cyA9IFwicGVuZGluZ1wiXG5cdEludml0YXRpb25TdGF0dXNBY2NlcHRlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJhY2NlcHRlZFwiXG5cdEludml0YXRpb25TdGF0dXNSZWplY3RlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJyZWplY3RlZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvbkVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXHRDbGFzc3Jvb21JRCBzdHJpbmcgICAgICAgICAgIGBqc29uOlwiY2xhc3Nyb29tX2lkXCJgXG5cdFNlbmRlcklEICAgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJzZW5kZXJfaWRcIiBnb3JtOlwiaW5kZXhcImBcblx0UmVjZWl2ZXJJRCAgc3RyaW5nICAgICAgICAgICBganNvbjpcInJlY2VpdmVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFN0YXR1cyAgICAgIEludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBnb3JtOlwiaW5kZXhcImBcbn1cblxuZnVuYyAoSW52aXRhdGlvbkVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHsgcmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5pbnZpdGF0aW9uc1wiIH1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfaW52aXRhdGlvbi5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLkNyZWF0ZShpbnZpdGF0aW9uKS5FcnJvclxufS4uLlxuUGF0aDogbW9kZWwvcmVxL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgcmVxXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tUmVxdWVzdCBzdHJ1Y3Qge1xuXHROYW1lICAgICAgKnN0cmluZyBganNvbjpcIm5hbWVcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdEF2YXRhclVybCAqc3RyaW5nIGBqc29uOlwiYXZhdGFyX3VybFwiIHZhbGlkYXRlOlwicmVxdWlyZWQsdXJsXCJgXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tTWVtYmVycyBbXWVudGl0eS5DbGFzc3Jvb21NZW1iZXJcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZFwiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21NZW1iZXJzKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21NZW1iZXJzXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHlde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcImNyZWF0ZWRfYXQgREVTQ1wiKSwgLy8gTeG6t2MgxJHhu4tuaCBz4bqvcCB44bq/cCB0aGVvIG5nw6B5IHThuqFvIG3hu5tpIG5o4bqldFxuXHR9XG5cblx0cXVlcnkgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwicmVjZWl2ZXJfaWQgPSA/XCIsIHJlY2VpdmVySUQpXG5cblx0Ly8gTOG7jWMgdGhlbyBzdGF0dXMgbuG6v3UgY8OzXG5cdGlmIHBhcmFtcy5TdGF0dXMgIT0gbmlsIHtcblx0XHRxdWVyeSA9IHF1ZXJ5LldoZXJlKFwic3RhdHVzID0gP1wiLCAqcGFyYW1zLlN0YXR1cylcblx0fVxuXG5cdHZhciBpbnZpdGF0aW9ucyBbXWVudGl0eS5JbnZpdGF0aW9uRW50aXR5XG5cdGlmIGVyciA6PSBxdWVyeS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmludml0YXRpb25zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZ2V0X2ludml0YXRpb25fYnlfaWQuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKSB7XG5cdHZhciBpbnZpdGF0aW9uIGVudGl0eS5JbnZpdGF0aW9uRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJpZCA9ID9cIiwgaW52aXRhdGlvbklEKS5cblx0XHRGaXJzdCgmaW52aXRhdGlvbikuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cdHJldHVybiAmaW52aXRhdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIEludml0ZU1lbWJlclJlcXVlc3Qgc3RydWN0IHtcblx0Q2xhc3Nyb29tSUQgKnN0cmluZyBganNvbjpcImNsYXNzcm9vbV9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0UmVjZWl2ZXJJRCAgKnN0cmluZyBganNvbjpcInJlY2VpdmVyX2lkXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0Z29ybTIgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIChcblx0XHRwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHlde1xuXHRcdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0XHR9XG5cdFx0aW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHQpXG5cblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZCA9ID9cIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3BlcyhmdW5jKGRiICpnb3JtLkRCKSAqZ29ybS5EQiB7XG5cdFx0XHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0XHRcdHJldHVybiBkYi5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZGJcblx0XHR9LCBnb3JtMi5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmludml0YXRpb25zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBpbnZpdGF0aW9uc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XyBcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcbn1cblxudHlwZSBjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2Uge1xuXHRyZXR1cm4gJmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAoYyAqY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdGlmIGVyciA6PSBjLlJlcG8uQ3JlYXRlQ2xhc3Nyb29tKGN0eCwgY2xhc3Nyb29tKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb21cIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cdHJldHVybiBuaWxcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS91cGRhdGVfaW52aXRhdGlvbl9zdGF0dXMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvciB7XG5cdHJldHVybiByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0TW9kZWwoJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e30pLlxuXHRcdFdoZXJlKFwiaWQgPSA/XCIsIGludml0YXRpb25JRCkuXG5cdFx0VXBkLi4uIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxU2ZYQ0NtdU03WGhqcnVCMUpoeHVaNiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkxldCBtZSBnYXRoZXIgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcmVwb3NpdG9yeSBhbmQgdXNlY2FzZSBsYXllcnMgdG8gdW5kZXJzdGFuZCBob3cgdG8gaW1wbGVtZW50IHRoZSBBUEkgZm9yIHJldHJpZXZpbmcgb3duZWQgY2xhc3Nyb29tcy5cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI5ZDlhZDY1MC0yZWVhLTRjNjktYjQ3Zi05Mjc0ZDBhZTQ0OGQiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFEMnp1anNOV25pRWJIN2c3TjVGWnlaIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJGaW5kIGluZm9ybWF0aW9uIGFib3V0IHBhZ2luYXRpb24gcmVxdWVzdCBtb2RlbHMgYW5kIHJlc3BvbnNlIG1vZGVscyBpbiB0aGUgY29kZWJhc2UuIEFsc28gbG9vayBmb3IgYW55IGVycm9yIGhhbmRsaW5nIHBhdHRlcm5zIHVzZWQgaW4gdGhlIGhhbmRsZXJzLlwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IEkgbmVlZCB0byBjaGVjayBpZiB0aGVyZSBhcmUgYW55IGV4aXN0aW5nIHBhZ2luYXRpb24gcmVxdWVzdCBtb2RlbHMgYW5kIHJlc3BvbnNlIG1vZGVscyB0aGF0IEkgY2FuIHJldXNlIGZvciB0aGUgbmV3IEFQSS5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IGVudGl0eS9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tRW50aXR5IHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cblx0VXNlcklEICAgIHN0cmluZyBganNvbjpcInVzZXJfaWRcImBcblx0TmFtZSAgICAgIHN0cmluZyBganNvbjpcIm5hbWVcImBcblx0QXZhdGFyVXJsIHN0cmluZyBganNvbjpcImF2YXRhcl91cmxcImBcbn1cblxuZnVuYyAoYyAqQ2xhc3Nyb29tRW50aXR5KSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXNcIlxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2lzX2NsYXNzcm9vbV9vd25lci5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgSXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY2xhc3Nyb29tIGVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImlkID0gPyBBTkQgdXNlcl9pZCA9ID9cIiwgY2xhc3Nyb29tSUQsIHVzZXJJRCkuXG5cdFx0Rmlyc3QoJmNsYXNzcm9vbSkuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdC8vIE7hur91IGtow7RuZyB0w6xtIHRo4bqleSBi4bqjbiBnaGksIGPDsyBuZ2jEqWEgbMOgIG5nxrDhu51pIGTDuW5nIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3Vcblx0XHRyZXR1cm4gZmFsc2UsIG5pbFxuXHR9XG5cdHJldHVybiB0cnVlLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvXG4uLi5cblxudHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxuXHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxuXHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuXHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Jcblx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Jcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcblx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG59XG5cbmZ1bmMgTmV3KHByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlcikgUmVwb3NpdG9yeSB7XG5cdHJldHVybiAmcmVwb3NpdG9yeUltcGx7XG5cdFx0UHJvdmlkZXI6IHByb3ZpZGVyLFxuXHR9XG59XG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXG50eXBlIENsYXNzcm9vbU1lbWJlclJvbGUgc3RyaW5nXG5cbmNvbnN0IChcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVRlYWNoZXIgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwidGVhY2hlclwiXG5cdENsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50IENsYXNzcm9vbU1lbWJlclJvbGUgPSBcInN0dWRlbnRcIlxuKVxuXG50eXBlIENsYXNzcm9vbU1lbWJlciBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXHRDbGFzc3Jvb21JRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiY2xhc3Nyb29tX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRVc2VySUQgICAgICBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwidXNlcl9pZFwiIGdvcm06XCJ1bmlxdWVJbmRleDppZHhfY2xhc3Nyb29tX3VzZXJcImBcblx0Um9sZSAgICAgICAgQ2xhc3Nyb29tTWVtYmVyUm9sZSBganNvbjpcInJvbGVcImBcblx0SW52aXRlZEJ5SUQgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcImludml0ZWRfYnlfaWRcImBcbn1cblxuZnVuYyAoYyBDbGFzc3Jvb21NZW1iZXIpIFRhYmxlTmFtZSgpIHN0cmluZyB7XG5cdHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tX21lbWJlcnNcIlxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Ugc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNle1JlcG86IHJlcG99XG59XG5cbmZ1bmMgKGYgKmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHRyZXN1bHQsIGVyciA6PSBmLlJlcG8uRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHgsIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgY2xhc3Nyb29tIG1lbWJlcnNcIiwgemFwLlN0cmluZyhcImNsYXNzcm9vbSBpZFwiLCBjbGFzc3Jvb21JRCksIHphcC5FcnJvcigoZXJyKSkpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgY2xhc3Nyb29tIGtow7RuZ1xuXHRpc093bmVyLCBlcnIgOj0gdS5SZXBvLklzQ2xhc3Nyb29tT3duZXIoY3R4LCBjbGFzc3Jvb21JRCwgdXNlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgY2xhc3Nyb29tIG93bmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0aWYgIWlzT3duZXIge1xuXHRcdHJldHVybiBuaWwsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lclxuXHR9XG5cblx0Ly8gTOG6pXkgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyBt4budaVxuXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVySW52aXRlZE1lbWJlcnMoY3R4LCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGludml0ZWQgbWVtYmVyc1wiLCB6YXAuU3RyaW5nKFwiY2xhc3Nyb29tIGlkXCIsIGNsYXNzcm9vbUlEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21NZW1iZXJzIFtdZW50aXR5LkNsYXNzcm9vbU1lbWJlclxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkXCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbU1lbWJlcnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbU1lbWJlcnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9oYW5kbGVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcblxudHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAvLyBU4bqhbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTOG7jWMgdGjDoG5oIHZpw6puIGPhu6dhIGzhu5twIGjhu41jXG5cdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4budaSBt4budaVxuXHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gVOG7qyBjaOG7kWkgbOG7nWkgbeG7nWlcblx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIEzhu41jIGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgxJHGsOG7o2MgbeG7nWlcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdF8gXCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIHtcblx0cmV0dXJuICZjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKGMgKmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRpZiBlcnIgOj0gYy5SZXBvLkNyZWF0ZUNsYXNzcm9vbShjdHgsIGNsYXNzcm9vbSk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2xhc3Nyb29tXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvaXNfaW52aXRhdGlvbl9leGlzdGluZy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgSXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKSB7XG5cdHZhciBjb3VudCBpbnQ2NFxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdE1vZGVsKCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZCA9ID8gQU5EIHJlY2VpdmVyX2lkID0gPyBBTkQgc3RhdHVzIElOID9cIiwgY2xhc3Nyb29tSUQsIHJlY2VpdmVySUQsIFtdZW50aXR5Lkludml0YXRpb25TdGF0dXN7ZW50aXR5Lkludml0YXRpb25TdGF0dXNQZW5kaW5nLCBlbnRpdHkuSW52aXRhdGlvblN0YXR1c0FjY2VwdGVkfSkuXG5cdFx0Q291bnQoJmNvdW50KS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIGZhbHNlLCBlcnJcblx0fVxuXHRyZXR1cm4gY291bnQgPiAwLCBuaWxcbn1cbi4uLlxuUGF0aDogc2VydmVyL3JvdXRlci5nb1xuLi4uXG5cbmZ1bmMgSW5pdFJvdXRlcihhcHAgKmZpYmVyLkFwcCwgaGFuZGxlciBoYW5kbGVyLkhhbmRsZXIpIHtcblx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvY3JlYXRlXCIsIGhhbmRsZXIuQ3JlYXRlQ2xhc3Nyb29tKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2ludml0ZVwiLCBoYW5kbGVyLkludml0ZU1lbWJlcilcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzKVxuXG5cdGludml0YXRpb25Hcm91cCA6PSBhcHAuR3JvdXAoXCIvaW52aXRhdGlvblwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGludml0YXRpb25Hcm91cC5HZXQoXCIvZmlsdGVyXCIsIGhhbmRsZXIuRmlsdGVySW52aXRhdGlvbnMpXG5cdGludml0YXRpb25Hcm91cC5QdXQoXCIvcmVqZWN0LzppZFwiLCBoYW5kbGVyLlJlamVjdEludml0YXRpb24pXG5cdGludml0YXRpb25Hcm91cC5QdXQoXCIvYWNjZXB0LzppZFwiLCBoYW5kbGVyLkFjY2VwdEludml0YXRpb24pXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdvcm0uaW8vZ29ybS9jbGF1c2VcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Ige1xuXHQvLyBT4butIGThu6VuZyBjbGF1c2UuT25Db25mbGljdCgpLkRvTm90aGluZygpIMSR4buDIHRyw6FuaCBs4buXaSBraGkgdGjDqm0gdGjDoG5oIHZpw6puIMSRw6MgdOG7k24gdOG6oWlcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5cblx0XHRDbGF1c2VzKGNsYXVzZS5PbkNvbmZsaWN0e0RvTm90aGluZzogdHJ1ZX0pLlxuXHRcdENyZWF0ZShtZW1iZXIpLkVycm9yXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0Z29ybTIgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIChcblx0XHRwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHlde1xuXHRcdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0XHR9XG5cdFx0aW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHQpXG5cblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZCA9ID9cIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3BlcyhmdW5jKGRiICpnb3JtLkRCKSAqZ29ybS5EQiB7XG5cdFx0XHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0XHRcdHJldHVybiBkYi5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZGJcblx0XHR9LCBnb3JtMi5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmludml0YXRpb25zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBpbnZpdGF0aW9uc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuKVxuXG50eXBlIEZpbHRlckludml0ZWRNZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG5cdFN0YXR1cyAqZW50aXR5Lkludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBxdWVyeTpcInN0YXR1c1wiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHF1ZXJ5IDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInJlY2VpdmVyX2lkID0gP1wiLCByZWNlaXZlcklEKVxuXG5cdC8vIEzhu41jIHRoZW8gc3RhdHVzIG7hur91IGPDs1xuXHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0cXVlcnkgPSBxdWVyeS5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdH1cblxuXHR2YXIgaW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gcXVlcnkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVJlcXVlc3Qgc3RydWN0IHtcblx0TmFtZSAgICAgICpzdHJpbmcgYGpzb246XCJuYW1lXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxuXHRBdmF0YXJVcmwgKnN0cmluZyBganNvbjpcImF2YXRhcl91cmxcIiB2YWxpZGF0ZTpcInJlcXVpcmVkLHVybFwiYFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRhdGlvbnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIEludml0ZU1lbWJlclJlcXVlc3Qgc3RydWN0IHtcblx0Q2xhc3Nyb29tSUQgKnN0cmluZyBganNvbjpcImNsYXNzcm9vbV9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0UmVjZWl2ZXJJRCAgKnN0cmluZyBganNvbjpcInJlY2VpdmVyX2lkXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0YXRpb25zVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckludml0YXRpb25zKGN0eCwgcmVjZWl2ZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGludml0YXRpb25zXCIsIHphcC5TdHJpbmcoXCJyZWNlaXZlciBpZFwiLCByZWNlaXZlcklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgSW52aXRlTWVtYmVyVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGludml0ZU1lbWJlclVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3SW52aXRlTWVtYmVyVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgSW52aXRlTWVtYmVyVXNlQ2FzZSB7XG5cdHJldHVybiAmaW52aXRlTWVtYmVyVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICppbnZpdGVNZW1iZXJVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Ige1xuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGNsYXNzcm9vbSBraMO0bmdcblx0aXNPd25lciwgZXJyIDo9IHUuUmVwby5Jc0NsYXNzcm9vbU93bmVyKGN0eCwgaW52aXRhdGlvbi5DbGFzc3Jvb21JRCwgaW52aXRhdGlvbi5TZW5kZXJJRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNoZWNrIGNsYXNzcm9vbSBvd25lclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRpZiAhaXNPd25lciB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lclxuXHR9XG5cblx0Ly8gS2nhu4NtIHRyYSB4ZW0gbmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIG7DoG8gxJFhbmcg4bufIHRy4bqhbmcgdGjDoWkgcGVuZGluZyBob+G6t2MgYWNjZXB0ZWQgY2jGsGFcblx0ZXhpc3RzLCBlcnIgOj0gdS5SZXBvLklzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCwgaW52aXRhdGlvbi5DbGFzc3Jvb21JRCwgaW52aXRhdGlvbi5SZWNlaXZlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgZXhpc3RpbmcgaW52aXRhdGlvblwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRpZiBleGlzdHMge1xuXHRcdHJldHVybiBxZXJyb3IuRXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvblxuXHR9XG4uLi5cblBhdGg6IHVzZWNhc2UvYWNjZXB0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIGVycm9yXG59XG5cbnR5cGUgYWNjZXB0SW52aXRhdGlvblVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3QWNjZXB0SW52aXRhdGlvblVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEFjY2VwdEludml0YXRpb25Vc2VDYXNlIHtcblx0cmV0dXJuICZhY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICphY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgdXNlcklEIHN0cmluZykgZXJyb3Ige1xuXHQvLyBM4bqleSB0aMO0bmcgdGluIGludml0YXRpb25cblx0aW52aXRhdGlvbiwgZXJyIDo9IHUuUmVwby5HZXRJbnZpdGF0aW9uQnlJRChjdHgsIGludml0YXRpb25JRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGdldCBpbnZpdGF0aW9uXCIsIHphcC5TdHJpbmcoXCJpbnZpdGF0aW9uIGlkXCIsIGludml0YXRpb25JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBraMO0bmdcblx0aWYgaW52aXRhdGlvbi5SZWNlaXZlcklEICE9IHVzZXJJRCB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJOb3RJbnZpdGF0aW9uUmVjZWl2ZXJcblx0fVxuXG5cdC8vIEtp4buDbSB0cmEgeGVtIGludml0YXRpb24gY8OzIMSRYW5nIOG7nyB0cuG6oW5nIHRow6FpIHBlbmRpbmcga2jDtG5nXG5cdGlmIGludml0YXRpb24uU3RhdHVzICE9IGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZyB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJJbnZpdGF0aW9uTm90UGVuZGluZ1xuXHR9XG5cblx0aWYgZXJyIDo9IHUuUmVwby5DcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4LCAmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRDbGFzc3Jvb21JRDogaW52aXRhdGlvbi5DbGFzc3Jvb21JRCxcblx0XHRVc2VySUQ6ICAgICAgaW52aXRhdGlvbi5SZWNlaXZlcklELFxuXHRcdFJvbGU6ICAgICAgICBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQsXG5cdFx0SW52aXRlZEJ5SUQ6IGludml0YXRpb24uU2VuZGVySUQsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbSBtZW1iZXJcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0aWYgZXJyIDo9IHUuUmVwby5VcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCwgaW52aXRhdGlvbklELCBlbnRpdHkuSW52aXRhdGlvblN0YXR1c0FjY2VwdGVkKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIHVwZGF0ZSBpbnZpdGF0aW9uIHN0YXR1c1wiLCB6YXAuU3RyaW5nKFwiaW52aXRhdGlvbiBpZFwiLCBpbnZpdGF0aW9uSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvcmVqZWN0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIGVycm9yXG59XG5cbnR5cGUgcmVqZWN0SW52aXRhdGlvblVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3UmVqZWN0SW52aXRhdGlvblVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIFJlamVjdEludml0YXRpb25Vc2VDYXNlIHtcblx0cmV0dXJuICZyZWplY3RJbnZpdGF0aW9uVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpyZWplY3RJbnZpdGF0aW9uVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgdXNlcklEIHN0cmluZykgZXJyb3Ige1xuXHQvLyBM4bqleSB0aMO0bmcgdGluIGludml0YXRpb25cblx0aW52aXRhdGlvbiwgZXJyIDo9IHUuUmVwby5HZXRJbnZpdGF0aW9uQnlJRChjdHgsIGludml0YXRpb25JRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGdldCBpbnZpdGF0aW9uXCIsIHphcC5TdHJpbmcoXCJpbnZpdGF0aW9uIGlkXCIsIGludml0YXRpb25JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBraMO0bmdcblx0aWYgaW52aXRhdGlvbi5SZWNlaXZlcklEICE9IHVzZXJJRCB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJOb3RJbnZpdGF0aW9uUmVjZWl2ZXJcblx0fVxuXG5cdC8vIEtp4buDbSB0cmEgeGVtIGludml0YXRpb24gY8OzIMSRYW5nIOG7nyB0cuG6oW5nIHRow6FpIHBlbmRpbmcga2jDtG5nXG5cdGlmIGludml0YXRpb24uU3RhdHVzICE9IGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZyB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJJbnZpdGF0aW9uTm90UGVuZGluZ1xuXHR9XG4uLi5cblBhdGg6IGhhbmRsZXIvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktYy4uLiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTRQN1dnYnFXdnZLZDdjU1o1THhFeGUifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJOb3cgSSBuZWVkIHRvIGNoZWNrIGlmIHRoZXJlIGFyZSBhbnkgZXhpc3RpbmcgcGFnaW5hdGlvbiByZXF1ZXN0IG1vZGVscyBhbmQgcmVzcG9uc2UgbW9kZWxzIHRoYXQgSSBjYW4gcmV1c2UgZm9yIHRoZSBuZXcgQVBJLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImI5MjViNTcyLTI3MTQtNGU1My1hYjg0LTBjODEyZDczMjYwZiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUZnV2pmM2J5OEt1aDJxWm1KTWk3aE0iLCJ0b29sX25hbWUiOiJzYXZlLWZpbGUiLCJpbnB1dF9qc29uIjoie1wiZmlsZV9wYXRoXCI6IFwibW9kZWwvcmVxL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXCIsIFwiZmlsZV9jb250ZW50XCI6IFwicGFja2FnZSByZXFcXG5cXG5pbXBvcnQgXFxcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVxcXCJcXG5cXG50eXBlIEZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSBzdHJ1Y3Qge1xcblxcdHJlcS5QYWdpbmF0aW9uUmVxXFxufVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiQmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIGdhdGhlcmVkLCBJIG5vdyBoYXZlIGEgZ29vZCB1bmRlcnN0YW5kaW5nIG9mIHRoZSBjb2RlYmFzZSBzdHJ1Y3R1cmUgYW5kIGhvdyB0byBpbXBsZW1lbnQgdGhlIG5ldyBBUEkgZm9yIHJldHJpZXZpbmcgY2xhc3Nyb29tcyBvd25lZCBieSBhIHVzZXIuIExldCBtZSBjcmVhdGUgYSBkZXRhaWxlZCBwbGFuIGZvciBpbXBsZW1lbnRpbmcgdGhpcyBmZWF0dXJlLlxuXG4jIyBQbGFuIGZvciBJbXBsZW1lbnRpbmcgQVBJIHRvIFJldHJpZXZlIE93bmVkIENsYXNzcm9vbXNcblxuMS4gQ3JlYXRlIGEgbmV3IHJlcXVlc3QgbW9kZWwgZm9yIGZpbHRlcmluZyBvd25lZCBjbGFzc3Jvb21zXG4yLiBBZGQgYSBuZXcgcmVwb3NpdG9yeSBtZXRob2QgdG8gZmlsdGVyIGNsYXNzcm9vbXMgYnkgb3duZXJcbjMuIENyZWF0ZSBhIG5ldyB1c2VjYXNlIGZvciBmaWx0ZXJpbmcgb3duZWQgY2xhc3Nyb29tc1xuNC4gQWRkIGEgbmV3IGhhbmRsZXIgbWV0aG9kIHRvIHRoZSBIYW5kbGVyIGludGVyZmFjZVxuNS4gSW1wbGVtZW50IHRoZSBoYW5kbGVyIG1ldGhvZFxuNi4gVXBkYXRlIHRoZSByb3V0ZXIgdG8gYWRkIHRoZSBuZXcgZW5kcG9pbnRcbjcuIFVwZGF0ZSB0aGUgaGFuZGxlciBpbmplY3Rpb24gaW4gc2VydmVyLmdvXG5cbkxldCdzIHN0YXJ0IGltcGxlbWVudGluZyB0aGVzZSBjaGFuZ2VzOlxuXG4jIyMgMS4gQ3JlYXRlIGEgbmV3IHJlcXVlc3QgbW9kZWwgZm9yIGZpbHRlcmluZyBvd25lZCBjbGFzc3Jvb21zXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IHIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkludml0ZU1lbWJlclJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gaC5JbnZpdGVNZW1iZXJVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXtcblx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoYm9keS5DbGFzc3Jvb21JRCwgXCJcIiksXG5cdFx0U2VuZGVySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHRSZWNlaXZlcklEOiAgdmFsdWUuR2V0VmFsdWUoYm9keS5SZWNlaXZlcklELCBcIlwiKSxcblx0XHRTdGF0dXM6ICAgICAgZW50aXR5Lkludml0YXRpb25TdGF0dXNQZW5kaW5nLFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvbik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcIm5nxrDhu51pIG5o4bqtbiDEkcOjIGPDsyBs4budaSBt4budaSDEkWFuZyBjaOG7nSB44butIGzDvSBob+G6t2MgxJHDoyDEkcaw4bujYyBjaOG6pXAgbmjhuq1uXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgY2xhc3Nyb29tX2lkIHThu6sgVVJMXG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHF1ZXJ5IHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLCBxdWVyeSlcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdGlmIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcikge1xuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0fVxuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0YXRpb25zVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkNyZWF0ZUNsYXNzcm9vbVJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gci5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e1xuXHRcdFVzZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdE5hbWU6ICAgICAgdmFsdWUuR2V0VmFsdWUoYm9keS5OYW1lLCBcIlwiKSxcblx0XHRBdmF0YXJVcmw6IHZhbHVlLkdldFZhbHVlKGJvZHkuQXZhdGFyVXJsLCBcIlwiKSxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9yZWplY3RfaW52aXRhdGlvbi5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IElEIGPhu6dhIGludml0YXRpb24gdOG7qyBVUkxcblx0aW52aXRhdGlvbklEIDo9IGMuUGFyYW1zKFwiaWRcIilcblx0aWYgaW52aXRhdGlvbklEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiaWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdGlmIGVyciA6PSBoLlJlamVjdEludml0YXRpb25Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGludml0YXRpb25JRCwgdXNlcklEKTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBoYW5kbGUgbOG7l2lcblx0XHRzd2l0Y2gge1xuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgZ29ybS5FcnJSZWNvcmROb3RGb3VuZCk6XG5cdFx0XHRyZXR1cm4gcmVzLk5vdEZvdW5kKGMsIGVycm9ycy5OZXcoXCJraMO0bmcgdMOsbSB0aOG6pXkgbOG7nWkgbeG7nWlcIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90SW52aXRhdGlvblJlY2VpdmVyKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgbmfGsOG7nWkgbmjhuq1uIGzhu51pIG3hu51pIG7DoHlcIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJySW52aXRhdGlvbk5vdFBlbmRpbmcpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJs4budaSBt4budaSBraMO0bmcg4bufIHRy4bqhbmcgdGjDoWkgY2jhu50geOG7rSBsw71cIikpXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9hY2NlcHRfaW52aXRhdGlvbi5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IElEIGPhu6dhIGludml0YXRpb24gdOG7qyBVUkxcblx0aW52aXRhdGlvbklEIDo9IGMuUGFyYW1zKFwiaWRcIilcblx0aWYgaW52aXRhdGlvbklEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiaWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdGlmIGVyciA6PSBoLkFjY2VwdEludml0YXRpb25Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGludml0YXRpb25JRCwgdXNlcklEKTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBnb3JtLkVyclJlY29yZE5vdEZvdW5kKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwia2jDtG5nIHTDrG0gdGjhuqV5IGzhu51pIG3hu51pXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdEludml0YXRpb25SZWNlaXZlcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBuw6B5XCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyckludml0YXRpb25Ob3RQZW5kaW5nKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibOG7nWkgbeG7nWkga2jDtG5nIOG7nyB0cuG6oW5nIHRow6FpIGNo4budIHjhu60gbMO9XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGF0aW9uc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9oYW5kbGVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcblxudHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAvLyBU4bqhbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTOG7jWMgdGjDoG5oIHZpw6puIGPhu6dhIGzhu5twIGjhu41jXG5cdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4budaSBt4budaVxuXHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gVOG7qyBjaOG7kWkgbOG7nWkgbeG7nWlcblx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIEzhu41jIGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgxJHGsOG7o2MgbeG7nWlcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21NZW1iZXJzIFtdZW50aXR5LkNsYXNzcm9vbU1lbWJlclxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkXCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbU1lbWJlcnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbU1lbWJlcnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogZXJyb3IvZXJyb3IuZ29cbnBhY2thZ2UgcWVycm9yXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcbilcblxuLy8gxJDhu4tuaCBuZ2jEqWEgY8OhYyBjb25zdGFudHMgZXJyb3JcbnZhciAoXG5cdC8vIEludml0YXRpb24gZXJyb3JzXG5cdEVyclJlY2VpdmVyQWxyZWFkeUhhc0ludml0YXRpb24gPSBlcnJvcnMuTmV3KFwicmVjZWl2ZXIgYWxyZWFkeSBoYXMgYSBwZW5kaW5nIG9yIGFjY2VwdGVkIGludml0YXRpb25cIilcblx0RXJyTm90Q2xhc3Nyb29tT3duZXIgICAgICAgICAgICA9IGVycm9ycy5OZXcoXCJ1c2VyIGlzIG5vdCB0aGUgb3duZXIgb2YgdGhlIGNsYXNzcm9vbVwiKVxuXHRFcnJJbnZpdGF0aW9uTm90Rm91bmQgICAgICAgICAgID0gZXJyb3JzLk5ldyhcImludml0YXRpb24gbm90IGZvdW5kXCIpXG5cdEVyckludml0YXRpb25Ob3RQZW5kaW5nICAgICAgICAgPSBlcnJvcnMuTmV3KFwiaW52aXRhdGlvbiBpcyBub3QgaW4gcGVuZGluZyBzdGF0dXNcIilcblx0RXJyTm90SW52aXRhdGlvblJlY2VpdmVyICAgICAgICA9IGVycm9ycy5OZXcoXCJ1c2VyIGlzIG5vdCB0aGUgcmVjZWl2ZXIgb2YgdGhpcyBpbnZpdGF0aW9uXCIpXG5cdEVyclVzZXJBbHJlYWR5Q2xhc3Nyb29tTWVtYmVyICAgPSBlcnJvcnMuTmV3KFwidXNlciBpcyBhbHJlYWR5IGEgbWVtYmVyIG9mIHRoaXMgY2xhc3Nyb29tXCIpXG4pXG4uLi5cblBhdGg6IHNlcnZlci9zZXJ2ZXIuZ29cbnBhY2thZ2Ugc2VydmVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyL21pZGRsZXdhcmUvcmVjb3ZlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG5mdW5jIFJ1bihzZXJ2aWNlQ29uZmlnICptb2RlbC5TZXJ2aWNlQ29uZmlnKSB7XG5cdGFwcCA6PSBmaWJlci5OZXcoZmliZXIuQ29uZmlne1xuXHRcdEVuYWJsZVByaW50Um91dGVzOiB0cnVlLFxuXHR9KVxuXHRhcHAuVXNlKHJlY292ZXIuTmV3KCkpXG5cblx0cHJvdmlkZXIsIGVyciA6PSBwcm92aWRlci5Jbml0KHNlcnZpY2VDb25maWcpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBpbml0IHByb3ZpZGVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG4uLi5cblxuXHRJbml0Um91dGVyKGFwcCwgaGFuZGxlcilcblx0dXRpbC5Jbml0VmFsaWRhdGUoKVxuXG5cdGlmIGVyciA6PSBhcHAuTGlzdGVuKFwiOlwiICsgc2VydmljZUNvbmZpZy5Qb3J0KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIHN0YXJ0IHNlcnZlclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XyBcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcbn1cblxudHlwZSBjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2Uge1xuXHRyZXR1cm4gJmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAoYyAqY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdGlmIGVyciA6PSBjLlJlcG8uQ3JlYXRlQ2xhc3Nyb29tKGN0eCwgY2xhc3Nyb29tKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb21cIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cdHJldHVybiBuaWxcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVxXG5cbnR5cGUgSW52aXRlTWVtYmVyUmVxdWVzdCBzdHJ1Y3Qge1xuXHRDbGFzc3Jvb21JRCAqc3RyaW5nIGBqc29uOlwiY2xhc3Nyb29tX2lkXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxuXHRSZWNlaXZlcklEICAqc3RyaW5nIGBqc29uOlwicmVjZWl2ZXJfaWRcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVJlcXVlc3Qgc3RydWN0IHtcblx0TmFtZSAgICAgICpzdHJpbmcgYGpzb246XCJuYW1lXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxuXHRBdmF0YXJVcmwgKnN0cmluZyBganNvbjpcImF2YXRhcl91cmxcIiB2YWxpZGF0ZTpcInJlcXVpcmVkLHVybFwiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHF1ZXJ5IDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInJlY2VpdmVyX2lkID0gP1wiLCByZWNlaXZlcklEKVxuXG5cdC8vIEzhu41jIHRoZW8gc3RhdHVzIG7hur91IGPDs1xuXHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0cXVlcnkgPSBxdWVyeS5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdH1cblxuXHR2YXIgaW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gcXVlcnkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2V7UmVwbzogcmVwb31cbn1cbi4uLlxuUGF0aDogY21kL3NlcnZlLmdvXG4vKlxuQ29weXJpZ2h0IMKpIDIwMjUgTkFNRSBIRVJFIDxFTUFJTCBBRERSRVNTPlxuKi9cbnBhY2thZ2UgY21kXG5cbmltcG9ydCAoXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvY29uZmlnXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9zZXJ2ZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9zcGYxMy9jb2JyYVwiXG4pXG5cbi8vIHNlcnZlQ21kIHJlcHJlc2VudHMgdGhlIHNlcnZlIGNvbW1hbmRcbnZhciBzZXJ2ZUNtZCA9ICZjb2JyYS5Db21tYW5ke1xuXHRVc2U6ICAgXCJzZXJ2ZVwiLFxuXHRTaG9ydDogXCJBIGJyaWVmIGRlc2NyaXB0aW9uIG9mIHlvdXIgY29tbWFuZFwiLFxuXHRMb25nOiBgQSBsb25nZXIgZGVzY3JpcHRpb24gdGhhdCBzcGFucyBtdWx0aXBsZSBsaW5lcyBhbmQgbGlrZWx5IGNvbnRhaW5zIGV4YW1wbGVzXG5hbmQgdXNhZ2Ugb2YgdXNpbmcgeW91ciBjb21tYW5kLiBGb3IgZXhhbXBsZTpcblxuQ29icmEgaXMgYSBDTEkgbGlicmFyeSBmb3IgR28gdGhhdCBlbXBvd2VycyBhcHBsaWNhdGlvbnMuXG5UaGlzIGFwcGxpY2F0aW9uIGlzIGEgdG9vbCB0byBnZW5lcmF0ZSB0aGUgbmVlZGVkIGZpbGVzXG50byBxdWlja2x5IGNyZWF0ZSBhIENvYnJhIGFwcGxpY2F0aW9uLmAsXG5cdFJ1bjogZnVuYyhjbWQgKmNvYnJhLkNvbW1hbmQsIGFyZ3MgW11zdHJpbmcpIHtcblx0XHRpZiBlcnIgOj0gbG9nZ2VyLkluaXQoKTsgZXJyICE9IG5pbCB7XG5cdFx0XHRwYW5pYyhlcnIpXG5cdFx0fVxuXG5cdFx0dmFyIHNlcnZpY2VDb25maWcgbW9kZWwuU2VydmljZUNvbmZpZ1xuXHRcdGVudlBhdGgsIF8gOj0gY21kLkZsYWdzKCkuR2V0U3RyaW5nKFwiZW52LXBhdGhcIilcblxuXHRcdGlmIGVyciA6PSBjb25maWcuTG9hZENvbmZpZyhlbnZQYXRoLCAmc2VydmljZUNvbmZpZyk7IGVyciAhPSBuaWwge1xuXHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGxvYWQgY29uZmlnXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdFx0cmV0dXJuXG5cdFx0fVxuXG5cdFx0c2VydmVyLlJ1bigmc2VydmljZUNvbmZpZylcblx0fSxcbn1cbi4uLlxuUGF0aDogY21kL3Jvb3QuZ29cbi8qXG5Db3B5cmlnaHQgwqkgMjAyNSBOQU1FIEhFUkUgPEVNQUlMIEFERFJFU1M+XG4qL1xucGFja2FnZSBjbWRcblxuaW1wb3J0IChcblx0XCJvc1wiXG5cblx0XCJnaXRodWIuY29tL3NwZjEzL2NvYnJhXCJcbilcblxuLy8gcm9vdENtZCByZXByZXNlbnRzIHRoZSBiYXNlIGNvbW1hbmQgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgc3ViY29tbWFuZHNcbnZhciByb290Q21kID0gJmNvYnJhLkNvbW1hbmR7XG5cdFVzZTogICBcInF1aXp6eS1jbGFzc3Jvb21cIixcblx0U2hvcnQ6IFwiQSBicmllZiBkZXNjcmlwdGlvbiBvZiB5b3VyIGFwcGxpY2F0aW9uXCIsXG5cdExvbmc6IGBBIGxvbmdlciBkZXNjcmlwdGlvbiB0aGF0IHNwYW5zIG11bHRpcGxlIGxpbmVzIGFuZCBsaWtlbHkgY29udGFpbnNcbmV4YW1wbGVzIGFuZCB1c2FnZSBvZiB1c2luZyB5b3VyIGFwcGxpY2F0aW9uLiBGb3IgZXhhbXBsZTpcblxuQ29icmEgaXMgYSBDTEkgbGlicmFyeSBmb3IgR28gdGhhdCBlbXBvd2VycyBhcHBsaWNhdGlvbnMuXG5UaGlzIGFwcGxpY2F0aW9uIGlzIGEgdG9vbCB0byBnZW5lcmF0ZSB0aGUgbmVlZGVkIGZpbGVzXG50byBxdWlja2x5IGNyZWF0ZSBhIENvYnJhIGFwcGxpY2F0aW9uLmAsXG5cdC8vIFVuY29tbWVudCB0aGUgZm9sbG93aW5nIGxpbmUgaWYgeW91ciBiYXJlIGFwcGxpY2F0aW9uXG5cdC8vIGhhcyBhbiBhY3Rpb24gYXNzb2NpYXRlZCB3aXRoIGl0OlxuXHQvLyBSdW46IGZ1bmMoY21kICpjb2JyYS5Db21tYW5kLCBhcmdzIFtdc3RyaW5nKSB7IH0sXG59XG5cbi8vIEV4ZWN1dGUgYWRkcyBhbGwgY2hpbGQgY29tbWFuZHMgdG8gdGhlIHJvb3QgY29tbWFuZCBhbmQgc2V0cyBmbGFncyBhcHByb3ByaWF0ZWx5LlxuLy8gVGhpcyBpcyBjYWxsZWQgYnkgbWFpbi5tYWluKCkuIEl0IG9ubHkgbmVlZHMgdG8gaGFwcGVuIG9uY2UgdG8gdGhlIHJvb3RDbWQuXG5mdW5jIEV4ZWN1dGUoKSB7XG5cdGVyciA6PSByb290Q21kLkV4ZWN1dGUoKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRvcy5FeGl0KDEpXG5cdH1cbn1cblxuZnVuYyBpbml0KCkge1xuXHQvLyBIZXJlIHlvdSB3aWxsIGRlZmluZSB5b3VyIGZsYWdzIGFuZCBjb25maWd1cmF0aW9uIHNldHRpbmdzLlxuXHQvLyBDb2JyYSBzdXBwb3J0cyBwZXJzaXN0ZW50IGZsYWdzLCB3aGljaCwgaWYgZGVmaW5lZCBoZXJlLFxuXHQvLyB3aWxsIGJlIGdsb2JhbCBmb3IgeW91ciBhcHBsaWNhdGlvbi5cblxuXHQvLyByb290Q21kLlBlcnNpc3RlbnRGbGFncygpLlN0cmluZ1ZhcigmY2ZnRmlsZSwgXCJjb25maWdcIiwgXCJcIiwgXCJjb25maWcgZmlsZSAoZGVmYXVsdCBpcyAkSE9NRS8ucXVpenp5LWNsYXNzcm9vbS55YW1sKVwiKVxuXG5cdC8vIENvYnJhIGFsc28gc3VwcG9ydHMgbG9jYWwgZmxhZ3MsIHdoaWNoIHdpbGwgb25seSBydW5cblx0Ly8gd2hlbiB0aGlzIGFjdGlvbiBpcyBjYWxsZWQgZGlyZWN0bHkuXG5cdHJvb3RDbWQuRmxhZ3MoKS5Cb29sUChcInRvZ2dsZVwiLCBcInRcIiwgZmFsc2UsIFwiSGVscCBtZXNzYWdlIGZvciB0b2dnbGVcIilcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9yZWplY3RfaW52aXRhdGlvbi5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIFJlamVjdEludml0YXRpb25Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgdXNlcklEIHN0cmluZykgZXJyb3Jcbn1cblxudHlwZSByZWplY3RJbnZpdGF0aW9uVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgUmVqZWN0SW52aXRhdGlvblVzZUNhc2Uge1xuXHRyZXR1cm4gJnJlamVjdEludml0YXRpb25Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKnJlamVjdEludml0YXRpb25Vc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSBlcnJvciB7XG5cdC8vIEzhuqV5IHRow7RuZyB0aW4gaW52aXRhdGlvblxuXHRpbnZpdGF0aW9uLCBlcnIgOj0gdS5SZXBvLkdldEludml0YXRpb25CeUlEKGN0eCwgaW52aXRhdGlvbklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZ2V0IGludml0YXRpb25cIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0Ly8gS2nhu4NtIHRyYSB4ZW0gbmfGsOG7nWkgZMO5bmcgY8OzIHBo4bqjaSBsw6AgbmfGsOG7nWkgbmjhuq1uIGzhu51pIG3hu51pIGtow7RuZ1xuXHRpZiBpbnZpdGF0aW9uLlJlY2VpdmVySUQgIT0gdXNlcklEIHtcblx0XHRyZXR1cm4gcWVycm9yLkVyck5vdEludml0YXRpb25SZWNlaXZlclxuXHR9XG5cblx0Ly8gS2nhu4NtIHRyYSB4ZW0gaW52aXRhdGlvbiBjw7MgxJFhbmcg4bufIHRy4bqhbmcgdGjDoWkgcGVuZGluZyBraMO0bmdcblx0aWYgaW52aXRhdGlvbi5TdGF0dXMgIT0gZW50aXR5Lkludml0YXRpb25TdGF0dXNQZW5kaW5nIHtcblx0XHRyZXR1cm4gcWVycm9yLkVyckludml0YXRpb25Ob3RQZW5kaW5nXG5cdH1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcbilcbi4uLlxuXHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Jcblx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Jcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcblx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG59XG5cbmZ1bmMgTmV3KHByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlcikgUmVwb3NpdG9yeSB7XG5cdHJldHVybiAmcmVwb3NpdG9yeUltcGx7XG5cdFx0UHJvdmlkZXI6IHByb3ZpZGVyLFxuXHR9XG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbHsuLi4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFEMnp1anNOV25pRWJIN2c3TjVGWnlaIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiQmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIGdhdGhlcmVkLCBJIG5vdyBoYXZlIGEgZ29vZCB1bmRlcnN0YW5kaW5nIG9mIHRoZSBjb2RlYmFzZSBzdHJ1Y3R1cmUgYW5kIGhvdyB0byBpbXBsZW1lbnQgdGhlIG5ldyBBUEkgZm9yIHJldHJpZXZpbmcgY2xhc3Nyb29tcyBvd25lZCBieSBhIHVzZXIuIExldCBtZSBjcmVhdGUgYSBkZXRhaWxlZCBwbGFuIGZvciBpbXBsZW1lbnRpbmcgdGhpcyBmZWF0dXJlLlxuXG4jIyBQbGFuIGZvciBJbXBsZW1lbnRpbmcgQVBJIHRvIFJldHJpZXZlIE93bmVkIENsYXNzcm9vbXNcblxuMS4gQ3JlYXRlIGEgbmV3IHJlcXVlc3QgbW9kZWwgZm9yIGZpbHRlcmluZyBvd25lZCBjbGFzc3Jvb21zXG4yLiBBZGQgYSBuZXcgcmVwb3NpdG9yeSBtZXRob2QgdG8gZmlsdGVyIGNsYXNzcm9vbXMgYnkgb3duZXJcbjMuIENyZWF0ZSBhIG5ldyB1c2VjYXNlIGZvciBmaWx0ZXJpbmcgb3duZWQgY2xhc3Nyb29tc1xuNC4gQWRkIGEgbmV3IGhhbmRsZXIgbWV0aG9kIHRvIHRoZSBIYW5kbGVyIGludGVyZmFjZVxuNS4gSW1wbGVtZW50IHRoZSBoYW5kbGVyIG1ldGhvZFxuNi4gVXBkYXRlIHRoZSByb3V0ZXIgdG8gYWRkIHRoZSBuZXcgZW5kcG9pbnRcbjcuIFVwZGF0ZSB0aGUgaGFuZGxlciBpbmplY3Rpb24gaW4gc2VydmVyLmdvXG5cbkxldCdzIHN0YXJ0IGltcGxlbWVudGluZyB0aGVzZSBjaGFuZ2VzOlxuXG4jIyMgMS4gQ3JlYXRlIGEgbmV3IHJlcXVlc3QgbW9kZWwgZm9yIGZpbHRlcmluZyBvd25lZCBjbGFzc3Jvb21zXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYmRlOWE1MTAtZjJjMi00OTMyLTk5OTQtNjQ4ODQyZWEwYmM0IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMUZtNzR2Szd2MzdqdkE0SnQyOE5KayIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJyZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiMjIyAyLiBBZGQgYSBuZXcgcmVwb3NpdG9yeSBtZXRob2QgdG8gZmlsdGVyIGNsYXNzcm9vbXMgYnkgb3duZXJcblxuRmlyc3QsIGxldCdzIHVwZGF0ZSB0aGUgcmVwb3NpdG9yeSBpbnRlcmZhY2U6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFGZ1dqZjNieThLdWgycVptSk1pN2hNIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiIyMjIDIuIEFkZCBhIG5ldyByZXBvc2l0b3J5IG1ldGhvZCB0byBmaWx0ZXIgY2xhc3Nyb29tcyBieSBvd25lclxuXG5GaXJzdCwgbGV0J3MgdXBkYXRlIHRoZSByZXBvc2l0b3J5IGludGVyZmFjZTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJkZmE3NzQ3ZS1jNTBkLTQ3ZjgtODcwYy00NTBlNWVjY2NjYTAiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE0OHVMZ2VvWmRpVWRneXF2NG5OeEVVIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJyZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiXFx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3JcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcIiwgXCJuZXdfc3RyXCI6IFwiXFx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3JcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcXG5cXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMjEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMjJ9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvOlxuICAgICAxXHRwYWNrYWdlIHJlcG9zaXRvcnlcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCAoXG4gICAgIDRcdFx0XCJjb250ZXh0XCJcbiAgICAgNVx0XHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbiAgICAgNlx0XHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbiAgICAgN1x0XHRcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuICAgICA4XHRcbiAgICAgOVx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4gICAgMTBcdClcbiAgICAxMVx0XG4gICAgMTJcdHR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuICAgIDEzXHRcdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG4gICAgMTRcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG4gICAgMTVcdFx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3JcbiAgICAxNlx0XHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG4gICAgMTdcdFx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcbiAgICAxOFx0XHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuICAgIDE5XHRcdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuICAgIDIwXHRcdFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvclxuICAgIDIxXHRcdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG4gICAgMjJcdFx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG4gICAgMjNcdH1cbiAgICAyNFx0XG4gICAgMjVcdHR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcbiAgICAyNlx0XHRQcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXJcbiAgICAyN1x0fVxuICAgIDI4XHRcbiAgICAyOVx0ZnVuYyBOZXcocHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyKSBSZXBvc2l0b3J5IHtcbiAgICAzMFx0XHRyZXR1cm4gJnJlcG9zaXRvcnlJbXBse1xuICAgIDMxXHRcdFx0UHJvdmlkZXI6IHByb3ZpZGVyLFxuICAgIDMyXHRcdH1cbiAgICAzM1x0fVxuICAgIDM0XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDM0XG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDExRm03NHZLN3YzN2p2QTRKdDI4TkprIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJyZXF1ZXN0X2lkIjoiM2I5MzFhMDktYmNiOS00ODQ5LWI0ZGItNzE5MTUyYWNlODc2Iiwic3RhdHVzIjoiY2FuY2VsbGVkIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy10dXJuLWRlbGltaXRlciJ9LHsicmVxdWVzdF9pZCI6ImRiOGUyNTFhLTdhNGYtNDAzYS1iODY1LTc2MjgyZjk5MmE4NiIsInV1aWQiOiI5NTYxZjg3ZC1jNDQ4LTRlNDUtYWYzMC1hNGRhMzRmMzNjY2QiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLWNoZWNrcG9pbnQtZGVsaW1pdGVyIiwic3RhdHVzIjoic3VjY2VzcyIsImZyb21UaW1lc3RhbXAiOjAsInRvVGltZXN0YW1wIjoxNzQ1MjUyNDEzNzg3LCJzZWVuX3N0YXRlIjoic2VlbiJ9LHsicmVxdWVzdF9pZCI6ImMwMjg4NDliLTU4NjQtNDE4Yi04YmJlLWQyMWI1MGI3MTNiMCIsInN0YXR1cyI6ImNhbmNlbGxlZCIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtdHVybi1kZWxpbWl0ZXIifSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZGNkNzU5ODktYTA5OC00YTBmLWE3YWItYjgyNDk4NWQ0YTExIiwicmVxdWVzdF9tZXNzYWdlIjoidOG6oW8gYXBpIGzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJFhbmcgc+G7nyBo4buvdXThuqFvIGFwaSBs4bqleSBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3UiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoidOG6oW8gYXBpIGzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJFhbmcgc+G7nyBo4buvdXThuqFvIGFwaSBs4bqleSBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3UifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUxrb0FjU0VEekF4N0VOV3lKQ3RHSjMiLCJ0b29sX25hbWUiOiJjb2RlYmFzZS1yZXRyaWV2YWwiLCJpbnB1dF9qc29uIjoie1wiaW5mb3JtYXRpb25fcmVxdWVzdFwiOiBcIkZpbmQgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGhhbmRsZXIvaGFuZGxlci5nbyBmaWxlIHN0cnVjdHVyZSBhbmQgaG93IEFQSSBlbmRwb2ludHMgYXJlIGRlZmluZWQgaW4gdGhpcyBwcm9qZWN0LiBBbHNvIGxvb2sgZm9yIGFueSBleGlzdGluZyBjbGFzcyBvciBjbGFzc3Jvb20gcmVsYXRlZCBtb2RlbHMsIGhhbmRsZXJzLCBhbmQgZGF0YWJhc2UgaW50ZXJhY3Rpb25zLlwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSSdsbCBoZWxwIHlvdSBjcmVhdGUgYW4gQVBJIHRvIHJldHJpZXZlIGEgbGlzdCBvZiBjbGFzc3Jvb21zIG93bmVkIGJ5IGEgdXNlci4gTGV0IG1lIGZpcnN0IGdhdGhlciBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY29kZWJhc2Ugc3RydWN0dXJlIHRvIHVuZGVyc3RhbmQgaG93IHRvIGltcGxlbWVudCB0aGlzIGZlYXR1cmUgcHJvcGVybHkuXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9LHsiaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFYdUtVelV3dkZxY1NHWG5RVzQxUDZQIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJGaW5kIGluZm9ybWF0aW9uIGFib3V0IHRoZSBoYW5kbGVyL2hhbmRsZXIuZ28gZmlsZSBzdHJ1Y3R1cmUgYW5kIGhvdyBBUEkgZW5kcG9pbnRzIGFyZSBkZWZpbmVkIGluIHRoaXMgcHJvamVjdC4gQWxzbyBsb29rIGZvciBhbnkgZXhpc3RpbmcgY2xhc3Mgb3IgY2xhc3Nyb29tIHJlbGF0ZWQgbW9kZWxzLCBoYW5kbGVycywgYW5kIGRhdGFiYXNlIGludGVyYWN0aW9ucy5cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkknbGwgaGVscCB5b3UgY3JlYXRlIGFuIEFQSSB0byByZXRyaWV2ZSBhIGxpc3Qgb2YgY2xhc3Nyb29tcyBvd25lZCBieSBhIHVzZXIuIExldCBtZSBmaXJzdCBnYXRoZXIgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNvZGViYXNlIHN0cnVjdHVyZSB0byB1bmRlcnN0YW5kIGhvdyB0byBpbXBsZW1lbnQgdGhpcyBmZWF0dXJlIHByb3Blcmx5LlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MCwidGV4dF9ub2RlIjp7ImNvbnRlbnQiOiJ04bqhbyBhcGkgbOG6pXkgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691dOG6oW8gYXBpIGzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJFhbmcgc+G7nyBo4buvdSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkknbGwgaGVscCB5b3UgY3JlYXRlIGFuIEFQSSB0byByZXRyaWV2ZSBhIGxpc3Qgb2YgY2xhc3Nyb29tcyBvd25lZCBieSBhIHVzZXIuIExldCBtZSBmaXJzdCBnYXRoZXIgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNvZGViYXNlIHN0cnVjdHVyZSB0byB1bmRlcnN0YW5kIGhvdyB0byBpbXBsZW1lbnQgdGhpcyBmZWF0dXJlIHByb3Blcmx5LlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJmYWlsZWQiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W10sInNlZW5fc3RhdGUiOiJ1bnNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBoYW5kbGVyL2hhbmRsZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG50eXBlIEhhbmRsZXIgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAvLyBM4buNYyB0aMOgbmggdmnDqm4gY+G7p2EgbOG7m3AgaOG7jWNcblx0SW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgIC8vIE3hu51pIHRow6BuaCB2acOqbiB2w6BvIGzhu5twIGjhu41jXG5cdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG5cdFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBU4burIGNo4buRaSBs4budaSBt4budaVxuXHRBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gQ2jhuqVwIG5o4bqtbiBs4budaSBt4budaVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxufVxuXG50eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Vcbn1cblxudHlwZSBJbmplY3Qgc3RydWN0IHtcblx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG5cdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxufVxuXG5mdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XG5cdHJldHVybiAmaGFuZGxlckltcGx7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiBpbmplY3QuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UsXG5cdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIGluamVjdC5JbnZpdGVNZW1iZXJVc2VDYXNlLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuUmVqZWN0SW52aXRhdGlvblVzZUNhc2UsXG5cdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcblx0fVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IHIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkNyZWF0ZUNsYXNzcm9vbVJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gci5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e1xuXHRcdFVzZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdE5hbWU6ICAgICAgdmFsdWUuR2V0VmFsdWUoYm9keS5OYW1lLCBcIlwiKSxcblx0XHRBdmF0YXJVcmw6IHZhbHVlLkdldFZhbHVlKGJvZHkuQXZhdGFyVXJsLCBcIlwiKSxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvcm91dGVyLmdvXG5wYWNrYWdlIHNlcnZlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbmZ1bmMgSW5pdFJvdXRlcihhcHAgKmZpYmVyLkFwcCwgaGFuZGxlciBoYW5kbGVyLkhhbmRsZXIpIHtcblx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvY3JlYXRlXCIsIGhhbmRsZXIuQ3JlYXRlQ2xhc3Nyb29tKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2ludml0ZVwiLCBoYW5kbGVyLkludml0ZU1lbWJlcilcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzKVxuXG5cdGludml0YXRpb25Hcm91cCA6PSBhcHAuR3JvdXAoXCIvaW52aXRhdGlvblwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGludml0YXRpb25Hcm91cC5HZXQoXCIvZmlsdGVyXCIsIGhhbmRsZXIuRmlsdGVySW52aXRhdGlvbnMpXG5cdGludml0YXRpb25Hcm91cC5QdXQoXCIvcmVqZWN0LzppZFwiLCBoYW5kbGVyLlJlamVjdEludml0YXRpb24pXG5cdGludml0YXRpb25Hcm91cC5QdXQoXCIvYWNjZXB0LzppZFwiLCBoYW5kbGVyLkFjY2VwdEludml0YXRpb24pXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkludml0ZU1lbWJlclJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gaC5JbnZpdGVNZW1iZXJVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXtcblx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoYm9keS5DbGFzc3Jvb21JRCwgXCJcIiksXG5cdFx0U2VuZGVySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHRSZWNlaXZlcklEOiAgdmFsdWUuR2V0VmFsdWUoYm9keS5SZWNlaXZlcklELCBcIlwiKSxcblx0XHRTdGF0dXM6ICAgICAgZW50aXR5Lkludml0YXRpb25TdGF0dXNQZW5kaW5nLFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvbik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcIm5nxrDhu51pIG5o4bqtbiDEkcOjIGPDsyBs4budaSBt4budaSDEkWFuZyBjaOG7nSB44butIGzDvSBob+G6t2MgxJHDoyDEkcaw4bujYyBjaOG6pXAgbmjhuq1uXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IGNsYXNzcm9vbV9pZCB04burIFVSTFxuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBxdWVyeSByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSwgcXVlcnkpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRpZiBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpIHtcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG4uLi5cblBhdGg6IHNlcnZlci9zZXJ2ZXIuZ29cbi4uLlxuXHRyZXBvc2l0b3J5IDo9IHJlcG9zaXRvcnkuTmV3KHByb3ZpZGVyKVxuXHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgdXNlY2FzZS5OZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICB1c2VjYXNlLk5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0fSlcbi4uLlxuUGF0aDogaGFuZGxlci9hY2NlcHRfaW52aXRhdGlvbi5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IElEIGPhu6dhIGludml0YXRpb24gdOG7qyBVUkxcblx0aW52aXRhdGlvbklEIDo9IGMuUGFyYW1zKFwiaWRcIilcblx0aWYgaW52aXRhdGlvbklEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiaWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cbi4uLlxuUGF0aDogbWlncmF0ZS9taWdyYXRlLmdvXG5wYWNrYWdlIG1pZ3JhdGVcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbmZ1bmMgUnVuKHNlcnZpY2VDb25maWcgKm1vZGVsLlNlcnZpY2VDb25maWcpIHtcblx0cHJvdmlkZXIsIGVyciA6PSBwcm92aWRlci5Jbml0KHNlcnZpY2VDb25maWcpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBpbml0IHByb3ZpZGVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG5cblx0aWYgZXJyIDo9IHByb3ZpZGVyLkRiLkF1dG9NaWdyYXRlKFxuXHRcdCZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e30sXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7fSxcblx0XHQmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSxcblx0KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIG1pZ3JhdGUgZGF0YWJhc2VcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRsb2dnZXIuSW5mbyhcIm1pZ3JhdGUgZGF0YWJhc2Ugc3VjY2Vzc1wiKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL3JlamVjdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgUmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgSUQgY+G7p2EgaW52aXRhdGlvbiB04burIFVSTFxuXHRpbnZpdGF0aW9uSUQgOj0gYy5QYXJhbXMoXCJpZFwiKVxuXHRpZiBpbnZpdGF0aW9uSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJpZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuLi4uXG5QYXRoOiBlbnRpdHkvY2xhc3Nyb29tLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXG50eXBlIENsYXNzcm9vbUVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXG5cdFVzZXJJRCAgICBzdHJpbmcgYGpzb246XCJ1c2VyX2lkXCJgXG5cdE5hbWUgICAgICBzdHJpbmcgYGpzb246XCJuYW1lXCJgXG5cdEF2YXRhclVybCBzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCJgXG59XG5cbmZ1bmMgKGMgKkNsYXNzcm9vbUVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21zXCJcbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyUm9sZSBzdHJpbmdcblxuY29uc3QgKFxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlciBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJ0ZWFjaGVyXCJcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwic3R1ZGVudFwiXG4pXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyIHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cdENsYXNzcm9vbUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJjbGFzc3Jvb21faWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFVzZXJJRCAgICAgIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJ1c2VyX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRSb2xlICAgICAgICBDbGFzc3Jvb21NZW1iZXJSb2xlIGBqc29uOlwicm9sZVwiYFxuXHRJbnZpdGVkQnlJRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiaW52aXRlZF9ieV9pZFwiYFxufVxuXG5mdW5jIChjIENsYXNzcm9vbU1lbWJlcikgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVyc1wiXG59XG4uLi5cblBhdGg6IGVudGl0eS9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvblN0YXR1cyBzdHJpbmdcblxuY29uc3QgKFxuXHRJbnZpdGF0aW9uU3RhdHVzUGVuZGluZyAgSW52aXRhdGlvblN0YXR1cyA9IFwicGVuZGluZ1wiXG5cdEludml0YXRpb25TdGF0dXNBY2NlcHRlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJhY2NlcHRlZFwiXG5cdEludml0YXRpb25TdGF0dXNSZWplY3RlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJyZWplY3RlZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvbkVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXHRDbGFzc3Jvb21JRCBzdHJpbmcgICAgICAgICAgIGBqc29uOlwiY2xhc3Nyb29tX2lkXCJgXG5cdFNlbmRlcklEICAgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJzZW5kZXJfaWRcIiBnb3JtOlwiaW5kZXhcImBcblx0UmVjZWl2ZXJJRCAgc3RyaW5nICAgICAgICAgICBganNvbjpcInJlY2VpdmVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFN0YXR1cyAgICAgIEludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBnb3JtOlwiaW5kZXhcImBcbn1cblxuZnVuYyAoSW52aXRhdGlvbkVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHsgcmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5pbnZpdGF0aW9uc1wiIH1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuVHJhbnNhY3Rpb24oZnVuYyh0eCAqZ29ybS5EQikgZXJyb3Ige1xuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoY2xhc3Nyb29tKS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZSgmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShjbGFzc3Jvb20uSUQsIFwiXCIpLFxuXHRcdFx0VXNlcklEOiAgICAgIGNsYXNzcm9vbS5Vc2VySUQsXG5cdFx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyLFxuXHRcdH0pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRyZXR1cm4gbmlsXG5cdH0pXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdvcm0uaW8vZ29ybS9jbGF1c2VcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Ige1xuXHQvLyBT4butIGThu6VuZyBjbGF1c2UuT25Db25mbGljdCgpLkRvTm90aGluZygpIMSR4buDIHRyw6FuaCBs4buXaSBraGkgdGjDqm0gdGjDoG5oIHZpw6puIMSRw6MgdOG7k24gdOG6oWlcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5cblx0XHRDbGF1c2VzKGNsYXVzZS5PbkNvbmZsaWN0e0RvTm90aGluZzogdHJ1ZX0pLlxuXHRcdENyZWF0ZShtZW1iZXIpLkVycm9yXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGF0aW9uc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgcmVxXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tUmVxdWVzdCBzdHJ1Y3Qge1xuXHROYW1lICAgICAgKnN0cmluZyBganNvbjpcIm5hbWVcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdEF2YXRhclVybCAqc3RyaW5nIGBqc29uOlwiYXZhdGFyX3VybFwiIHZhbGlkYXRlOlwicmVxdWlyZWQsdXJsXCJgXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tTWVtYmVycyBbXWVudGl0eS5DbGFzc3Jvb21NZW1iZXJcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZFwiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21NZW1iZXJzKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21NZW1iZXJzXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2ludml0YXRpb24uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5DcmVhdGUoaW52aXRhdGlvbikuRXJyb3Jcbn0uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L3VwZGF0ZV9pbnZpdGF0aW9uX3N0YXR1cy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgVXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRNb2RlbCgmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSkuXG5cdFx0V2hlcmUoXCJpZCA9ID9cIiwgaW52aXRhdGlvbklEKS5cblx0XHRVcGRhdGUoXCJzdGF0dXNcIiwgc3RhdHVzKS5cblx0XHRFcnJvclxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSByZXFcblxudHlwZSBJbnZpdGVNZW1iZXJSZXF1ZXN0IHN0cnVjdCB7XG5cdENsYXNzcm9vbUlEICpzdHJpbmcgYGpzb246XCJjbGFzc3Jvb21faWRcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdFJlY2VpdmVySUQgICpzdHJpbmcgYGpzb246XCJyZWNlaXZlcl9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHRxdWVyeSA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJyZWNlaXZlcl9pZCA9ID9cIiwgcmVjZWl2ZXJJRClcblxuXHQvLyBM4buNYyB0aGVvIHN0YXR1cyBu4bq/dSBjw7Ncblx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdHF1ZXJ5ID0gcXVlcnkuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHR9XG5cblx0dmFyIGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0aWYgZXJyIDo9IHF1ZXJ5LlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuLi4uXG5QYXRoOiB1c2VjYXNlL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XyBcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcbn1cblxudHlwZSBjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2Uge1xuXHRyZXR1cm4gJmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAoYyAqY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdGlmIGVyciA6PSBjLlJlcG8uQ3JlYXRlQ2xhc3Nyb29tKGN0eCwgY2xhc3Nyb29tKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb21cIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cdHJldHVybiBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9hY2NlcHRfaW52aXRhdGlvbi5nb1xuLi4uXG5cblx0aWYgZXJyIDo9IHUuUmVwby5DcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4LCAmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRDbGFzc3Jvb21JRDogaW52aXRhdGlvbi5DbGFzc3Jvb21JRCxcblx0XHRVc2VySUQ6ICAgICAgaW52aXRhdGlvbi5SZWNlaXZlcklELFxuXHRcdFJvbGU6ICAgICAgICBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQsXG5cdFx0SW52aXRlZEJ5SUQ6IGludml0YXRpb24uU2VuZGVySUQsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbSBtZW1iZXJcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0aWYgZXJyIDo9IHUuUmVwby5VcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCwgaW52aXRhdGlvbklELCBlbnRpdHkuSW52aXRhdGlvblN0YXR1c0FjY2VwdGVkKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIHVwZGF0ZSBpbnZpdGF0aW9uIHN0YXR1c1wiLCB6YXAuU3RyaW5nKFwiaW52aXRhdGlvbiBpZFwiLCBpbnZpdGF0aW9uSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xuLi4uXG5cbnR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcblx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Jcblx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZXtSZXBvOiByZXBvfVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2lzX2ludml0YXRpb25fZXhpc3RpbmcuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY291bnQgaW50NjRcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRNb2RlbCgmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/IEFORCByZWNlaXZlcl9pZCA9ID8gQU5EIHN0YXR1cyBJTiA/XCIsIGNsYXNzcm9vbUlELCByZWNlaXZlcklELCBbXWVudGl0eS5JbnZpdGF0aW9uU3RhdHVze2VudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZywgZW50aXR5Lkludml0YXRpb25TdGF0dXNBY2NlcHRlZH0pLlxuXHRcdENvdW50KCZjb3VudCkuXG5cdFx0RXJyb3I7IGVyciAhLi4uIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxTGtvQWNTRUR6QXg3RU5XeUpDdEdKMyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XX1dLCJmZWVkYmFja1N0YXRlcyI6eyJ0ZW1wLWZlLTViYjAwZjMwLTllOGMtNDQ0OS1iNTVlLWQxZjg5ZTE1Mjc2NCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMjI4MmM0YzAtNmNiYy00YWJkLWJkZGUtZWYyNzdlZTU5Yjk2Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1jMzc2MGI5OS1mMmJhLTRlOWQtODliNy01NGI2MmY3YjI5NmMiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWVkMTM0OTNlLWE3OTktNGYxYy1iMWU3LTFjMDhmMjYyMzA5NSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNGZhNGEwYjUtYTg5Yi00MWI5LTkwY2YtYmVmMWZlMTE5ODgyIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0zOWQzNzdlMi1iZjQwLTQxODMtYTA4Ny1hYmMzNWJhMjI3ZGUiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWQ2NjRmYzNkLTFhN2MtNDE5MC04Y2I4LTliYWUwZWJkMmNjNiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNDgyZmI0NGEtNzI2ZC00ZDcxLWFlMDktYTk0ZjliMjYyOWJiIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1hMzk1OTkwZi1jOTdjLTQ4YWEtYTk5OS0xMjMwZmRmZTFhNTkiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTk1ZDg2Y2YyLTQyNGItNGI5NC05Y2U2LWIwNThlOWRkNmMzYyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYmRmNjZlZmYtNGYzYi00MmMzLWIyMGMtYzM2ZDRhMTZmYTkxIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifX0sInRvb2xVc2VTdGF0ZXMiOnsiYjMzNmM4OTEtOWRkOC00NTA0LWJlYTAtNzE3NDcxNDQwMDM3O3Rvb2x1X3ZydHhfMDFTZlhDQ211TTdYaGpydUIxSmh4dVo2Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IGhhbmRsZXIvaGFuZGxlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbnR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTeG7nWkgdGjDoG5oIHZpw6puIHbDoG8gbOG7m3AgaOG7jWNcblx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcblx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG5cdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBDaOG6pXAgbmjhuq1uIGzhu51pIG3hu51pXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG59XG5cbnR5cGUgaGFuZGxlckltcGwgc3RydWN0IHtcblx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG5cdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxufVxuXG50eXBlIEluamVjdCBzdHJ1Y3Qge1xuXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2Vcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2Vcblx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Vcblx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxuXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG5cdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG59XG5cbmZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcblx0cmV0dXJuICZoYW5kbGVySW1wbHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXG5cdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcblx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgaW5qZWN0Lkludml0ZU1lbWJlclVzZUNhc2UsXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIGluamVjdC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UsXG5cdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LkFjY2VwdEludml0YXRpb25Vc2VDYXNlLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICBpbmplY3QuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLFxuXHR9XG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuQ3JlYXRlQ2xhc3Nyb29tUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSByLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5DbGFzc3Jvb21FbnRpdHl7XG5cdFx0VXNlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0TmFtZTogICAgICB2YWx1ZS5HZXRWYWx1ZShib2R5Lk5hbWUsIFwiXCIpLFxuXHRcdEF2YXRhclVybDogdmFsdWUuR2V0VmFsdWUoYm9keS5BdmF0YXJVcmwsIFwiXCIpLFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IHNlcnZlci9yb3V0ZXIuZ29cbnBhY2thZ2Ugc2VydmVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmVcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcblxuZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xuXHRjbGFzc3Jvb21Hcm91cCA6PSBhcHAuR3JvdXAoXCIvY2xhc3Nyb29tXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvaW52aXRlXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycylcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG5cblx0aW52aXRhdGlvbkdyb3VwIDo9IGFwcC5Hcm91cChcIi9pbnZpdGF0aW9uXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0aW52aXRhdGlvbkdyb3VwLkdldChcIi9maWx0ZXJcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucylcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9yZWplY3QvOmlkXCIsIGhhbmRsZXIuUmVqZWN0SW52aXRhdGlvbilcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9hY2NlcHQvOmlkXCIsIGhhbmRsZXIuQWNjZXB0SW52aXRhdGlvbilcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgSW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuSW52aXRlTWVtYmVyUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSBoLkludml0ZU1lbWJlclVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e1xuXHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkNsYXNzcm9vbUlELCBcIlwiKSxcblx0XHRTZW5kZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdFJlY2VpdmVySUQ6ICB2YWx1ZS5HZXRWYWx1ZShib2R5LlJlY2VpdmVySUQsIFwiXCIpLFxuXHRcdFN0YXR1czogICAgICBlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIMSRYW5nIGNo4budIHjhu60gbMO9IGhv4bq3YyDEkcOjIMSRxrDhu6NjIGNo4bqlcCBuaOG6rW5cIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0YXRpb25zVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgY2xhc3Nyb29tX2lkIHThu6sgVVJMXG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHF1ZXJ5IHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLCBxdWVyeSlcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdGlmIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcikge1xuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0fVxuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cbi4uLlxuUGF0aDogc2VydmVyL3NlcnZlci5nb1xuLi4uXG5cdHJlcG9zaXRvcnkgOj0gcmVwb3NpdG9yeS5OZXcocHJvdmlkZXIpXG5cdGhhbmRsZXIgOj0gaGFuZGxlci5OZXcoJmhhbmRsZXIuSW5qZWN0e1xuXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICB1c2VjYXNlLk5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IHVzZWNhc2UuTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIHVzZWNhc2UuTmV3SW52aXRlTWVtYmVyVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIHVzZWNhc2UuTmV3UmVqZWN0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIHVzZWNhc2UuTmV3QWNjZXB0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHR9KVxuLi4uXG5QYXRoOiBoYW5kbGVyL2FjY2VwdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgQWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgSUQgY+G7p2EgaW52aXRhdGlvbiB04burIFVSTFxuXHRpbnZpdGF0aW9uSUQgOj0gYy5QYXJhbXMoXCJpZFwiKVxuXHRpZiBpbnZpdGF0aW9uSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJpZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuLi4uXG5QYXRoOiBtaWdyYXRlL21pZ3JhdGUuZ29cbnBhY2thZ2UgbWlncmF0ZVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxuZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuXHRwcm92aWRlciwgZXJyIDo9IHByb3ZpZGVyLkluaXQoc2VydmljZUNvbmZpZylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRpZiBlcnIgOj0gcHJvdmlkZXIuRGIuQXV0b01pZ3JhdGUoXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21FbnRpdHl7fSxcblx0XHQmZW50aXR5LkNsYXNzcm9vbU1lbWJlcnt9LFxuXHRcdCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9LFxuXHQpOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gbWlncmF0ZSBkYXRhYmFzZVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuXG5cdGxvZ2dlci5JbmZvKFwibWlncmF0ZSBkYXRhYmFzZSBzdWNjZXNzXCIpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvcmVqZWN0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBJRCBj4bunYSBpbnZpdGF0aW9uIHThu6sgVVJMXG5cdGludml0YXRpb25JRCA6PSBjLlBhcmFtcyhcImlkXCIpXG5cdGlmIGludml0YXRpb25JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImlkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tRW50aXR5IHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cblx0VXNlcklEICAgIHN0cmluZyBganNvbjpcInVzZXJfaWRcImBcblx0TmFtZSAgICAgIHN0cmluZyBganNvbjpcIm5hbWVcImBcblx0QXZhdGFyVXJsIHN0cmluZyBganNvbjpcImF2YXRhcl91cmxcImBcbn1cblxuZnVuYyAoYyAqQ2xhc3Nyb29tRW50aXR5KSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXNcIlxufVxuLi4uXG5QYXRoOiBlbnRpdHkvY2xhc3Nyb29tX21lbWJlci5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblxudHlwZSBDbGFzc3Jvb21NZW1iZXJSb2xlIHN0cmluZ1xuXG5jb25zdCAoXG5cdENsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyIENsYXNzcm9vbU1lbWJlclJvbGUgPSBcInRlYWNoZXJcIlxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJzdHVkZW50XCJcbilcblxudHlwZSBDbGFzc3Jvb21NZW1iZXIgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiIGdvcm06XCJ1bmlxdWVJbmRleDppZHhfY2xhc3Nyb29tX3VzZXJcImBcblx0VXNlcklEICAgICAgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcInVzZXJfaWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFJvbGUgICAgICAgIENsYXNzcm9vbU1lbWJlclJvbGUgYGpzb246XCJyb2xlXCJgXG5cdEludml0ZWRCeUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJpbnZpdGVkX2J5X2lkXCJgXG59XG5cbmZ1bmMgKGMgQ2xhc3Nyb29tTWVtYmVyKSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbV9tZW1iZXJzXCJcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcbilcblxudHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxuXHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxuXHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuXHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Jcblx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Jcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcblx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG59XG5cbmZ1bmMgTmV3KHByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlcikgUmVwb3NpdG9yeSB7XG5cdHJldHVybiAmcmVwb3NpdG9yeUltcGx7XG5cdFx0UHJvdmlkZXI6IHByb3ZpZGVyLFxuXHR9XG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnb3JtLmlvL2dvcm0vY2xhdXNlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yIHtcblx0Ly8gU+G7rSBk4bulbmcgY2xhdXNlLk9uQ29uZmxpY3QoKS5Eb05vdGhpbmcoKSDEkeG7gyB0csOhbmggbOG7l2kga2hpIHRow6ptIHRow6BuaCB2acOqbiDEkcOjIHThu5NuIHThuqFpXG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuXG5cdFx0Q2xhdXNlcyhjbGF1c2UuT25Db25mbGljdHtEb05vdGhpbmc6IHRydWV9KS5cblx0XHRDcmVhdGUobWVtYmVyKS5FcnJvclxufVxuLi4uXG5QYXRoOiBlbnRpdHkvaW52aXRhdGlvbi5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuXG50eXBlIEludml0YXRpb25TdGF0dXMgc3RyaW5nXG5cbmNvbnN0IChcblx0SW52aXRhdGlvblN0YXR1c1BlbmRpbmcgIEludml0YXRpb25TdGF0dXMgPSBcInBlbmRpbmdcIlxuXHRJbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwiYWNjZXB0ZWRcIlxuXHRJbnZpdGF0aW9uU3RhdHVzUmVqZWN0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwicmVqZWN0ZWRcIlxuKVxuXG50eXBlIEludml0YXRpb25FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiYFxuXHRTZW5kZXJJRCAgICBzdHJpbmcgICAgICAgICAgIGBqc29uOlwic2VuZGVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFJlY2VpdmVySUQgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJyZWNlaXZlcl9pZFwiIGdvcm06XCJpbmRleFwiYFxuXHRTdGF0dXMgICAgICBJbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgZ29ybTpcImluZGV4XCJgXG59XG5cbmZ1bmMgKEludml0YXRpb25FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7IHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uaW52aXRhdGlvbnNcIiB9XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2ludml0YXRpb24uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5DcmVhdGUoaW52aXRhdGlvbikuRXJyb3Jcbn0uLi5cblBhdGg6IG1vZGVsL3JlcS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVJlcXVlc3Qgc3RydWN0IHtcblx0TmFtZSAgICAgICpzdHJpbmcgYGpzb246XCJuYW1lXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxuXHRBdmF0YXJVcmwgKnN0cmluZyBganNvbjpcImF2YXRhcl91cmxcIiB2YWxpZGF0ZTpcInJlcXVpcmVkLHVybFwiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbU1lbWJlcnMgW11lbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWRcIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tTWVtYmVycykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tTWVtYmVyc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHF1ZXJ5IDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInJlY2VpdmVyX2lkID0gP1wiLCByZWNlaXZlcklEKVxuXG5cdC8vIEzhu41jIHRoZW8gc3RhdHVzIG7hur91IGPDs1xuXHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0cXVlcnkgPSBxdWVyeS5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdH1cblxuXHR2YXIgaW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gcXVlcnkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2dldF9pbnZpdGF0aW9uX2J5X2lkLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcikge1xuXHR2YXIgaW52aXRhdGlvbiBlbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiaWQgPSA/XCIsIGludml0YXRpb25JRCkuXG5cdFx0Rmlyc3QoJmludml0YXRpb24pLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gJmludml0YXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSByZXFcblxudHlwZSBJbnZpdGVNZW1iZXJSZXF1ZXN0IHN0cnVjdCB7XG5cdENsYXNzcm9vbUlEICpzdHJpbmcgYGpzb246XCJjbGFzc3Jvb21faWRcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdFJlY2VpdmVySUQgICpzdHJpbmcgYGpzb246XCJyZWNlaXZlcl9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdF8gXCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIHtcblx0cmV0dXJuICZjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKGMgKmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRpZiBlcnIgOj0gYy5SZXBvLkNyZWF0ZUNsYXNzcm9vbShjdHgsIGNsYXNzcm9vbSk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2xhc3Nyb29tXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvdXBkYXRlX2ludml0YXRpb25fc3RhdHVzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdE1vZGVsKCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9KS5cblx0XHRXaGVyZShcImlkID0gP1wiLCBpbnZpdGF0aW9uSUQpLlxuXHRcdFVwZC4uLiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjdhMDcyMzE5LWZmYjAtNGFlNi05OWJjLTgxYjQ1NWEwNzMyNzt0b29sdV92cnR4XzAxNFA3V2dicVd2dktkN2NTWjVMeEV4ZSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBlbnRpdHkvY2xhc3Nyb29tLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXG50eXBlIENsYXNzcm9vbUVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXG5cdFVzZXJJRCAgICBzdHJpbmcgYGpzb246XCJ1c2VyX2lkXCJgXG5cdE5hbWUgICAgICBzdHJpbmcgYGpzb246XCJuYW1lXCJgXG5cdEF2YXRhclVybCBzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCJgXG59XG5cbmZ1bmMgKGMgKkNsYXNzcm9vbUVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21zXCJcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9pc19jbGFzc3Jvb21fb3duZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpIHtcblx0dmFyIGNsYXNzcm9vbSBlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJpZCA9ID8gQU5EIHVzZXJfaWQgPSA/XCIsIGNsYXNzcm9vbUlELCB1c2VySUQpLlxuXHRcdEZpcnN0KCZjbGFzc3Jvb20pLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBO4bq/dSBraMO0bmcgdMOsbSB0aOG6pXkgYuG6o24gZ2hpLCBjw7MgbmdoxKlhIGzDoCBuZ8aw4budaSBkw7luZyBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691XG5cdFx0cmV0dXJuIGZhbHNlLCBuaWxcblx0fVxuXHRyZXR1cm4gdHJ1ZSwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xuLi4uXG5cbnR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcblx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Jcblx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcblx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXG5cdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIHJlcG9zaXRvcnlJbXBsIHN0cnVjdCB7XG5cdFByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlclxufVxuXG5mdW5jIE5ldyhwcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXIpIFJlcG9zaXRvcnkge1xuXHRyZXR1cm4gJnJlcG9zaXRvcnlJbXBse1xuXHRcdFByb3ZpZGVyOiBwcm92aWRlcixcblx0fVxufVxuLi4uXG5QYXRoOiBlbnRpdHkvY2xhc3Nyb29tX21lbWJlci5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblxudHlwZSBDbGFzc3Jvb21NZW1iZXJSb2xlIHN0cmluZ1xuXG5jb25zdCAoXG5cdENsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyIENsYXNzcm9vbU1lbWJlclJvbGUgPSBcInRlYWNoZXJcIlxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJzdHVkZW50XCJcbilcblxudHlwZSBDbGFzc3Jvb21NZW1iZXIgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiIGdvcm06XCJ1bmlxdWVJbmRleDppZHhfY2xhc3Nyb29tX3VzZXJcImBcblx0VXNlcklEICAgICAgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcInVzZXJfaWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFJvbGUgICAgICAgIENsYXNzcm9vbU1lbWJlclJvbGUgYGpzb246XCJyb2xlXCJgXG5cdEludml0ZWRCeUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJpbnZpdGVkX2J5X2lkXCJgXG59XG5cbmZ1bmMgKGMgQ2xhc3Nyb29tTWVtYmVyKSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbV9tZW1iZXJzXCJcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZXtSZXBvOiByZXBvfVxufVxuXG5mdW5jIChmICpmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0cmVzdWx0LCBlcnIgOj0gZi5SZXBvLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4LCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGNsYXNzcm9vbSBtZW1iZXJzXCIsIHphcC5TdHJpbmcoXCJjbGFzc3Jvb20gaWRcIiwgY2xhc3Nyb29tSUQpLCB6YXAuRXJyb3IoKGVycikpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5UcmFuc2FjdGlvbihmdW5jKHR4ICpnb3JtLkRCKSBlcnJvciB7XG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZShjbGFzc3Jvb20pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKCZlbnRpdHkuQ2xhc3Nyb29tTWVtYmVye1xuXHRcdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGNsYXNzcm9vbS5JRCwgXCJcIiksXG5cdFx0XHRVc2VySUQ6ICAgICAgY2xhc3Nyb29tLlVzZXJJRCxcblx0XHRcdFJvbGU6ICAgICAgICBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVRlYWNoZXIsXG5cdFx0fSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdHJldHVybiBuaWxcblx0fSlcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGNsYXNzcm9vbSBraMO0bmdcblx0aXNPd25lciwgZXJyIDo9IHUuUmVwby5Jc0NsYXNzcm9vbU93bmVyKGN0eCwgY2xhc3Nyb29tSUQsIHVzZXJJRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNoZWNrIGNsYXNzcm9vbSBvd25lclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdGlmICFpc093bmVyIHtcblx0XHRyZXR1cm4gbmlsLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXJcblx0fVxuXG5cdC8vIEzhuqV5IGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgbeG7nWlcblx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckludml0ZWRNZW1iZXJzKGN0eCwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBpbnZpdGVkIG1lbWJlcnNcIiwgemFwLlN0cmluZyhcImNsYXNzcm9vbSBpZFwiLCBjbGFzc3Jvb21JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tTWVtYmVycyBbXWVudGl0eS5DbGFzc3Jvb21NZW1iZXJcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZFwiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21NZW1iZXJzKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21NZW1iZXJzXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaGFuZGxlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbnR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTeG7nWkgdGjDoG5oIHZpw6puIHbDoG8gbOG7m3AgaOG7jWNcblx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcblx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG5cdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBDaOG6pXAgbmjhuq1uIGzhu51pIG3hu51pXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRfIFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSB7XG5cdHJldHVybiAmY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jIChjICpjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0aWYgZXJyIDo9IGMuUmVwby5DcmVhdGVDbGFzc3Jvb20oY3R4LCBjbGFzc3Jvb20pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2lzX2ludml0YXRpb25fZXhpc3RpbmcuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY291bnQgaW50NjRcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRNb2RlbCgmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/IEFORCByZWNlaXZlcl9pZCA9ID8gQU5EIHN0YXR1cyBJTiA/XCIsIGNsYXNzcm9vbUlELCByZWNlaXZlcklELCBbXWVudGl0eS5JbnZpdGF0aW9uU3RhdHVze2VudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZywgZW50aXR5Lkludml0YXRpb25TdGF0dXNBY2NlcHRlZH0pLlxuXHRcdENvdW50KCZjb3VudCkuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBmYWxzZSwgZXJyXG5cdH1cblx0cmV0dXJuIGNvdW50ID4gMCwgbmlsXG59XG4uLi5cblBhdGg6IHNlcnZlci9yb3V0ZXIuZ29cbi4uLlxuXG5mdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG5cdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcIi9jbGFzc3Jvb21cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2NyZWF0ZVwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcblxuXHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnb3JtLmlvL2dvcm0vY2xhdXNlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yIHtcblx0Ly8gU+G7rSBk4bulbmcgY2xhdXNlLk9uQ29uZmxpY3QoKS5Eb05vdGhpbmcoKSDEkeG7gyB0csOhbmggbOG7l2kga2hpIHRow6ptIHRow6BuaCB2acOqbiDEkcOjIHThu5NuIHThuqFpXG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuXG5cdFx0Q2xhdXNlcyhjbGF1c2UuT25Db25mbGljdHtEb05vdGhpbmc6IHRydWV9KS5cblx0XHRDcmVhdGUobWVtYmVyKS5FcnJvclxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHRxdWVyeSA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJyZWNlaXZlcl9pZCA9ID9cIiwgcmVjZWl2ZXJJRClcblxuXHQvLyBM4buNYyB0aGVvIHN0YXR1cyBu4bq/dSBjw7Ncblx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdHF1ZXJ5ID0gcXVlcnkuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHR9XG5cblx0dmFyIGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0aWYgZXJyIDo9IHF1ZXJ5LlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXFcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21SZXF1ZXN0IHN0cnVjdCB7XG5cdE5hbWUgICAgICAqc3RyaW5nIGBqc29uOlwibmFtZVwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0QXZhdGFyVXJsICpzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCIgdmFsaWRhdGU6XCJyZXF1aXJlZCx1cmxcImBcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuKVxuXG50eXBlIEZpbHRlckludml0YXRpb25zUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG5cdFN0YXR1cyAqZW50aXR5Lkludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBxdWVyeTpcInN0YXR1c1wiYFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSByZXFcblxudHlwZSBJbnZpdGVNZW1iZXJSZXF1ZXN0IHN0cnVjdCB7XG5cdENsYXNzcm9vbUlEICpzdHJpbmcgYGpzb246XCJjbGFzc3Jvb21faWRcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdFJlY2VpdmVySUQgICpzdHJpbmcgYGpzb246XCJyZWNlaXZlcl9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckludml0YXRpb25zVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRhdGlvbnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVySW52aXRhdGlvbnNVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJJbnZpdGF0aW9ucyhjdHgsIHJlY2VpdmVySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBpbnZpdGF0aW9uc1wiLCB6YXAuU3RyaW5nKFwicmVjZWl2ZXIgaWRcIiwgcmVjZWl2ZXJJRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IHIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEludml0ZU1lbWJlclVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Jcbn1cblxudHlwZSBpbnZpdGVNZW1iZXJVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEludml0ZU1lbWJlclVzZUNhc2Uge1xuXHRyZXR1cm4gJmludml0ZU1lbWJlclVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqaW52aXRlTWVtYmVyVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yIHtcblx0Ly8gS2nhu4NtIHRyYSB4ZW0gbmfGsOG7nWkgZMO5bmcgY8OzIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBjbGFzc3Jvb20ga2jDtG5nXG5cdGlzT3duZXIsIGVyciA6PSB1LlJlcG8uSXNDbGFzc3Jvb21Pd25lcihjdHgsIGludml0YXRpb24uQ2xhc3Nyb29tSUQsIGludml0YXRpb24uU2VuZGVySUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjaGVjayBjbGFzc3Jvb20gb3duZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0aWYgIWlzT3duZXIge1xuXHRcdHJldHVybiBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXJcblx0fVxuXG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIG5o4bqtbiDEkcOjIGPDsyBs4budaSBt4budaSBuw6BvIMSRYW5nIOG7nyB0cuG6oW5nIHRow6FpIHBlbmRpbmcgaG/hurdjIGFjY2VwdGVkIGNoxrBhXG5cdGV4aXN0cywgZXJyIDo9IHUuUmVwby5Jc0ludml0YXRpb25FeGlzdGluZyhjdHgsIGludml0YXRpb24uQ2xhc3Nyb29tSUQsIGludml0YXRpb24uUmVjZWl2ZXJJRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNoZWNrIGV4aXN0aW5nIGludml0YXRpb25cIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0aWYgZXhpc3RzIHtcblx0XHRyZXR1cm4gcWVycm9yLkVyclJlY2VpdmVyQWxyZWFkeUhhc0ludml0YXRpb25cblx0fVxuLi4uXG5QYXRoOiB1c2VjYXNlL2FjY2VwdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgQWNjZXB0SW52aXRhdGlvblVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSBlcnJvclxufVxuXG50eXBlIGFjY2VwdEludml0YXRpb25Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSB7XG5cdHJldHVybiAmYWNjZXB0SW52aXRhdGlvblVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqYWNjZXB0SW52aXRhdGlvblVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIGVycm9yIHtcblx0Ly8gTOG6pXkgdGjDtG5nIHRpbiBpbnZpdGF0aW9uXG5cdGludml0YXRpb24sIGVyciA6PSB1LlJlcG8uR2V0SW52aXRhdGlvbkJ5SUQoY3R4LCBpbnZpdGF0aW9uSUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBnZXQgaW52aXRhdGlvblwiLCB6YXAuU3RyaW5nKFwiaW52aXRhdGlvbiBpZFwiLCBpbnZpdGF0aW9uSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBuZ8aw4budaSBuaOG6rW4gbOG7nWkgbeG7nWkga2jDtG5nXG5cdGlmIGludml0YXRpb24uUmVjZWl2ZXJJRCAhPSB1c2VySUQge1xuXHRcdHJldHVybiBxZXJyb3IuRXJyTm90SW52aXRhdGlvblJlY2VpdmVyXG5cdH1cblxuXHQvLyBLaeG7g20gdHJhIHhlbSBpbnZpdGF0aW9uIGPDsyDEkWFuZyDhu58gdHLhuqFuZyB0aMOhaSBwZW5kaW5nIGtow7RuZ1xuXHRpZiBpbnZpdGF0aW9uLlN0YXR1cyAhPSBlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcge1xuXHRcdHJldHVybiBxZXJyb3IuRXJySW52aXRhdGlvbk5vdFBlbmRpbmdcblx0fVxuXG5cdGlmIGVyciA6PSB1LlJlcG8uQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCwgJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0Q2xhc3Nyb29tSUQ6IGludml0YXRpb24uQ2xhc3Nyb29tSUQsXG5cdFx0VXNlcklEOiAgICAgIGludml0YXRpb24uUmVjZWl2ZXJJRCxcblx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50LFxuXHRcdEludml0ZWRCeUlEOiBpbnZpdGF0aW9uLlNlbmRlcklELFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb20gbWVtYmVyXCIsIHphcC5TdHJpbmcoXCJpbnZpdGF0aW9uIGlkXCIsIGludml0YXRpb25JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmIGVyciA6PSB1LlJlcG8uVXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHgsIGludml0YXRpb25JRCwgZW50aXR5Lkludml0YXRpb25TdGF0dXNBY2NlcHRlZCk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byB1cGRhdGUgaW52aXRhdGlvbiBzdGF0dXNcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL3JlamVjdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgUmVqZWN0SW52aXRhdGlvblVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSBlcnJvclxufVxuXG50eXBlIHJlamVjdEludml0YXRpb25Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSB7XG5cdHJldHVybiAmcmVqZWN0SW52aXRhdGlvblVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqcmVqZWN0SW52aXRhdGlvblVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIGVycm9yIHtcblx0Ly8gTOG6pXkgdGjDtG5nIHRpbiBpbnZpdGF0aW9uXG5cdGludml0YXRpb24sIGVyciA6PSB1LlJlcG8uR2V0SW52aXRhdGlvbkJ5SUQoY3R4LCBpbnZpdGF0aW9uSUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBnZXQgaW52aXRhdGlvblwiLCB6YXAuU3RyaW5nKFwiaW52aXRhdGlvbiBpZFwiLCBpbnZpdGF0aW9uSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBuZ8aw4budaSBuaOG6rW4gbOG7nWkgbeG7nWkga2jDtG5nXG5cdGlmIGludml0YXRpb24uUmVjZWl2ZXJJRCAhPSB1c2VySUQge1xuXHRcdHJldHVybiBxZXJyb3IuRXJyTm90SW52aXRhdGlvblJlY2VpdmVyXG5cdH1cblxuXHQvLyBLaeG7g20gdHJhIHhlbSBpbnZpdGF0aW9uIGPDsyDEkWFuZyDhu58gdHLhuqFuZyB0aMOhaSBwZW5kaW5nIGtow7RuZ1xuXHRpZiBpbnZpdGF0aW9uLlN0YXR1cyAhPSBlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcge1xuXHRcdHJldHVybiBxZXJyb3IuRXJySW52aXRhdGlvbk5vdFBlbmRpbmdcblx0fVxuLi4uXG5QYXRoOiBoYW5kbGVyL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWMuLi4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI5ZDlhZDY1MC0yZWVhLTRjNjktYjQ3Zi05Mjc0ZDBhZTQ0OGQ7dG9vbHVfdnJ0eF8wMUQyenVqc05XbmlFYkg3ZzdONUZaeVoiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogaGFuZGxlci9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSByLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBib2R5IHJlcS5JbnZpdGVNZW1iZXJSZXF1ZXN0XG5cblx0aWYgZXJyIDo9IGMuQm9keVBhcnNlcigmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IGguSW52aXRlTWVtYmVyVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5Lkludml0YXRpb25FbnRpdHl7XG5cdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGJvZHkuQ2xhc3Nyb29tSUQsIFwiXCIpLFxuXHRcdFNlbmRlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0UmVjZWl2ZXJJRDogIHZhbHVlLkdldFZhbHVlKGJvZHkuUmVjZWl2ZXJJRCwgXCJcIiksXG5cdFx0U3RhdHVzOiAgICAgIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZyxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRzd2l0Y2gge1xuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyclJlY2VpdmVyQWxyZWFkeUhhc0ludml0YXRpb24pOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgxJFhbmcgY2jhu50geOG7rSBsw70gaG/hurdjIMSRw6MgxJHGsOG7o2MgY2jhuqVwIG5o4bqtblwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IGNsYXNzcm9vbV9pZCB04burIFVSTFxuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBxdWVyeSByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSwgcXVlcnkpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRpZiBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpIHtcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuKVxuXG50eXBlIEZpbHRlckludml0ZWRNZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG5cdFN0YXR1cyAqZW50aXR5Lkludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBxdWVyeTpcInN0YXR1c1wiYFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBib2R5IHJlcS5DcmVhdGVDbGFzc3Jvb21SZXF1ZXN0XG5cblx0aWYgZXJyIDo9IGMuQm9keVBhcnNlcigmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHIuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5LkNsYXNzcm9vbUVudGl0eXtcblx0XHRVc2VySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHROYW1lOiAgICAgIHZhbHVlLkdldFZhbHVlKGJvZHkuTmFtZSwgXCJcIiksXG5cdFx0QXZhdGFyVXJsOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkF2YXRhclVybCwgXCJcIiksXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvcmVqZWN0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBJRCBj4bunYSBpbnZpdGF0aW9uIHThu6sgVVJMXG5cdGludml0YXRpb25JRCA6PSBjLlBhcmFtcyhcImlkXCIpXG5cdGlmIGludml0YXRpb25JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImlkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRpZiBlcnIgOj0gaC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBpbnZpdGF0aW9uSUQsIHVzZXJJRCk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgaGFuZGxlIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIGdvcm0uRXJyUmVjb3JkTm90Rm91bmQpOlxuXHRcdFx0cmV0dXJuIHJlcy5Ob3RGb3VuZChjLCBlcnJvcnMuTmV3KFwia2jDtG5nIHTDrG0gdGjhuqV5IGzhu51pIG3hu51pXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdEludml0YXRpb25SZWNlaXZlcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBuw6B5XCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyckludml0YXRpb25Ob3RQZW5kaW5nKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibOG7nWkgbeG7nWkga2jDtG5nIOG7nyB0cuG6oW5nIHRow6FpIGNo4budIHjhu60gbMO9XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvYWNjZXB0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBJRCBj4bunYSBpbnZpdGF0aW9uIHThu6sgVVJMXG5cdGludml0YXRpb25JRCA6PSBjLlBhcmFtcyhcImlkXCIpXG5cdGlmIGludml0YXRpb25JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImlkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRpZiBlcnIgOj0gaC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBpbnZpdGF0aW9uSUQsIHVzZXJJRCk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRzd2l0Y2gge1xuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgZ29ybS5FcnJSZWNvcmROb3RGb3VuZCk6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImtow7RuZyB0w6xtIHRo4bqleSBs4budaSBt4budaVwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RJbnZpdGF0aW9uUmVjZWl2ZXIpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBuZ8aw4budaSBuaOG6rW4gbOG7nWkgbeG7nWkgbsOgeVwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJJbnZpdGF0aW9uTm90UGVuZGluZyk6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImzhu51pIG3hu51pIGtow7RuZyDhu58gdHLhuqFuZyB0aMOhaSBjaOG7nSB44butIGzDvVwiKSlcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRhdGlvbnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaGFuZGxlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbnR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTeG7nWkgdGjDoG5oIHZpw6puIHbDoG8gbOG7m3AgaOG7jWNcblx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcblx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG5cdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBDaOG6pXAgbmjhuq1uIGzhu51pIG3hu51pXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tTWVtYmVycyBbXWVudGl0eS5DbGFzc3Jvb21NZW1iZXJcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZFwiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21NZW1iZXJzKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21NZW1iZXJzXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRnb3JtMiBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgKFxuXHRcdHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHRcdH1cblx0XHRpbnZpdGF0aW9ucyBbXWVudGl0eS5JbnZpdGF0aW9uRW50aXR5XG5cdClcblxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkID0gP1wiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGZ1bmMoZGIgKmdvcm0uREIpICpnb3JtLkRCIHtcblx0XHRcdGlmIHBhcmFtcy5TdGF0dXMgIT0gbmlsIHtcblx0XHRcdFx0cmV0dXJuIGRiLldoZXJlKFwic3RhdHVzID0gP1wiLCAqcGFyYW1zLlN0YXR1cylcblx0XHRcdH1cblx0XHRcdHJldHVybiBkYlxuXHRcdH0sIGdvcm0yLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGludml0YXRpb25zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IGVycm9yL2Vycm9yLmdvXG5wYWNrYWdlIHFlcnJvclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG4pXG5cbi8vIMSQ4buLbmggbmdoxKlhIGPDoWMgY29uc3RhbnRzIGVycm9yXG52YXIgKFxuXHQvLyBJbnZpdGF0aW9uIGVycm9yc1xuXHRFcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uID0gZXJyb3JzLk5ldyhcInJlY2VpdmVyIGFscmVhZHkgaGFzIGEgcGVuZGluZyBvciBhY2NlcHRlZCBpbnZpdGF0aW9uXCIpXG5cdEVyck5vdENsYXNzcm9vbU93bmVyICAgICAgICAgICAgPSBlcnJvcnMuTmV3KFwidXNlciBpcyBub3QgdGhlIG93bmVyIG9mIHRoZSBjbGFzc3Jvb21cIilcblx0RXJySW52aXRhdGlvbk5vdEZvdW5kICAgICAgICAgICA9IGVycm9ycy5OZXcoXCJpbnZpdGF0aW9uIG5vdCBmb3VuZFwiKVxuXHRFcnJJbnZpdGF0aW9uTm90UGVuZGluZyAgICAgICAgID0gZXJyb3JzLk5ldyhcImludml0YXRpb24gaXMgbm90IGluIHBlbmRpbmcgc3RhdHVzXCIpXG5cdEVyck5vdEludml0YXRpb25SZWNlaXZlciAgICAgICAgPSBlcnJvcnMuTmV3KFwidXNlciBpcyBub3QgdGhlIHJlY2VpdmVyIG9mIHRoaXMgaW52aXRhdGlvblwiKVxuXHRFcnJVc2VyQWxyZWFkeUNsYXNzcm9vbU1lbWJlciAgID0gZXJyb3JzLk5ldyhcInVzZXIgaXMgYWxyZWFkeSBhIG1lbWJlciBvZiB0aGlzIGNsYXNzcm9vbVwiKVxuKVxuLi4uXG5QYXRoOiBzZXJ2ZXIvc2VydmVyLmdvXG5wYWNrYWdlIHNlcnZlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92Mi9taWRkbGV3YXJlL3JlY292ZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxuZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuXHRhcHAgOj0gZmliZXIuTmV3KGZpYmVyLkNvbmZpZ3tcblx0XHRFbmFibGVQcmludFJvdXRlczogdHJ1ZSxcblx0fSlcblx0YXBwLlVzZShyZWNvdmVyLk5ldygpKVxuXG5cdHByb3ZpZGVyLCBlcnIgOj0gcHJvdmlkZXIuSW5pdChzZXJ2aWNlQ29uZmlnKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gaW5pdCBwcm92aWRlclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuLi4uXG5cblx0SW5pdFJvdXRlcihhcHAsIGhhbmRsZXIpXG5cdHV0aWwuSW5pdFZhbGlkYXRlKClcblxuXHRpZiBlcnIgOj0gYXBwLkxpc3RlbihcIjpcIiArIHNlcnZpY2VDb25maWcuUG9ydCk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBzdGFydCBzZXJ2ZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdF8gXCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIHtcblx0cmV0dXJuICZjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKGMgKmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRpZiBlcnIgOj0gYy5SZXBvLkNyZWF0ZUNsYXNzcm9vbShjdHgsIGNsYXNzcm9vbSk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2xhc3Nyb29tXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIEludml0ZU1lbWJlclJlcXVlc3Qgc3RydWN0IHtcblx0Q2xhc3Nyb29tSUQgKnN0cmluZyBganNvbjpcImNsYXNzcm9vbV9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0UmVjZWl2ZXJJRCAgKnN0cmluZyBganNvbjpcInJlY2VpdmVyX2lkXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXFcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21SZXF1ZXN0IHN0cnVjdCB7XG5cdE5hbWUgICAgICAqc3RyaW5nIGBqc29uOlwibmFtZVwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0QXZhdGFyVXJsICpzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCIgdmFsaWRhdGU6XCJyZXF1aXJlZCx1cmxcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHRxdWVyeSA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJyZWNlaXZlcl9pZCA9ID9cIiwgcmVjZWl2ZXJJRClcblxuXHQvLyBM4buNYyB0aGVvIHN0YXR1cyBu4bq/dSBjw7Ncblx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdHF1ZXJ5ID0gcXVlcnkuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHR9XG5cblx0dmFyIGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0aWYgZXJyIDo9IHF1ZXJ5LlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Ugc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNle1JlcG86IHJlcG99XG59XG4uLi5cblBhdGg6IGNtZC9zZXJ2ZS5nb1xuLypcbkNvcHlyaWdodCDCqSAyMDI1IE5BTUUgSEVSRSA8RU1BSUwgQUREUkVTUz5cbiovXG5wYWNrYWdlIGNtZFxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2NvbmZpZ1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWxcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vc2VydmVyXCJcblxuXHRcImdpdGh1Yi5jb20vc3BmMTMvY29icmFcIlxuKVxuXG4vLyBzZXJ2ZUNtZCByZXByZXNlbnRzIHRoZSBzZXJ2ZSBjb21tYW5kXG52YXIgc2VydmVDbWQgPSAmY29icmEuQ29tbWFuZHtcblx0VXNlOiAgIFwic2VydmVcIixcblx0U2hvcnQ6IFwiQSBicmllZiBkZXNjcmlwdGlvbiBvZiB5b3VyIGNvbW1hbmRcIixcblx0TG9uZzogYEEgbG9uZ2VyIGRlc2NyaXB0aW9uIHRoYXQgc3BhbnMgbXVsdGlwbGUgbGluZXMgYW5kIGxpa2VseSBjb250YWlucyBleGFtcGxlc1xuYW5kIHVzYWdlIG9mIHVzaW5nIHlvdXIgY29tbWFuZC4gRm9yIGV4YW1wbGU6XG5cbkNvYnJhIGlzIGEgQ0xJIGxpYnJhcnkgZm9yIEdvIHRoYXQgZW1wb3dlcnMgYXBwbGljYXRpb25zLlxuVGhpcyBhcHBsaWNhdGlvbiBpcyBhIHRvb2wgdG8gZ2VuZXJhdGUgdGhlIG5lZWRlZCBmaWxlc1xudG8gcXVpY2tseSBjcmVhdGUgYSBDb2JyYSBhcHBsaWNhdGlvbi5gLFxuXHRSdW46IGZ1bmMoY21kICpjb2JyYS5Db21tYW5kLCBhcmdzIFtdc3RyaW5nKSB7XG5cdFx0aWYgZXJyIDo9IGxvZ2dlci5Jbml0KCk7IGVyciAhPSBuaWwge1xuXHRcdFx0cGFuaWMoZXJyKVxuXHRcdH1cblxuXHRcdHZhciBzZXJ2aWNlQ29uZmlnIG1vZGVsLlNlcnZpY2VDb25maWdcblx0XHRlbnZQYXRoLCBfIDo9IGNtZC5GbGFncygpLkdldFN0cmluZyhcImVudi1wYXRoXCIpXG5cblx0XHRpZiBlcnIgOj0gY29uZmlnLkxvYWRDb25maWcoZW52UGF0aCwgJnNlcnZpY2VDb25maWcpOyBlcnIgIT0gbmlsIHtcblx0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBsb2FkIGNvbmZpZ1wiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRcdHJldHVyblxuXHRcdH1cblxuXHRcdHNlcnZlci5SdW4oJnNlcnZpY2VDb25maWcpXG5cdH0sXG59XG4uLi5cblBhdGg6IGNtZC9yb290LmdvXG4vKlxuQ29weXJpZ2h0IMKpIDIwMjUgTkFNRSBIRVJFIDxFTUFJTCBBRERSRVNTPlxuKi9cbnBhY2thZ2UgY21kXG5cbmltcG9ydCAoXG5cdFwib3NcIlxuXG5cdFwiZ2l0aHViLmNvbS9zcGYxMy9jb2JyYVwiXG4pXG5cbi8vIHJvb3RDbWQgcmVwcmVzZW50cyB0aGUgYmFzZSBjb21tYW5kIHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHN1YmNvbW1hbmRzXG52YXIgcm9vdENtZCA9ICZjb2JyYS5Db21tYW5ke1xuXHRVc2U6ICAgXCJxdWl6enktY2xhc3Nyb29tXCIsXG5cdFNob3J0OiBcIkEgYnJpZWYgZGVzY3JpcHRpb24gb2YgeW91ciBhcHBsaWNhdGlvblwiLFxuXHRMb25nOiBgQSBsb25nZXIgZGVzY3JpcHRpb24gdGhhdCBzcGFucyBtdWx0aXBsZSBsaW5lcyBhbmQgbGlrZWx5IGNvbnRhaW5zXG5leGFtcGxlcyBhbmQgdXNhZ2Ugb2YgdXNpbmcgeW91ciBhcHBsaWNhdGlvbi4gRm9yIGV4YW1wbGU6XG5cbkNvYnJhIGlzIGEgQ0xJIGxpYnJhcnkgZm9yIEdvIHRoYXQgZW1wb3dlcnMgYXBwbGljYXRpb25zLlxuVGhpcyBhcHBsaWNhdGlvbiBpcyBhIHRvb2wgdG8gZ2VuZXJhdGUgdGhlIG5lZWRlZCBmaWxlc1xudG8gcXVpY2tseSBjcmVhdGUgYSBDb2JyYSBhcHBsaWNhdGlvbi5gLFxuXHQvLyBVbmNvbW1lbnQgdGhlIGZvbGxvd2luZyBsaW5lIGlmIHlvdXIgYmFyZSBhcHBsaWNhdGlvblxuXHQvLyBoYXMgYW4gYWN0aW9uIGFzc29jaWF0ZWQgd2l0aCBpdDpcblx0Ly8gUnVuOiBmdW5jKGNtZCAqY29icmEuQ29tbWFuZCwgYXJncyBbXXN0cmluZykgeyB9LFxufVxuXG4vLyBFeGVjdXRlIGFkZHMgYWxsIGNoaWxkIGNvbW1hbmRzIHRvIHRoZSByb290IGNvbW1hbmQgYW5kIHNldHMgZmxhZ3MgYXBwcm9wcmlhdGVseS5cbi8vIFRoaXMgaXMgY2FsbGVkIGJ5IG1haW4ubWFpbigpLiBJdCBvbmx5IG5lZWRzIHRvIGhhcHBlbiBvbmNlIHRvIHRoZSByb290Q21kLlxuZnVuYyBFeGVjdXRlKCkge1xuXHRlcnIgOj0gcm9vdENtZC5FeGVjdXRlKClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0b3MuRXhpdCgxKVxuXHR9XG59XG5cbmZ1bmMgaW5pdCgpIHtcblx0Ly8gSGVyZSB5b3Ugd2lsbCBkZWZpbmUgeW91ciBmbGFncyBhbmQgY29uZmlndXJhdGlvbiBzZXR0aW5ncy5cblx0Ly8gQ29icmEgc3VwcG9ydHMgcGVyc2lzdGVudCBmbGFncywgd2hpY2gsIGlmIGRlZmluZWQgaGVyZSxcblx0Ly8gd2lsbCBiZSBnbG9iYWwgZm9yIHlvdXIgYXBwbGljYXRpb24uXG5cblx0Ly8gcm9vdENtZC5QZXJzaXN0ZW50RmxhZ3MoKS5TdHJpbmdWYXIoJmNmZ0ZpbGUsIFwiY29uZmlnXCIsIFwiXCIsIFwiY29uZmlnIGZpbGUgKGRlZmF1bHQgaXMgJEhPTUUvLnF1aXp6eS1jbGFzc3Jvb20ueWFtbClcIilcblxuXHQvLyBDb2JyYSBhbHNvIHN1cHBvcnRzIGxvY2FsIGZsYWdzLCB3aGljaCB3aWxsIG9ubHkgcnVuXG5cdC8vIHdoZW4gdGhpcyBhY3Rpb24gaXMgY2FsbGVkIGRpcmVjdGx5LlxuXHRyb290Q21kLkZsYWdzKCkuQm9vbFAoXCJ0b2dnbGVcIiwgXCJ0XCIsIGZhbHNlLCBcIkhlbHAgbWVzc2FnZSBmb3IgdG9nZ2xlXCIpXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvcmVqZWN0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIGVycm9yXG59XG5cbnR5cGUgcmVqZWN0SW52aXRhdGlvblVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3UmVqZWN0SW52aXRhdGlvblVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIFJlamVjdEludml0YXRpb25Vc2VDYXNlIHtcblx0cmV0dXJuICZyZWplY3RJbnZpdGF0aW9uVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpyZWplY3RJbnZpdGF0aW9uVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgdXNlcklEIHN0cmluZykgZXJyb3Ige1xuXHQvLyBM4bqleSB0aMO0bmcgdGluIGludml0YXRpb25cblx0aW52aXRhdGlvbiwgZXJyIDo9IHUuUmVwby5HZXRJbnZpdGF0aW9uQnlJRChjdHgsIGludml0YXRpb25JRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGdldCBpbnZpdGF0aW9uXCIsIHphcC5TdHJpbmcoXCJpbnZpdGF0aW9uIGlkXCIsIGludml0YXRpb25JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBraMO0bmdcblx0aWYgaW52aXRhdGlvbi5SZWNlaXZlcklEICE9IHVzZXJJRCB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJOb3RJbnZpdGF0aW9uUmVjZWl2ZXJcblx0fVxuXG5cdC8vIEtp4buDbSB0cmEgeGVtIGludml0YXRpb24gY8OzIMSRYW5nIOG7nyB0cuG6oW5nIHRow6FpIHBlbmRpbmcga2jDtG5nXG5cdGlmIGludml0YXRpb24uU3RhdHVzICE9IGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZyB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJJbnZpdGF0aW9uTm90UGVuZGluZ1xuXHR9XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG4uLi5cblx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXG5cdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIHJlcG9zaXRvcnlJbXBsIHN0cnVjdCB7XG5cdFByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlclxufVxuXG5mdW5jIE5ldyhwcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXIpIFJlcG9zaXRvcnkge1xuXHRyZXR1cm4gJnJlcG9zaXRvcnlJbXBse1xuXHRcdFByb3ZpZGVyOiBwcm92aWRlcixcblx0fVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGx7Li4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiYjkyNWI1NzItMjcxNC00ZTUzLWFiODQtMGM4MTJkNzMyNjBmO3Rvb2x1X3ZydHhfMDFGZ1dqZjNieThLdWgycVptSk1pN2hNIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImJkZTlhNTEwLWYyYzItNDkzMi05OTk0LTY0ODg0MmVhMGJjNDt0b29sdV92cnR4XzAxMUZtNzR2Szd2MzdqdkE0SnQyOE5KayI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nbzpcbiAgICAgMVx0cGFja2FnZSByZXBvc2l0b3J5XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgKFxuICAgICA0XHRcdFwiY29udGV4dFwiXG4gICAgIDVcdFx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4gICAgIDZcdFx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG4gICAgIDdcdFx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcbiAgICAgOFx0XG4gICAgIDlcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuICAgIDEwXHQpXG4gICAgMTFcdFxuICAgIDEyXHR0eXBlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHtcbiAgICAxM1x0XHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuICAgIDE0XHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxuICAgIDE1XHRcdENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG4gICAgMTZcdFx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuICAgIDE3XHRcdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG4gICAgMThcdFx0RmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbiAgICAxOVx0XHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcbiAgICAyMFx0XHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3JcbiAgICAyMVx0XHRDcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgbWVtYmVyICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyKSBlcnJvclxuICAgIDIyXHRcdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuICAgIDIzXHR9XG4gICAgMjRcdFxuICAgIDI1XHR0eXBlIHJlcG9zaXRvcnlJbXBsIHN0cnVjdCB7XG4gICAgMjZcdFx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG4gICAgMjdcdH1cbiAgICAyOFx0XG4gICAgMjlcdGZ1bmMgTmV3KHByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlcikgUmVwb3NpdG9yeSB7XG4gICAgMzBcdFx0cmV0dXJuICZyZXBvc2l0b3J5SW1wbHtcbiAgICAzMVx0XHRcdFByb3ZpZGVyOiBwcm92aWRlcixcbiAgICAzMlx0XHR9XG4gICAgMzNcdH1cbiAgICAzNFx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAzNFxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZGZhNzc0N2UtYzUwZC00N2Y4LTg3MGMtNDUwZTVlY2NjY2EwO3Rvb2x1X3ZydHhfMDE0OHVMZ2VvWmRpVWRneXF2NG5OeEVVIjp7InBoYXNlIjo4fSwiOTk5Mzg1YjMtZTc2ZS00ZjRmLWI3YTAtZjc3MjU3MTlhNGQ5O3Rvb2x1X3ZydHhfMDFMa29BY1NFRHpBeDdFTld5SkN0R0ozIjp7InBoYXNlIjo4LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IGhhbmRsZXIvaGFuZGxlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbnR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTeG7nWkgdGjDoG5oIHZpw6puIHbDoG8gbOG7m3AgaOG7jWNcblx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcblx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG5cdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBDaOG6pXAgbmjhuq1uIGzhu51pIG3hu51pXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG59XG5cbnR5cGUgaGFuZGxlckltcGwgc3RydWN0IHtcblx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG5cdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxufVxuXG50eXBlIEluamVjdCBzdHJ1Y3Qge1xuXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2Vcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2Vcblx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Vcblx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxuXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG5cdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG59XG5cbmZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcblx0cmV0dXJuICZoYW5kbGVySW1wbHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXG5cdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcblx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgaW5qZWN0Lkludml0ZU1lbWJlclVzZUNhc2UsXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIGluamVjdC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UsXG5cdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LkFjY2VwdEludml0YXRpb25Vc2VDYXNlLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICBpbmplY3QuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLFxuXHR9XG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuQ3JlYXRlQ2xhc3Nyb29tUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSByLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5DbGFzc3Jvb21FbnRpdHl7XG5cdFx0VXNlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0TmFtZTogICAgICB2YWx1ZS5HZXRWYWx1ZShib2R5Lk5hbWUsIFwiXCIpLFxuXHRcdEF2YXRhclVybDogdmFsdWUuR2V0VmFsdWUoYm9keS5BdmF0YXJVcmwsIFwiXCIpLFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IHNlcnZlci9yb3V0ZXIuZ29cbnBhY2thZ2Ugc2VydmVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmVcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcblxuZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xuXHRjbGFzc3Jvb21Hcm91cCA6PSBhcHAuR3JvdXAoXCIvY2xhc3Nyb29tXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvaW52aXRlXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycylcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG5cblx0aW52aXRhdGlvbkdyb3VwIDo9IGFwcC5Hcm91cChcIi9pbnZpdGF0aW9uXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0aW52aXRhdGlvbkdyb3VwLkdldChcIi9maWx0ZXJcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucylcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9yZWplY3QvOmlkXCIsIGhhbmRsZXIuUmVqZWN0SW52aXRhdGlvbilcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9hY2NlcHQvOmlkXCIsIGhhbmRsZXIuQWNjZXB0SW52aXRhdGlvbilcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgSW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuSW52aXRlTWVtYmVyUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSBoLkludml0ZU1lbWJlclVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e1xuXHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkNsYXNzcm9vbUlELCBcIlwiKSxcblx0XHRTZW5kZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdFJlY2VpdmVySUQ6ICB2YWx1ZS5HZXRWYWx1ZShib2R5LlJlY2VpdmVySUQsIFwiXCIpLFxuXHRcdFN0YXR1czogICAgICBlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIMSRYW5nIGNo4budIHjhu60gbMO9IGhv4bq3YyDEkcOjIMSRxrDhu6NjIGNo4bqlcCBuaOG6rW5cIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0YXRpb25zVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgY2xhc3Nyb29tX2lkIHThu6sgVVJMXG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHF1ZXJ5IHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLCBxdWVyeSlcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdGlmIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcikge1xuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0fVxuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cbi4uLlxuUGF0aDogc2VydmVyL3NlcnZlci5nb1xuLi4uXG5cdHJlcG9zaXRvcnkgOj0gcmVwb3NpdG9yeS5OZXcocHJvdmlkZXIpXG5cdGhhbmRsZXIgOj0gaGFuZGxlci5OZXcoJmhhbmRsZXIuSW5qZWN0e1xuXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICB1c2VjYXNlLk5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IHVzZWNhc2UuTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIHVzZWNhc2UuTmV3SW52aXRlTWVtYmVyVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIHVzZWNhc2UuTmV3UmVqZWN0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIHVzZWNhc2UuTmV3QWNjZXB0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHR9KVxuLi4uXG5QYXRoOiBoYW5kbGVyL2FjY2VwdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgQWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgSUQgY+G7p2EgaW52aXRhdGlvbiB04burIFVSTFxuXHRpbnZpdGF0aW9uSUQgOj0gYy5QYXJhbXMoXCJpZFwiKVxuXHRpZiBpbnZpdGF0aW9uSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJpZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuLi4uXG5QYXRoOiBtaWdyYXRlL21pZ3JhdGUuZ29cbnBhY2thZ2UgbWlncmF0ZVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxuZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuXHRwcm92aWRlciwgZXJyIDo9IHByb3ZpZGVyLkluaXQoc2VydmljZUNvbmZpZylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRpZiBlcnIgOj0gcHJvdmlkZXIuRGIuQXV0b01pZ3JhdGUoXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21FbnRpdHl7fSxcblx0XHQmZW50aXR5LkNsYXNzcm9vbU1lbWJlcnt9LFxuXHRcdCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9LFxuXHQpOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gbWlncmF0ZSBkYXRhYmFzZVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuXG5cdGxvZ2dlci5JbmZvKFwibWlncmF0ZSBkYXRhYmFzZSBzdWNjZXNzXCIpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvcmVqZWN0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBJRCBj4bunYSBpbnZpdGF0aW9uIHThu6sgVVJMXG5cdGludml0YXRpb25JRCA6PSBjLlBhcmFtcyhcImlkXCIpXG5cdGlmIGludml0YXRpb25JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImlkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tRW50aXR5IHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cblx0VXNlcklEICAgIHN0cmluZyBganNvbjpcInVzZXJfaWRcImBcblx0TmFtZSAgICAgIHN0cmluZyBganNvbjpcIm5hbWVcImBcblx0QXZhdGFyVXJsIHN0cmluZyBganNvbjpcImF2YXRhcl91cmxcImBcbn1cblxuZnVuYyAoYyAqQ2xhc3Nyb29tRW50aXR5KSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXNcIlxufVxuLi4uXG5QYXRoOiBlbnRpdHkvY2xhc3Nyb29tX21lbWJlci5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblxudHlwZSBDbGFzc3Jvb21NZW1iZXJSb2xlIHN0cmluZ1xuXG5jb25zdCAoXG5cdENsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyIENsYXNzcm9vbU1lbWJlclJvbGUgPSBcInRlYWNoZXJcIlxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJzdHVkZW50XCJcbilcblxudHlwZSBDbGFzc3Jvb21NZW1iZXIgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiIGdvcm06XCJ1bmlxdWVJbmRleDppZHhfY2xhc3Nyb29tX3VzZXJcImBcblx0VXNlcklEICAgICAgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcInVzZXJfaWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFJvbGUgICAgICAgIENsYXNzcm9vbU1lbWJlclJvbGUgYGpzb246XCJyb2xlXCJgXG5cdEludml0ZWRCeUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJpbnZpdGVkX2J5X2lkXCJgXG59XG5cbmZ1bmMgKGMgQ2xhc3Nyb29tTWVtYmVyKSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbV9tZW1iZXJzXCJcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcbilcblxudHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxuXHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxuXHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuXHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Jcblx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Jcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcblx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG59XG5cbmZ1bmMgTmV3KHByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlcikgUmVwb3NpdG9yeSB7XG5cdHJldHVybiAmcmVwb3NpdG9yeUltcGx7XG5cdFx0UHJvdmlkZXI6IHByb3ZpZGVyLFxuXHR9XG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnb3JtLmlvL2dvcm0vY2xhdXNlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yIHtcblx0Ly8gU+G7rSBk4bulbmcgY2xhdXNlLk9uQ29uZmxpY3QoKS5Eb05vdGhpbmcoKSDEkeG7gyB0csOhbmggbOG7l2kga2hpIHRow6ptIHRow6BuaCB2acOqbiDEkcOjIHThu5NuIHThuqFpXG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuXG5cdFx0Q2xhdXNlcyhjbGF1c2UuT25Db25mbGljdHtEb05vdGhpbmc6IHRydWV9KS5cblx0XHRDcmVhdGUobWVtYmVyKS5FcnJvclxufVxuLi4uXG5QYXRoOiBlbnRpdHkvaW52aXRhdGlvbi5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuXG50eXBlIEludml0YXRpb25TdGF0dXMgc3RyaW5nXG5cbmNvbnN0IChcblx0SW52aXRhdGlvblN0YXR1c1BlbmRpbmcgIEludml0YXRpb25TdGF0dXMgPSBcInBlbmRpbmdcIlxuXHRJbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwiYWNjZXB0ZWRcIlxuXHRJbnZpdGF0aW9uU3RhdHVzUmVqZWN0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwicmVqZWN0ZWRcIlxuKVxuXG50eXBlIEludml0YXRpb25FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiYFxuXHRTZW5kZXJJRCAgICBzdHJpbmcgICAgICAgICAgIGBqc29uOlwic2VuZGVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFJlY2VpdmVySUQgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJyZWNlaXZlcl9pZFwiIGdvcm06XCJpbmRleFwiYFxuXHRTdGF0dXMgICAgICBJbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgZ29ybTpcImluZGV4XCJgXG59XG5cbmZ1bmMgKEludml0YXRpb25FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7IHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uaW52aXRhdGlvbnNcIiB9XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2ludml0YXRpb24uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5DcmVhdGUoaW52aXRhdGlvbikuRXJyb3Jcbn0uLi5cblBhdGg6IG1vZGVsL3JlcS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVJlcXVlc3Qgc3RydWN0IHtcblx0TmFtZSAgICAgICpzdHJpbmcgYGpzb246XCJuYW1lXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxuXHRBdmF0YXJVcmwgKnN0cmluZyBganNvbjpcImF2YXRhcl91cmxcIiB2YWxpZGF0ZTpcInJlcXVpcmVkLHVybFwiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbU1lbWJlcnMgW11lbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWRcIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tTWVtYmVycykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tTWVtYmVyc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHF1ZXJ5IDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInJlY2VpdmVyX2lkID0gP1wiLCByZWNlaXZlcklEKVxuXG5cdC8vIEzhu41jIHRoZW8gc3RhdHVzIG7hur91IGPDs1xuXHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0cXVlcnkgPSBxdWVyeS5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdH1cblxuXHR2YXIgaW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gcXVlcnkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2dldF9pbnZpdGF0aW9uX2J5X2lkLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcikge1xuXHR2YXIgaW52aXRhdGlvbiBlbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiaWQgPSA/XCIsIGludml0YXRpb25JRCkuXG5cdFx0Rmlyc3QoJmludml0YXRpb24pLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gJmludml0YXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSByZXFcblxudHlwZSBJbnZpdGVNZW1iZXJSZXF1ZXN0IHN0cnVjdCB7XG5cdENsYXNzcm9vbUlEICpzdHJpbmcgYGpzb246XCJjbGFzc3Jvb21faWRcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdFJlY2VpdmVySUQgICpzdHJpbmcgYGpzb246XCJyZWNlaXZlcl9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdF8gXCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIHtcblx0cmV0dXJuICZjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKGMgKmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRpZiBlcnIgOj0gYy5SZXBvLkNyZWF0ZUNsYXNzcm9vbShjdHgsIGNsYXNzcm9vbSk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2xhc3Nyb29tXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvdXBkYXRlX2ludml0YXRpb25fc3RhdHVzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdE1vZGVsKCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9KS5cblx0XHRXaGVyZShcImlkID0gP1wiLCBpbnZpdGF0aW9uSUQpLlxuXHRcdFVwZC4uLiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImRjZDc1OTg5LWEwOTgtNGEwZi1hN2FiLWI4MjQ5ODVkNGExMTt0b29sdV92cnR4XzAxTGtvQWNTRUR6QXg3RU5XeUpDdEdKMyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBoYW5kbGVyL2hhbmRsZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG50eXBlIEhhbmRsZXIgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAvLyBM4buNYyB0aMOgbmggdmnDqm4gY+G7p2EgbOG7m3AgaOG7jWNcblx0SW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgIC8vIE3hu51pIHRow6BuaCB2acOqbiB2w6BvIGzhu5twIGjhu41jXG5cdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG5cdFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBU4burIGNo4buRaSBs4budaSBt4budaVxuXHRBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gQ2jhuqVwIG5o4bqtbiBs4budaSBt4budaVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxufVxuXG50eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Vcbn1cblxudHlwZSBJbmplY3Qgc3RydWN0IHtcblx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG5cdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxufVxuXG5mdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XG5cdHJldHVybiAmaGFuZGxlckltcGx7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiBpbmplY3QuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UsXG5cdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIGluamVjdC5JbnZpdGVNZW1iZXJVc2VDYXNlLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuUmVqZWN0SW52aXRhdGlvblVzZUNhc2UsXG5cdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcblx0fVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IHIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkNyZWF0ZUNsYXNzcm9vbVJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gci5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e1xuXHRcdFVzZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdE5hbWU6ICAgICAgdmFsdWUuR2V0VmFsdWUoYm9keS5OYW1lLCBcIlwiKSxcblx0XHRBdmF0YXJVcmw6IHZhbHVlLkdldFZhbHVlKGJvZHkuQXZhdGFyVXJsLCBcIlwiKSxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvcm91dGVyLmdvXG5wYWNrYWdlIHNlcnZlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbmZ1bmMgSW5pdFJvdXRlcihhcHAgKmZpYmVyLkFwcCwgaGFuZGxlciBoYW5kbGVyLkhhbmRsZXIpIHtcblx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvY3JlYXRlXCIsIGhhbmRsZXIuQ3JlYXRlQ2xhc3Nyb29tKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2ludml0ZVwiLCBoYW5kbGVyLkludml0ZU1lbWJlcilcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzKVxuXG5cdGludml0YXRpb25Hcm91cCA6PSBhcHAuR3JvdXAoXCIvaW52aXRhdGlvblwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGludml0YXRpb25Hcm91cC5HZXQoXCIvZmlsdGVyXCIsIGhhbmRsZXIuRmlsdGVySW52aXRhdGlvbnMpXG5cdGludml0YXRpb25Hcm91cC5QdXQoXCIvcmVqZWN0LzppZFwiLCBoYW5kbGVyLlJlamVjdEludml0YXRpb24pXG5cdGludml0YXRpb25Hcm91cC5QdXQoXCIvYWNjZXB0LzppZFwiLCBoYW5kbGVyLkFjY2VwdEludml0YXRpb24pXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkludml0ZU1lbWJlclJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gaC5JbnZpdGVNZW1iZXJVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXtcblx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoYm9keS5DbGFzc3Jvb21JRCwgXCJcIiksXG5cdFx0U2VuZGVySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHRSZWNlaXZlcklEOiAgdmFsdWUuR2V0VmFsdWUoYm9keS5SZWNlaXZlcklELCBcIlwiKSxcblx0XHRTdGF0dXM6ICAgICAgZW50aXR5Lkludml0YXRpb25TdGF0dXNQZW5kaW5nLFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvbik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcIm5nxrDhu51pIG5o4bqtbiDEkcOjIGPDsyBs4budaSBt4budaSDEkWFuZyBjaOG7nSB44butIGzDvSBob+G6t2MgxJHDoyDEkcaw4bujYyBjaOG6pXAgbmjhuq1uXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IGNsYXNzcm9vbV9pZCB04burIFVSTFxuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBxdWVyeSByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSwgcXVlcnkpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRpZiBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpIHtcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG4uLi5cblBhdGg6IHNlcnZlci9zZXJ2ZXIuZ29cbi4uLlxuXHRyZXBvc2l0b3J5IDo9IHJlcG9zaXRvcnkuTmV3KHByb3ZpZGVyKVxuXHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgdXNlY2FzZS5OZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICB1c2VjYXNlLk5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0fSlcbi4uLlxuUGF0aDogaGFuZGxlci9hY2NlcHRfaW52aXRhdGlvbi5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IElEIGPhu6dhIGludml0YXRpb24gdOG7qyBVUkxcblx0aW52aXRhdGlvbklEIDo9IGMuUGFyYW1zKFwiaWRcIilcblx0aWYgaW52aXRhdGlvbklEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiaWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cbi4uLlxuUGF0aDogbWlncmF0ZS9taWdyYXRlLmdvXG5wYWNrYWdlIG1pZ3JhdGVcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbmZ1bmMgUnVuKHNlcnZpY2VDb25maWcgKm1vZGVsLlNlcnZpY2VDb25maWcpIHtcblx0cHJvdmlkZXIsIGVyciA6PSBwcm92aWRlci5Jbml0KHNlcnZpY2VDb25maWcpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBpbml0IHByb3ZpZGVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG5cblx0aWYgZXJyIDo9IHByb3ZpZGVyLkRiLkF1dG9NaWdyYXRlKFxuXHRcdCZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e30sXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7fSxcblx0XHQmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSxcblx0KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIG1pZ3JhdGUgZGF0YWJhc2VcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRsb2dnZXIuSW5mbyhcIm1pZ3JhdGUgZGF0YWJhc2Ugc3VjY2Vzc1wiKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL3JlamVjdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgUmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgSUQgY+G7p2EgaW52aXRhdGlvbiB04burIFVSTFxuXHRpbnZpdGF0aW9uSUQgOj0gYy5QYXJhbXMoXCJpZFwiKVxuXHRpZiBpbnZpdGF0aW9uSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJpZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuLi4uXG5QYXRoOiBlbnRpdHkvY2xhc3Nyb29tLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXG50eXBlIENsYXNzcm9vbUVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXG5cdFVzZXJJRCAgICBzdHJpbmcgYGpzb246XCJ1c2VyX2lkXCJgXG5cdE5hbWUgICAgICBzdHJpbmcgYGpzb246XCJuYW1lXCJgXG5cdEF2YXRhclVybCBzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCJgXG59XG5cbmZ1bmMgKGMgKkNsYXNzcm9vbUVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21zXCJcbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyUm9sZSBzdHJpbmdcblxuY29uc3QgKFxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlciBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJ0ZWFjaGVyXCJcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwic3R1ZGVudFwiXG4pXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyIHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cdENsYXNzcm9vbUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJjbGFzc3Jvb21faWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFVzZXJJRCAgICAgIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJ1c2VyX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRSb2xlICAgICAgICBDbGFzc3Jvb21NZW1iZXJSb2xlIGBqc29uOlwicm9sZVwiYFxuXHRJbnZpdGVkQnlJRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiaW52aXRlZF9ieV9pZFwiYFxufVxuXG5mdW5jIChjIENsYXNzcm9vbU1lbWJlcikgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVyc1wiXG59XG4uLi5cblBhdGg6IGVudGl0eS9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvblN0YXR1cyBzdHJpbmdcblxuY29uc3QgKFxuXHRJbnZpdGF0aW9uU3RhdHVzUGVuZGluZyAgSW52aXRhdGlvblN0YXR1cyA9IFwicGVuZGluZ1wiXG5cdEludml0YXRpb25TdGF0dXNBY2NlcHRlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJhY2NlcHRlZFwiXG5cdEludml0YXRpb25TdGF0dXNSZWplY3RlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJyZWplY3RlZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvbkVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXHRDbGFzc3Jvb21JRCBzdHJpbmcgICAgICAgICAgIGBqc29uOlwiY2xhc3Nyb29tX2lkXCJgXG5cdFNlbmRlcklEICAgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJzZW5kZXJfaWRcIiBnb3JtOlwiaW5kZXhcImBcblx0UmVjZWl2ZXJJRCAgc3RyaW5nICAgICAgICAgICBganNvbjpcInJlY2VpdmVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFN0YXR1cyAgICAgIEludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBnb3JtOlwiaW5kZXhcImBcbn1cblxuZnVuYyAoSW52aXRhdGlvbkVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHsgcmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5pbnZpdGF0aW9uc1wiIH1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuVHJhbnNhY3Rpb24oZnVuYyh0eCAqZ29ybS5EQikgZXJyb3Ige1xuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoY2xhc3Nyb29tKS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZSgmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShjbGFzc3Jvb20uSUQsIFwiXCIpLFxuXHRcdFx0VXNlcklEOiAgICAgIGNsYXNzcm9vbS5Vc2VySUQsXG5cdFx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyLFxuXHRcdH0pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRyZXR1cm4gbmlsXG5cdH0pXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdvcm0uaW8vZ29ybS9jbGF1c2VcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Ige1xuXHQvLyBT4butIGThu6VuZyBjbGF1c2UuT25Db25mbGljdCgpLkRvTm90aGluZygpIMSR4buDIHRyw6FuaCBs4buXaSBraGkgdGjDqm0gdGjDoG5oIHZpw6puIMSRw6MgdOG7k24gdOG6oWlcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5cblx0XHRDbGF1c2VzKGNsYXVzZS5PbkNvbmZsaWN0e0RvTm90aGluZzogdHJ1ZX0pLlxuXHRcdENyZWF0ZShtZW1iZXIpLkVycm9yXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGF0aW9uc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgcmVxXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tUmVxdWVzdCBzdHJ1Y3Qge1xuXHROYW1lICAgICAgKnN0cmluZyBganNvbjpcIm5hbWVcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdEF2YXRhclVybCAqc3RyaW5nIGBqc29uOlwiYXZhdGFyX3VybFwiIHZhbGlkYXRlOlwicmVxdWlyZWQsdXJsXCJgXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tTWVtYmVycyBbXWVudGl0eS5DbGFzc3Jvb21NZW1iZXJcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZFwiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21NZW1iZXJzKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21NZW1iZXJzXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2ludml0YXRpb24uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5DcmVhdGUoaW52aXRhdGlvbikuRXJyb3Jcbn0uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L3VwZGF0ZV9pbnZpdGF0aW9uX3N0YXR1cy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgVXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRNb2RlbCgmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSkuXG5cdFx0V2hlcmUoXCJpZCA9ID9cIiwgaW52aXRhdGlvbklEKS5cblx0XHRVcGRhdGUoXCJzdGF0dXNcIiwgc3RhdHVzKS5cblx0XHRFcnJvclxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSByZXFcblxudHlwZSBJbnZpdGVNZW1iZXJSZXF1ZXN0IHN0cnVjdCB7XG5cdENsYXNzcm9vbUlEICpzdHJpbmcgYGpzb246XCJjbGFzc3Jvb21faWRcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdFJlY2VpdmVySUQgICpzdHJpbmcgYGpzb246XCJyZWNlaXZlcl9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHRxdWVyeSA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJyZWNlaXZlcl9pZCA9ID9cIiwgcmVjZWl2ZXJJRClcblxuXHQvLyBM4buNYyB0aGVvIHN0YXR1cyBu4bq/dSBjw7Ncblx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdHF1ZXJ5ID0gcXVlcnkuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHR9XG5cblx0dmFyIGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0aWYgZXJyIDo9IHF1ZXJ5LlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuLi4uXG5QYXRoOiB1c2VjYXNlL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XyBcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcbn1cblxudHlwZSBjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2Uge1xuXHRyZXR1cm4gJmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAoYyAqY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdGlmIGVyciA6PSBjLlJlcG8uQ3JlYXRlQ2xhc3Nyb29tKGN0eCwgY2xhc3Nyb29tKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb21cIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cdHJldHVybiBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9hY2NlcHRfaW52aXRhdGlvbi5nb1xuLi4uXG5cblx0aWYgZXJyIDo9IHUuUmVwby5DcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4LCAmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRDbGFzc3Jvb21JRDogaW52aXRhdGlvbi5DbGFzc3Jvb21JRCxcblx0XHRVc2VySUQ6ICAgICAgaW52aXRhdGlvbi5SZWNlaXZlcklELFxuXHRcdFJvbGU6ICAgICAgICBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQsXG5cdFx0SW52aXRlZEJ5SUQ6IGludml0YXRpb24uU2VuZGVySUQsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbSBtZW1iZXJcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0aWYgZXJyIDo9IHUuUmVwby5VcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCwgaW52aXRhdGlvbklELCBlbnRpdHkuSW52aXRhdGlvblN0YXR1c0FjY2VwdGVkKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIHVwZGF0ZSBpbnZpdGF0aW9uIHN0YXR1c1wiLCB6YXAuU3RyaW5nKFwiaW52aXRhdGlvbiBpZFwiLCBpbnZpdGF0aW9uSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xuLi4uXG5cbnR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcblx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Jcblx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZXtSZXBvOiByZXBvfVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2lzX2ludml0YXRpb25fZXhpc3RpbmcuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY291bnQgaW50NjRcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRNb2RlbCgmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/IEFORCByZWNlaXZlcl9pZCA9ID8gQU5EIHN0YXR1cyBJTiA/XCIsIGNsYXNzcm9vbUlELCByZWNlaXZlcklELCBbXWVudGl0eS5JbnZpdGF0aW9uU3RhdHVze2VudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZywgZW50aXR5Lkludml0YXRpb25TdGF0dXNBY2NlcHRlZH0pLlxuXHRcdENvdW50KCZjb3VudCkuXG5cdFx0RXJyb3I7IGVyciAhLi4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZGNkNzU5ODktYTA5OC00YTBmLWE3YWItYjgyNDk4NWQ0YTExO3Rvb2x1X3ZydHhfMDFYdUtVelV3dkZxY1NHWG5RVzQxUDZQIjp7InBoYXNlIjo4fX0sImRyYWZ0RXhjaGFuZ2UiOnsicmVxdWVzdF9tZXNzYWdlIjoiIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCJ9XX0sInN0YXR1cyI6ImRyYWZ0In0sImRyYWZ0QWN0aXZlQ29udGV4dElkcyI6WyIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbWZhbHNlZmFsc2UiLCJhZ2VudE1lbW9yaWVzIl0sInJlcXVlc3RJZHMiOltdLCJpc1Bpbm5lZCI6ZmFsc2UsImlzU2hhcmVhYmxlIjp0cnVlLCJleHRyYURhdGEiOnsiaXNBZ2VudENvbnZlcnNhdGlvbiI6dHJ1ZSwiaGFzQWdlbnRPbmJvYXJkZWQiOnRydWUsImhhc0RpcnR5RWRpdHMiOmZhbHNlfX0sImQ0NTVkZTFiLTYwZjgtNDQ3Ni04ZDZiLTllMDZiYjBhYWJkNSI6eyJpZCI6ImQ0NTVkZTFiLTYwZjgtNDQ3Ni04ZDZiLTllMDZiYjBhYWJkNSIsImNyZWF0ZWRBdElzbyI6IjIwMjUtMDQtMjFUMTY6MjE6MjUuNjc0WiIsImxhc3RJbnRlcmFjdGVkQXRJc28iOiIyMDI1LTA0LTIxVDE2OjI4OjA3LjIyNFoiLCJjaGF0SGlzdG9yeSI6W3sic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI0YTVjYzcxYi04MGUwLTRlYTEtOGJiOC0yOWQ0NWI2MTdhMjUiLCJyZXF1ZXN0X21lc3NhZ2UiOiJ04bqhbyBhcGkgbOG6pXkgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691dOG6oW8gYXBpIGzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJFhbmcgc+G7nyBo4buvdSIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJ04bqhbyBhcGkgbOG6pXkgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691dOG6oW8gYXBpIGzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJFhbmcgc+G7nyBo4buvdSJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxRUNTd2pVQmFIalhLd2FnZ05VSnJLeSIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiRmluZCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcHJvamVjdCBzdHJ1Y3R1cmUsIEFQSSByb3V0ZXMsIGNvbnRyb2xsZXJzLCBhbmQgbW9kZWxzIHJlbGF0ZWQgdG8gY2xhc3NlcyBvciBjbGFzc3Jvb21zLiBMb29rIGZvciBleGlzdGluZyBBUEkgZW5kcG9pbnRzIGFuZCBob3cgdGhleSdyZSBzdHJ1Y3R1cmVkLlwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSSdsbCBoZWxwIHlvdSBjcmVhdGUgYW4gQVBJIGVuZHBvaW50IHRvIHJldHJpZXZlIGEgbGlzdCBvZiBjbGFzc2VzIG93bmVkIGJ5IGEgdXNlci4gTGV0IG1lIGZpcnN0IGV4cGxvcmUgdGhlIGNvZGViYXNlIHRvIHVuZGVyc3RhbmQgdGhlIHN0cnVjdHVyZSBhbmQgaG93IHRvIGltcGxlbWVudCB0aGlzIGZlYXR1cmUgcHJvcGVybHkuXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjowLCJ0ZXh0X25vZGUiOnsiY29udGVudCI6InThuqFvIGFwaSBs4bqleSBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3V04bqhbyBhcGkgbOG6pXkgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiSSdsbCBoZWxwIHlvdSBjcmVhdGUgYW4gQVBJIGVuZHBvaW50IHRvIHJldHJpZXZlIGEgbGlzdCBvZiBjbGFzc2VzIG93bmVkIGJ5IGEgdXNlci4gTGV0IG1lIGZpcnN0IGV4cGxvcmUgdGhlIGNvZGViYXNlIHRvIHVuZGVyc3RhbmQgdGhlIHN0cnVjdHVyZSBhbmQgaG93IHRvIGltcGxlbWVudCB0aGlzIGZlYXR1cmUgcHJvcGVybHkuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiOGU0ZTNkNjgtMGFjZC00N2U2LTkxOTktMmVjYWExZDVhZDM4IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxSFlhV2ZNUW5CMXR0dlJzcDJzMjFrSyIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiRmluZCBpbmZvcm1hdGlvbiBhYm91dCBob3cgdG8gcXVlcnkgY2xhc3Nyb29tcyBvd25lZCBieSBhIHVzZXIuIExvb2sgZm9yIHJlcG9zaXRvcnkgbWV0aG9kcyB0aGF0IG1pZ2h0IHF1ZXJ5IGNsYXNzcm9vbXMgYnkgdXNlciBJRCBvciBhbnkgZXhpc3RpbmcgZnVuY3Rpb25hbGl0eSByZWxhdGVkIHRvIHJldHJpZXZpbmcgY2xhc3Nyb29tcyBieSBvd25lci5cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSBnYXRoZXIgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZGF0YWJhc2Ugc3RydWN0dXJlIGFuZCBhbnkgZXhpc3RpbmcgZnVuY3Rpb25hbGl0eSB0aGF0IG1pZ2h0IGJlIHJlbGF0ZWQgdG8gcmV0cmlldmluZyBvd25lZCBjbGFzc3Jvb21zLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc2VydmVyL3JvdXRlci5nb1xucGFja2FnZSBzZXJ2ZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2hhbmRsZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG5mdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG5cdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcIi9jbGFzc3Jvb21cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2NyZWF0ZVwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcblxuXHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2hhbmRsZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG50eXBlIEhhbmRsZXIgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAvLyBM4buNYyB0aMOgbmggdmnDqm4gY+G7p2EgbOG7m3AgaOG7jWNcblx0SW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgIC8vIE3hu51pIHRow6BuaCB2acOqbiB2w6BvIGzhu5twIGjhu41jXG5cdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG5cdFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBU4burIGNo4buRaSBs4budaSBt4budaVxuXHRBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gQ2jhuqVwIG5o4bqtbiBs4budaSBt4budaVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxufVxuXG50eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Vcbn1cblxudHlwZSBJbmplY3Qgc3RydWN0IHtcblx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG5cdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxufVxuXG5mdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XG5cdHJldHVybiAmaGFuZGxlckltcGx7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiBpbmplY3QuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UsXG5cdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIGluamVjdC5JbnZpdGVNZW1iZXJVc2VDYXNlLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuUmVqZWN0SW52aXRhdGlvblVzZUNhc2UsXG5cdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcblx0fVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBib2R5IHJlcS5DcmVhdGVDbGFzc3Jvb21SZXF1ZXN0XG5cblx0aWYgZXJyIDo9IGMuQm9keVBhcnNlcigmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHIuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5LkNsYXNzcm9vbUVudGl0eXtcblx0XHRVc2VySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHROYW1lOiAgICAgIHZhbHVlLkdldFZhbHVlKGJvZHkuTmFtZSwgXCJcIiksXG5cdFx0QXZhdGFyVXJsOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkF2YXRhclVybCwgXCJcIiksXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSByLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvc2VydmVyLmdvXG4uLi5cblx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcblx0aGFuZGxlciA6PSBoYW5kbGVyLk5ldygmaGFuZGxlci5JbmplY3R7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIHVzZWNhc2UuTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgdXNlY2FzZS5OZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICB1c2VjYXNlLk5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdH0pXG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tRW50aXR5IHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cblx0VXNlcklEICAgIHN0cmluZyBganNvbjpcInVzZXJfaWRcImBcblx0TmFtZSAgICAgIHN0cmluZyBganNvbjpcIm5hbWVcImBcblx0QXZhdGFyVXJsIHN0cmluZyBganNvbjpcImF2YXRhcl91cmxcImBcbn1cblxuZnVuYyAoYyAqQ2xhc3Nyb29tRW50aXR5KSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXNcIlxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXFcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21SZXF1ZXN0IHN0cnVjdCB7XG5cdE5hbWUgICAgICAqc3RyaW5nIGBqc29uOlwibmFtZVwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0QXZhdGFyVXJsICpzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCIgdmFsaWRhdGU6XCJyZXF1aXJlZCx1cmxcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuVHJhbnNhY3Rpb24oZnVuYyh0eCAqZ29ybS5EQikgZXJyb3Ige1xuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoY2xhc3Nyb29tKS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZSgmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShjbGFzc3Jvb20uSUQsIFwiXCIpLFxuXHRcdFx0VXNlcklEOiAgICAgIGNsYXNzcm9vbS5Vc2VySUQsXG5cdFx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyLFxuXHRcdH0pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRyZXR1cm4gbmlsXG5cdH0pXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRfIFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSB7XG5cdHJldHVybiAmY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jIChjICpjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0aWYgZXJyIDo9IGMuUmVwby5DcmVhdGVDbGFzc3Jvb20oY3R4LCBjbGFzc3Jvb20pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cbi4uLlxuXG50eXBlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG5cdENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG5cdElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcblx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcblx0RmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcblx0R2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpXG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xuLi4uXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgY2xhc3Nyb29tX2lkIHThu6sgVVJMXG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHF1ZXJ5IHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLCBxdWVyeSlcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdGlmIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcikge1xuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0fVxuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZXtSZXBvOiByZXBvfVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbU1lbWJlcnMgW11lbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWRcIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tTWVtYmVycykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tTWVtYmVyc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyUm9sZSBzdHJpbmdcblxuY29uc3QgKFxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlciBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJ0ZWFjaGVyXCJcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwic3R1ZGVudFwiXG4pXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyIHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cdENsYXNzcm9vbUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJjbGFzc3Jvb21faWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFVzZXJJRCAgICAgIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJ1c2VyX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRSb2xlICAgICAgICBDbGFzc3Jvb21NZW1iZXJSb2xlIGBqc29uOlwicm9sZVwiYFxuXHRJbnZpdGVkQnlJRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiaW52aXRlZF9ieV9pZFwiYFxufVxuXG5mdW5jIChjIENsYXNzcm9vbU1lbWJlcikgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVyc1wiXG59XG4uLi5cblBhdGg6IGVudGl0eS9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvblN0YXR1cyBzdHJpbmdcblxuY29uc3QgKFxuXHRJbnZpdGF0aW9uU3RhdHVzUGVuZGluZyAgSW52aXRhdGlvblN0YXR1cyA9IFwicGVuZGluZ1wiXG5cdEludml0YXRpb25TdGF0dXNBY2NlcHRlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJhY2NlcHRlZFwiXG5cdEludml0YXRpb25TdGF0dXNSZWplY3RlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJyZWplY3RlZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvbkVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXHRDbGFzc3Jvb21JRCBzdHJpbmcgICAgICAgICAgIGBqc29uOlwiY2xhc3Nyb29tX2lkXCJgXG5cdFNlbmRlcklEICAgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJzZW5kZXJfaWRcIiBnb3JtOlwiaW5kZXhcImBcblx0UmVjZWl2ZXJJRCAgc3RyaW5nICAgICAgICAgICBganNvbjpcInJlY2VpdmVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFN0YXR1cyAgICAgIEludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBnb3JtOlwiaW5kZXhcImBcbn1cblxuZnVuYyAoSW52aXRhdGlvbkVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHsgcmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5pbnZpdGF0aW9uc1wiIH1cbi4uLlxuUGF0aDogaGFuZGxlci9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgSW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuSW52aXRlTWVtYmVyUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSBoLkludml0ZU1lbWJlclVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e1xuXHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkNsYXNzcm9vbUlELCBcIlwiKSxcblx0XHRTZW5kZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdFJlY2VpdmVySUQ6ICB2YWx1ZS5HZXRWYWx1ZShib2R5LlJlY2VpdmVySUQsIFwiXCIpLFxuXHRcdFN0YXR1czogICAgICBlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIMSRYW5nIGNo4budIHjhu60gbMO9IGhv4bq3YyDEkcOjIMSRxrDhu6NjIGNo4bqlcCBuaOG6rW5cIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgSW52aXRlTWVtYmVyVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGludml0ZU1lbWJlclVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3SW52aXRlTWVtYmVyVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgSW52aXRlTWVtYmVyVXNlQ2FzZSB7XG5cdHJldHVybiAmaW52aXRlTWVtYmVyVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICppbnZpdGVNZW1iZXJVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Ige1xuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGNsYXNzcm9vbSBraMO0bmdcblx0aXNPd25lciwgZXJyIDo9IHUuUmVwby5Jc0NsYXNzcm9vbU93bmVyKGN0eCwgaW52aXRhdGlvbi5DbGFzc3Jvb21JRCwgaW52aXRhdGlvbi5TZW5kZXJJRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNoZWNrIGNsYXNzcm9vbSBvd25lclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRpZiAhaXNPd25lciB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lclxuXHR9XG5cblx0Ly8gS2nhu4NtIHRyYSB4ZW0gbmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIG7DoG8gxJFhbmcg4bufIHRy4bqhbmcgdGjDoWkgcGVuZGluZyBob+G6t2MgYWNjZXB0ZWQgY2jGsGFcblx0ZXhpc3RzLCBlcnIgOj0gdS5SZXBvLklzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCwgaW52aXRhdGlvbi5DbGFzc3Jvb21JRCwgaW52aXRhdGlvbi5SZWNlaXZlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgZXhpc3RpbmcgaW52aXRhdGlvblwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRpZiBleGlzdHMge1xuXHRcdHJldHVybiBxZXJyb3IuRXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvblxuXHR9XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdvcm0uaW8vZ29ybS9jbGF1c2VcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Ige1xuXHQvLyBT4butIGThu6VuZyBjbGF1c2UuT25Db25mbGljdCgpLkRvTm90aGluZygpIMSR4buDIHRyw6FuaCBs4buXaSBraGkgdGjDqm0gdGjDoG5oIHZpw6puIMSRw6MgdOG7k24gdOG6oWlcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5cblx0XHRDbGF1c2VzKGNsYXVzZS5PbkNvbmZsaWN0e0RvTm90aGluZzogdHJ1ZX0pLlxuXHRcdENyZWF0ZShtZW1iZXIpLkVycm9yXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGF0aW9uc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0YXRpb25zVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2ludml0YXRpb24uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5DcmVhdGUoaW52aXRhdGlvbikuRXJyb3Jcbn0uLi5cblBhdGg6IHVzZWNhc2UvYWNjZXB0X2ludml0YXRpb24uZ29cbi4uLlxuXG5cdGlmIGVyciA6PSB1LlJlcG8uQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCwgJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0Q2xhc3Nyb29tSUQ6IGludml0YXRpb24uQ2xhc3Nyb29tSUQsXG5cdFx0VXNlcklEOiAgICAgIGludml0YXRpb24uUmVjZWl2ZXJJRCxcblx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50LFxuXHRcdEludml0ZWRCeUlEOiBpbnZpdGF0aW9uLlNlbmRlcklELFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb20gbWVtYmVyXCIsIHphcC5TdHJpbmcoXCJpbnZpdGF0aW9uIGlkXCIsIGludml0YXRpb25JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmIGVyciA6PSB1LlJlcG8uVXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHgsIGludml0YXRpb25JRCwgZW50aXR5Lkludml0YXRpb25TdGF0dXNBY2NlcHRlZCk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byB1cGRhdGUgaW52aXRhdGlvbiBzdGF0dXNcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2FjY2VwdF9pbnZpdGF0aW9uLmdvXG4uLi5cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdGlmIGVyciA6PSBoLkFjY2VwdEludml0YXRpb25Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGludml0YXRpb25JRCwgdXNlcklEKTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBnb3JtLkVyclJlY29yZE5vdEZvdW5kKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwia2jDtG5nIHTDrG0gdGjhuqV5IGzhu51pIG3hu51pXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdEludml0YXRpb25SZWNlaXZlcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBuw6B5XCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyckludml0YXRpb25Ob3RQZW5kaW5nKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibOG7nWkgbeG7nWkga2jDtG5nIOG7nyB0cuG6oW5nIHRow6FpIGNo4budIHjhu60gbMO9XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvaXNfaW52aXRhdGlvbl9leGlzdGluZy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgSXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKSB7XG5cdHZhciBjb3VudCBpbnQ2NFxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdE1vZGVsKCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZCA9ID8gQU5EIHJlY2VpdmVyX2lkID0gPyBBTkQgc3RhdHVzIElOID9cIiwgY2xhc3Nyb29tSUQsIHJlY2VpdmVySUQsIFtdZW50aXR5Lkludml0YXRpb25TdGF0dXN7ZW50aXR5Lkludml0YXRpb25TdGF0dXNQZW5kaW5nLCBlbnRpdHkuSW52aXRhdGlvblN0YXR1c0FjY2VwdGVkfSkuXG5cdFx0Q291bnQoJmNvdW50KS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIGZhbHNlLCBlcnJcblx0fVxuXHRyZXR1cm4gY291bnQgPiAwLCBuaWxcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9yZWplY3RfaW52aXRhdGlvbi5nb1xuLi4uXG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRpZiBlcnIgOj0gaC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBpbnZpdGF0aW9uSUQsIHVzZXJJRCk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgaGFuZGxlIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIGdvcm0uRXJyUmVjb3JkTm90Rm91bmQpOlxuXHRcdFx0cmV0dXJuIHJlcy5Ob3RGb3VuZChjLCBlcnJvcnMuTmV3KFwia2jDtG5nIHTDrG0gdGjhuqV5IGzhu51pIG3hu51pXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdEludml0YXRpb25SZWNlaXZlcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBuw6B5XCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyckludml0YXRpb25Ob3RQZW5kaW5nKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibOG7nWkgbeG7nWkga2jDtG5nIOG7nyB0cuG6oW5nIHRow6FpIGNo4budIHjhu60gbMO9XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIEludml0ZU1lbWJlclJlcXVlc3Qgc3RydWN0IHtcblx0Q2xhc3Nyb29tSUQgKnN0cmluZyBganNvbjpcImNsYXNzcm9vbV9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0UmVjZWl2ZXJJRCAgKnN0cmluZyBganNvbjpcInJlY2VpdmVyX2lkXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xuLi4uXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uLi4uIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxRUNTd2pVQmFIalhLd2FnZ05VSnJLeSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkxldCBtZSBnYXRoZXIgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZGF0YWJhc2Ugc3RydWN0dXJlIGFuZCBhbnkgZXhpc3RpbmcgZnVuY3Rpb25hbGl0eSB0aGF0IG1pZ2h0IGJlIHJlbGF0ZWQgdG8gcmV0cmlldmluZyBvd25lZCBjbGFzc3Jvb21zLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjMwMDQyMzNhLWViYjYtNGNiOC1hNmQzLTc3ZWYyMmM2MmY5YyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMThZaTVQMlF2OFhyRnM3TU1KanJidngiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwibW9kZWwvcmVxL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJCYXNlZCBvbiBteSBleHBsb3JhdGlvbiBvZiB0aGUgY29kZWJhc2UsIEkgbm93IGhhdmUgYSBnb29kIHVuZGVyc3RhbmRpbmcgb2YgdGhlIHByb2plY3Qgc3RydWN0dXJlIGFuZCBob3cgdG8gaW1wbGVtZW50IHRoZSBBUEkgZW5kcG9pbnQgdG8gcmV0cmlldmUgY2xhc3Nyb29tcyBvd25lZCBieSBhIHVzZXIuIExldCBtZSBjcmVhdGUgYSBkZXRhaWxlZCBwbGFuIGZvciBpbXBsZW1lbnRpbmcgdGhpcyBmZWF0dXJlLlxuXG4jIyBQbGFuIGZvciBDcmVhdGluZyBBUEkgdG8gUmV0cmlldmUgT3duZWQgQ2xhc3Nyb29tc1xuXG4xLiAqKkNyZWF0ZSBhIG5ldyByZXF1ZXN0IG1vZGVsKio6XG4gICAtIFdlIGFscmVhZHkgaGF2ZSBgbW9kZWwvcmVxL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvYCB3aXRoIGEgYEZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcWAgc3RydWN0IHRoYXQgZXh0ZW5kcyBgUGFnaW5hdGlvblJlcWBcblxuMi4gKipDcmVhdGUgYSBuZXcgcmVwb3NpdG9yeSBtZXRob2QqKjpcbiAgIC0gQWRkIGEgYEZpbHRlck93bmVkQ2xhc3Nyb29tc2AgbWV0aG9kIHRvIHRoZSBgUmVwb3NpdG9yeWAgaW50ZXJmYWNlIGluIGByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29gXG4gICAtIEltcGxlbWVudCB0aGUgbWV0aG9kIGluIGEgbmV3IGZpbGUgYHJlcG9zaXRvcnkvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29gXG5cbjMuICoqQ3JlYXRlIGEgbmV3IHVzZSBjYXNlKio6XG4gICAtIENyZWF0ZSBhIGBGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlYCBpbnRlcmZhY2UgaW4gYSBuZXcgZmlsZSBgdXNlY2FzZS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb2BcbiAgIC0gSW1wbGVtZW50IHRoZSB1c2UgY2FzZSB0byBjYWxsIHRoZSByZXBvc2l0b3J5IG1ldGhvZFxuXG40LiAqKkFkZCB0aGUgaGFuZGxlciBtZXRob2QqKjpcbiAgIC0gQWRkIGEgYEZpbHRlck93bmVkQ2xhc3Nyb29tc2AgbWV0aG9kIHRvIHRoZSBgSGFuZGxlcmAgaW50ZXJmYWNlIGluIGBoYW5kbGVyL2hhbmRsZXIuZ29gXG4gICAtIEltcGxlbWVudCB0aGUgaGFuZGxlciBpbiBhIG5ldyBmaWxlIGBoYW5kbGVyL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvYFxuXG41LiAqKlVwZGF0ZSB0aGUgcm91dGVyKio6XG4gICAtIEFkZCBhIG5ldyByb3V0ZSBpbiBgc2VydmVyL3JvdXRlci5nb2AgdG8gbWFwIHRoZSBlbmRwb2ludCB0byB0aGUgaGFuZGxlclxuXG42LiAqKlVwZGF0ZSB0aGUgZGVwZW5kZW5jeSBpbmplY3Rpb24qKjpcbiAgIC0gVXBkYXRlIHRoZSBgSW5qZWN0YCBzdHJ1Y3QgaW4gYGhhbmRsZXIvaGFuZGxlci5nb2BcbiAgIC0gVXBkYXRlIHRoZSBkZXBlbmRlbmN5IGluamVjdGlvbiBpbiBgc2VydmVyL3NlcnZlci5nb2BcblxuTGV0J3Mgc3RhcnQgaW1wbGVtZW50aW5nIHRoZXNlIGNoYW5nZXM6XG5cbiMjIyAxLiBGaXJzdCwgbGV0J3MgY2hlY2sgaWYgdGhlIHJlcXVlc3QgbW9kZWwgZXhpc3RzIGFuZCBjcmVhdGUgaXQgaWYgbmVlZGVkXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiByZXBvc2l0b3J5L2lzX2NsYXNzcm9vbV9vd25lci5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgSXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY2xhc3Nyb29tIGVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImlkID0gPyBBTkQgdXNlcl9pZCA9ID9cIiwgY2xhc3Nyb29tSUQsIHVzZXJJRCkuXG5cdFx0Rmlyc3QoJmNsYXNzcm9vbSkuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdC8vIE7hur91IGtow7RuZyB0w6xtIHRo4bqleSBi4bqjbiBnaGksIGPDsyBuZ2jEqWEgbMOgIG5nxrDhu51pIGTDuW5nIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3Vcblx0XHRyZXR1cm4gZmFsc2UsIG5pbFxuXHR9XG5cdHJldHVybiB0cnVlLCBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGNsYXNzcm9vbSBraMO0bmdcblx0aXNPd25lciwgZXJyIDo9IHUuUmVwby5Jc0NsYXNzcm9vbU93bmVyKGN0eCwgY2xhc3Nyb29tSUQsIHVzZXJJRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNoZWNrIGNsYXNzcm9vbSBvd25lclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdGlmICFpc093bmVyIHtcblx0XHRyZXR1cm4gbmlsLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXJcblx0fVxuXG5cdC8vIEzhuqV5IGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgbeG7nWlcblx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckludml0ZWRNZW1iZXJzKGN0eCwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBpbnZpdGVkIG1lbWJlcnNcIiwgemFwLlN0cmluZyhcImNsYXNzcm9vbSBpZFwiLCBjbGFzc3Jvb21JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xuLi4uXG5cbnR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcblx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Jcblx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcblx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXG5cdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIHJlcG9zaXRvcnlJbXBsIHN0cnVjdCB7XG5cdFByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlclxufVxuXG5mdW5jIE5ldyhwcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXIpIFJlcG9zaXRvcnkge1xuXHRyZXR1cm4gJnJlcG9zaXRvcnlJbXBse1xuXHRcdFByb3ZpZGVyOiBwcm92aWRlcixcblx0fVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IHIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tTWVtYmVycyBbXWVudGl0eS5DbGFzc3Jvb21NZW1iZXJcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZFwiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21NZW1iZXJzKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21NZW1iZXJzXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2V7UmVwbzogcmVwb31cbn1cblxuZnVuYyAoZiAqZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IGYuUmVwby5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBjbGFzc3Jvb20gbWVtYmVyc1wiLCB6YXAuU3RyaW5nKFwiY2xhc3Nyb29tIGlkXCIsIGNsYXNzcm9vbUlEKSwgemFwLkVycm9yKChlcnIpKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuVHJhbnNhY3Rpb24oZnVuYyh0eCAqZ29ybS5EQikgZXJyb3Ige1xuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoY2xhc3Nyb29tKS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZSgmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShjbGFzc3Jvb20uSUQsIFwiXCIpLFxuXHRcdFx0VXNlcklEOiAgICAgIGNsYXNzcm9vbS5Vc2VySUQsXG5cdFx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyLFxuXHRcdH0pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRyZXR1cm4gbmlsXG5cdH0pXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRnb3JtMiBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgKFxuXHRcdHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHRcdH1cblx0XHRpbnZpdGF0aW9ucyBbXWVudGl0eS5JbnZpdGF0aW9uRW50aXR5XG5cdClcblxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkID0gP1wiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGZ1bmMoZGIgKmdvcm0uREIpICpnb3JtLkRCIHtcblx0XHRcdGlmIHBhcmFtcy5TdGF0dXMgIT0gbmlsIHtcblx0XHRcdFx0cmV0dXJuIGRiLldoZXJlKFwic3RhdHVzID0gP1wiLCAqcGFyYW1zLlN0YXR1cylcblx0XHRcdH1cblx0XHRcdHJldHVybiBkYlxuXHRcdH0sIGdvcm0yLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGludml0YXRpb25zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgY2xhc3Nyb29tX2lkIHThu6sgVVJMXG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHF1ZXJ5IHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLCBxdWVyeSlcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdGlmIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcikge1xuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0fVxuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9pc19pbnZpdGF0aW9uX2V4aXN0aW5nLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpIHtcblx0dmFyIGNvdW50IGludDY0XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0TW9kZWwoJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e30pLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkID0gPyBBTkQgcmVjZWl2ZXJfaWQgPSA/IEFORCBzdGF0dXMgSU4gP1wiLCBjbGFzc3Jvb21JRCwgcmVjZWl2ZXJJRCwgW11lbnRpdHkuSW52aXRhdGlvblN0YXR1c3tlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWR9KS5cblx0XHRDb3VudCgmY291bnQpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gZmFsc2UsIGVyclxuXHR9XG5cdHJldHVybiBjb3VudCA+IDAsIG5pbFxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvcm91dGVyLmdvXG4uLi5cblxuZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xuXHRjbGFzc3Jvb21Hcm91cCA6PSBhcHAuR3JvdXAoXCIvY2xhc3Nyb29tXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvaW52aXRlXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycylcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG5cblx0aW52aXRhdGlvbkdyb3VwIDo9IGFwcC5Hcm91cChcIi9pbnZpdGF0aW9uXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0aW52aXRhdGlvbkdyb3VwLkdldChcIi9maWx0ZXJcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucylcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9yZWplY3QvOmlkXCIsIGhhbmRsZXIuUmVqZWN0SW52aXRhdGlvbilcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9hY2NlcHQvOmlkXCIsIGhhbmRsZXIuQWNjZXB0SW52aXRhdGlvbilcbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbS5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblxudHlwZSBDbGFzc3Jvb21FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblxuXHRVc2VySUQgICAgc3RyaW5nIGBqc29uOlwidXNlcl9pZFwiYFxuXHROYW1lICAgICAgc3RyaW5nIGBqc29uOlwibmFtZVwiYFxuXHRBdmF0YXJVcmwgc3RyaW5nIGBqc29uOlwiYXZhdGFyX3VybFwiYFxufVxuXG5mdW5jIChjICpDbGFzc3Jvb21FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7XG5cdHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tc1wiXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0YXRpb25zVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHlde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcImNyZWF0ZWRfYXQgREVTQ1wiKSwgLy8gTeG6t2MgxJHhu4tuaCBz4bqvcCB44bq/cCB0aGVvIG5nw6B5IHThuqFvIG3hu5tpIG5o4bqldFxuXHR9XG5cblx0cXVlcnkgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwicmVjZWl2ZXJfaWQgPSA/XCIsIHJlY2VpdmVySUQpXG5cblx0Ly8gTOG7jWMgdGhlbyBzdGF0dXMgbuG6v3UgY8OzXG5cdGlmIHBhcmFtcy5TdGF0dXMgIT0gbmlsIHtcblx0XHRxdWVyeSA9IHF1ZXJ5LldoZXJlKFwic3RhdHVzID0gP1wiLCAqcGFyYW1zLlN0YXR1cylcblx0fVxuXG5cdHZhciBpbnZpdGF0aW9ucyBbXWVudGl0eS5JbnZpdGF0aW9uRW50aXR5XG5cdGlmIGVyciA6PSBxdWVyeS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmludml0YXRpb25zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cbi4uLlxuUGF0aDogaGFuZGxlci9oYW5kbGVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcblxudHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAvLyBU4bqhbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTOG7jWMgdGjDoG5oIHZpw6puIGPhu6dhIGzhu5twIGjhu41jXG5cdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4budaSBt4budaVxuXHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gVOG7qyBjaOG7kWkgbOG7nWkgbeG7nWlcblx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIEzhu41jIGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgxJHGsOG7o2MgbeG7nWlcbn1cblxudHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xuXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2Vcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2Vcblx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Vcblx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxuXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG5cdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG59XG5cbnR5cGUgSW5qZWN0IHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Vcbn1cblxuZnVuYyBOZXcoaW5qZWN0ICpJbmplY3QpIEhhbmRsZXIge1xuXHRyZXR1cm4gJmhhbmRsZXJJbXBse1xuXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICBpbmplY3QuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSxcblx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogaW5qZWN0LkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLFxuXHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICBpbmplY3QuSW52aXRlTWVtYmVyVXNlQ2FzZSxcblx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgaW5qZWN0LkZpbHRlckludml0YXRpb25zVXNlQ2FzZSxcblx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LlJlamVjdEludml0YXRpb25Vc2VDYXNlLFxuXHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuQWNjZXB0SW52aXRhdGlvblVzZUNhc2UsXG5cdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIGluamVjdC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UsXG5cdH1cbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckludml0YXRpb25zVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRhdGlvbnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVySW52aXRhdGlvbnNVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJJbnZpdGF0aW9ucyhjdHgsIHJlY2VpdmVySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBpbnZpdGF0aW9uc1wiLCB6YXAuU3RyaW5nKFwicmVjZWl2ZXIgaWRcIiwgcmVjZWl2ZXJJRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XyBcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcbn1cblxudHlwZSBjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2Uge1xuXHRyZXR1cm4gJmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAoYyAqY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdGlmIGVyciA6PSBjLlJlcG8uQ3JlYXRlQ2xhc3Nyb29tKGN0eCwgY2xhc3Nyb29tKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb21cIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cdHJldHVybiBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgSW52aXRlTWVtYmVyVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGludml0ZU1lbWJlclVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3SW52aXRlTWVtYmVyVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgSW52aXRlTWVtYmVyVXNlQ2FzZSB7XG5cdHJldHVybiAmaW52aXRlTWVtYmVyVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICppbnZpdGVNZW1iZXJVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Ige1xuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGNsYXNzcm9vbSBraMO0bmdcblx0aXNPd25lciwgZXJyIDo9IHUuUmVwby5Jc0NsYXNzcm9vbU93bmVyKGN0eCwgaW52aXRhdGlvbi5DbGFzc3Jvb21JRCwgaW52aXRhdGlvbi5TZW5kZXJJRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNoZWNrIGNsYXNzcm9vbSBvd25lclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRpZiAhaXNPd25lciB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lclxuXHR9XG5cblx0Ly8gS2nhu4NtIHRyYSB4ZW0gbmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIG7DoG8gxJFhbmcg4bufIHRy4bqhbmcgdGjDoWkgcGVuZGluZyBob+G6t2MgYWNjZXB0ZWQgY2jGsGFcblx0ZXhpc3RzLCBlcnIgOj0gdS5SZXBvLklzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCwgaW52aXRhdGlvbi5DbGFzc3Jvb21JRCwgaW52aXRhdGlvbi5SZWNlaXZlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgZXhpc3RpbmcgaW52aXRhdGlvblwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRpZiBleGlzdHMge1xuXHRcdHJldHVybiBxZXJyb3IuRXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvblxuXHR9XG4uLi5cblBhdGg6IGhhbmRsZXIvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkNyZWF0ZUNsYXNzcm9vbVJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gci5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e1xuXHRcdFVzZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdE5hbWU6ICAgICAgdmFsdWUuR2V0VmFsdWUoYm9keS5OYW1lLCBcIlwiKSxcblx0XHRBdmF0YXJVcmw6IHZhbHVlLkdldFZhbHVlKGJvZHkuQXZhdGFyVXJsLCBcIlwiKSxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ludml0ZV9tZW1iZXIuZ29cbi4uLlxuXG5cdGlmIGVyciA6PSBoLkludml0ZU1lbWJlclVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e1xuXHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkNsYXNzcm9vbUlELCBcIlwiKSxcblx0XHRTZW5kZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdFJlY2VpdmVySUQ6ICB2YWx1ZS5HZXRWYWx1ZShib2R5LlJlY2VpdmVySUQsIFwiXCIpLFxuXHRcdFN0YXR1czogICAgICBlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIMSRYW5nIGNo4budIHjhu60gbMO9IGhv4bq3YyDEkcOjIMSRxrDhu6NjIGNo4bqlcCBuaOG6rW5cIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9hY2NlcHRfaW52aXRhdGlvbi5nb1xuLi4uXG5cblx0aWYgZXJyIDo9IHUuUmVwby5DcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4LCAmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRDbGFzc3Jvb21JRDogaW52aXRhdGlvbi5DbGFzc3Jvb21JRCxcblx0XHRVc2VySUQ6ICAgICAgaW52aXRhdGlvbi5SZWNlaXZlcklELFxuXHRcdFJvbGU6ICAgICAgICBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQsXG5cdFx0SW52aXRlZEJ5SUQ6IGludml0YXRpb24uU2VuZGVySUQsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbSBtZW1iZXJcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyci4uLiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUhZYVdmTVFuQjF0dHZSc3AyczIxa0sifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJCYXNlZCBvbiBteSBleHBsb3JhdGlvbiBvZiB0aGUgY29kZWJhc2UsIEkgbm93IGhhdmUgYSBnb29kIHVuZGVyc3RhbmRpbmcgb2YgdGhlIHByb2plY3Qgc3RydWN0dXJlIGFuZCBob3cgdG8gaW1wbGVtZW50IHRoZSBBUEkgZW5kcG9pbnQgdG8gcmV0cmlldmUgY2xhc3Nyb29tcyBvd25lZCBieSBhIHVzZXIuIExldCBtZSBjcmVhdGUgYSBkZXRhaWxlZCBwbGFuIGZvciBpbXBsZW1lbnRpbmcgdGhpcyBmZWF0dXJlLlxuXG4jIyBQbGFuIGZvciBDcmVhdGluZyBBUEkgdG8gUmV0cmlldmUgT3duZWQgQ2xhc3Nyb29tc1xuXG4xLiAqKkNyZWF0ZSBhIG5ldyByZXF1ZXN0IG1vZGVsKio6XG4gICAtIFdlIGFscmVhZHkgaGF2ZSBgbW9kZWwvcmVxL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvYCB3aXRoIGEgYEZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcWAgc3RydWN0IHRoYXQgZXh0ZW5kcyBgUGFnaW5hdGlvblJlcWBcblxuMi4gKipDcmVhdGUgYSBuZXcgcmVwb3NpdG9yeSBtZXRob2QqKjpcbiAgIC0gQWRkIGEgYEZpbHRlck93bmVkQ2xhc3Nyb29tc2AgbWV0aG9kIHRvIHRoZSBgUmVwb3NpdG9yeWAgaW50ZXJmYWNlIGluIGByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29gXG4gICAtIEltcGxlbWVudCB0aGUgbWV0aG9kIGluIGEgbmV3IGZpbGUgYHJlcG9zaXRvcnkvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29gXG5cbjMuICoqQ3JlYXRlIGEgbmV3IHVzZSBjYXNlKio6XG4gICAtIENyZWF0ZSBhIGBGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlYCBpbnRlcmZhY2UgaW4gYSBuZXcgZmlsZSBgdXNlY2FzZS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb2BcbiAgIC0gSW1wbGVtZW50IHRoZSB1c2UgY2FzZSB0byBjYWxsIHRoZSByZXBvc2l0b3J5IG1ldGhvZFxuXG40LiAqKkFkZCB0aGUgaGFuZGxlciBtZXRob2QqKjpcbiAgIC0gQWRkIGEgYEZpbHRlck93bmVkQ2xhc3Nyb29tc2AgbWV0aG9kIHRvIHRoZSBgSGFuZGxlcmAgaW50ZXJmYWNlIGluIGBoYW5kbGVyL2hhbmRsZXIuZ29gXG4gICAtIEltcGxlbWVudCB0aGUgaGFuZGxlciBpbiBhIG5ldyBmaWxlIGBoYW5kbGVyL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvYFxuXG41LiAqKlVwZGF0ZSB0aGUgcm91dGVyKio6XG4gICAtIEFkZCBhIG5ldyByb3V0ZSBpbiBgc2VydmVyL3JvdXRlci5nb2AgdG8gbWFwIHRoZSBlbmRwb2ludCB0byB0aGUgaGFuZGxlclxuXG42LiAqKlVwZGF0ZSB0aGUgZGVwZW5kZW5jeSBpbmplY3Rpb24qKjpcbiAgIC0gVXBkYXRlIHRoZSBgSW5qZWN0YCBzdHJ1Y3QgaW4gYGhhbmRsZXIvaGFuZGxlci5nb2BcbiAgIC0gVXBkYXRlIHRoZSBkZXBlbmRlbmN5IGluamVjdGlvbiBpbiBgc2VydmVyL3NlcnZlci5nb2BcblxuTGV0J3Mgc3RhcnQgaW1wbGVtZW50aW5nIHRoZXNlIGNoYW5nZXM6XG5cbiMjIyAxLiBGaXJzdCwgbGV0J3MgY2hlY2sgaWYgdGhlIHJlcXVlc3QgbW9kZWwgZXhpc3RzIGFuZCBjcmVhdGUgaXQgaWYgbmVlZGVkXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMWRlYjZjNjMtMzA5ZC00NjhkLTg3MjYtNjZlY2FjZjgyOGVjIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxM2p0RW16QnZpRWFLVVpIWjhwTmJ0ViIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiU2hvdyBtZSB0aGUgZnVsbCBjb250ZW50IG9mIHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nbyB0byBzZWUgdGhlIFJlcG9zaXRvcnkgaW50ZXJmYWNlXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJHcmVhdCEgVGhlIHJlcXVlc3QgbW9kZWwgYWxyZWFkeSBleGlzdHMuIE5vdyBsZXQncyBpbXBsZW1lbnQgdGhlIHJlcG9zaXRvcnkgbWV0aG9kLlxuXG4jIyMgMi4gQWRkIHRoZSByZXBvc2l0b3J5IG1ldGhvZCB0byB0aGUgaW50ZXJmYWNlIGFuZCBpbXBsZW1lbnQgaXRcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gbW9kZWwvcmVxL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvOlxuICAgICAxXHRwYWNrYWdlIHJlcVxuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbiAgICAgNFx0XG4gICAgIDVcdHR5cGUgRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxIHN0cnVjdCB7XG4gICAgIDZcdFx0cmVxLlBhZ2luYXRpb25SZXFcbiAgICAgN1x0fVxuICAgICA4XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDhcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMThZaTVQMlF2OFhyRnM3TU1KanJidngifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJHcmVhdCEgVGhlIHJlcXVlc3QgbW9kZWwgYWxyZWFkeSBleGlzdHMuIE5vdyBsZXQncyBpbXBsZW1lbnQgdGhlIHJlcG9zaXRvcnkgbWV0aG9kLlxuXG4jIyMgMi4gQWRkIHRoZSByZXBvc2l0b3J5IG1ldGhvZCB0byB0aGUgaW50ZXJmYWNlIGFuZCBpbXBsZW1lbnQgaXRcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIyMTI5MzQwZC1kMzYzLTQzY2YtOTFjNy00OGJjZTQ5ODI3YjUiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE4MWlHRnVQQmdzcmJWNWVQaTN2NzNkIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJyZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwidHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XFxuXFx0Q3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3JcXG5cXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcXG5cXHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxcblxcdElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcXG5cXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxcblxcdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXFxuXFx0R2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpXFxuXFx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXFxuXFx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3JcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcXG59XCIsIFwibmV3X3N0clwiOiBcInR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xcblxcdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXFxuXFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXFxuXFx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3JcXG5cXHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXFxuXFx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcXG5cXHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxcblxcdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxcblxcdFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvclxcblxcdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXFxuXFx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXFxuXFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcXG59XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAxMSwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAyMX1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IEknbGwgaW1wbGVtZW50IHRoZSBuZWNlc3NhcnkgZmlsZXMgZm9yIHRoZSBBUEkgZW5kcG9pbnQgdG8gcmV0cmlldmUgb3duZWQgY2xhc3Nyb29tcy5cblxuIyMjIDEuIEZpcnN0LCBsZXQncyB1cGRhdGUgdGhlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHRvIGFkZCB0aGUgbmV3IG1ldGhvZFxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcbilcblxudHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxuXHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxuXHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuXHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Jcblx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Jcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcblx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG59XG5cbmZ1bmMgTmV3KHByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlcikgUmVwb3NpdG9yeSB7XG5cdHJldHVybiAmcmVwb3NpdG9yeUltcGx7XG5cdFx0UHJvdmlkZXI6IHByb3ZpZGVyLFxuXHR9XG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2ludml0YXRpb24uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5DcmVhdGUoaW52aXRhdGlvbikuRXJyb3Jcbn0uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHlde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcImNyZWF0ZWRfYXQgREVTQ1wiKSwgLy8gTeG6t2MgxJHhu4tuaCBz4bqvcCB44bq/cCB0aGVvIG5nw6B5IHThuqFvIG3hu5tpIG5o4bqldFxuXHR9XG5cblx0cXVlcnkgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwicmVjZWl2ZXJfaWQgPSA/XCIsIHJlY2VpdmVySUQpXG5cblx0Ly8gTOG7jWMgdGhlbyBzdGF0dXMgbuG6v3UgY8OzXG5cdGlmIHBhcmFtcy5TdGF0dXMgIT0gbmlsIHtcblx0XHRxdWVyeSA9IHF1ZXJ5LldoZXJlKFwic3RhdHVzID0gP1wiLCAqcGFyYW1zLlN0YXR1cylcblx0fVxuXG5cdHZhciBpbnZpdGF0aW9ucyBbXWVudGl0eS5JbnZpdGF0aW9uRW50aXR5XG5cdGlmIGVyciA6PSBxdWVyeS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmludml0YXRpb25zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBpbnZpdGF0aW9uc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5UcmFuc2FjdGlvbihmdW5jKHR4ICpnb3JtLkRCKSBlcnJvciB7XG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZShjbGFzc3Jvb20pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKCZlbnRpdHkuQ2xhc3Nyb29tTWVtYmVye1xuXHRcdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGNsYXNzcm9vbS5JRCwgXCJcIiksXG5cdFx0XHRVc2VySUQ6ICAgICAgY2xhc3Nyb29tLlVzZXJJRCxcblx0XHRcdFJvbGU6ICAgICAgICBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVRlYWNoZXIsXG5cdFx0fSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdHJldHVybiBuaWxcblx0fSlcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9nZXRfaW52aXRhdGlvbl9ieV9pZC5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgR2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpIHtcblx0dmFyIGludml0YXRpb24gZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImlkID0gP1wiLCBpbnZpdGF0aW9uSUQpLlxuXHRcdEZpcnN0KCZpbnZpdGF0aW9uKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuICZpbnZpdGF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9pc19pbnZpdGF0aW9uX2V4aXN0aW5nLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpIHtcblx0dmFyIGNvdW50IGludDY0XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0TW9kZWwoJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e30pLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkID0gPyBBTkQgcmVjZWl2ZXJfaWQgPSA/IEFORCBzdGF0dXMgSU4gP1wiLCBjbGFzc3Jvb21JRCwgcmVjZWl2ZXJJRCwgW11lbnRpdHkuSW52aXRhdGlvblN0YXR1c3tlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWR9KS5cblx0XHRDb3VudCgmY291bnQpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gZmFsc2UsIGVyclxuXHR9XG5cdHJldHVybiBjb3VudCA+IDAsIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbU1lbWJlcnMgW11lbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWRcIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tTWVtYmVycykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tTWVtYmVyc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L3VwZGF0ZV9pbnZpdGF0aW9uX3N0YXR1cy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgVXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRNb2RlbCgmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSkuXG5cdFx0V2hlcmUoXCJpZCA9ID9cIiwgaW52aXRhdGlvbklEKS5cblx0XHRVcGRhdGUoXCJzdGF0dXNcIiwgc3RhdHVzKS5cblx0XHRFcnJvclxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2lzX2NsYXNzcm9vbV9vd25lci5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgSXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY2xhc3Nyb29tIGVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImlkID0gPyBBTkQgdXNlcl9pZCA9ID9cIiwgY2xhc3Nyb29tSUQsIHVzZXJJRCkuXG5cdFx0Rmlyc3QoJmNsYXNzcm9vbSkuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdC8vIE7hur91IGtow7RuZyB0w6xtIHRo4bqleSBi4bqjbiBnaGksIGPDsyBuZ2jEqWEgbMOgIG5nxrDhu51pIGTDuW5nIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3Vcblx0XHRyZXR1cm4gZmFsc2UsIG5pbFxuXHR9XG5cdHJldHVybiB0cnVlLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfY2xhc3Nyb29tX21lbWJlci5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ29ybS5pby9nb3JtL2NsYXVzZVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBDcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgbWVtYmVyICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyKSBlcnJvciB7XG5cdC8vIFPhu60gZOG7pW5nIGNsYXVzZS5PbkNvbmZsaWN0KCkuRG9Ob3RoaW5nKCkgxJHhu4MgdHLDoW5oIGzhu5dpIGtoaSB0aMOqbSB0aMOgbmggdmnDqm4gxJHDoyB04buTbiB04bqhaVxuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlxuXHRcdENsYXVzZXMoY2xhdXNlLk9uQ29uZmxpY3R7RG9Ob3RoaW5nOiB0cnVlfSkuXG5cdFx0Q3JlYXRlKG1lbWJlcikuRXJyb3Jcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9yZWplY3RfaW52aXRhdGlvbi5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIFJlamVjdEludml0YXRpb25Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgdXNlcklEIHN0cmluZykgZXJyb3Jcbn1cblxudHlwZSByZWplY3RJbnZpdGF0aW9uVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgUmVqZWN0SW52aXRhdGlvblVzZUNhc2Uge1xuXHRyZXR1cm4gJnJlamVjdEludml0YXRpb25Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG4uLi5cblBhdGg6IHVzZWNhc2UvYWNjZXB0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIGVycm9yXG59XG5cbnR5cGUgYWNjZXB0SW52aXRhdGlvblVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3QWNjZXB0SW52aXRhdGlvblVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEFjY2VwdEludml0YXRpb25Vc2VDYXNlIHtcblx0cmV0dXJuICZhY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvc2VydmVyLmdvXG5wYWNrYWdlIHNlcnZlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92Mi9taWRkbGV3YXJlL3JlY292ZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxuZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuXHRhcHAgOj0gZmliZXIuTmV3KGZpYmVyLkNvbmZpZ3tcblx0XHRFbmFibGVQcmludFJvdXRlczogdHJ1ZSxcblx0fSlcblx0YXBwLlVzZShyZWNvdmVyLk5ldygpKVxuXG5cdHByb3ZpZGVyLCBlcnIgOj0gcHJvdmlkZXIuSW5pdChzZXJ2aWNlQ29uZmlnKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gaW5pdCBwcm92aWRlclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuXHRyZXBvc2l0b3J5IDo9IHJlcG9zaXRvcnkuTmV3KHByb3ZpZGVyKVxuXHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgdXNlY2FzZS5OZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICB1c2VjYXNlLk5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0fSlcbi4uLlxuUGF0aDogdXNlY2FzZS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgSW52aXRlTWVtYmVyVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGludml0ZU1lbWJlclVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3SW52aXRlTWVtYmVyVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgSW52aXRlTWVtYmVyVXNlQ2FzZSB7XG5cdHJldHVybiAmaW52aXRlTWVtYmVyVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuLi4uXG5QYXRoOiBwcm92aWRlci9wcm92aWRlci5nb1xucGFja2FnZSBwcm92aWRlclxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbmVkcGFscy9zdXBhYmFzZS1nb1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9wcm92aWRlci9kYXRhYmFzZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxudHlwZSBQcm92aWRlciBzdHJ1Y3Qge1xuXHREYiAgICAgICAgICAgICAqZ29ybS5EQlxuXHRTdXBhYmFzZUNsaWVudCAqc3VwYWJhc2UuQ2xpZW50XG59XG5cbmZ1bmMgSW5pdChzZXJ2aWNlQ29uZmlnICptb2RlbC5TZXJ2aWNlQ29uZmlnKSAoKlByb3ZpZGVyLCBlcnJvcikge1xuXHRkYiwgZXJyIDo9IGRhdGFiYXNlLk5ld1Bvc3RncmVzREIoXG5cdFx0c2VydmljZUNvbmZpZy5EYkhvc3QsXG5cdFx0c2VydmljZUNvbmZpZy5EYlBvcnQsXG5cdFx0c2VydmljZUNvbmZpZy5EYlVzZXIsXG5cdFx0c2VydmljZUNvbmZpZy5EYlBhc3N3b3JkLFxuXHRcdHNlcnZpY2VDb25maWcuRGJOYW1lLFxuXHQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0c3VwYWJhc2VDbGllbnQgOj0gc3VwYWJhc2UuQ3JlYXRlQ2xpZW50KFxuXHRcdHNlcnZpY2VDb25maWcuU3VwYmFzZVVybCxcblx0XHRzZXJ2aWNlQ29uZmlnLlN1cGFiYXNlQW5vbktleSxcblx0KVxuXG5cdHJldHVybiAmUHJvdmlkZXJ7XG5cdFx0RGI6ICAgICAgICAgICAgIGRiLFxuXHRcdFN1cGFiYXNlQ2xpZW50OiBzdXBhYmFzZUNsaWVudCxcblx0fSwgbmlsXG59XG4uLi5cblBhdGg6IHNlcnZlci9yb3V0ZXIuZ29cbnBhY2thZ2Ugc2VydmVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmVcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcbi4uLlxuUGF0aDogY21kL3Jvb3QuZ29cbi8qXG5Db3B5cmlnaHQgwqkgMjAyNSBOQU1FIEhFUkUgPEVNQUlMIEFERFJFU1M+XG4qL1xucGFja2FnZSBjbWRcblxuaW1wb3J0IChcblx0XCJvc1wiXG5cblx0XCJnaXRodWIuY29tL3NwZjEzL2NvYnJhXCJcbilcblxuLy8gcm9vdENtZCByZXByZXNlbnRzIHRoZSBiYXNlIGNvbW1hbmQgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgc3ViY29tbWFuZHNcbnZhciByb290Q21kID0gJmNvYnJhLkNvbW1hbmR7XG5cdFVzZTogICBcInF1aXp6eS1jbGFzc3Jvb21cIixcblx0U2hvcnQ6IFwiQSBicmllZiBkZXNjcmlwdGlvbiBvZiB5b3VyIGFwcGxpY2F0aW9uXCIsXG5cdExvbmc6IGBBIGxvbmdlciBkZXNjcmlwdGlvbiB0aGF0IHNwYW5zIG11bHRpcGxlIGxpbmVzIGFuZCBsaWtlbHkgY29udGFpbnNcbmV4YW1wbGVzIGFuZCB1c2FnZSBvZiB1c2luZyB5b3VyIGFwcGxpY2F0aW9uLiBGb3IgZXhhbXBsZTpcblxuQ29icmEgaXMgYSBDTEkgbGlicmFyeSBmb3IgR28gdGhhdCBlbXBvd2VycyBhcHBsaWNhdGlvbnMuXG5UaGlzIGFwcGxpY2F0aW9uIGlzIGEgdG9vbCB0byBnZW5lcmF0ZSB0aGUgbmVlZGVkIGZpbGVzXG50byBxdWlja2x5IGNyZWF0ZSBhIENvYnJhIGFwcGxpY2F0aW9uLmAsXG5cdC8vIFVuY29tbWVudCB0aGUgZm9sbG93aW5nIGxpbmUgaWYgeW91ciBiYXJlIGFwcGxpY2F0aW9uXG5cdC8vIGhhcyBhbiBhY3Rpb24gYXNzb2NpYXRlZCB3aXRoIGl0OlxuXHQvLyBSdW46IGZ1bmMoY21kICpjb2JyYS5Db21tYW5kLCBhcmdzIFtdc3RyaW5nKSB7IH0sXG59XG5cbi8vIEV4ZWN1dGUgYWRkcyBhbGwgY2hpbGQgY29tbWFuZHMgdG8gdGhlIHJvb3QgY29tbWFuZCBhbmQgc2V0cyBmbGFncyBhcHByb3ByaWF0ZWx5LlxuLy8gVGhpcyBpcyBjYWxsZWQgYnkgbWFpbi5tYWluKCkuIEl0IG9ubHkgbmVlZHMgdG8gaGFwcGVuIG9uY2UgdG8gdGhlIHJvb3RDbWQuXG5mdW5jIEV4ZWN1dGUoKSB7XG5cdGVyciA6PSByb290Q21kLkV4ZWN1dGUoKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRvcy5FeGl0KDEpXG5cdH1cbn1cblxuZnVuYyBpbml0KCkge1xuXHQvLyBIZXJlIHlvdSB3aWxsIGRlZmluZSB5b3VyIGZsYWdzIGFuZCBjb25maWd1cmF0aW9uIHNldHRpbmdzLlxuXHQvLyBDb2JyYSBzdXBwb3J0cyBwZXJzaXN0ZW50IGZsYWdzLCB3aGljaCwgaWYgZGVmaW5lZCBoZXJlLFxuXHQvLyB3aWxsIGJlIGdsb2JhbCBmb3IgeW91ciBhcHBsaWNhdGlvbi5cblxuXHQvLyByb290Q21kLlBlcnNpc3RlbnRGbGFncygpLlN0cmluZ1ZhcigmY2ZnRmlsZSwgXCJjb25maWdcIiwgXCJcIiwgXCJjb25maWcgZmlsZSAoZGVmYXVsdCBpcyAkSE9NRS8ucXVpenp5LWNsYXNzcm9vbS55YW1sKVwiKVxuXG5cdC8vIENvYnJhIGFsc28gc3VwcG9ydHMgbG9jYWwgZmxhZ3MsIHdoaWNoIHdpbGwgb25seSBydW5cblx0Ly8gd2hlbiB0aGlzIGFjdGlvbiBpcyBjYWxsZWQgZGlyZWN0bHkuXG5cdHJvb3RDbWQuRmxhZ3MoKS5Cb29sUChcInRvZ2dsZVwiLCBcInRcIiwgZmFsc2UsIFwiSGVscCBtZXNzYWdlIGZvciB0b2dnbGVcIilcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckludml0YXRpb25zVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRhdGlvbnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cbi4uLlxuUGF0aDogbWlncmF0ZS9taWdyYXRlLmdvXG5wYWNrYWdlIG1pZ3JhdGVcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbmZ1bmMgUnVuKHNlcnZpY2VDb25maWcgKm1vZGVsLlNlcnZpY2VDb25maWcpIHtcblx0cHJvdmlkZXIsIGVyciA6PSBwcm92aWRlci5Jbml0KHNlcnZpY2VDb25maWcpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBpbml0IHByb3ZpZGVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG5cblx0aWYgZXJyIDo9IHByb3ZpZGVyLkRiLkF1dG9NaWdyYXRlKFxuXHRcdCZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e30sXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7fSxcblx0XHQmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSxcblx0KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIG1pZ3JhdGUgZGF0YWJhc2VcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRsb2dnZXIuSW5mbyhcIm1pZ3JhdGUgZGF0YWJhc2Ugc3VjY2Vzc1wiKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL3JlamVjdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgUmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgSUQgY+G7p2EgaW52aXRhdGlvbiB04burIFVSTFxuXHRpbnZpdGF0aW9uSUQgOj0gYy5QYXJhbXMoXCJpZFwiKVxuXHRpZiBpbnZpdGF0aW9uSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJpZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuLi4uXG5QYXRoOiBoYW5kbGVyL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG4uLi5cblBhdGg6IHVzZWNhc2UvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRfIFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSB7XG5cdHJldHVybiAmY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jIChjICpjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0aWYgZXJyIDo9IGMuUmVwby5DcmVhdGVDbGFzc3Jvb20oY3R4LCBjbGFzc3Jvb20pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiBjbWQvc2VydmUuZ29cbi8qXG5Db3B5cmlnaHQgwqkgMjAyNSBOQU1FIEhFUkUgPEVNQUlMIEFERFJFU1M+XG4qL1xucGFja2FnZSBjbWRcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9jb25maWdcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3NlcnZlclwiXG5cblx0XCJnaXRodWIuY29tL3NwZjEzL2NvYnJhXCJcbilcblxuLy8gc2VydmVDbWQgcmVwcmVzZW50cyB0aGUgc2VydmUgY29tbWFuZFxudmFyIHNlcnZlQ21kID0gJmNvYnJhLkNvbW1hbmR7XG5cdFVzZTogICBcInNlcnZlXCIsXG5cdFNob3J0OiBcIkEgYnJpZWYgZGVzY3JpcHRpb24gb2YgeW91ciBjb21tYW5kXCIsXG5cdExvbmc6IGBBIGxvbmdlciBkZXNjcmlwdGlvbiB0aGF0IHNwYW5zIG11bHRpcGxlIGxpbmVzIGFuZCBsaWtlbHkgY29udGFpbnMgZXhhbXBsZXNcbmFuZCB1c2FnZSBvZiB1c2luZyB5b3VyIGNvbW1hbmQuIEZvciBleGFtcGxlOlxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Ugc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNle1JlcG86IHJlcG99XG59XG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tRW50aXR5IHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cblx0VXNlcklEICAgIHN0cmluZyBganNvbjpcInVzZXJfaWRcImBcblx0TmFtZSAgICAgIHN0cmluZyBganNvbjpcIm5hbWVcImBcblx0QXZhdGFyVXJsIHN0cmluZyBganNvbjpcImF2YXRhcl91cmxcImBcbn1cblxuZnVuYyAoYyAqQ2xhc3Nyb29tRW50aXR5KSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXNcIlxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuLi4uXG5QYXRoOiBlbnRpdHkvaW52aXRhdGlvbi5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuXG50eXBlIEludml0YXRpb25TdGF0dXMgc3RyaW5nXG5cbmNvbnN0IChcblx0SW52aXRhdGlvblN0YXR1c1BlbmRpbmcgIEludml0YXRpb25TdGF0dXMgPSBcInBlbmRpbmdcIlxuXHRJbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwiYWNjZXB0ZWRcIlxuXHRJbnZpdGF0aW9uU3RhdHVzUmVqZWN0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwicmVqZWN0ZWRcIlxuKVxuXG50eXBlIEludml0YXRpb25FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiYFxuXHRTZW5kZXJJRCAgICBzdHJpbmcgICAgICAgICAgIGBqc29uOlwic2VuZGVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFJlY2VpdmVySUQgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJyZWNlaXZlcl9pZFwiIGdvcm06XCJpbmRleFwiYFxuXHRTdGF0dXMgICAgICBJbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgZ29ybTpcImluZGV4XCJgXG59XG5cbmZ1bmMgKEludml0YXRpb25FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7IHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uaW52aXRhdGlvbnNcIiB9XG4uLi5cblBhdGg6IGhhbmRsZXIvaGFuZGxlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbnR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTeG7nWkgdGjDoG5oIHZpw6puIHbDoG8gbOG7m3AgaOG7jWNcblx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcblx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG5cdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBDaOG6pXAgbmjhuq1uIGzhu51pIG3hu51pXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG59XG4uLi5cblBhdGg6IGNtZC9taWdyYXRlLmdvXG4vKlxuQ29weXJpZ2h0IMKpIDIwMjUgTkFNRSBIRVJFIDxFTUFJTCBBRERSRVNTPlxuKi9cbnBhY2thZ2UgY21kXG5cbmltcG9ydCAoXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvY29uZmlnXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9taWcuLi4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDEzanRFbXpCdmlFYUtVWkhaOHBOYnRWIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTm93IEknbGwgaW1wbGVtZW50IHRoZSBuZWNlc3NhcnkgZmlsZXMgZm9yIHRoZSBBUEkgZW5kcG9pbnQgdG8gcmV0cmlldmUgb3duZWQgY2xhc3Nyb29tcy5cblxuIyMjIDEuIEZpcnN0LCBsZXQncyB1cGRhdGUgdGhlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHRvIGFkZCB0aGUgbmV3IG1ldGhvZFxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImVmMzhhOTBhLWFkODctNGQ0My1iNjNhLTBmNTYyOWZkODVjZiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTFvaWgxVTUzdFNKN3dKOTI1ZGJjNTIiLCJ0b29sX25hbWUiOiJzYXZlLWZpbGUiLCJpbnB1dF9qc29uIjoie1wiZmlsZV9wYXRoXCI6IFwicmVwb3NpdG9yeS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1wiLCBcImZpbGVfY29udGVudFwiOiBcInBhY2thZ2UgcmVwb3NpdG9yeVxcblxcbmltcG9ydCAoXFxuXFx0XFxcImNvbnRleHRcXFwiXFxuXFx0XFxcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XFxcIlxcblxcdFxcXCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVxcXCJcXG5cXG5cXHRcXFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVxcXCJcXG5cXHRcXFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXFxcIlxcblxcdFxcXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVxcXCJcXG4pXFxuXFxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcXG5cXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHlde1xcblxcdFxcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXFxuXFx0XFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXFxuXFx0XFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcXFwiY3JlYXRlZF9hdCBERVNDXFxcIiksIC8vIE1cXHUxZWI3YyBcXHUwMTExXFx1MWVjYm5oIHNcXHUxZWFmcCB4XFx1MWViZnAgdGhlbyBuZ1xcdTAwZTB5IHRcXHUxZWExbyBtXFx1MWVkYmkgbmhcXHUxZWE1dFxcblxcdH1cXG5cXG5cXHR2YXIgY2xhc3Nyb29tcyBbXWVudGl0eS5DbGFzc3Jvb21FbnRpdHlcXG5cXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cXG5cXHRcXHRXaXRoQ29udGV4dChjdHgpLlxcblxcdFxcdFdoZXJlKFxcXCJ1c2VyX2lkID0gP1xcXCIsIHVzZXJJRCkuXFxuXFx0XFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cXG5cXHRcXHRGaW5kKCZjbGFzc3Jvb21zKS5cXG5cXHRcXHRFcnJvcjsgZXJyICE9IG5pbCB7XFxuXFx0XFx0cmV0dXJuIG5pbCwgZXJyXFxuXFx0fVxcblxcblxcdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbXNcXG5cXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxcbn1cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiMjIyAyLiBOb3csIGxldCdzIGltcGxlbWVudCB0aGUgcmVwb3NpdG9yeSBtZXRob2QgaW4gYSBuZXcgZmlsZVxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ28uXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgOFx0XG4gICAgIDlcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuICAgIDEwXHQpXG4gICAgMTFcdFxuICAgIDEyXHR0eXBlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHtcbiAgICAxM1x0XHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuICAgIDE0XHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxuICAgIDE1XHRcdENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG4gICAgMTZcdFx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuICAgIDE3XHRcdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG4gICAgMThcdFx0RmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbiAgICAxOVx0XHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcbiAgICAyMFx0XHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3JcbiAgICAyMVx0XHRDcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgbWVtYmVyICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyKSBlcnJvclxuICAgIDIyXHRcdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuICAgIDIzXHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG4gICAgMjRcdH1cbiAgICAyNVx0XG4gICAgMjZcdHR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcbiAgICAyN1x0XHRQcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXJcbiAgICAyOFx0fVxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE4MWlHRnVQQmdzcmJWNWVQaTN2NzNkIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiIyMjIDIuIE5vdywgbGV0J3MgaW1wbGVtZW50IHRoZSByZXBvc2l0b3J5IG1ldGhvZCBpbiBhIG5ldyBmaWxlXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZjg0ZDUyY2YtMTQzMC00NjNhLTkwZjktNWRhZTU1OWY2YjQyIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMmo2RUpDMWNMYldlVG1rOGZkMjZDRCIsInRvb2xfbmFtZSI6InNhdmUtZmlsZSIsImlucHV0X2pzb24iOiJ7XCJmaWxlX3BhdGhcIjogXCJ1c2VjYXNlL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXCIsIFwiZmlsZV9jb250ZW50XCI6IFwicGFja2FnZSB1c2VjYXNlXFxuXFxuaW1wb3J0IChcXG5cXHRcXFwiY29udGV4dFxcXCJcXG5cXHRcXFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcXFwiXFxuXFx0XFxcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXFxcIlxcblxcdFxcXCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcXFwiXFxuXFxuXFx0XFxcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclxcXCJcXG5cXHRcXFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXFxcIlxcblxcdFxcXCJnby51YmVyLm9yZy96YXBcXFwiXFxuKVxcblxcbnR5cGUgRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSBpbnRlcmZhY2Uge1xcblxcdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxcbn1cXG5cXG50eXBlIGZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBsIHN0cnVjdCB7XFxuXFx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcXG59XFxuXFxuZnVuYyBOZXdGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlIHtcXG5cXHRyZXR1cm4gJmZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBse1xcblxcdFxcdFJlcG86IHJlcG8sXFxuXFx0fVxcbn1cXG5cXG5mdW5jICh1ICpmaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcXG5cXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCwgdXNlcklELCBwYXJhbXMpXFxuXFx0aWYgZXJyICE9IG5pbCB7XFxuXFx0XFx0bG9nZ2VyLkVycm9yKFxcXCJmYWlsZWQgdG8gZmlsdGVyIG93bmVkIGNsYXNzcm9vbXNcXFwiLCB6YXAuU3RyaW5nKFxcXCJ1c2VyIGlkXFxcIiwgdXNlcklEKSwgemFwLkVycm9yKGVycikpXFxuXFx0XFx0cmV0dXJuIG5pbCwgZXJyXFxuXFx0fVxcblxcdHJldHVybiByZXN1bHQsIG5pbFxcbn1cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiMjIyAzLiBOb3csIGxldCdzIGNyZWF0ZSB0aGUgdXNlIGNhc2UgaW50ZXJmYWNlIGFuZCBpbXBsZW1lbnRhdGlvblxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMW9paDFVNTN0U0o3d0o5MjVkYmM1MiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IiMjIyAzLiBOb3csIGxldCdzIGNyZWF0ZSB0aGUgdXNlIGNhc2UgaW50ZXJmYWNlIGFuZCBpbXBsZW1lbnRhdGlvblxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImU1Mjg5MjU3LTEyOGUtNGFiNi1iOWVkLTFhNDhmOTg2MGRkYiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVN3ZUFLY1E1Q1BqRVUyS2hZakFuOTMiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcImhhbmRsZXIvaGFuZGxlci5nb1wiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJ0eXBlIEhhbmRsZXIgaW50ZXJmYWNlIHtcXG5cXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgLy8gVFxcdTFlYTFvIGxcXHUxZWRicCBoXFx1MWVjZGNcXG5cXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTFxcdTFlY2RjIHRoXFx1MDBlMG5oIHZpXFx1MDBlYW4gY1xcdTFlZTdhIGxcXHUxZWRicCBoXFx1MWVjZGNcXG5cXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTVxcdTFlZGRpIHRoXFx1MDBlMG5oIHZpXFx1MDBlYW4gdlxcdTAwZTBvIGxcXHUxZWRicCBoXFx1MWVjZGNcXG5cXHRGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgLy8gTFxcdTFlY2RjIGRhbmggc1xcdTAwZTFjaCBsXFx1MWVkZGkgbVxcdTFlZGRpXFxuXFx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFRcXHUxZWViIGNoXFx1MWVkMWkgbFxcdTFlZGRpIG1cXHUxZWRkaVxcblxcdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBDaFxcdTFlYTVwIG5oXFx1MWVhZG4gbFxcdTFlZGRpIG1cXHUxZWRkaVxcblxcdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAvLyBMXFx1MWVjZGMgZGFuaCBzXFx1MDBlMWNoIHRoXFx1MDBlMG5oIHZpXFx1MDBlYW4gXFx1MDExMVxcdTAwZTMgXFx1MDExMVxcdTAxYjBcXHUxZWUzYyBtXFx1MWVkZGlcXG59XCIsIFwibmV3X3N0clwiOiBcInR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xcblxcdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAvLyBUXFx1MWVhMW8gbFxcdTFlZGJwIGhcXHUxZWNkY1xcblxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAvLyBMXFx1MWVjZGMgdGhcXHUwMGUwbmggdmlcXHUwMGVhbiBjXFx1MWVlN2EgbFxcdTFlZGJwIGhcXHUxZWNkY1xcblxcdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBNXFx1MWVkZGkgdGhcXHUwMGUwbmggdmlcXHUwMGVhbiB2XFx1MDBlMG8gbFxcdTFlZGJwIGhcXHUxZWNkY1xcblxcdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBMXFx1MWVjZGMgZGFuaCBzXFx1MDBlMWNoIGxcXHUxZWRkaSBtXFx1MWVkZGlcXG5cXHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gVFxcdTFlZWIgY2hcXHUxZWQxaSBsXFx1MWVkZGkgbVxcdTFlZGRpXFxuXFx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENoXFx1MWVhNXAgbmhcXHUxZWFkbiBsXFx1MWVkZGkgbVxcdTFlZGRpXFxuXFx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIExcXHUxZWNkYyBkYW5oIHNcXHUwMGUxY2ggdGhcXHUwMGUwbmggdmlcXHUwMGVhbiBcXHUwMTExXFx1MDBlMyBcXHUwMTExXFx1MDFiMFxcdTFlZTNjIG1cXHUxZWRkaVxcblxcdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yICAvLyBMXFx1MWVjZGMgZGFuaCBzXFx1MDBlMWNoIGxcXHUxZWRicCBoXFx1MWVjZGMgXFx1MDExMWFuZyBzXFx1MWVkZiBoXFx1MWVlZnVcXG59XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA5LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDE2fV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIjIyMgNC4gVXBkYXRlIHRoZSBIYW5kbGVyIGludGVyZmFjZSBhbmQgY3JlYXRlIHRoZSBoYW5kbGVyIGltcGxlbWVudGF0aW9uXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDEyajZFSkMxY0xiV2VUbWs4ZmQyNkNEIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiIyMjIDQuIFVwZGF0ZSB0aGUgSGFuZGxlciBpbnRlcmZhY2UgYW5kIGNyZWF0ZSB0aGUgaGFuZGxlciBpbXBsZW1lbnRhdGlvblxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjdhZmEwZTBkLWFjNjEtNDJjYi1iMTViLTdkNTUzMDQyZjMxMSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVEzSnYyWTdDbnh2bnNYYmlDN1hkdHAiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcImhhbmRsZXIvaGFuZGxlci5nb1wiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJ0eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XFxuXFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXFxuXFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxcblxcdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxcblxcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXFxuXFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxcblxcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2VcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxcbn1cIiwgXCJuZXdfc3RyXCI6IFwidHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xcblxcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxcblxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcXG5cXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2VcXG5cXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxcblxcdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2VcXG5cXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXFxuXFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VcXG5cXHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VcXG59XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAyMCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAyOH1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IGxldCdzIHVwZGF0ZSB0aGUgaGFuZGxlckltcGwgc3RydWN0IGFuZCBJbmplY3Qgc3RydWN0IHRvIGluY2x1ZGUgdGhlIG5ldyB1c2UgY2FzZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgaGFuZGxlci9oYW5kbGVyLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDVcdFxuICAgICA2XHRcdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbiAgICAgN1x0KVxuICAgICA4XHRcbiAgICAgOVx0dHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG4gICAgMTBcdFx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG4gICAgMTFcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuICAgIDEyXHRcdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuICAgIDEzXHRcdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG4gICAgMTRcdFx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG4gICAgMTVcdFx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcbiAgICAxNlx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxuICAgIDE3XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3VcbiAgICAxOFx0fVxuICAgIDE5XHRcbiAgICAyMFx0dHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xuICAgIDIxXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuICAgIDIyXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxU3dlQUtjUTVDUGpFVTJLaFlqQW45MyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6Ik5vdyBsZXQncyB1cGRhdGUgdGhlIGhhbmRsZXJJbXBsIHN0cnVjdCBhbmQgSW5qZWN0IHN0cnVjdCB0byBpbmNsdWRlIHRoZSBuZXcgdXNlIGNhc2U6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNTY4N2NkMTItODQ0OC00ZDc1LWEzMTAtMmJiMDlkOTIxNDI3IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNWc0UlA2ZWE2eXNNTW5LaVhRdXZnTiIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwiaGFuZGxlci9oYW5kbGVyLmdvXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcInR5cGUgSW5qZWN0IHN0cnVjdCB7XFxuXFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXFxuXFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxcblxcdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxcblxcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXFxuXFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxcblxcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2VcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxcbn1cIiwgXCJuZXdfc3RyXCI6IFwidHlwZSBJbmplY3Qgc3RydWN0IHtcXG5cXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VcXG5cXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXFxuXFx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXFxuXFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VcXG5cXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXFxuXFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxcblxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXFxuXFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXFxufVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMzEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMzl9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgaGFuZGxlci9oYW5kbGVyLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgMTZcdFx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIEzhu41jIGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgxJHGsOG7o2MgbeG7nWlcbiAgICAxN1x0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691XG4gICAgMThcdH1cbiAgICAxOVx0XG4gICAgMjBcdHR5cGUgaGFuZGxlckltcGwgc3RydWN0IHtcbiAgICAyMVx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VcbiAgICAyMlx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG4gICAgMjNcdFx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG4gICAgMjRcdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VcbiAgICAyNVx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG4gICAgMjZcdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuICAgIDI3XHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG4gICAgMjhcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXG4gICAgMjlcdH1cbiAgICAzMFx0XG4gICAgMzFcdHR5cGUgSW5qZWN0IHN0cnVjdCB7XG4gICAgMzJcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG4gICAgMzNcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFRM0p2Mlk3Q254dm5zWGJpQzdYZHRwIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImE0ZGZlMzUzLTdjOTItNDJmYi05MTgyLTMzZjMzODczMTRhNCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUJOM1BpN1lXNm5SQ3ZmQ1NORGtmRWciLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcImhhbmRsZXIvaGFuZGxlci5nb1wiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJmdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XFxuXFx0cmV0dXJuICZoYW5kbGVySW1wbHtcXG5cXHRcXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXFxuXFx0XFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcXG5cXHRcXHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgaW5qZWN0Lkludml0ZU1lbWJlclVzZUNhc2UsXFxuXFx0XFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIGluamVjdC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UsXFxuXFx0XFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcXG5cXHRcXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LkFjY2VwdEludml0YXRpb25Vc2VDYXNlLFxcblxcdFxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICBpbmplY3QuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLFxcblxcdH1cXG59XCIsIFwibmV3X3N0clwiOiBcImZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcXG5cXHRyZXR1cm4gJmhhbmRsZXJJbXBse1xcblxcdFxcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICBpbmplY3QuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSxcXG5cXHRcXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogaW5qZWN0LkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLFxcblxcdFxcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICBpbmplY3QuSW52aXRlTWVtYmVyVXNlQ2FzZSxcXG5cXHRcXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgaW5qZWN0LkZpbHRlckludml0YXRpb25zVXNlQ2FzZSxcXG5cXHRcXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LlJlamVjdEludml0YXRpb25Vc2VDYXNlLFxcblxcdFxcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuQWNjZXB0SW52aXRhdGlvblVzZUNhc2UsXFxuXFx0XFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIGluamVjdC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UsXFxuXFx0XFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZTogIGluamVjdC5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlLFxcblxcdH1cXG59XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA0MiwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA1Mn1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBoYW5kbGVyL2hhbmRsZXIuZ28uXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAyN1x0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxuICAgIDI4XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgIHVzZWNhc2UuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZVxuICAgIDI5XHR9XG4gICAgMzBcdFxuICAgIDMxXHR0eXBlIEluamVjdCBzdHJ1Y3Qge1xuICAgIDMyXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuICAgIDMzXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcbiAgICAzNFx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2VcbiAgICAzNVx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuICAgIDM2XHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2VcbiAgICAzN1x0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG4gICAgMzhcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VcbiAgICAzOVx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VcbiAgICA0MFx0fVxuICAgIDQxXHRcbiAgICA0Mlx0ZnVuYyBOZXcoaW5qZWN0ICpJbmplY3QpIEhhbmRsZXIge1xuICAgIDQzXHRcdHJldHVybiAmaGFuZGxlckltcGx7XG4gICAgNDRcdFx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTVnNFJQNmVhNnlzTU1uS2lYUXV2Z04ifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiIiLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYjFlNjYxYmItOTdkNy00ODhjLWI3NGUtNDJmZTRkZTdlYzExIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxVk51QlRaTGRSbThKVzQ5ZGZCdWE4RiIsInRvb2xfbmFtZSI6InNhdmUtZmlsZSIsImlucHV0X2pzb24iOiJ7XCJmaWxlX3BhdGhcIjogXCJoYW5kbGVyL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXCIsIFwiZmlsZV9jb250ZW50XCI6IFwicGFja2FnZSBoYW5kbGVyXFxuXFxuaW1wb3J0IChcXG5cXHRcXFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcXFwiXFxuXFx0XFxcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFxcXCJcXG5cXG5cXHRcXFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXFxcIlxcblxcdFxcXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcXFwiXFxuKVxcblxcbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJPd25lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XFxuXFx0dmFyIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxXFxuXFx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xcblxcdFxcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXFxuXFx0fVxcblxcblxcdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XFxuXFx0XFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcXG5cXHR9XFxuXFxuXFx0Ly8gTFxcdTFlYTV5IElEIGNcXHUxZWU3YSBuZ1xcdTAxYjBcXHUxZWRkaSBkXFx1MDBmOW5nIGhpXFx1MWVjN24gdFxcdTFlYTFpIHRcXHUxZWViIEpXVCB0b2tlblxcblxcdHVzZXJJRCA6PSBjLkxvY2FscyhcXFwidXNlcl9pZFxcXCIpLihzdHJpbmcpXFxuXFxuXFx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxcblxcdGlmIGVyciAhPSBuaWwge1xcblxcdFxcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXFxuXFx0fVxcblxcblxcdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXFxufVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIyMjIDUuIE5vdywgbGV0J3MgY3JlYXRlIHRoZSBoYW5kbGVyIGltcGxlbWVudGF0aW9uXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIGhhbmRsZXIvaGFuZGxlci5nby5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDM4XHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG4gICAgMzlcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXG4gICAgNDBcdH1cbiAgICA0MVx0XG4gICAgNDJcdGZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcbiAgICA0M1x0XHRyZXR1cm4gJmhhbmRsZXJJbXBse1xuICAgIDQ0XHRcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuICAgIDQ1XHRcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcbiAgICA0Nlx0XHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICBpbmplY3QuSW52aXRlTWVtYmVyVXNlQ2FzZSxcbiAgICA0N1x0XHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxuICAgIDQ4XHRcdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcbiAgICA0OVx0XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuQWNjZXB0SW52aXRhdGlvblVzZUNhc2UsXG4gICAgNTBcdFx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcbiAgICA1MVx0XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2U6ICBpbmplY3QuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSxcbiAgICA1Mlx0XHR9XG4gICAgNTNcdH1cbiAgICA1NFx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUJOM1BpN1lXNm5SQ3ZmQ1NORGtmRWcifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiIjIyMgNS4gTm93LCBsZXQncyBjcmVhdGUgdGhlIGhhbmRsZXIgaW1wbGVtZW50YXRpb25cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIyYTA3NDdmNy0yNzlkLTQ3MDQtYjUxOC1kNzExNWNmYTc3ZDMiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFLYnJVWmpadmpVUTl2UGpLQ3BvTTFXIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNlcnZlci9yb3V0ZXIuZ29cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiMjIyA2LiBVcGRhdGUgdGhlIHJvdXRlciB0byBhZGQgdGhlIG5ldyBlbmRwb2ludFxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxVk51QlRaTGRSbThKVzQ5ZGZCdWE4RiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IiMjIyA2LiBVcGRhdGUgdGhlIHJvdXRlciB0byBhZGQgdGhlIG5ldyBlbmRwb2ludFxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImNkZjljOGMxLTAxNzUtNGFkNS05YTU1LTdhMzhiMGIwMThhYiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUVIRVVrVnBFQTlDc2lER3JFbjlEam4iLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNlcnZlci9yb3V0ZXIuZ29cIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xcblxcdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcXFwiL2NsYXNzcm9vbVxcXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcXG5cXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFxcXCIvY3JlYXRlXFxcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXFxuXFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcXFwiL2ludml0ZVxcXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxcblxcdGNsYXNzcm9vbUdyb3VwLkdldChcXFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1xcXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycylcXG5cXHRjbGFzc3Jvb21Hcm91cC5HZXQoXFxcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1xcXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXFxuXFxuXFx0aW52aXRhdGlvbkdyb3VwIDo9IGFwcC5Hcm91cChcXFwiL2ludml0YXRpb25cXFwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXFxuXFx0aW52aXRhdGlvbkdyb3VwLkdldChcXFwiL2ZpbHRlclxcXCIsIGhhbmRsZXIuRmlsdGVySW52aXRhdGlvbnMpXFxuXFx0aW52aXRhdGlvbkdyb3VwLlB1dChcXFwiL3JlamVjdC86aWRcXFwiLCBoYW5kbGVyLlJlamVjdEludml0YXRpb24pXFxuXFx0aW52aXRhdGlvbkdyb3VwLlB1dChcXFwiL2FjY2VwdC86aWRcXFwiLCBoYW5kbGVyLkFjY2VwdEludml0YXRpb24pXFxufVwiLCBcIm5ld19zdHJcIjogXCJmdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XFxuXFx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFxcXCIvY2xhc3Nyb29tXFxcIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxcblxcdGNsYXNzcm9vbUdyb3VwLlBvc3QoXFxcIi9jcmVhdGVcXFwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcXG5cXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFxcXCIvaW52aXRlXFxcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXFxuXFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFxcXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXFxcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxcblxcdGNsYXNzcm9vbUdyb3VwLkdldChcXFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXFxcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcXG5cXHRjbGFzc3Jvb21Hcm91cC5HZXQoXFxcIi9vd25lZFxcXCIsIGhhbmRsZXIuRmlsdGVyT3duZWRDbGFzc3Jvb21zKVxcblxcblxcdGludml0YXRpb25Hcm91cCA6PSBhcHAuR3JvdXAoXFxcIi9pbnZpdGF0aW9uXFxcIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxcblxcdGludml0YXRpb25Hcm91cC5HZXQoXFxcIi9maWx0ZXJcXFwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxcblxcdGludml0YXRpb25Hcm91cC5QdXQoXFxcIi9yZWplY3QvOmlkXFxcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxcblxcdGludml0YXRpb25Hcm91cC5QdXQoXFxcIi9hY2NlcHQvOmlkXFxcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxcbn1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDExLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDIxfV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNlcnZlci9yb3V0ZXIuZ286XG4gICAgIDFcdHBhY2thZ2Ugc2VydmVyXG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgKFxuICAgICA0XHRcdFwicXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyXCJcbiAgICAgNVx0XG4gICAgIDZcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlXCJcbiAgICAgN1x0XG4gICAgIDhcdFx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuICAgICA5XHQpXG4gICAgMTBcdFxuICAgIDExXHRmdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG4gICAgMTJcdFx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG4gICAgMTNcdFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG4gICAgMTRcdFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG4gICAgMTVcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG4gICAgMTZcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG4gICAgMTdcdFxuICAgIDE4XHRcdGludml0YXRpb25Hcm91cCA6PSBhcHAuR3JvdXAoXCIvaW52aXRhdGlvblwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG4gICAgMTlcdFx0aW52aXRhdGlvbkdyb3VwLkdldChcIi9maWx0ZXJcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucylcbiAgICAyMFx0XHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuICAgIDIxXHRcdGludml0YXRpb25Hcm91cC5QdXQoXCIvYWNjZXB0LzppZFwiLCBoYW5kbGVyLkFjY2VwdEludml0YXRpb24pXG4gICAgMjJcdH1cbiAgICAyM1x0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAyM1xuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxS2JyVVpqWnZqVVE5dlBqS0Nwb00xVyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIxMDQxYmM2NS1mN2YyLTQ1OGUtOTYyMC03YWFhYzNmYThhNTUiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE0RGU2cFo2cllRb0NpUlc1a0dxM1lBIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNlcnZlci9zZXJ2ZXIuZ29cIiwgXCJ2aWV3X3JhbmdlXCI6IFsxLCA1MF19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIjIyMgNy4gRmluYWxseSwgdXBkYXRlIHRoZSBzZXJ2ZXIuZ28gZmlsZSB0byBpbmplY3QgdGhlIG5ldyB1c2UgY2FzZVxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzZXJ2ZXIvcm91dGVyLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDdcdFxuICAgICA4XHRcdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbiAgICAgOVx0KVxuICAgIDEwXHRcbiAgICAxMVx0ZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xuICAgIDEyXHRcdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcIi9jbGFzc3Jvb21cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuICAgIDEzXHRcdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvY3JlYXRlXCIsIGhhbmRsZXIuQ3JlYXRlQ2xhc3Nyb29tKVxuICAgIDE0XHRcdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvaW52aXRlXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxuICAgIDE1XHRcdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxuICAgIDE2XHRcdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzKVxuICAgIDE3XHRcdGNsYXNzcm9vbUdyb3VwLkdldChcIi9vd25lZFwiLCBoYW5kbGVyLkZpbHRlck93bmVkQ2xhc3Nyb29tcylcbiAgICAxOFx0XG4gICAgMTlcdFx0aW52aXRhdGlvbkdyb3VwIDo9IGFwcC5Hcm91cChcIi9pbnZpdGF0aW9uXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcbiAgICAyMFx0XHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuICAgIDIxXHRcdGludml0YXRpb25Hcm91cC5QdXQoXCIvcmVqZWN0LzppZFwiLCBoYW5kbGVyLlJlamVjdEludml0YXRpb24pXG4gICAgMjJcdFx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9hY2NlcHQvOmlkXCIsIGhhbmRsZXIuQWNjZXB0SW52aXRhdGlvbilcbiAgICAyM1x0fVxuICAgIDI0XHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxRUhFVWtWcEVBOUNzaURHckVuOURqbiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IiMjIyA3LiBGaW5hbGx5LCB1cGRhdGUgdGhlIHNlcnZlci5nbyBmaWxlIHRvIGluamVjdCB0aGUgbmV3IHVzZSBjYXNlXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMjIzY2RjMGYtY2Y5Ny00ZTQ3LWEzODEtN2RkZTkwNTM4ZDZkIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMm9SVTlvR3RyUWZ2Wlg3M2hOb0hRZSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic2VydmVyL3NlcnZlci5nb1wiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJcXHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcXG5cXHRcXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgdXNlY2FzZS5OZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICB1c2VjYXNlLk5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHR9KVwiLCBcIm5ld19zdHJcIjogXCJcXHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcXG5cXHRcXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgdXNlY2FzZS5OZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICB1c2VjYXNlLk5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHRcXHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlOiAgdXNlY2FzZS5OZXdGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdH0pXCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAyOSwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAzN31dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiTm90ZTpcbkVuZCBsaW5lIDUwIGV4Y2VlZHMgZmlsZSBsZW5ndGggKDQ3KS4gQWRqdXN0ZWQgdG8gNDcuXG5cbkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc2VydmVyL3NlcnZlci5nbzpcbiAgICAgMVx0cGFja2FnZSBzZXJ2ZXJcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCAoXG4gICAgIDRcdFx0XCJxdWl6enktY2xhc3Nyb29tL2hhbmRsZXJcIlxuICAgICA1XHRcdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG4gICAgIDZcdFx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcbiAgICAgN1x0XHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG4gICAgIDhcdFx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuICAgICA5XHRcdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcbiAgICAxMFx0XG4gICAgMTFcdFx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuICAgIDEyXHRcdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyL21pZGRsZXdhcmUvcmVjb3ZlclwiXG4gICAgMTNcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuICAgIDE0XHRcdFwiZ28udWJlci5vcmcvemFwXCJcbiAgICAxNVx0KVxuICAgIDE2XHRcbiAgICAxN1x0ZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuICAgIDE4XHRcdGFwcCA6PSBmaWJlci5OZXcoZmliZXIuQ29uZmlne1xuICAgIDE5XHRcdFx0RW5hYmxlUHJpbnRSb3V0ZXM6IHRydWUsXG4gICAgMjBcdFx0fSlcbiAgICAyMVx0XHRhcHAuVXNlKHJlY292ZXIuTmV3KCkpXG4gICAgMjJcdFxuICAgIDIzXHRcdHByb3ZpZGVyLCBlcnIgOj0gcHJvdmlkZXIuSW5pdChzZXJ2aWNlQ29uZmlnKVxuICAgIDI0XHRcdGlmIGVyciAhPSBuaWwge1xuICAgIDI1XHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG4gICAgMjZcdFx0XHRyZXR1cm5cbiAgICAyN1x0XHR9XG4gICAgMjhcdFx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcbiAgICAyOVx0XHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcbiAgICAzMFx0XHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICB1c2VjYXNlLk5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzFcdFx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzMlx0XHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzNcdFx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzRcdFx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzNVx0XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM2XHRcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM3XHRcdH0pXG4gICAgMzhcdFxuICAgIDM5XHRcdEluaXRSb3V0ZXIoYXBwLCBoYW5kbGVyKVxuICAgIDQwXHRcdHV0aWwuSW5pdFZhbGlkYXRlKClcbiAgICA0MVx0XG4gICAgNDJcdFx0aWYgZXJyIDo9IGFwcC5MaXN0ZW4oXCI6XCIgKyBzZXJ2aWNlQ29uZmlnLlBvcnQpOyBlcnIgIT0gbmlsIHtcbiAgICA0M1x0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBzdGFydCBzZXJ2ZXJcIiwgemFwLkVycm9yKGVycikpXG4gICAgNDRcdFx0XHRyZXR1cm5cbiAgICA0NVx0XHR9XG4gICAgNDZcdH1cbiAgICA0N1x0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA0N1xuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNERlNnBaNnJZUW9DaVJXNWtHcTNZQSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI5YWJlY2RhMC0wYWM0LTRhNTgtOTFkMy1mMWNmZGY4NWQ2MmEiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJHcmVhdCEgV2UgaGF2ZSBzdWNjZXNzZnVsbHkgaW1wbGVtZW50ZWQgdGhlIEFQSSBlbmRwb2ludCB0byByZXRyaWV2ZSBjbGFzc3Jvb21zIG93bmVkIGJ5IGEgdXNlci4gTGV0J3Mgc3VtbWFyaXplIHdoYXQgd2UndmUgZG9uZTpcblxuIyMgU3VtbWFyeSBvZiBDaGFuZ2VzXG5cbjEuICoqQWRkZWQgYSBuZXcgcmVwb3NpdG9yeSBtZXRob2QqKjpcbiAgIC0gQWRkZWQgYEZpbHRlck93bmVkQ2xhc3Nyb29tc2AgdG8gdGhlIGBSZXBvc2l0b3J5YCBpbnRlcmZhY2VcbiAgIC0gSW1wbGVtZW50ZWQgdGhlIG1ldGhvZCBpbiBgcmVwb3NpdG9yeS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb2BcblxuMi4gKipDcmVhdGVkIGEgbmV3IHVzZSBjYXNlKio6XG4gICAtIENyZWF0ZWQgYEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VgIGludGVyZmFjZVxuICAgLSBJbXBsZW1lbnRlZCB0aGUgdXNlIGNhc2UgaW4gYHVzZWNhc2UvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29gXG5cbjMuICoqQWRkZWQgYSBuZXcgaGFuZGxlciBtZXRob2QqKjpcbiAgIC0gQWRkZWQgYEZpbHRlck93bmVkQ2xhc3Nyb29tc2AgdG8gdGhlIGBIYW5kbGVyYCBpbnRlcmZhY2VcbiAgIC0gSW1wbGVtZW50ZWQgdGhlIGhhbmRsZXIgaW4gYGhhbmRsZXIvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29gXG5cbjQuICoqVXBkYXRlZCB0aGUgcm91dGVyKio6XG4gICAtIEFkZGVkIGEgbmV3IHJvdXRlIGAvY2xhc3Nyb29tL293bmVkYCBpbiBgc2VydmVyL3JvdXRlci5nb2BcblxuNS4gKipVcGRhdGVkIHRoZSBkZXBlbmRlbmN5IGluamVjdGlvbioqOlxuICAgLSBVcGRhdGVkIHRoZSBgaGFuZGxlckltcGxgIHN0cnVjdCBpbiBgaGFuZGxlci9oYW5kbGVyLmdvYFxuICAgLSBVcGRhdGVkIHRoZSBgSW5qZWN0YCBzdHJ1Y3QgaW4gYGhhbmRsZXIvaGFuZGxlci5nb2BcbiAgIC0gVXBkYXRlZCB0aGUgZGVwZW5kZW5jeSBpbmplY3Rpb24gaW4gYHNlcnZlci9zZXJ2ZXIuZ29gXG5cbiMjIEFQSSBFbmRwb2ludCBEZXRhaWxzXG5cbi0gKipVUkwqKjogYC9jbGFzc3Jvb20vb3duZWRgXG4tICoqTWV0aG9kKio6IEdFVFxuLSAqKkF1dGhlbnRpY2F0aW9uKio6IFJlcXVpcmVkIChKV1QgdG9rZW4pXG4tICoqUXVlcnkgUGFyYW1ldGVycyoqOlxuICAtIGBwYWdlYDogUGFnZSBudW1iZXIgKG9wdGlvbmFsKVxuICAtIGBsaW1pdGA6IE51bWJlciBvZiBpdGVtcyBwZXIgcGFnZSAob3B0aW9uYWwpXG4gIC0gYHNvcnRgOiBTb3J0IG9yZGVyIChvcHRpb25hbCwgZGVmYXVsdHMgdG8gXCJjcmVhdGVkX2F0IERFU0NcIilcbi0gKipSZXNwb25zZSoqOiBBIHBhZ2luYXRlZCBsaXN0IG9mIGNsYXNzcm9vbXMgb3duZWQgYnkgdGhlIGF1dGhlbnRpY2F0ZWQgdXNlclxuXG4jIyBIb3cgdG8gVGVzdFxuXG5Zb3UgY2FuIHRlc3QgdGhpcyBBUEkgZW5kcG9pbnQgYnkgbWFraW5nIGEgR0VUIHJlcXVlc3QgdG8gYC9jbGFzc3Jvb20vb3duZWRgIHdpdGggYSB2YWxpZCBKV1QgdG9rZW4uIFRoZSBBUEkgd2lsbCByZXR1cm4gYSBwYWdpbmF0ZWQgbGlzdCBvZiBjbGFzc3Jvb21zIG93bmVkIGJ5IHRoZSBhdXRoZW50aWNhdGVkIHVzZXIuXG5cbkV4YW1wbGUgcmVxdWVzdDpcbmBgYFxuR0VUIC9jbGFzc3Jvb20vb3duZWQ/cGFnZT0xJmxpbWl0PTEwXG5BdXRob3JpemF0aW9uOiBCZWFyZXIgPHlvdXJfand0X3Rva2VuPlxuYGBgXG5cbkV4YW1wbGUgcmVzcG9uc2U6XG5gYGBqc29uXG57XG4gIFwic3VjY2Vzc1wiOiB0cnVlLFxuICBcImRhdGFcIjoge1xuICAgIFwicGFnZVwiOiAxLFxuICAgIFwibGltaXRcIjogMTAsXG4gICAgXCJ0b3RhbFwiOiA1LFxuICAgIFwicm93c1wiOiBbXG4gICAgICB7XG4gICAgICAgIFwiaWRcIjogXCIxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDBcIixcbiAgICAgICAgXCJjcmVhdGVkX2F0XCI6IFwiMjAyMy0wNi0wMVQxMjowMDowMFpcIixcbiAgICAgICAgXCJ1cGRhdGVkX2F0XCI6IFwiMjAyMy0wNi0wMVQxMjowMDowMFpcIixcbiAgICAgICAgXCJ1c2VyX2lkXCI6IFwidXNlcjEyM1wiLFxuICAgICAgICBcIm5hbWVcIjogXCJNYXRoIENsYXNzXCIsXG4gICAgICAgIFwiYXZhdGFyX3VybFwiOiBcImh0dHBzOi8vZXhhbXBsZS5jb20vYXZhdGFyLmpwZ1wiXG4gICAgICB9LFxuICAgICAgLy8gTW9yZSBjbGFzc3Jvb21zLi4uXG4gICAgXVxuICB9XG59XG5gYGBcblxuSXMgdGhlcmUgYW55dGhpbmcgZWxzZSB5b3UnZCBsaWtlIG1lIHRvIGV4cGxhaW4gb3IgbW9kaWZ5IGFib3V0IHRoZSBpbXBsZW1lbnRhdGlvbj9cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc2VydmVyL3NlcnZlci5nby5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDI1XHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG4gICAgMjZcdFx0XHRyZXR1cm5cbiAgICAyN1x0XHR9XG4gICAgMjhcdFx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcbiAgICAyOVx0XHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcbiAgICAzMFx0XHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICB1c2VjYXNlLk5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzFcdFx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzMlx0XHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzNcdFx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzRcdFx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzNVx0XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM2XHRcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM3XHRcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZTogIHVzZWNhc2UuTmV3RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzOFx0XHR9KVxuICAgIDM5XHRcbiAgICA0MFx0XHRJbml0Um91dGVyKGFwcCwgaGFuZGxlcilcbiAgICA0MVx0XHR1dGlsLkluaXRWYWxpZGF0ZSgpXG4gICAgNDJcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDEyb1JVOW9HdHJRZnZaWDczaE5vSFFlIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiR3JlYXQhIFdlIGhhdmUgc3VjY2Vzc2Z1bGx5IGltcGxlbWVudGVkIHRoZSBBUEkgZW5kcG9pbnQgdG8gcmV0cmlldmUgY2xhc3Nyb29tcyBvd25lZCBieSBhIHVzZXIuIExldCdzIHN1bW1hcml6ZSB3aGF0IHdlJ3ZlIGRvbmU6XG5cbiMjIFN1bW1hcnkgb2YgQ2hhbmdlc1xuXG4xLiAqKkFkZGVkIGEgbmV3IHJlcG9zaXRvcnkgbWV0aG9kKio6XG4gICAtIEFkZGVkIGBGaWx0ZXJPd25lZENsYXNzcm9vbXNgIHRvIHRoZSBgUmVwb3NpdG9yeWAgaW50ZXJmYWNlXG4gICAtIEltcGxlbWVudGVkIHRoZSBtZXRob2QgaW4gYHJlcG9zaXRvcnkvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29gXG5cbjIuICoqQ3JlYXRlZCBhIG5ldyB1c2UgY2FzZSoqOlxuICAgLSBDcmVhdGVkIGBGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlYCBpbnRlcmZhY2VcbiAgIC0gSW1wbGVtZW50ZWQgdGhlIHVzZSBjYXNlIGluIGB1c2VjYXNlL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvYFxuXG4zLiAqKkFkZGVkIGEgbmV3IGhhbmRsZXIgbWV0aG9kKio6XG4gICAtIEFkZGVkIGBGaWx0ZXJPd25lZENsYXNzcm9vbXNgIHRvIHRoZSBgSGFuZGxlcmAgaW50ZXJmYWNlXG4gICAtIEltcGxlbWVudGVkIHRoZSBoYW5kbGVyIGluIGBoYW5kbGVyL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvYFxuXG40LiAqKlVwZGF0ZWQgdGhlIHJvdXRlcioqOlxuICAgLSBBZGRlZCBhIG5ldyByb3V0ZSBgL2NsYXNzcm9vbS9vd25lZGAgaW4gYHNlcnZlci9yb3V0ZXIuZ29gXG5cbjUuICoqVXBkYXRlZCB0aGUgZGVwZW5kZW5jeSBpbmplY3Rpb24qKjpcbiAgIC0gVXBkYXRlZCB0aGUgYGhhbmRsZXJJbXBsYCBzdHJ1Y3QgaW4gYGhhbmRsZXIvaGFuZGxlci5nb2BcbiAgIC0gVXBkYXRlZCB0aGUgYEluamVjdGAgc3RydWN0IGluIGBoYW5kbGVyL2hhbmRsZXIuZ29gXG4gICAtIFVwZGF0ZWQgdGhlIGRlcGVuZGVuY3kgaW5qZWN0aW9uIGluIGBzZXJ2ZXIvc2VydmVyLmdvYFxuXG4jIyBBUEkgRW5kcG9pbnQgRGV0YWlsc1xuXG4tICoqVVJMKio6IGAvY2xhc3Nyb29tL293bmVkYFxuLSAqKk1ldGhvZCoqOiBHRVRcbi0gKipBdXRoZW50aWNhdGlvbioqOiBSZXF1aXJlZCAoSldUIHRva2VuKVxuLSAqKlF1ZXJ5IFBhcmFtZXRlcnMqKjpcbiAgLSBgcGFnZWA6IFBhZ2UgbnVtYmVyIChvcHRpb25hbClcbiAgLSBgbGltaXRgOiBOdW1iZXIgb2YgaXRlbXMgcGVyIHBhZ2UgKG9wdGlvbmFsKVxuICAtIGBzb3J0YDogU29ydCBvcmRlciAob3B0aW9uYWwsIGRlZmF1bHRzIHRvIFwiY3JlYXRlZF9hdCBERVNDXCIpXG4tICoqUmVzcG9uc2UqKjogQSBwYWdpbmF0ZWQgbGlzdCBvZiBjbGFzc3Jvb21zIG93bmVkIGJ5IHRoZSBhdXRoZW50aWNhdGVkIHVzZXJcblxuIyMgSG93IHRvIFRlc3RcblxuWW91IGNhbiB0ZXN0IHRoaXMgQVBJIGVuZHBvaW50IGJ5IG1ha2luZyBhIEdFVCByZXF1ZXN0IHRvIGAvY2xhc3Nyb29tL293bmVkYCB3aXRoIGEgdmFsaWQgSldUIHRva2VuLiBUaGUgQVBJIHdpbGwgcmV0dXJuIGEgcGFnaW5hdGVkIGxpc3Qgb2YgY2xhc3Nyb29tcyBvd25lZCBieSB0aGUgYXV0aGVudGljYXRlZCB1c2VyLlxuXG5FeGFtcGxlIHJlcXVlc3Q6XG5gYGBcbkdFVCAvY2xhc3Nyb29tL293bmVkP3BhZ2U9MSZsaW1pdD0xMFxuQXV0aG9yaXphdGlvbjogQmVhcmVyIDx5b3VyX2p3dF90b2tlbj5cbmBgYFxuXG5FeGFtcGxlIHJlc3BvbnNlOlxuYGBganNvblxue1xuICBcInN1Y2Nlc3NcIjogdHJ1ZSxcbiAgXCJkYXRhXCI6IHtcbiAgICBcInBhZ2VcIjogMSxcbiAgICBcImxpbWl0XCI6IDEwLFxuICAgIFwidG90YWxcIjogNSxcbiAgICBcInJvd3NcIjogW1xuICAgICAge1xuICAgICAgICBcImlkXCI6IFwiMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwXCIsXG4gICAgICAgIFwiY3JlYXRlZF9hdFwiOiBcIjIwMjMtMDYtMDFUMTI6MDA6MDBaXCIsXG4gICAgICAgIFwidXBkYXRlZF9hdFwiOiBcIjIwMjMtMDYtMDFUMTI6MDA6MDBaXCIsXG4gICAgICAgIFwidXNlcl9pZFwiOiBcInVzZXIxMjNcIixcbiAgICAgICAgXCJuYW1lXCI6IFwiTWF0aCBDbGFzc1wiLFxuICAgICAgICBcImF2YXRhcl91cmxcIjogXCJodHRwczovL2V4YW1wbGUuY29tL2F2YXRhci5qcGdcIlxuICAgICAgfSxcbiAgICAgIC8vIE1vcmUgY2xhc3Nyb29tcy4uLlxuICAgIF1cbiAgfVxufVxuYGBgXG5cbklzIHRoZXJlIGFueXRoaW5nIGVsc2UgeW91J2QgbGlrZSBtZSB0byBleHBsYWluIG9yIG1vZGlmeSBhYm91dCB0aGUgaW1wbGVtZW50YXRpb24/XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InJlcXVlc3RfaWQiOiJlM2M0NTNlZC01Y2NlLTQwMTUtOTk1ZS1iOWFmM2E1ZTg3YTIiLCJ1dWlkIjoiOTY5ZWZlZmUtYTNiYS00N2RhLWI2MGUtNzM3NjgwODYwZDllIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy1jaGVja3BvaW50LWRlbGltaXRlciIsInN0YXR1cyI6InN1Y2Nlc3MiLCJmcm9tVGltZXN0YW1wIjowLCJ0b1RpbWVzdGFtcCI6MTc0NTI1MzE0Nzg3NSwic2Vlbl9zdGF0ZSI6InNlZW4ifV0sImZlZWRiYWNrU3RhdGVzIjp7InRlbXAtZmUtNzczZjI1MTAtNzZiNi00OGRiLWE3MGQtNGRlYTljNjY5Zjg5Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0yZTFjY2MwMS0yY2M3LTRkYTktODRjNS05MTU4OGMyOTQyNDEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWJmYThmYmI3LWUwYjUtNDllMC05YzIzLWNmNGRhYTU5NjdlMCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNzVhMzVlZWEtZDZkYi00OTkyLWE4NmQtNGU4MjQyYWI0YzVmIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS02NjZiOTVjZS01ODAwLTQ4ZjYtOTM0ZC03ZDNkMjk1ZjkxYjciOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWM4OGY5YzUyLWQyZTctNGQ1Yy1hZTViLWQwZWQxYTc3YzUwOSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZWNhOGIwY2QtM2I2NC00NmUzLTg4ODctYmQ2NDQ1MzE1NDBhIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1mM2IxYTFjZS1lMTI0LTQxMTUtODdjNC1hY2RiZDAxNGIyMjYiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTczNzkzYmI5LTFhNjMtNDA1My1hNjc5LTFmNzEzMjQ4OTY3YSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZTU1M2U3M2UtZWZjYS00NzVhLTliYWUtNjZjYTBkYmZiNWM4Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1jYzgyYWQ0NS0wNDNmLTQ2MTMtYjc1MC03MTc2ZGNmOTM2NDgiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWQ0ZTg0Yjc3LTQ0OWQtNGE0OS1hZWRjLTZjZDhiY2ZmMzI4YiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMjhlMWE4YjgtNTIxOS00NDk4LWI1MDQtZTU1NDI1NWUxYmE1Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0yMmJkNmI4NC1jZWNkLTRiYmMtYWNjYS02OWY0YzA2ODMxZDYiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTM1ZTc2OTc1LWJlNzgtNDk1Ni1hMjk4LWMxYjZmMWFjMjdhZiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMmNmZjI4YjEtYzQzNC00ZDM2LWFiY2EtN2E1NmFmZjI3OWViIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS05NWI0OWFjZC0xMjI4LTRhNzMtYjNhZC05NmYxOTdhZjlhODgiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9fSwidG9vbFVzZVN0YXRlcyI6eyI0YTVjYzcxYi04MGUwLTRlYTEtOGJiOC0yOWQ0NWI2MTdhMjU7dG9vbHVfdnJ0eF8wMUVDU3dqVUJhSGpYS3dhZ2dOVUpyS3kiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc2VydmVyL3JvdXRlci5nb1xucGFja2FnZSBzZXJ2ZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2hhbmRsZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG5mdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG5cdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcIi9jbGFzc3Jvb21cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2NyZWF0ZVwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcblxuXHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2hhbmRsZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG50eXBlIEhhbmRsZXIgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAvLyBM4buNYyB0aMOgbmggdmnDqm4gY+G7p2EgbOG7m3AgaOG7jWNcblx0SW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgIC8vIE3hu51pIHRow6BuaCB2acOqbiB2w6BvIGzhu5twIGjhu41jXG5cdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG5cdFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBU4burIGNo4buRaSBs4budaSBt4budaVxuXHRBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gQ2jhuqVwIG5o4bqtbiBs4budaSBt4budaVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxufVxuXG50eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Vcbn1cblxudHlwZSBJbmplY3Qgc3RydWN0IHtcblx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG5cdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxufVxuXG5mdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XG5cdHJldHVybiAmaGFuZGxlckltcGx7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiBpbmplY3QuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UsXG5cdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIGluamVjdC5JbnZpdGVNZW1iZXJVc2VDYXNlLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuUmVqZWN0SW52aXRhdGlvblVzZUNhc2UsXG5cdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcblx0fVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBib2R5IHJlcS5DcmVhdGVDbGFzc3Jvb21SZXF1ZXN0XG5cblx0aWYgZXJyIDo9IGMuQm9keVBhcnNlcigmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHIuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5LkNsYXNzcm9vbUVudGl0eXtcblx0XHRVc2VySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHROYW1lOiAgICAgIHZhbHVlLkdldFZhbHVlKGJvZHkuTmFtZSwgXCJcIiksXG5cdFx0QXZhdGFyVXJsOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkF2YXRhclVybCwgXCJcIiksXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSByLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvc2VydmVyLmdvXG4uLi5cblx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcblx0aGFuZGxlciA6PSBoYW5kbGVyLk5ldygmaGFuZGxlci5JbmplY3R7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIHVzZWNhc2UuTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgdXNlY2FzZS5OZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICB1c2VjYXNlLk5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdH0pXG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tRW50aXR5IHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cblx0VXNlcklEICAgIHN0cmluZyBganNvbjpcInVzZXJfaWRcImBcblx0TmFtZSAgICAgIHN0cmluZyBganNvbjpcIm5hbWVcImBcblx0QXZhdGFyVXJsIHN0cmluZyBganNvbjpcImF2YXRhcl91cmxcImBcbn1cblxuZnVuYyAoYyAqQ2xhc3Nyb29tRW50aXR5KSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXNcIlxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXFcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21SZXF1ZXN0IHN0cnVjdCB7XG5cdE5hbWUgICAgICAqc3RyaW5nIGBqc29uOlwibmFtZVwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0QXZhdGFyVXJsICpzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCIgdmFsaWRhdGU6XCJyZXF1aXJlZCx1cmxcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuVHJhbnNhY3Rpb24oZnVuYyh0eCAqZ29ybS5EQikgZXJyb3Ige1xuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoY2xhc3Nyb29tKS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZSgmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShjbGFzc3Jvb20uSUQsIFwiXCIpLFxuXHRcdFx0VXNlcklEOiAgICAgIGNsYXNzcm9vbS5Vc2VySUQsXG5cdFx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyLFxuXHRcdH0pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRyZXR1cm4gbmlsXG5cdH0pXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRfIFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSB7XG5cdHJldHVybiAmY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jIChjICpjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0aWYgZXJyIDo9IGMuUmVwby5DcmVhdGVDbGFzc3Jvb20oY3R4LCBjbGFzc3Jvb20pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cbi4uLlxuXG50eXBlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG5cdENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG5cdElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcblx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcblx0RmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcblx0R2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpXG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xuLi4uXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgY2xhc3Nyb29tX2lkIHThu6sgVVJMXG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHF1ZXJ5IHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLCBxdWVyeSlcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdGlmIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcikge1xuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0fVxuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZXtSZXBvOiByZXBvfVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbU1lbWJlcnMgW11lbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWRcIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tTWVtYmVycykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tTWVtYmVyc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyUm9sZSBzdHJpbmdcblxuY29uc3QgKFxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlciBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJ0ZWFjaGVyXCJcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwic3R1ZGVudFwiXG4pXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyIHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cdENsYXNzcm9vbUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJjbGFzc3Jvb21faWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFVzZXJJRCAgICAgIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJ1c2VyX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRSb2xlICAgICAgICBDbGFzc3Jvb21NZW1iZXJSb2xlIGBqc29uOlwicm9sZVwiYFxuXHRJbnZpdGVkQnlJRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiaW52aXRlZF9ieV9pZFwiYFxufVxuXG5mdW5jIChjIENsYXNzcm9vbU1lbWJlcikgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVyc1wiXG59XG4uLi5cblBhdGg6IGVudGl0eS9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvblN0YXR1cyBzdHJpbmdcblxuY29uc3QgKFxuXHRJbnZpdGF0aW9uU3RhdHVzUGVuZGluZyAgSW52aXRhdGlvblN0YXR1cyA9IFwicGVuZGluZ1wiXG5cdEludml0YXRpb25TdGF0dXNBY2NlcHRlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJhY2NlcHRlZFwiXG5cdEludml0YXRpb25TdGF0dXNSZWplY3RlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJyZWplY3RlZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvbkVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXHRDbGFzc3Jvb21JRCBzdHJpbmcgICAgICAgICAgIGBqc29uOlwiY2xhc3Nyb29tX2lkXCJgXG5cdFNlbmRlcklEICAgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJzZW5kZXJfaWRcIiBnb3JtOlwiaW5kZXhcImBcblx0UmVjZWl2ZXJJRCAgc3RyaW5nICAgICAgICAgICBganNvbjpcInJlY2VpdmVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFN0YXR1cyAgICAgIEludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBnb3JtOlwiaW5kZXhcImBcbn1cblxuZnVuYyAoSW52aXRhdGlvbkVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHsgcmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5pbnZpdGF0aW9uc1wiIH1cbi4uLlxuUGF0aDogaGFuZGxlci9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgSW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuSW52aXRlTWVtYmVyUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSBoLkludml0ZU1lbWJlclVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e1xuXHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkNsYXNzcm9vbUlELCBcIlwiKSxcblx0XHRTZW5kZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdFJlY2VpdmVySUQ6ICB2YWx1ZS5HZXRWYWx1ZShib2R5LlJlY2VpdmVySUQsIFwiXCIpLFxuXHRcdFN0YXR1czogICAgICBlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIMSRYW5nIGNo4budIHjhu60gbMO9IGhv4bq3YyDEkcOjIMSRxrDhu6NjIGNo4bqlcCBuaOG6rW5cIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgSW52aXRlTWVtYmVyVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGludml0ZU1lbWJlclVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3SW52aXRlTWVtYmVyVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgSW52aXRlTWVtYmVyVXNlQ2FzZSB7XG5cdHJldHVybiAmaW52aXRlTWVtYmVyVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICppbnZpdGVNZW1iZXJVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Ige1xuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGNsYXNzcm9vbSBraMO0bmdcblx0aXNPd25lciwgZXJyIDo9IHUuUmVwby5Jc0NsYXNzcm9vbU93bmVyKGN0eCwgaW52aXRhdGlvbi5DbGFzc3Jvb21JRCwgaW52aXRhdGlvbi5TZW5kZXJJRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNoZWNrIGNsYXNzcm9vbSBvd25lclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRpZiAhaXNPd25lciB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lclxuXHR9XG5cblx0Ly8gS2nhu4NtIHRyYSB4ZW0gbmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIG7DoG8gxJFhbmcg4bufIHRy4bqhbmcgdGjDoWkgcGVuZGluZyBob+G6t2MgYWNjZXB0ZWQgY2jGsGFcblx0ZXhpc3RzLCBlcnIgOj0gdS5SZXBvLklzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCwgaW52aXRhdGlvbi5DbGFzc3Jvb21JRCwgaW52aXRhdGlvbi5SZWNlaXZlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgZXhpc3RpbmcgaW52aXRhdGlvblwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRpZiBleGlzdHMge1xuXHRcdHJldHVybiBxZXJyb3IuRXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvblxuXHR9XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdvcm0uaW8vZ29ybS9jbGF1c2VcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Ige1xuXHQvLyBT4butIGThu6VuZyBjbGF1c2UuT25Db25mbGljdCgpLkRvTm90aGluZygpIMSR4buDIHRyw6FuaCBs4buXaSBraGkgdGjDqm0gdGjDoG5oIHZpw6puIMSRw6MgdOG7k24gdOG6oWlcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5cblx0XHRDbGF1c2VzKGNsYXVzZS5PbkNvbmZsaWN0e0RvTm90aGluZzogdHJ1ZX0pLlxuXHRcdENyZWF0ZShtZW1iZXIpLkVycm9yXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGF0aW9uc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0YXRpb25zVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2ludml0YXRpb24uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5DcmVhdGUoaW52aXRhdGlvbikuRXJyb3Jcbn0uLi5cblBhdGg6IHVzZWNhc2UvYWNjZXB0X2ludml0YXRpb24uZ29cbi4uLlxuXG5cdGlmIGVyciA6PSB1LlJlcG8uQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCwgJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0Q2xhc3Nyb29tSUQ6IGludml0YXRpb24uQ2xhc3Nyb29tSUQsXG5cdFx0VXNlcklEOiAgICAgIGludml0YXRpb24uUmVjZWl2ZXJJRCxcblx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50LFxuXHRcdEludml0ZWRCeUlEOiBpbnZpdGF0aW9uLlNlbmRlcklELFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb20gbWVtYmVyXCIsIHphcC5TdHJpbmcoXCJpbnZpdGF0aW9uIGlkXCIsIGludml0YXRpb25JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmIGVyciA6PSB1LlJlcG8uVXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHgsIGludml0YXRpb25JRCwgZW50aXR5Lkludml0YXRpb25TdGF0dXNBY2NlcHRlZCk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byB1cGRhdGUgaW52aXRhdGlvbiBzdGF0dXNcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2FjY2VwdF9pbnZpdGF0aW9uLmdvXG4uLi5cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdGlmIGVyciA6PSBoLkFjY2VwdEludml0YXRpb25Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGludml0YXRpb25JRCwgdXNlcklEKTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBnb3JtLkVyclJlY29yZE5vdEZvdW5kKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwia2jDtG5nIHTDrG0gdGjhuqV5IGzhu51pIG3hu51pXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdEludml0YXRpb25SZWNlaXZlcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBuw6B5XCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyckludml0YXRpb25Ob3RQZW5kaW5nKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibOG7nWkgbeG7nWkga2jDtG5nIOG7nyB0cuG6oW5nIHRow6FpIGNo4budIHjhu60gbMO9XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvaXNfaW52aXRhdGlvbl9leGlzdGluZy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgSXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKSB7XG5cdHZhciBjb3VudCBpbnQ2NFxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdE1vZGVsKCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZCA9ID8gQU5EIHJlY2VpdmVyX2lkID0gPyBBTkQgc3RhdHVzIElOID9cIiwgY2xhc3Nyb29tSUQsIHJlY2VpdmVySUQsIFtdZW50aXR5Lkludml0YXRpb25TdGF0dXN7ZW50aXR5Lkludml0YXRpb25TdGF0dXNQZW5kaW5nLCBlbnRpdHkuSW52aXRhdGlvblN0YXR1c0FjY2VwdGVkfSkuXG5cdFx0Q291bnQoJmNvdW50KS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIGZhbHNlLCBlcnJcblx0fVxuXHRyZXR1cm4gY291bnQgPiAwLCBuaWxcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9yZWplY3RfaW52aXRhdGlvbi5nb1xuLi4uXG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRpZiBlcnIgOj0gaC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBpbnZpdGF0aW9uSUQsIHVzZXJJRCk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgaGFuZGxlIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIGdvcm0uRXJyUmVjb3JkTm90Rm91bmQpOlxuXHRcdFx0cmV0dXJuIHJlcy5Ob3RGb3VuZChjLCBlcnJvcnMuTmV3KFwia2jDtG5nIHTDrG0gdGjhuqV5IGzhu51pIG3hu51pXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdEludml0YXRpb25SZWNlaXZlcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBuw6B5XCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyckludml0YXRpb25Ob3RQZW5kaW5nKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibOG7nWkgbeG7nWkga2jDtG5nIOG7nyB0cuG6oW5nIHRow6FpIGNo4budIHjhu60gbMO9XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIEludml0ZU1lbWJlclJlcXVlc3Qgc3RydWN0IHtcblx0Q2xhc3Nyb29tSUQgKnN0cmluZyBganNvbjpcImNsYXNzcm9vbV9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0UmVjZWl2ZXJJRCAgKnN0cmluZyBganNvbjpcInJlY2VpdmVyX2lkXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xuLi4uXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uLi4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiOGU0ZTNkNjgtMGFjZC00N2U2LTkxOTktMmVjYWExZDVhZDM4O3Rvb2x1X3ZydHhfMDFIWWFXZk1RbkIxdHR2UnNwMnMyMWtLIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHJlcG9zaXRvcnkvaXNfY2xhc3Nyb29tX293bmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKSB7XG5cdHZhciBjbGFzc3Jvb20gZW50aXR5LkNsYXNzcm9vbUVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiaWQgPSA/IEFORCB1c2VyX2lkID0gP1wiLCBjbGFzc3Jvb21JRCwgdXNlcklEKS5cblx0XHRGaXJzdCgmY2xhc3Nyb29tKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gTuG6v3Uga2jDtG5nIHTDrG0gdGjhuqV5IGLhuqNuIGdoaSwgY8OzIG5naMSpYSBsw6AgbmfGsOG7nWkgZMO5bmcga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdVxuXHRcdHJldHVybiBmYWxzZSwgbmlsXG5cdH1cblx0cmV0dXJuIHRydWUsIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgY2xhc3Nyb29tIGtow7RuZ1xuXHRpc093bmVyLCBlcnIgOj0gdS5SZXBvLklzQ2xhc3Nyb29tT3duZXIoY3R4LCBjbGFzc3Jvb21JRCwgdXNlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgY2xhc3Nyb29tIG93bmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0aWYgIWlzT3duZXIge1xuXHRcdHJldHVybiBuaWwsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lclxuXHR9XG5cblx0Ly8gTOG6pXkgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyBt4budaVxuXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVySW52aXRlZE1lbWJlcnMoY3R4LCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGludml0ZWQgbWVtYmVyc1wiLCB6YXAuU3RyaW5nKFwiY2xhc3Nyb29tIGlkXCIsIGNsYXNzcm9vbUlEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvXG4uLi5cblxudHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxuXHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxuXHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuXHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Jcblx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Jcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcblx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG59XG5cbmZ1bmMgTmV3KHByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlcikgUmVwb3NpdG9yeSB7XG5cdHJldHVybiAmcmVwb3NpdG9yeUltcGx7XG5cdFx0UHJvdmlkZXI6IHByb3ZpZGVyLFxuXHR9XG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21NZW1iZXJzIFtdZW50aXR5LkNsYXNzcm9vbU1lbWJlclxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkXCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbU1lbWJlcnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbU1lbWJlcnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZXtSZXBvOiByZXBvfVxufVxuXG5mdW5jIChmICpmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0cmVzdWx0LCBlcnIgOj0gZi5SZXBvLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4LCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGNsYXNzcm9vbSBtZW1iZXJzXCIsIHphcC5TdHJpbmcoXCJjbGFzc3Jvb20gaWRcIiwgY2xhc3Nyb29tSUQpLCB6YXAuRXJyb3IoKGVycikpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5UcmFuc2FjdGlvbihmdW5jKHR4ICpnb3JtLkRCKSBlcnJvciB7XG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZShjbGFzc3Jvb20pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKCZlbnRpdHkuQ2xhc3Nyb29tTWVtYmVye1xuXHRcdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGNsYXNzcm9vbS5JRCwgXCJcIiksXG5cdFx0XHRVc2VySUQ6ICAgICAgY2xhc3Nyb29tLlVzZXJJRCxcblx0XHRcdFJvbGU6ICAgICAgICBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVRlYWNoZXIsXG5cdFx0fSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdHJldHVybiBuaWxcblx0fSlcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBjbGFzc3Jvb21faWQgdOG7qyBVUkxcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcXVlcnkgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksIHF1ZXJ5KVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0aWYgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKSB7XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHR9XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2lzX2ludml0YXRpb25fZXhpc3RpbmcuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY291bnQgaW50NjRcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRNb2RlbCgmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/IEFORCByZWNlaXZlcl9pZCA9ID8gQU5EIHN0YXR1cyBJTiA/XCIsIGNsYXNzcm9vbUlELCByZWNlaXZlcklELCBbXWVudGl0eS5JbnZpdGF0aW9uU3RhdHVze2VudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZywgZW50aXR5Lkludml0YXRpb25TdGF0dXNBY2NlcHRlZH0pLlxuXHRcdENvdW50KCZjb3VudCkuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBmYWxzZSwgZXJyXG5cdH1cblx0cmV0dXJuIGNvdW50ID4gMCwgbmlsXG59XG4uLi5cblBhdGg6IHNlcnZlci9yb3V0ZXIuZ29cbi4uLlxuXG5mdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG5cdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcIi9jbGFzc3Jvb21cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2NyZWF0ZVwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcblxuXHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxufVxuLi4uXG5QYXRoOiBlbnRpdHkvY2xhc3Nyb29tLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXG50eXBlIENsYXNzcm9vbUVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXG5cdFVzZXJJRCAgICBzdHJpbmcgYGpzb246XCJ1c2VyX2lkXCJgXG5cdE5hbWUgICAgICBzdHJpbmcgYGpzb246XCJuYW1lXCJgXG5cdEF2YXRhclVybCBzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCJgXG59XG5cbmZ1bmMgKGMgKkNsYXNzcm9vbUVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21zXCJcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHRxdWVyeSA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJyZWNlaXZlcl9pZCA9ID9cIiwgcmVjZWl2ZXJJRClcblxuXHQvLyBM4buNYyB0aGVvIHN0YXR1cyBu4bq/dSBjw7Ncblx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdHF1ZXJ5ID0gcXVlcnkuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHR9XG5cblx0dmFyIGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0aWYgZXJyIDo9IHF1ZXJ5LlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuLi4uXG5QYXRoOiBoYW5kbGVyL2hhbmRsZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG50eXBlIEhhbmRsZXIgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAvLyBM4buNYyB0aMOgbmggdmnDqm4gY+G7p2EgbOG7m3AgaOG7jWNcblx0SW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgIC8vIE3hu51pIHRow6BuaCB2acOqbiB2w6BvIGzhu5twIGjhu41jXG5cdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG5cdFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBU4burIGNo4buRaSBs4budaSBt4budaVxuXHRBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gQ2jhuqVwIG5o4bqtbiBs4budaSBt4budaVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxufVxuXG50eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Vcbn1cblxudHlwZSBJbmplY3Qgc3RydWN0IHtcblx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG5cdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxufVxuXG5mdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XG5cdHJldHVybiAmaGFuZGxlckltcGx7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiBpbmplY3QuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UsXG5cdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIGluamVjdC5JbnZpdGVNZW1iZXJVc2VDYXNlLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuUmVqZWN0SW52aXRhdGlvblVzZUNhc2UsXG5cdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcblx0fVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0YXRpb25zVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckludml0YXRpb25zKGN0eCwgcmVjZWl2ZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGludml0YXRpb25zXCIsIHphcC5TdHJpbmcoXCJyZWNlaXZlciBpZFwiLCByZWNlaXZlcklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRfIFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSB7XG5cdHJldHVybiAmY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jIChjICpjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0aWYgZXJyIDo9IGMuUmVwby5DcmVhdGVDbGFzc3Jvb20oY3R4LCBjbGFzc3Jvb20pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBJbnZpdGVNZW1iZXJVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgaW52aXRlTWVtYmVyVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBJbnZpdGVNZW1iZXJVc2VDYXNlIHtcblx0cmV0dXJuICZpbnZpdGVNZW1iZXJVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKmludml0ZU1lbWJlclVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvciB7XG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgY2xhc3Nyb29tIGtow7RuZ1xuXHRpc093bmVyLCBlcnIgOj0gdS5SZXBvLklzQ2xhc3Nyb29tT3duZXIoY3R4LCBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELCBpbnZpdGF0aW9uLlNlbmRlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgY2xhc3Nyb29tIG93bmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmICFpc093bmVyIHtcblx0XHRyZXR1cm4gcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyXG5cdH1cblxuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgbsOgbyDEkWFuZyDhu58gdHLhuqFuZyB0aMOhaSBwZW5kaW5nIGhv4bq3YyBhY2NlcHRlZCBjaMawYVxuXHRleGlzdHMsIGVyciA6PSB1LlJlcG8uSXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4LCBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELCBpbnZpdGF0aW9uLlJlY2VpdmVySUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjaGVjayBleGlzdGluZyBpbnZpdGF0aW9uXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmIGV4aXN0cyB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uXG5cdH1cbi4uLlxuUGF0aDogaGFuZGxlci9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuQ3JlYXRlQ2xhc3Nyb29tUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSByLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5DbGFzc3Jvb21FbnRpdHl7XG5cdFx0VXNlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0TmFtZTogICAgICB2YWx1ZS5HZXRWYWx1ZShib2R5Lk5hbWUsIFwiXCIpLFxuXHRcdEF2YXRhclVybDogdmFsdWUuR2V0VmFsdWUoYm9keS5BdmF0YXJVcmwsIFwiXCIpLFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaW52aXRlX21lbWJlci5nb1xuLi4uXG5cblx0aWYgZXJyIDo9IGguSW52aXRlTWVtYmVyVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5Lkludml0YXRpb25FbnRpdHl7XG5cdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGJvZHkuQ2xhc3Nyb29tSUQsIFwiXCIpLFxuXHRcdFNlbmRlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0UmVjZWl2ZXJJRDogIHZhbHVlLkdldFZhbHVlKGJvZHkuUmVjZWl2ZXJJRCwgXCJcIiksXG5cdFx0U3RhdHVzOiAgICAgIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZyxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRzd2l0Y2gge1xuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyclJlY2VpdmVyQWxyZWFkeUhhc0ludml0YXRpb24pOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgxJFhbmcgY2jhu50geOG7rSBsw70gaG/hurdjIMSRw6MgxJHGsOG7o2MgY2jhuqVwIG5o4bqtblwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2FjY2VwdF9pbnZpdGF0aW9uLmdvXG4uLi5cblxuXHRpZiBlcnIgOj0gdS5SZXBvLkNyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHgsICZlbnRpdHkuQ2xhc3Nyb29tTWVtYmVye1xuXHRcdENsYXNzcm9vbUlEOiBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELFxuXHRcdFVzZXJJRDogICAgICBpbnZpdGF0aW9uLlJlY2VpdmVySUQsXG5cdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCxcblx0XHRJbnZpdGVkQnlJRDogaW52aXRhdGlvbi5TZW5kZXJJRCxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2xhc3Nyb29tIG1lbWJlclwiLCB6YXAuU3RyaW5nKFwiaW52aXRhdGlvbiBpZFwiLCBpbnZpdGF0aW9uSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyLi4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMzAwNDIzM2EtZWJiNi00Y2I4LWE2ZDMtNzdlZjIyYzYyZjljO3Rvb2x1X3ZydHhfMDE4WWk1UDJRdjhYckZzN01NSmpyYnZ4Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gbW9kZWwvcmVxL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvOlxuICAgICAxXHRwYWNrYWdlIHJlcVxuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbiAgICAgNFx0XG4gICAgIDVcdHR5cGUgRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxIHN0cnVjdCB7XG4gICAgIDZcdFx0cmVxLlBhZ2luYXRpb25SZXFcbiAgICAgN1x0fVxuICAgICA4XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDhcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjFkZWI2YzYzLTMwOWQtNDY4ZC04NzI2LTY2ZWNhY2Y4MjhlYzt0b29sdV92cnR4XzAxM2p0RW16QnZpRWFLVVpIWjhwTmJ0ViI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuXG50eXBlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG5cdENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG5cdElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcblx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcblx0RmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcblx0R2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpXG5cdFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvclxuXHRDcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgbWVtYmVyICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyKSBlcnJvclxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSByZXBvc2l0b3J5SW1wbCBzdHJ1Y3Qge1xuXHRQcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXJcbn1cblxuZnVuYyBOZXcocHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyKSBSZXBvc2l0b3J5IHtcblx0cmV0dXJuICZyZXBvc2l0b3J5SW1wbHtcblx0XHRQcm92aWRlcjogcHJvdmlkZXIsXG5cdH1cbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfaW52aXRhdGlvbi5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLkNyZWF0ZShpbnZpdGF0aW9uKS5FcnJvclxufS4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHRxdWVyeSA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJyZWNlaXZlcl9pZCA9ID9cIiwgcmVjZWl2ZXJJRClcblxuXHQvLyBM4buNYyB0aGVvIHN0YXR1cyBu4bq/dSBjw7Ncblx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdHF1ZXJ5ID0gcXVlcnkuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHR9XG5cblx0dmFyIGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0aWYgZXJyIDo9IHF1ZXJ5LlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGludml0YXRpb25zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0Z29ybTIgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIChcblx0XHRwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHlde1xuXHRcdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0XHR9XG5cdFx0aW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHQpXG5cblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZCA9ID9cIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3BlcyhmdW5jKGRiICpnb3JtLkRCKSAqZ29ybS5EQiB7XG5cdFx0XHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0XHRcdHJldHVybiBkYi5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZGJcblx0XHR9LCBnb3JtMi5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmludml0YXRpb25zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBpbnZpdGF0aW9uc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2dldF9pbnZpdGF0aW9uX2J5X2lkLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcikge1xuXHR2YXIgaW52aXRhdGlvbiBlbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiaWQgPSA/XCIsIGludml0YXRpb25JRCkuXG5cdFx0Rmlyc3QoJmludml0YXRpb24pLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gJmludml0YXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2lzX2ludml0YXRpb25fZXhpc3RpbmcuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY291bnQgaW50NjRcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRNb2RlbCgmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/IEFORCByZWNlaXZlcl9pZCA9ID8gQU5EIHN0YXR1cyBJTiA/XCIsIGNsYXNzcm9vbUlELCByZWNlaXZlcklELCBbXWVudGl0eS5JbnZpdGF0aW9uU3RhdHVze2VudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZywgZW50aXR5Lkludml0YXRpb25TdGF0dXNBY2NlcHRlZH0pLlxuXHRcdENvdW50KCZjb3VudCkuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBmYWxzZSwgZXJyXG5cdH1cblx0cmV0dXJuIGNvdW50ID4gMCwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tTWVtYmVycyBbXWVudGl0eS5DbGFzc3Jvb21NZW1iZXJcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZFwiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21NZW1iZXJzKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21NZW1iZXJzXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvdXBkYXRlX2ludml0YXRpb25fc3RhdHVzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdE1vZGVsKCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9KS5cblx0XHRXaGVyZShcImlkID0gP1wiLCBpbnZpdGF0aW9uSUQpLlxuXHRcdFVwZGF0ZShcInN0YXR1c1wiLCBzdGF0dXMpLlxuXHRcdEVycm9yXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvaXNfY2xhc3Nyb29tX293bmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKSB7XG5cdHZhciBjbGFzc3Jvb20gZW50aXR5LkNsYXNzcm9vbUVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiaWQgPSA/IEFORCB1c2VyX2lkID0gP1wiLCBjbGFzc3Jvb21JRCwgdXNlcklEKS5cblx0XHRGaXJzdCgmY2xhc3Nyb29tKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gTuG6v3Uga2jDtG5nIHTDrG0gdGjhuqV5IGLhuqNuIGdoaSwgY8OzIG5naMSpYSBsw6AgbmfGsOG7nWkgZMO5bmcga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdVxuXHRcdHJldHVybiBmYWxzZSwgbmlsXG5cdH1cblx0cmV0dXJuIHRydWUsIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnb3JtLmlvL2dvcm0vY2xhdXNlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yIHtcblx0Ly8gU+G7rSBk4bulbmcgY2xhdXNlLk9uQ29uZmxpY3QoKS5Eb05vdGhpbmcoKSDEkeG7gyB0csOhbmggbOG7l2kga2hpIHRow6ptIHRow6BuaCB2acOqbiDEkcOjIHThu5NuIHThuqFpXG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuXG5cdFx0Q2xhdXNlcyhjbGF1c2UuT25Db25mbGljdHtEb05vdGhpbmc6IHRydWV9KS5cblx0XHRDcmVhdGUobWVtYmVyKS5FcnJvclxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL3JlamVjdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgUmVqZWN0SW52aXRhdGlvblVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSBlcnJvclxufVxuXG50eXBlIHJlamVjdEludml0YXRpb25Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSB7XG5cdHJldHVybiAmcmVqZWN0SW52aXRhdGlvblVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9hY2NlcHRfaW52aXRhdGlvbi5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEFjY2VwdEludml0YXRpb25Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgdXNlcklEIHN0cmluZykgZXJyb3Jcbn1cblxudHlwZSBhY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgQWNjZXB0SW52aXRhdGlvblVzZUNhc2Uge1xuXHRyZXR1cm4gJmFjY2VwdEludml0YXRpb25Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG4uLi5cblBhdGg6IHNlcnZlci9zZXJ2ZXIuZ29cbnBhY2thZ2Ugc2VydmVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyL21pZGRsZXdhcmUvcmVjb3ZlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG5mdW5jIFJ1bihzZXJ2aWNlQ29uZmlnICptb2RlbC5TZXJ2aWNlQ29uZmlnKSB7XG5cdGFwcCA6PSBmaWJlci5OZXcoZmliZXIuQ29uZmlne1xuXHRcdEVuYWJsZVByaW50Um91dGVzOiB0cnVlLFxuXHR9KVxuXHRhcHAuVXNlKHJlY292ZXIuTmV3KCkpXG5cblx0cHJvdmlkZXIsIGVyciA6PSBwcm92aWRlci5Jbml0KHNlcnZpY2VDb25maWcpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBpbml0IHByb3ZpZGVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG5cdHJlcG9zaXRvcnkgOj0gcmVwb3NpdG9yeS5OZXcocHJvdmlkZXIpXG5cdGhhbmRsZXIgOj0gaGFuZGxlci5OZXcoJmhhbmRsZXIuSW5qZWN0e1xuXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICB1c2VjYXNlLk5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IHVzZWNhc2UuTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIHVzZWNhc2UuTmV3SW52aXRlTWVtYmVyVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIHVzZWNhc2UuTmV3UmVqZWN0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIHVzZWNhc2UuTmV3QWNjZXB0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHR9KVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBJbnZpdGVNZW1iZXJVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgaW52aXRlTWVtYmVyVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBJbnZpdGVNZW1iZXJVc2VDYXNlIHtcblx0cmV0dXJuICZpbnZpdGVNZW1iZXJVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG4uLi5cblBhdGg6IHByb3ZpZGVyL3Byb3ZpZGVyLmdvXG5wYWNrYWdlIHByb3ZpZGVyXG5cbmltcG9ydCAoXG5cdFwiZ2l0aHViLmNvbS9uZWRwYWxzL3N1cGFiYXNlLWdvXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3Byb3ZpZGVyL2RhdGFiYXNlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG50eXBlIFByb3ZpZGVyIHN0cnVjdCB7XG5cdERiICAgICAgICAgICAgICpnb3JtLkRCXG5cdFN1cGFiYXNlQ2xpZW50ICpzdXBhYmFzZS5DbGllbnRcbn1cblxuZnVuYyBJbml0KHNlcnZpY2VDb25maWcgKm1vZGVsLlNlcnZpY2VDb25maWcpICgqUHJvdmlkZXIsIGVycm9yKSB7XG5cdGRiLCBlcnIgOj0gZGF0YWJhc2UuTmV3UG9zdGdyZXNEQihcblx0XHRzZXJ2aWNlQ29uZmlnLkRiSG9zdCxcblx0XHRzZXJ2aWNlQ29uZmlnLkRiUG9ydCxcblx0XHRzZXJ2aWNlQ29uZmlnLkRiVXNlcixcblx0XHRzZXJ2aWNlQ29uZmlnLkRiUGFzc3dvcmQsXG5cdFx0c2VydmljZUNvbmZpZy5EYk5hbWUsXG5cdClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRzdXBhYmFzZUNsaWVudCA6PSBzdXBhYmFzZS5DcmVhdGVDbGllbnQoXG5cdFx0c2VydmljZUNvbmZpZy5TdXBiYXNlVXJsLFxuXHRcdHNlcnZpY2VDb25maWcuU3VwYWJhc2VBbm9uS2V5LFxuXHQpXG5cblx0cmV0dXJuICZQcm92aWRlcntcblx0XHREYjogICAgICAgICAgICAgZGIsXG5cdFx0U3VwYWJhc2VDbGllbnQ6IHN1cGFiYXNlQ2xpZW50LFxuXHR9LCBuaWxcbn1cbi4uLlxuUGF0aDogc2VydmVyL3JvdXRlci5nb1xucGFja2FnZSBzZXJ2ZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2hhbmRsZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuLi4uXG5QYXRoOiBjbWQvcm9vdC5nb1xuLypcbkNvcHlyaWdodCDCqSAyMDI1IE5BTUUgSEVSRSA8RU1BSUwgQUREUkVTUz5cbiovXG5wYWNrYWdlIGNtZFxuXG5pbXBvcnQgKFxuXHRcIm9zXCJcblxuXHRcImdpdGh1Yi5jb20vc3BmMTMvY29icmFcIlxuKVxuXG4vLyByb290Q21kIHJlcHJlc2VudHMgdGhlIGJhc2UgY29tbWFuZCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBzdWJjb21tYW5kc1xudmFyIHJvb3RDbWQgPSAmY29icmEuQ29tbWFuZHtcblx0VXNlOiAgIFwicXVpenp5LWNsYXNzcm9vbVwiLFxuXHRTaG9ydDogXCJBIGJyaWVmIGRlc2NyaXB0aW9uIG9mIHlvdXIgYXBwbGljYXRpb25cIixcblx0TG9uZzogYEEgbG9uZ2VyIGRlc2NyaXB0aW9uIHRoYXQgc3BhbnMgbXVsdGlwbGUgbGluZXMgYW5kIGxpa2VseSBjb250YWluc1xuZXhhbXBsZXMgYW5kIHVzYWdlIG9mIHVzaW5nIHlvdXIgYXBwbGljYXRpb24uIEZvciBleGFtcGxlOlxuXG5Db2JyYSBpcyBhIENMSSBsaWJyYXJ5IGZvciBHbyB0aGF0IGVtcG93ZXJzIGFwcGxpY2F0aW9ucy5cblRoaXMgYXBwbGljYXRpb24gaXMgYSB0b29sIHRvIGdlbmVyYXRlIHRoZSBuZWVkZWQgZmlsZXNcbnRvIHF1aWNrbHkgY3JlYXRlIGEgQ29icmEgYXBwbGljYXRpb24uYCxcblx0Ly8gVW5jb21tZW50IHRoZSBmb2xsb3dpbmcgbGluZSBpZiB5b3VyIGJhcmUgYXBwbGljYXRpb25cblx0Ly8gaGFzIGFuIGFjdGlvbiBhc3NvY2lhdGVkIHdpdGggaXQ6XG5cdC8vIFJ1bjogZnVuYyhjbWQgKmNvYnJhLkNvbW1hbmQsIGFyZ3MgW11zdHJpbmcpIHsgfSxcbn1cblxuLy8gRXhlY3V0ZSBhZGRzIGFsbCBjaGlsZCBjb21tYW5kcyB0byB0aGUgcm9vdCBjb21tYW5kIGFuZCBzZXRzIGZsYWdzIGFwcHJvcHJpYXRlbHkuXG4vLyBUaGlzIGlzIGNhbGxlZCBieSBtYWluLm1haW4oKS4gSXQgb25seSBuZWVkcyB0byBoYXBwZW4gb25jZSB0byB0aGUgcm9vdENtZC5cbmZ1bmMgRXhlY3V0ZSgpIHtcblx0ZXJyIDo9IHJvb3RDbWQuRXhlY3V0ZSgpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdG9zLkV4aXQoMSlcblx0fVxufVxuXG5mdW5jIGluaXQoKSB7XG5cdC8vIEhlcmUgeW91IHdpbGwgZGVmaW5lIHlvdXIgZmxhZ3MgYW5kIGNvbmZpZ3VyYXRpb24gc2V0dGluZ3MuXG5cdC8vIENvYnJhIHN1cHBvcnRzIHBlcnNpc3RlbnQgZmxhZ3MsIHdoaWNoLCBpZiBkZWZpbmVkIGhlcmUsXG5cdC8vIHdpbGwgYmUgZ2xvYmFsIGZvciB5b3VyIGFwcGxpY2F0aW9uLlxuXG5cdC8vIHJvb3RDbWQuUGVyc2lzdGVudEZsYWdzKCkuU3RyaW5nVmFyKCZjZmdGaWxlLCBcImNvbmZpZ1wiLCBcIlwiLCBcImNvbmZpZyBmaWxlIChkZWZhdWx0IGlzICRIT01FLy5xdWl6enktY2xhc3Nyb29tLnlhbWwpXCIpXG5cblx0Ly8gQ29icmEgYWxzbyBzdXBwb3J0cyBsb2NhbCBmbGFncywgd2hpY2ggd2lsbCBvbmx5IHJ1blxuXHQvLyB3aGVuIHRoaXMgYWN0aW9uIGlzIGNhbGxlZCBkaXJlY3RseS5cblx0cm9vdENtZC5GbGFncygpLkJvb2xQKFwidG9nZ2xlXCIsIFwidFwiLCBmYWxzZSwgXCJIZWxwIG1lc3NhZ2UgZm9yIHRvZ2dsZVwiKVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0YXRpb25zVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuLi4uXG5QYXRoOiBtaWdyYXRlL21pZ3JhdGUuZ29cbnBhY2thZ2UgbWlncmF0ZVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxuZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuXHRwcm92aWRlciwgZXJyIDo9IHByb3ZpZGVyLkluaXQoc2VydmljZUNvbmZpZylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRpZiBlcnIgOj0gcHJvdmlkZXIuRGIuQXV0b01pZ3JhdGUoXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21FbnRpdHl7fSxcblx0XHQmZW50aXR5LkNsYXNzcm9vbU1lbWJlcnt9LFxuXHRcdCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9LFxuXHQpOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gbWlncmF0ZSBkYXRhYmFzZVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuXG5cdGxvZ2dlci5JbmZvKFwibWlncmF0ZSBkYXRhYmFzZSBzdWNjZXNzXCIpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvcmVqZWN0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBJRCBj4bunYSBpbnZpdGF0aW9uIHThu6sgVVJMXG5cdGludml0YXRpb25JRCA6PSBjLlBhcmFtcyhcImlkXCIpXG5cdGlmIGludml0YXRpb25JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImlkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG4uLi5cblBhdGg6IGhhbmRsZXIvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcbi4uLlxuUGF0aDogdXNlY2FzZS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdF8gXCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIHtcblx0cmV0dXJuICZjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKGMgKmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRpZiBlcnIgOj0gYy5SZXBvLkNyZWF0ZUNsYXNzcm9vbShjdHgsIGNsYXNzcm9vbSk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2xhc3Nyb29tXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IGNtZC9zZXJ2ZS5nb1xuLypcbkNvcHlyaWdodCDCqSAyMDI1IE5BTUUgSEVSRSA8RU1BSUwgQUREUkVTUz5cbiovXG5wYWNrYWdlIGNtZFxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2NvbmZpZ1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWxcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vc2VydmVyXCJcblxuXHRcImdpdGh1Yi5jb20vc3BmMTMvY29icmFcIlxuKVxuXG4vLyBzZXJ2ZUNtZCByZXByZXNlbnRzIHRoZSBzZXJ2ZSBjb21tYW5kXG52YXIgc2VydmVDbWQgPSAmY29icmEuQ29tbWFuZHtcblx0VXNlOiAgIFwic2VydmVcIixcblx0U2hvcnQ6IFwiQSBicmllZiBkZXNjcmlwdGlvbiBvZiB5b3VyIGNvbW1hbmRcIixcblx0TG9uZzogYEEgbG9uZ2VyIGRlc2NyaXB0aW9uIHRoYXQgc3BhbnMgbXVsdGlwbGUgbGluZXMgYW5kIGxpa2VseSBjb250YWlucyBleGFtcGxlc1xuYW5kIHVzYWdlIG9mIHVzaW5nIHlvdXIgY29tbWFuZC4gRm9yIGV4YW1wbGU6XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2V7UmVwbzogcmVwb31cbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbS5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblxudHlwZSBDbGFzc3Jvb21FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblxuXHRVc2VySUQgICAgc3RyaW5nIGBqc29uOlwidXNlcl9pZFwiYFxuXHROYW1lICAgICAgc3RyaW5nIGBqc29uOlwibmFtZVwiYFxuXHRBdmF0YXJVcmwgc3RyaW5nIGBqc29uOlwiYXZhdGFyX3VybFwiYFxufVxuXG5mdW5jIChjICpDbGFzc3Jvb21FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7XG5cdHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tc1wiXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG4uLi5cblBhdGg6IGVudGl0eS9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvblN0YXR1cyBzdHJpbmdcblxuY29uc3QgKFxuXHRJbnZpdGF0aW9uU3RhdHVzUGVuZGluZyAgSW52aXRhdGlvblN0YXR1cyA9IFwicGVuZGluZ1wiXG5cdEludml0YXRpb25TdGF0dXNBY2NlcHRlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJhY2NlcHRlZFwiXG5cdEludml0YXRpb25TdGF0dXNSZWplY3RlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJyZWplY3RlZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvbkVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXHRDbGFzc3Jvb21JRCBzdHJpbmcgICAgICAgICAgIGBqc29uOlwiY2xhc3Nyb29tX2lkXCJgXG5cdFNlbmRlcklEICAgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJzZW5kZXJfaWRcIiBnb3JtOlwiaW5kZXhcImBcblx0UmVjZWl2ZXJJRCAgc3RyaW5nICAgICAgICAgICBganNvbjpcInJlY2VpdmVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFN0YXR1cyAgICAgIEludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBnb3JtOlwiaW5kZXhcImBcbn1cblxuZnVuYyAoSW52aXRhdGlvbkVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHsgcmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5pbnZpdGF0aW9uc1wiIH1cbi4uLlxuUGF0aDogaGFuZGxlci9oYW5kbGVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcblxudHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAvLyBU4bqhbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTOG7jWMgdGjDoG5oIHZpw6puIGPhu6dhIGzhu5twIGjhu41jXG5cdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4budaSBt4budaVxuXHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gVOG7qyBjaOG7kWkgbOG7nWkgbeG7nWlcblx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIEzhu41jIGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgxJHGsOG7o2MgbeG7nWlcbn1cbi4uLlxuUGF0aDogY21kL21pZ3JhdGUuZ29cbi8qXG5Db3B5cmlnaHQgwqkgMjAyNSBOQU1FIEhFUkUgPEVNQUlMIEFERFJFU1M+XG4qL1xucGFja2FnZSBjbWRcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9jb25maWdcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21pZy4uLiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjIxMjkzNDBkLWQzNjMtNDNjZi05MWM3LTQ4YmNlNDk4MjdiNTt0b29sdV92cnR4XzAxODFpR0Z1UEJnc3JiVjVlUGkzdjczZCI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nby5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgICA4XHRcbiAgICAgOVx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4gICAgMTBcdClcbiAgICAxMVx0XG4gICAgMTJcdHR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuICAgIDEzXHRcdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG4gICAgMTRcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG4gICAgMTVcdFx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3JcbiAgICAxNlx0XHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG4gICAgMTdcdFx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcbiAgICAxOFx0XHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuICAgIDE5XHRcdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuICAgIDIwXHRcdFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvclxuICAgIDIxXHRcdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG4gICAgMjJcdFx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG4gICAgMjNcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbiAgICAyNFx0fVxuICAgIDI1XHRcbiAgICAyNlx0dHlwZSByZXBvc2l0b3J5SW1wbCBzdHJ1Y3Qge1xuICAgIDI3XHRcdFByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlclxuICAgIDI4XHR9XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImVmMzhhOTBhLWFkODctNGQ0My1iNjNhLTBmNTYyOWZkODVjZjt0b29sdV92cnR4XzAxMW9paDFVNTN0U0o3d0o5MjVkYmM1MiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJmODRkNTJjZi0xNDMwLTQ2M2EtOTBmOS01ZGFlNTU5ZjZiNDI7dG9vbHVfdnJ0eF8wMTJqNkVKQzFjTGJXZVRtazhmZDI2Q0QiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZTUyODkyNTctMTI4ZS00YWI2LWI5ZWQtMWE0OGY5ODYwZGRiO3Rvb2x1X3ZydHhfMDFTd2VBS2NRNUNQakVVMktoWWpBbjkzIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgaGFuZGxlci9oYW5kbGVyLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDVcdFxuICAgICA2XHRcdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbiAgICAgN1x0KVxuICAgICA4XHRcbiAgICAgOVx0dHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG4gICAgMTBcdFx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG4gICAgMTFcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuICAgIDEyXHRcdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuICAgIDEzXHRcdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG4gICAgMTRcdFx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG4gICAgMTVcdFx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcbiAgICAxNlx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxuICAgIDE3XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3VcbiAgICAxOFx0fVxuICAgIDE5XHRcbiAgICAyMFx0dHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xuICAgIDIxXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuICAgIDIyXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiN2FmYTBlMGQtYWM2MS00MmNiLWIxNWItN2Q1NTMwNDJmMzExO3Rvb2x1X3ZydHhfMDFRM0p2Mlk3Q254dm5zWGJpQzdYZHRwIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgaGFuZGxlci9oYW5kbGVyLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgMTZcdFx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIEzhu41jIGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgxJHGsOG7o2MgbeG7nWlcbiAgICAxN1x0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691XG4gICAgMThcdH1cbiAgICAxOVx0XG4gICAgMjBcdHR5cGUgaGFuZGxlckltcGwgc3RydWN0IHtcbiAgICAyMVx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VcbiAgICAyMlx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG4gICAgMjNcdFx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG4gICAgMjRcdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VcbiAgICAyNVx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG4gICAgMjZcdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuICAgIDI3XHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG4gICAgMjhcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXG4gICAgMjlcdH1cbiAgICAzMFx0XG4gICAgMzFcdHR5cGUgSW5qZWN0IHN0cnVjdCB7XG4gICAgMzJcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG4gICAgMzNcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI1Njg3Y2QxMi04NDQ4LTRkNzUtYTMxMC0yYmIwOWQ5MjE0Mjc7dG9vbHVfdnJ0eF8wMTVnNFJQNmVhNnlzTU1uS2lYUXV2Z04iOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBoYW5kbGVyL2hhbmRsZXIuZ28uXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAyN1x0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxuICAgIDI4XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgIHVzZWNhc2UuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZVxuICAgIDI5XHR9XG4gICAgMzBcdFxuICAgIDMxXHR0eXBlIEluamVjdCBzdHJ1Y3Qge1xuICAgIDMyXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuICAgIDMzXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcbiAgICAzNFx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2VcbiAgICAzNVx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuICAgIDM2XHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2VcbiAgICAzN1x0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG4gICAgMzhcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VcbiAgICAzOVx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VcbiAgICA0MFx0fVxuICAgIDQxXHRcbiAgICA0Mlx0ZnVuYyBOZXcoaW5qZWN0ICpJbmplY3QpIEhhbmRsZXIge1xuICAgIDQzXHRcdHJldHVybiAmaGFuZGxlckltcGx7XG4gICAgNDRcdFx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImE0ZGZlMzUzLTdjOTItNDJmYi05MTgyLTMzZjMzODczMTRhNDt0b29sdV92cnR4XzAxQk4zUGk3WVc2blJDdmZDU05Ea2ZFZyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIGhhbmRsZXIvaGFuZGxlci5nby5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDM4XHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG4gICAgMzlcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXG4gICAgNDBcdH1cbiAgICA0MVx0XG4gICAgNDJcdGZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcbiAgICA0M1x0XHRyZXR1cm4gJmhhbmRsZXJJbXBse1xuICAgIDQ0XHRcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuICAgIDQ1XHRcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcbiAgICA0Nlx0XHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICBpbmplY3QuSW52aXRlTWVtYmVyVXNlQ2FzZSxcbiAgICA0N1x0XHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxuICAgIDQ4XHRcdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcbiAgICA0OVx0XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuQWNjZXB0SW52aXRhdGlvblVzZUNhc2UsXG4gICAgNTBcdFx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcbiAgICA1MVx0XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2U6ICBpbmplY3QuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSxcbiAgICA1Mlx0XHR9XG4gICAgNTNcdH1cbiAgICA1NFx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImIxZTY2MWJiLTk3ZDctNDg4Yy1iNzRlLTQyZmU0ZGU3ZWMxMTt0b29sdV92cnR4XzAxVk51QlRaTGRSbThKVzQ5ZGZCdWE4RiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIyYTA3NDdmNy0yNzlkLTQ3MDQtYjUxOC1kNzExNWNmYTc3ZDM7dG9vbHVfdnJ0eF8wMUticlVaalp2alVROXZQaktDcG9NMVciOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzZXJ2ZXIvcm91dGVyLmdvOlxuICAgICAxXHRwYWNrYWdlIHNlcnZlclxuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IChcbiAgICAgNFx0XHRcInF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlclwiXG4gICAgIDVcdFxuICAgICA2XHRcdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZVwiXG4gICAgIDdcdFxuICAgICA4XHRcdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbiAgICAgOVx0KVxuICAgIDEwXHRcbiAgICAxMVx0ZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xuICAgIDEyXHRcdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcIi9jbGFzc3Jvb21cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuICAgIDEzXHRcdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvY3JlYXRlXCIsIGhhbmRsZXIuQ3JlYXRlQ2xhc3Nyb29tKVxuICAgIDE0XHRcdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvaW52aXRlXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxuICAgIDE1XHRcdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxuICAgIDE2XHRcdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzKVxuICAgIDE3XHRcbiAgICAxOFx0XHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuICAgIDE5XHRcdGludml0YXRpb25Hcm91cC5HZXQoXCIvZmlsdGVyXCIsIGhhbmRsZXIuRmlsdGVySW52aXRhdGlvbnMpXG4gICAgMjBcdFx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9yZWplY3QvOmlkXCIsIGhhbmRsZXIuUmVqZWN0SW52aXRhdGlvbilcbiAgICAyMVx0XHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxuICAgIDIyXHR9XG4gICAgMjNcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMjNcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImNkZjljOGMxLTAxNzUtNGFkNS05YTU1LTdhMzhiMGIwMThhYjt0b29sdV92cnR4XzAxRUhFVWtWcEVBOUNzaURHckVuOURqbiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNlcnZlci9yb3V0ZXIuZ28uXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgN1x0XG4gICAgIDhcdFx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuICAgICA5XHQpXG4gICAgMTBcdFxuICAgIDExXHRmdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG4gICAgMTJcdFx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG4gICAgMTNcdFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG4gICAgMTRcdFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG4gICAgMTVcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG4gICAgMTZcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG4gICAgMTdcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiL293bmVkXCIsIGhhbmRsZXIuRmlsdGVyT3duZWRDbGFzc3Jvb21zKVxuICAgIDE4XHRcbiAgICAxOVx0XHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuICAgIDIwXHRcdGludml0YXRpb25Hcm91cC5HZXQoXCIvZmlsdGVyXCIsIGhhbmRsZXIuRmlsdGVySW52aXRhdGlvbnMpXG4gICAgMjFcdFx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9yZWplY3QvOmlkXCIsIGhhbmRsZXIuUmVqZWN0SW52aXRhdGlvbilcbiAgICAyMlx0XHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxuICAgIDIzXHR9XG4gICAgMjRcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIxMDQxYmM2NS1mN2YyLTQ1OGUtOTYyMC03YWFhYzNmYThhNTU7dG9vbHVfdnJ0eF8wMTREZTZwWjZyWVFvQ2lSVzVrR3EzWUEiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiTm90ZTpcbkVuZCBsaW5lIDUwIGV4Y2VlZHMgZmlsZSBsZW5ndGggKDQ3KS4gQWRqdXN0ZWQgdG8gNDcuXG5cbkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc2VydmVyL3NlcnZlci5nbzpcbiAgICAgMVx0cGFja2FnZSBzZXJ2ZXJcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCAoXG4gICAgIDRcdFx0XCJxdWl6enktY2xhc3Nyb29tL2hhbmRsZXJcIlxuICAgICA1XHRcdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG4gICAgIDZcdFx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcbiAgICAgN1x0XHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG4gICAgIDhcdFx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuICAgICA5XHRcdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcbiAgICAxMFx0XG4gICAgMTFcdFx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuICAgIDEyXHRcdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyL21pZGRsZXdhcmUvcmVjb3ZlclwiXG4gICAgMTNcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuICAgIDE0XHRcdFwiZ28udWJlci5vcmcvemFwXCJcbiAgICAxNVx0KVxuICAgIDE2XHRcbiAgICAxN1x0ZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuICAgIDE4XHRcdGFwcCA6PSBmaWJlci5OZXcoZmliZXIuQ29uZmlne1xuICAgIDE5XHRcdFx0RW5hYmxlUHJpbnRSb3V0ZXM6IHRydWUsXG4gICAgMjBcdFx0fSlcbiAgICAyMVx0XHRhcHAuVXNlKHJlY292ZXIuTmV3KCkpXG4gICAgMjJcdFxuICAgIDIzXHRcdHByb3ZpZGVyLCBlcnIgOj0gcHJvdmlkZXIuSW5pdChzZXJ2aWNlQ29uZmlnKVxuICAgIDI0XHRcdGlmIGVyciAhPSBuaWwge1xuICAgIDI1XHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG4gICAgMjZcdFx0XHRyZXR1cm5cbiAgICAyN1x0XHR9XG4gICAgMjhcdFx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcbiAgICAyOVx0XHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcbiAgICAzMFx0XHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICB1c2VjYXNlLk5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzFcdFx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzMlx0XHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzNcdFx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzRcdFx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzNVx0XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM2XHRcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM3XHRcdH0pXG4gICAgMzhcdFxuICAgIDM5XHRcdEluaXRSb3V0ZXIoYXBwLCBoYW5kbGVyKVxuICAgIDQwXHRcdHV0aWwuSW5pdFZhbGlkYXRlKClcbiAgICA0MVx0XG4gICAgNDJcdFx0aWYgZXJyIDo9IGFwcC5MaXN0ZW4oXCI6XCIgKyBzZXJ2aWNlQ29uZmlnLlBvcnQpOyBlcnIgIT0gbmlsIHtcbiAgICA0M1x0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBzdGFydCBzZXJ2ZXJcIiwgemFwLkVycm9yKGVycikpXG4gICAgNDRcdFx0XHRyZXR1cm5cbiAgICA0NVx0XHR9XG4gICAgNDZcdH1cbiAgICA0N1x0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA0N1xuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMjIzY2RjMGYtY2Y5Ny00ZTQ3LWEzODEtN2RkZTkwNTM4ZDZkO3Rvb2x1X3ZydHhfMDEyb1JVOW9HdHJRZnZaWDczaE5vSFFlIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc2VydmVyL3NlcnZlci5nby5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDI1XHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG4gICAgMjZcdFx0XHRyZXR1cm5cbiAgICAyN1x0XHR9XG4gICAgMjhcdFx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcbiAgICAyOVx0XHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcbiAgICAzMFx0XHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICB1c2VjYXNlLk5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzFcdFx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzMlx0XHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzNcdFx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzRcdFx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzNVx0XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM2XHRcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM3XHRcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZTogIHVzZWNhc2UuTmV3RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzOFx0XHR9KVxuICAgIDM5XHRcbiAgICA0MFx0XHRJbml0Um91dGVyKGFwcCwgaGFuZGxlcilcbiAgICA0MVx0XHR1dGlsLkluaXRWYWxpZGF0ZSgpXG4gICAgNDJcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19fSwiZHJhZnRFeGNoYW5nZSI6eyJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIn1dfSwic3RhdHVzIjoiZHJhZnQifSwicmVxdWVzdElkcyI6W10sImlzUGlubmVkIjpmYWxzZSwiaXNTaGFyZWFibGUiOnRydWUsImV4dHJhRGF0YSI6eyJpc0FnZW50Q29udmVyc2F0aW9uIjp0cnVlLCJoYXNEaXJ0eUVkaXRzIjp0cnVlfX19LCJhZ2VudEV4ZWN1dGlvbk1vZGUiOiJtYW51YWwiLCJpc0FnZW50RWRpdHNDb2xsYXBzZWQiOnRydWV9" />
      </map>
    </option>
  </component>
</project>