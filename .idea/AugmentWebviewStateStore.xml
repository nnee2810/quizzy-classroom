<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="AugmentWebviewStateStore">
    <option name="stateMap">
      <map>
        <entry key="CHAT_STATE" value="eyJjdXJyZW50Q29udmVyc2F0aW9uSWQiOiI5NWIxMmI0MC1lZGRlLTRjYmQtYTlmMS05YWFmZGI5NDc1NDAiLCJjb252ZXJzYXRpb25zIjp7ImQ2YzM1N2QzLTgxZjItNGU0ZC04NDNmLTkxY2E5YjZmZWU0MyI6eyJpZCI6ImQ2YzM1N2QzLTgxZjItNGU0ZC04NDNmLTkxY2E5YjZmZWU0MyIsIm5hbWUiOiJXZWxjb21lIHRvIHRoZSBBdWdtZW50IEFnZW50IiwiY3JlYXRlZEF0SXNvIjoiMjAyNS0wNC0yMVQxNTo0NToxMC4zODVaIiwibGFzdEludGVyYWN0ZWRBdElzbyI6IjIwMjUtMDQtMjFUMTY6MjE6MjIuMDc3WiIsImNoYXRIaXN0b3J5IjpbeyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImIzMzZjODkxLTlkZDgtNDUwNC1iZWEwLTcxNzQ3MTQ0MDAzNyIsInJlcXVlc3RfbWVzc2FnZSI6InThuqFvIGFwaSBs4bqleSBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3UiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoidOG6oW8gYXBpIGzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJFhbmcgc+G7nyBo4buvdSJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxU2ZYQ0NtdU03WGhqcnVCMUpoeHVaNiIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiRmluZCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgaGFuZGxlci9oYW5kbGVyLmdvIGZpbGUgc3RydWN0dXJlIGFuZCBob3cgQVBJIGVuZHBvaW50cyBhcmUgZGVmaW5lZCBpbiB0aGlzIHByb2plY3QuIEFsc28gbG9vayBmb3IgYW55IGV4aXN0aW5nIGNsYXNzIG9yIGNsYXNzcm9vbSByZWxhdGVkIG1vZGVscywgaGFuZGxlcnMsIGFuZCBkYXRhYmFzZSBpbnRlcmFjdGlvbnMuXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJJ2xsIGhlbHAgeW91IGNyZWF0ZSBhbiBBUEkgdG8gcmV0cmlldmUgYSBsaXN0IG9mIGNsYXNzZXMgb3duZWQgYnkgYSB1c2VyLiBMZXQgbWUgZmlyc3QgZ2F0aGVyIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjb2RlYmFzZSBzdHJ1Y3R1cmUgdG8gdW5kZXJzdGFuZCBob3cgdG8gaW1wbGVtZW50IHRoaXMgZmVhdHVyZSBwcm9wZXJseS5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50IjoidOG6oW8gYXBpIGzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJFhbmcgc+G7nyBo4buvdSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkknbGwgaGVscCB5b3UgY3JlYXRlIGFuIEFQSSB0byByZXRyaWV2ZSBhIGxpc3Qgb2YgY2xhc3NlcyBvd25lZCBieSBhIHVzZXIuIExldCBtZSBmaXJzdCBnYXRoZXIgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNvZGViYXNlIHN0cnVjdHVyZSB0byB1bmRlcnN0YW5kIGhvdyB0byBpbXBsZW1lbnQgdGhpcyBmZWF0dXJlIHByb3Blcmx5LlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjdhMDcyMzE5LWZmYjAtNGFlNi05OWJjLTgxYjQ1NWEwNzMyNyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTRQN1dnYnFXdnZLZDdjU1o1THhFeGUiLCJ0b29sX25hbWUiOiJjb2RlYmFzZS1yZXRyaWV2YWwiLCJpbnB1dF9qc29uIjoie1wiaW5mb3JtYXRpb25fcmVxdWVzdFwiOiBcIkZpbmQgaW5mb3JtYXRpb24gYWJvdXQgYW55IGV4aXN0aW5nIHJlcG9zaXRvcnkgbWV0aG9kcyBvciB1c2VjYXNlIG1ldGhvZHMgdGhhdCBtaWdodCBiZSByZWxhdGVkIHRvIHJldHJpZXZpbmcgY2xhc3Nyb29tcyBvd25lZCBieSBhIHVzZXIuIEFsc28gbG9vayBmb3IgYW55IGV4aXN0aW5nIG1vZGVscyBvciBlbnRpdGllcyB0aGF0IHJlcHJlc2VudCBjbGFzc3Jvb21zIGFuZCB0aGVpciByZWxhdGlvbnNoaXBzIHRvIHVzZXJzLlwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0IG1lIGdhdGhlciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZSByZXBvc2l0b3J5IGFuZCB1c2VjYXNlIGxheWVycyB0byB1bmRlcnN0YW5kIGhvdyB0byBpbXBsZW1lbnQgdGhlIEFQSSBmb3IgcmV0cmlldmluZyBvd25lZCBjbGFzc3Jvb21zLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogaGFuZGxlci9oYW5kbGVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcblxudHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAvLyBU4bqhbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTOG7jWMgdGjDoG5oIHZpw6puIGPhu6dhIGzhu5twIGjhu41jXG5cdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4budaSBt4budaVxuXHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gVOG7qyBjaOG7kWkgbOG7nWkgbeG7nWlcblx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIEzhu41jIGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgxJHGsOG7o2MgbeG7nWlcbn1cblxudHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xuXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2Vcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2Vcblx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Vcblx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxuXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG5cdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG59XG5cbnR5cGUgSW5qZWN0IHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Vcbn1cblxuZnVuYyBOZXcoaW5qZWN0ICpJbmplY3QpIEhhbmRsZXIge1xuXHRyZXR1cm4gJmhhbmRsZXJJbXBse1xuXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICBpbmplY3QuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSxcblx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogaW5qZWN0LkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLFxuXHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICBpbmplY3QuSW52aXRlTWVtYmVyVXNlQ2FzZSxcblx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgaW5qZWN0LkZpbHRlckludml0YXRpb25zVXNlQ2FzZSxcblx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LlJlamVjdEludml0YXRpb25Vc2VDYXNlLFxuXHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuQWNjZXB0SW52aXRhdGlvblVzZUNhc2UsXG5cdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIGluamVjdC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UsXG5cdH1cbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSByLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBib2R5IHJlcS5DcmVhdGVDbGFzc3Jvb21SZXF1ZXN0XG5cblx0aWYgZXJyIDo9IGMuQm9keVBhcnNlcigmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHIuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5LkNsYXNzcm9vbUVudGl0eXtcblx0XHRVc2VySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHROYW1lOiAgICAgIHZhbHVlLkdldFZhbHVlKGJvZHkuTmFtZSwgXCJcIiksXG5cdFx0QXZhdGFyVXJsOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkF2YXRhclVybCwgXCJcIiksXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogc2VydmVyL3JvdXRlci5nb1xucGFja2FnZSBzZXJ2ZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2hhbmRsZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG5mdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG5cdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcIi9jbGFzc3Jvb21cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2NyZWF0ZVwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcblxuXHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBib2R5IHJlcS5JbnZpdGVNZW1iZXJSZXF1ZXN0XG5cblx0aWYgZXJyIDo9IGMuQm9keVBhcnNlcigmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IGguSW52aXRlTWVtYmVyVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5Lkludml0YXRpb25FbnRpdHl7XG5cdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGJvZHkuQ2xhc3Nyb29tSUQsIFwiXCIpLFxuXHRcdFNlbmRlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0UmVjZWl2ZXJJRDogIHZhbHVlLkdldFZhbHVlKGJvZHkuUmVjZWl2ZXJJRCwgXCJcIiksXG5cdFx0U3RhdHVzOiAgICAgIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZyxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRzd2l0Y2gge1xuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyclJlY2VpdmVyQWxyZWFkeUhhc0ludml0YXRpb24pOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgxJFhbmcgY2jhu50geOG7rSBsw70gaG/hurdjIMSRw6MgxJHGsOG7o2MgY2jhuqVwIG5o4bqtblwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBjbGFzc3Jvb21faWQgdOG7qyBVUkxcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcXVlcnkgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksIHF1ZXJ5KVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0aWYgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKSB7XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHR9XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuLi4uXG5QYXRoOiBzZXJ2ZXIvc2VydmVyLmdvXG4uLi5cblx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcblx0aGFuZGxlciA6PSBoYW5kbGVyLk5ldygmaGFuZGxlci5JbmplY3R7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIHVzZWNhc2UuTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgdXNlY2FzZS5OZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICB1c2VjYXNlLk5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdH0pXG4uLi5cblBhdGg6IGhhbmRsZXIvYWNjZXB0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBJRCBj4bunYSBpbnZpdGF0aW9uIHThu6sgVVJMXG5cdGludml0YXRpb25JRCA6PSBjLlBhcmFtcyhcImlkXCIpXG5cdGlmIGludml0YXRpb25JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImlkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG4uLi5cblBhdGg6IG1pZ3JhdGUvbWlncmF0ZS5nb1xucGFja2FnZSBtaWdyYXRlXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWxcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG5mdW5jIFJ1bihzZXJ2aWNlQ29uZmlnICptb2RlbC5TZXJ2aWNlQ29uZmlnKSB7XG5cdHByb3ZpZGVyLCBlcnIgOj0gcHJvdmlkZXIuSW5pdChzZXJ2aWNlQ29uZmlnKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gaW5pdCBwcm92aWRlclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuXG5cdGlmIGVyciA6PSBwcm92aWRlci5EYi5BdXRvTWlncmF0ZShcblx0XHQmZW50aXR5LkNsYXNzcm9vbUVudGl0eXt9LFxuXHRcdCZlbnRpdHkuQ2xhc3Nyb29tTWVtYmVye30sXG5cdFx0JmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e30sXG5cdCk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBtaWdyYXRlIGRhdGFiYXNlXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG5cblx0bG9nZ2VyLkluZm8oXCJtaWdyYXRlIGRhdGFiYXNlIHN1Y2Nlc3NcIilcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9yZWplY3RfaW52aXRhdGlvbi5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IElEIGPhu6dhIGludml0YXRpb24gdOG7qyBVUkxcblx0aW52aXRhdGlvbklEIDo9IGMuUGFyYW1zKFwiaWRcIilcblx0aWYgaW52aXRhdGlvbklEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiaWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbS5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblxudHlwZSBDbGFzc3Jvb21FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblxuXHRVc2VySUQgICAgc3RyaW5nIGBqc29uOlwidXNlcl9pZFwiYFxuXHROYW1lICAgICAgc3RyaW5nIGBqc29uOlwibmFtZVwiYFxuXHRBdmF0YXJVcmwgc3RyaW5nIGBqc29uOlwiYXZhdGFyX3VybFwiYFxufVxuXG5mdW5jIChjICpDbGFzc3Jvb21FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7XG5cdHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tc1wiXG59XG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXG50eXBlIENsYXNzcm9vbU1lbWJlclJvbGUgc3RyaW5nXG5cbmNvbnN0IChcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVRlYWNoZXIgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwidGVhY2hlclwiXG5cdENsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50IENsYXNzcm9vbU1lbWJlclJvbGUgPSBcInN0dWRlbnRcIlxuKVxuXG50eXBlIENsYXNzcm9vbU1lbWJlciBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXHRDbGFzc3Jvb21JRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiY2xhc3Nyb29tX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRVc2VySUQgICAgICBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwidXNlcl9pZFwiIGdvcm06XCJ1bmlxdWVJbmRleDppZHhfY2xhc3Nyb29tX3VzZXJcImBcblx0Um9sZSAgICAgICAgQ2xhc3Nyb29tTWVtYmVyUm9sZSBganNvbjpcInJvbGVcImBcblx0SW52aXRlZEJ5SUQgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcImludml0ZWRfYnlfaWRcImBcbn1cblxuZnVuYyAoYyBDbGFzc3Jvb21NZW1iZXIpIFRhYmxlTmFtZSgpIHN0cmluZyB7XG5cdHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tX21lbWJlcnNcIlxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuXG50eXBlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG5cdENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG5cdElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcblx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcblx0RmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcblx0R2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpXG5cdFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvclxuXHRDcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgbWVtYmVyICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyKSBlcnJvclxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSByZXBvc2l0b3J5SW1wbCBzdHJ1Y3Qge1xuXHRQcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXJcbn1cblxuZnVuYyBOZXcocHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyKSBSZXBvc2l0b3J5IHtcblx0cmV0dXJuICZyZXBvc2l0b3J5SW1wbHtcblx0XHRQcm92aWRlcjogcHJvdmlkZXIsXG5cdH1cbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuVHJhbnNhY3Rpb24oZnVuYyh0eCAqZ29ybS5EQikgZXJyb3Ige1xuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoY2xhc3Nyb29tKS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZSgmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShjbGFzc3Jvb20uSUQsIFwiXCIpLFxuXHRcdFx0VXNlcklEOiAgICAgIGNsYXNzcm9vbS5Vc2VySUQsXG5cdFx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyLFxuXHRcdH0pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRyZXR1cm4gbmlsXG5cdH0pXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdvcm0uaW8vZ29ybS9jbGF1c2VcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Ige1xuXHQvLyBT4butIGThu6VuZyBjbGF1c2UuT25Db25mbGljdCgpLkRvTm90aGluZygpIMSR4buDIHRyw6FuaCBs4buXaSBraGkgdGjDqm0gdGjDoG5oIHZpw6puIMSRw6MgdOG7k24gdOG6oWlcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5cblx0XHRDbGF1c2VzKGNsYXVzZS5PbkNvbmZsaWN0e0RvTm90aGluZzogdHJ1ZX0pLlxuXHRcdENyZWF0ZShtZW1iZXIpLkVycm9yXG59XG4uLi5cblBhdGg6IGVudGl0eS9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvblN0YXR1cyBzdHJpbmdcblxuY29uc3QgKFxuXHRJbnZpdGF0aW9uU3RhdHVzUGVuZGluZyAgSW52aXRhdGlvblN0YXR1cyA9IFwicGVuZGluZ1wiXG5cdEludml0YXRpb25TdGF0dXNBY2NlcHRlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJhY2NlcHRlZFwiXG5cdEludml0YXRpb25TdGF0dXNSZWplY3RlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJyZWplY3RlZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvbkVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXHRDbGFzc3Jvb21JRCBzdHJpbmcgICAgICAgICAgIGBqc29uOlwiY2xhc3Nyb29tX2lkXCJgXG5cdFNlbmRlcklEICAgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJzZW5kZXJfaWRcIiBnb3JtOlwiaW5kZXhcImBcblx0UmVjZWl2ZXJJRCAgc3RyaW5nICAgICAgICAgICBganNvbjpcInJlY2VpdmVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFN0YXR1cyAgICAgIEludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBnb3JtOlwiaW5kZXhcImBcbn1cblxuZnVuYyAoSW52aXRhdGlvbkVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHsgcmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5pbnZpdGF0aW9uc1wiIH1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfaW52aXRhdGlvbi5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLkNyZWF0ZShpbnZpdGF0aW9uKS5FcnJvclxufS4uLlxuUGF0aDogbW9kZWwvcmVxL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgcmVxXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tUmVxdWVzdCBzdHJ1Y3Qge1xuXHROYW1lICAgICAgKnN0cmluZyBganNvbjpcIm5hbWVcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdEF2YXRhclVybCAqc3RyaW5nIGBqc29uOlwiYXZhdGFyX3VybFwiIHZhbGlkYXRlOlwicmVxdWlyZWQsdXJsXCJgXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tTWVtYmVycyBbXWVudGl0eS5DbGFzc3Jvb21NZW1iZXJcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZFwiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21NZW1iZXJzKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21NZW1iZXJzXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHlde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcImNyZWF0ZWRfYXQgREVTQ1wiKSwgLy8gTeG6t2MgxJHhu4tuaCBz4bqvcCB44bq/cCB0aGVvIG5nw6B5IHThuqFvIG3hu5tpIG5o4bqldFxuXHR9XG5cblx0cXVlcnkgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwicmVjZWl2ZXJfaWQgPSA/XCIsIHJlY2VpdmVySUQpXG5cblx0Ly8gTOG7jWMgdGhlbyBzdGF0dXMgbuG6v3UgY8OzXG5cdGlmIHBhcmFtcy5TdGF0dXMgIT0gbmlsIHtcblx0XHRxdWVyeSA9IHF1ZXJ5LldoZXJlKFwic3RhdHVzID0gP1wiLCAqcGFyYW1zLlN0YXR1cylcblx0fVxuXG5cdHZhciBpbnZpdGF0aW9ucyBbXWVudGl0eS5JbnZpdGF0aW9uRW50aXR5XG5cdGlmIGVyciA6PSBxdWVyeS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmludml0YXRpb25zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZ2V0X2ludml0YXRpb25fYnlfaWQuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKSB7XG5cdHZhciBpbnZpdGF0aW9uIGVudGl0eS5JbnZpdGF0aW9uRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJpZCA9ID9cIiwgaW52aXRhdGlvbklEKS5cblx0XHRGaXJzdCgmaW52aXRhdGlvbikuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cdHJldHVybiAmaW52aXRhdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIEludml0ZU1lbWJlclJlcXVlc3Qgc3RydWN0IHtcblx0Q2xhc3Nyb29tSUQgKnN0cmluZyBganNvbjpcImNsYXNzcm9vbV9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0UmVjZWl2ZXJJRCAgKnN0cmluZyBganNvbjpcInJlY2VpdmVyX2lkXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0Z29ybTIgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIChcblx0XHRwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHlde1xuXHRcdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0XHR9XG5cdFx0aW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHQpXG5cblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZCA9ID9cIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3BlcyhmdW5jKGRiICpnb3JtLkRCKSAqZ29ybS5EQiB7XG5cdFx0XHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0XHRcdHJldHVybiBkYi5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZGJcblx0XHR9LCBnb3JtMi5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmludml0YXRpb25zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBpbnZpdGF0aW9uc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XyBcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcbn1cblxudHlwZSBjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2Uge1xuXHRyZXR1cm4gJmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAoYyAqY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdGlmIGVyciA6PSBjLlJlcG8uQ3JlYXRlQ2xhc3Nyb29tKGN0eCwgY2xhc3Nyb29tKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb21cIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cdHJldHVybiBuaWxcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS91cGRhdGVfaW52aXRhdGlvbl9zdGF0dXMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvciB7XG5cdHJldHVybiByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0TW9kZWwoJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e30pLlxuXHRcdFdoZXJlKFwiaWQgPSA/XCIsIGludml0YXRpb25JRCkuXG5cdFx0VXBkLi4uIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxU2ZYQ0NtdU03WGhqcnVCMUpoeHVaNiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkxldCBtZSBnYXRoZXIgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcmVwb3NpdG9yeSBhbmQgdXNlY2FzZSBsYXllcnMgdG8gdW5kZXJzdGFuZCBob3cgdG8gaW1wbGVtZW50IHRoZSBBUEkgZm9yIHJldHJpZXZpbmcgb3duZWQgY2xhc3Nyb29tcy5cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI5ZDlhZDY1MC0yZWVhLTRjNjktYjQ3Zi05Mjc0ZDBhZTQ0OGQiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFEMnp1anNOV25pRWJIN2c3TjVGWnlaIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJGaW5kIGluZm9ybWF0aW9uIGFib3V0IHBhZ2luYXRpb24gcmVxdWVzdCBtb2RlbHMgYW5kIHJlc3BvbnNlIG1vZGVscyBpbiB0aGUgY29kZWJhc2UuIEFsc28gbG9vayBmb3IgYW55IGVycm9yIGhhbmRsaW5nIHBhdHRlcm5zIHVzZWQgaW4gdGhlIGhhbmRsZXJzLlwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IEkgbmVlZCB0byBjaGVjayBpZiB0aGVyZSBhcmUgYW55IGV4aXN0aW5nIHBhZ2luYXRpb24gcmVxdWVzdCBtb2RlbHMgYW5kIHJlc3BvbnNlIG1vZGVscyB0aGF0IEkgY2FuIHJldXNlIGZvciB0aGUgbmV3IEFQSS5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IGVudGl0eS9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tRW50aXR5IHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cblx0VXNlcklEICAgIHN0cmluZyBganNvbjpcInVzZXJfaWRcImBcblx0TmFtZSAgICAgIHN0cmluZyBganNvbjpcIm5hbWVcImBcblx0QXZhdGFyVXJsIHN0cmluZyBganNvbjpcImF2YXRhcl91cmxcImBcbn1cblxuZnVuYyAoYyAqQ2xhc3Nyb29tRW50aXR5KSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXNcIlxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2lzX2NsYXNzcm9vbV9vd25lci5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgSXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY2xhc3Nyb29tIGVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImlkID0gPyBBTkQgdXNlcl9pZCA9ID9cIiwgY2xhc3Nyb29tSUQsIHVzZXJJRCkuXG5cdFx0Rmlyc3QoJmNsYXNzcm9vbSkuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdC8vIE7hur91IGtow7RuZyB0w6xtIHRo4bqleSBi4bqjbiBnaGksIGPDsyBuZ2jEqWEgbMOgIG5nxrDhu51pIGTDuW5nIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3Vcblx0XHRyZXR1cm4gZmFsc2UsIG5pbFxuXHR9XG5cdHJldHVybiB0cnVlLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvXG4uLi5cblxudHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxuXHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxuXHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuXHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Jcblx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Jcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcblx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG59XG5cbmZ1bmMgTmV3KHByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlcikgUmVwb3NpdG9yeSB7XG5cdHJldHVybiAmcmVwb3NpdG9yeUltcGx7XG5cdFx0UHJvdmlkZXI6IHByb3ZpZGVyLFxuXHR9XG59XG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXG50eXBlIENsYXNzcm9vbU1lbWJlclJvbGUgc3RyaW5nXG5cbmNvbnN0IChcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVRlYWNoZXIgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwidGVhY2hlclwiXG5cdENsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50IENsYXNzcm9vbU1lbWJlclJvbGUgPSBcInN0dWRlbnRcIlxuKVxuXG50eXBlIENsYXNzcm9vbU1lbWJlciBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXHRDbGFzc3Jvb21JRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiY2xhc3Nyb29tX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRVc2VySUQgICAgICBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwidXNlcl9pZFwiIGdvcm06XCJ1bmlxdWVJbmRleDppZHhfY2xhc3Nyb29tX3VzZXJcImBcblx0Um9sZSAgICAgICAgQ2xhc3Nyb29tTWVtYmVyUm9sZSBganNvbjpcInJvbGVcImBcblx0SW52aXRlZEJ5SUQgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcImludml0ZWRfYnlfaWRcImBcbn1cblxuZnVuYyAoYyBDbGFzc3Jvb21NZW1iZXIpIFRhYmxlTmFtZSgpIHN0cmluZyB7XG5cdHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tX21lbWJlcnNcIlxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Ugc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNle1JlcG86IHJlcG99XG59XG5cbmZ1bmMgKGYgKmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHRyZXN1bHQsIGVyciA6PSBmLlJlcG8uRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHgsIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgY2xhc3Nyb29tIG1lbWJlcnNcIiwgemFwLlN0cmluZyhcImNsYXNzcm9vbSBpZFwiLCBjbGFzc3Jvb21JRCksIHphcC5FcnJvcigoZXJyKSkpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgY2xhc3Nyb29tIGtow7RuZ1xuXHRpc093bmVyLCBlcnIgOj0gdS5SZXBvLklzQ2xhc3Nyb29tT3duZXIoY3R4LCBjbGFzc3Jvb21JRCwgdXNlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgY2xhc3Nyb29tIG93bmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0aWYgIWlzT3duZXIge1xuXHRcdHJldHVybiBuaWwsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lclxuXHR9XG5cblx0Ly8gTOG6pXkgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyBt4budaVxuXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVySW52aXRlZE1lbWJlcnMoY3R4LCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGludml0ZWQgbWVtYmVyc1wiLCB6YXAuU3RyaW5nKFwiY2xhc3Nyb29tIGlkXCIsIGNsYXNzcm9vbUlEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21NZW1iZXJzIFtdZW50aXR5LkNsYXNzcm9vbU1lbWJlclxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkXCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbU1lbWJlcnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbU1lbWJlcnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9oYW5kbGVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcblxudHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAvLyBU4bqhbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTOG7jWMgdGjDoG5oIHZpw6puIGPhu6dhIGzhu5twIGjhu41jXG5cdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4budaSBt4budaVxuXHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gVOG7qyBjaOG7kWkgbOG7nWkgbeG7nWlcblx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIEzhu41jIGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgxJHGsOG7o2MgbeG7nWlcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdF8gXCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIHtcblx0cmV0dXJuICZjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKGMgKmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRpZiBlcnIgOj0gYy5SZXBvLkNyZWF0ZUNsYXNzcm9vbShjdHgsIGNsYXNzcm9vbSk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2xhc3Nyb29tXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvaXNfaW52aXRhdGlvbl9leGlzdGluZy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgSXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKSB7XG5cdHZhciBjb3VudCBpbnQ2NFxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdE1vZGVsKCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZCA9ID8gQU5EIHJlY2VpdmVyX2lkID0gPyBBTkQgc3RhdHVzIElOID9cIiwgY2xhc3Nyb29tSUQsIHJlY2VpdmVySUQsIFtdZW50aXR5Lkludml0YXRpb25TdGF0dXN7ZW50aXR5Lkludml0YXRpb25TdGF0dXNQZW5kaW5nLCBlbnRpdHkuSW52aXRhdGlvblN0YXR1c0FjY2VwdGVkfSkuXG5cdFx0Q291bnQoJmNvdW50KS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIGZhbHNlLCBlcnJcblx0fVxuXHRyZXR1cm4gY291bnQgPiAwLCBuaWxcbn1cbi4uLlxuUGF0aDogc2VydmVyL3JvdXRlci5nb1xuLi4uXG5cbmZ1bmMgSW5pdFJvdXRlcihhcHAgKmZpYmVyLkFwcCwgaGFuZGxlciBoYW5kbGVyLkhhbmRsZXIpIHtcblx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvY3JlYXRlXCIsIGhhbmRsZXIuQ3JlYXRlQ2xhc3Nyb29tKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2ludml0ZVwiLCBoYW5kbGVyLkludml0ZU1lbWJlcilcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzKVxuXG5cdGludml0YXRpb25Hcm91cCA6PSBhcHAuR3JvdXAoXCIvaW52aXRhdGlvblwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGludml0YXRpb25Hcm91cC5HZXQoXCIvZmlsdGVyXCIsIGhhbmRsZXIuRmlsdGVySW52aXRhdGlvbnMpXG5cdGludml0YXRpb25Hcm91cC5QdXQoXCIvcmVqZWN0LzppZFwiLCBoYW5kbGVyLlJlamVjdEludml0YXRpb24pXG5cdGludml0YXRpb25Hcm91cC5QdXQoXCIvYWNjZXB0LzppZFwiLCBoYW5kbGVyLkFjY2VwdEludml0YXRpb24pXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdvcm0uaW8vZ29ybS9jbGF1c2VcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Ige1xuXHQvLyBT4butIGThu6VuZyBjbGF1c2UuT25Db25mbGljdCgpLkRvTm90aGluZygpIMSR4buDIHRyw6FuaCBs4buXaSBraGkgdGjDqm0gdGjDoG5oIHZpw6puIMSRw6MgdOG7k24gdOG6oWlcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5cblx0XHRDbGF1c2VzKGNsYXVzZS5PbkNvbmZsaWN0e0RvTm90aGluZzogdHJ1ZX0pLlxuXHRcdENyZWF0ZShtZW1iZXIpLkVycm9yXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0Z29ybTIgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIChcblx0XHRwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHlde1xuXHRcdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0XHR9XG5cdFx0aW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHQpXG5cblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZCA9ID9cIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3BlcyhmdW5jKGRiICpnb3JtLkRCKSAqZ29ybS5EQiB7XG5cdFx0XHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0XHRcdHJldHVybiBkYi5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZGJcblx0XHR9LCBnb3JtMi5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmludml0YXRpb25zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBpbnZpdGF0aW9uc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuKVxuXG50eXBlIEZpbHRlckludml0ZWRNZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG5cdFN0YXR1cyAqZW50aXR5Lkludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBxdWVyeTpcInN0YXR1c1wiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHF1ZXJ5IDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInJlY2VpdmVyX2lkID0gP1wiLCByZWNlaXZlcklEKVxuXG5cdC8vIEzhu41jIHRoZW8gc3RhdHVzIG7hur91IGPDs1xuXHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0cXVlcnkgPSBxdWVyeS5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdH1cblxuXHR2YXIgaW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gcXVlcnkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVJlcXVlc3Qgc3RydWN0IHtcblx0TmFtZSAgICAgICpzdHJpbmcgYGpzb246XCJuYW1lXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxuXHRBdmF0YXJVcmwgKnN0cmluZyBganNvbjpcImF2YXRhcl91cmxcIiB2YWxpZGF0ZTpcInJlcXVpcmVkLHVybFwiYFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRhdGlvbnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIEludml0ZU1lbWJlclJlcXVlc3Qgc3RydWN0IHtcblx0Q2xhc3Nyb29tSUQgKnN0cmluZyBganNvbjpcImNsYXNzcm9vbV9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0UmVjZWl2ZXJJRCAgKnN0cmluZyBganNvbjpcInJlY2VpdmVyX2lkXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0YXRpb25zVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckludml0YXRpb25zKGN0eCwgcmVjZWl2ZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGludml0YXRpb25zXCIsIHphcC5TdHJpbmcoXCJyZWNlaXZlciBpZFwiLCByZWNlaXZlcklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgSW52aXRlTWVtYmVyVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGludml0ZU1lbWJlclVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3SW52aXRlTWVtYmVyVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgSW52aXRlTWVtYmVyVXNlQ2FzZSB7XG5cdHJldHVybiAmaW52aXRlTWVtYmVyVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICppbnZpdGVNZW1iZXJVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Ige1xuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGNsYXNzcm9vbSBraMO0bmdcblx0aXNPd25lciwgZXJyIDo9IHUuUmVwby5Jc0NsYXNzcm9vbU93bmVyKGN0eCwgaW52aXRhdGlvbi5DbGFzc3Jvb21JRCwgaW52aXRhdGlvbi5TZW5kZXJJRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNoZWNrIGNsYXNzcm9vbSBvd25lclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRpZiAhaXNPd25lciB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lclxuXHR9XG5cblx0Ly8gS2nhu4NtIHRyYSB4ZW0gbmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIG7DoG8gxJFhbmcg4bufIHRy4bqhbmcgdGjDoWkgcGVuZGluZyBob+G6t2MgYWNjZXB0ZWQgY2jGsGFcblx0ZXhpc3RzLCBlcnIgOj0gdS5SZXBvLklzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCwgaW52aXRhdGlvbi5DbGFzc3Jvb21JRCwgaW52aXRhdGlvbi5SZWNlaXZlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgZXhpc3RpbmcgaW52aXRhdGlvblwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRpZiBleGlzdHMge1xuXHRcdHJldHVybiBxZXJyb3IuRXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvblxuXHR9XG4uLi5cblBhdGg6IHVzZWNhc2UvYWNjZXB0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIGVycm9yXG59XG5cbnR5cGUgYWNjZXB0SW52aXRhdGlvblVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3QWNjZXB0SW52aXRhdGlvblVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEFjY2VwdEludml0YXRpb25Vc2VDYXNlIHtcblx0cmV0dXJuICZhY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICphY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgdXNlcklEIHN0cmluZykgZXJyb3Ige1xuXHQvLyBM4bqleSB0aMO0bmcgdGluIGludml0YXRpb25cblx0aW52aXRhdGlvbiwgZXJyIDo9IHUuUmVwby5HZXRJbnZpdGF0aW9uQnlJRChjdHgsIGludml0YXRpb25JRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGdldCBpbnZpdGF0aW9uXCIsIHphcC5TdHJpbmcoXCJpbnZpdGF0aW9uIGlkXCIsIGludml0YXRpb25JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBraMO0bmdcblx0aWYgaW52aXRhdGlvbi5SZWNlaXZlcklEICE9IHVzZXJJRCB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJOb3RJbnZpdGF0aW9uUmVjZWl2ZXJcblx0fVxuXG5cdC8vIEtp4buDbSB0cmEgeGVtIGludml0YXRpb24gY8OzIMSRYW5nIOG7nyB0cuG6oW5nIHRow6FpIHBlbmRpbmcga2jDtG5nXG5cdGlmIGludml0YXRpb24uU3RhdHVzICE9IGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZyB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJJbnZpdGF0aW9uTm90UGVuZGluZ1xuXHR9XG5cblx0aWYgZXJyIDo9IHUuUmVwby5DcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4LCAmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRDbGFzc3Jvb21JRDogaW52aXRhdGlvbi5DbGFzc3Jvb21JRCxcblx0XHRVc2VySUQ6ICAgICAgaW52aXRhdGlvbi5SZWNlaXZlcklELFxuXHRcdFJvbGU6ICAgICAgICBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQsXG5cdFx0SW52aXRlZEJ5SUQ6IGludml0YXRpb24uU2VuZGVySUQsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbSBtZW1iZXJcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0aWYgZXJyIDo9IHUuUmVwby5VcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCwgaW52aXRhdGlvbklELCBlbnRpdHkuSW52aXRhdGlvblN0YXR1c0FjY2VwdGVkKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIHVwZGF0ZSBpbnZpdGF0aW9uIHN0YXR1c1wiLCB6YXAuU3RyaW5nKFwiaW52aXRhdGlvbiBpZFwiLCBpbnZpdGF0aW9uSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvcmVqZWN0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIGVycm9yXG59XG5cbnR5cGUgcmVqZWN0SW52aXRhdGlvblVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3UmVqZWN0SW52aXRhdGlvblVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIFJlamVjdEludml0YXRpb25Vc2VDYXNlIHtcblx0cmV0dXJuICZyZWplY3RJbnZpdGF0aW9uVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpyZWplY3RJbnZpdGF0aW9uVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgdXNlcklEIHN0cmluZykgZXJyb3Ige1xuXHQvLyBM4bqleSB0aMO0bmcgdGluIGludml0YXRpb25cblx0aW52aXRhdGlvbiwgZXJyIDo9IHUuUmVwby5HZXRJbnZpdGF0aW9uQnlJRChjdHgsIGludml0YXRpb25JRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGdldCBpbnZpdGF0aW9uXCIsIHphcC5TdHJpbmcoXCJpbnZpdGF0aW9uIGlkXCIsIGludml0YXRpb25JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBraMO0bmdcblx0aWYgaW52aXRhdGlvbi5SZWNlaXZlcklEICE9IHVzZXJJRCB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJOb3RJbnZpdGF0aW9uUmVjZWl2ZXJcblx0fVxuXG5cdC8vIEtp4buDbSB0cmEgeGVtIGludml0YXRpb24gY8OzIMSRYW5nIOG7nyB0cuG6oW5nIHRow6FpIHBlbmRpbmcga2jDtG5nXG5cdGlmIGludml0YXRpb24uU3RhdHVzICE9IGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZyB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJJbnZpdGF0aW9uTm90UGVuZGluZ1xuXHR9XG4uLi5cblBhdGg6IGhhbmRsZXIvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktYy4uLiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTRQN1dnYnFXdnZLZDdjU1o1THhFeGUifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJOb3cgSSBuZWVkIHRvIGNoZWNrIGlmIHRoZXJlIGFyZSBhbnkgZXhpc3RpbmcgcGFnaW5hdGlvbiByZXF1ZXN0IG1vZGVscyBhbmQgcmVzcG9uc2UgbW9kZWxzIHRoYXQgSSBjYW4gcmV1c2UgZm9yIHRoZSBuZXcgQVBJLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImI5MjViNTcyLTI3MTQtNGU1My1hYjg0LTBjODEyZDczMjYwZiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUZnV2pmM2J5OEt1aDJxWm1KTWk3aE0iLCJ0b29sX25hbWUiOiJzYXZlLWZpbGUiLCJpbnB1dF9qc29uIjoie1wiZmlsZV9wYXRoXCI6IFwibW9kZWwvcmVxL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXCIsIFwiZmlsZV9jb250ZW50XCI6IFwicGFja2FnZSByZXFcXG5cXG5pbXBvcnQgXFxcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVxcXCJcXG5cXG50eXBlIEZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSBzdHJ1Y3Qge1xcblxcdHJlcS5QYWdpbmF0aW9uUmVxXFxufVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiQmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIGdhdGhlcmVkLCBJIG5vdyBoYXZlIGEgZ29vZCB1bmRlcnN0YW5kaW5nIG9mIHRoZSBjb2RlYmFzZSBzdHJ1Y3R1cmUgYW5kIGhvdyB0byBpbXBsZW1lbnQgdGhlIG5ldyBBUEkgZm9yIHJldHJpZXZpbmcgY2xhc3Nyb29tcyBvd25lZCBieSBhIHVzZXIuIExldCBtZSBjcmVhdGUgYSBkZXRhaWxlZCBwbGFuIGZvciBpbXBsZW1lbnRpbmcgdGhpcyBmZWF0dXJlLlxuXG4jIyBQbGFuIGZvciBJbXBsZW1lbnRpbmcgQVBJIHRvIFJldHJpZXZlIE93bmVkIENsYXNzcm9vbXNcblxuMS4gQ3JlYXRlIGEgbmV3IHJlcXVlc3QgbW9kZWwgZm9yIGZpbHRlcmluZyBvd25lZCBjbGFzc3Jvb21zXG4yLiBBZGQgYSBuZXcgcmVwb3NpdG9yeSBtZXRob2QgdG8gZmlsdGVyIGNsYXNzcm9vbXMgYnkgb3duZXJcbjMuIENyZWF0ZSBhIG5ldyB1c2VjYXNlIGZvciBmaWx0ZXJpbmcgb3duZWQgY2xhc3Nyb29tc1xuNC4gQWRkIGEgbmV3IGhhbmRsZXIgbWV0aG9kIHRvIHRoZSBIYW5kbGVyIGludGVyZmFjZVxuNS4gSW1wbGVtZW50IHRoZSBoYW5kbGVyIG1ldGhvZFxuNi4gVXBkYXRlIHRoZSByb3V0ZXIgdG8gYWRkIHRoZSBuZXcgZW5kcG9pbnRcbjcuIFVwZGF0ZSB0aGUgaGFuZGxlciBpbmplY3Rpb24gaW4gc2VydmVyLmdvXG5cbkxldCdzIHN0YXJ0IGltcGxlbWVudGluZyB0aGVzZSBjaGFuZ2VzOlxuXG4jIyMgMS4gQ3JlYXRlIGEgbmV3IHJlcXVlc3QgbW9kZWwgZm9yIGZpbHRlcmluZyBvd25lZCBjbGFzc3Jvb21zXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IHIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkludml0ZU1lbWJlclJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gaC5JbnZpdGVNZW1iZXJVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXtcblx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoYm9keS5DbGFzc3Jvb21JRCwgXCJcIiksXG5cdFx0U2VuZGVySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHRSZWNlaXZlcklEOiAgdmFsdWUuR2V0VmFsdWUoYm9keS5SZWNlaXZlcklELCBcIlwiKSxcblx0XHRTdGF0dXM6ICAgICAgZW50aXR5Lkludml0YXRpb25TdGF0dXNQZW5kaW5nLFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvbik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcIm5nxrDhu51pIG5o4bqtbiDEkcOjIGPDsyBs4budaSBt4budaSDEkWFuZyBjaOG7nSB44butIGzDvSBob+G6t2MgxJHDoyDEkcaw4bujYyBjaOG6pXAgbmjhuq1uXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgY2xhc3Nyb29tX2lkIHThu6sgVVJMXG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHF1ZXJ5IHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLCBxdWVyeSlcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdGlmIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcikge1xuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0fVxuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0YXRpb25zVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkNyZWF0ZUNsYXNzcm9vbVJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gci5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e1xuXHRcdFVzZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdE5hbWU6ICAgICAgdmFsdWUuR2V0VmFsdWUoYm9keS5OYW1lLCBcIlwiKSxcblx0XHRBdmF0YXJVcmw6IHZhbHVlLkdldFZhbHVlKGJvZHkuQXZhdGFyVXJsLCBcIlwiKSxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9yZWplY3RfaW52aXRhdGlvbi5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IElEIGPhu6dhIGludml0YXRpb24gdOG7qyBVUkxcblx0aW52aXRhdGlvbklEIDo9IGMuUGFyYW1zKFwiaWRcIilcblx0aWYgaW52aXRhdGlvbklEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiaWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdGlmIGVyciA6PSBoLlJlamVjdEludml0YXRpb25Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGludml0YXRpb25JRCwgdXNlcklEKTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBoYW5kbGUgbOG7l2lcblx0XHRzd2l0Y2gge1xuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgZ29ybS5FcnJSZWNvcmROb3RGb3VuZCk6XG5cdFx0XHRyZXR1cm4gcmVzLk5vdEZvdW5kKGMsIGVycm9ycy5OZXcoXCJraMO0bmcgdMOsbSB0aOG6pXkgbOG7nWkgbeG7nWlcIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90SW52aXRhdGlvblJlY2VpdmVyKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgbmfGsOG7nWkgbmjhuq1uIGzhu51pIG3hu51pIG7DoHlcIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJySW52aXRhdGlvbk5vdFBlbmRpbmcpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJs4budaSBt4budaSBraMO0bmcg4bufIHRy4bqhbmcgdGjDoWkgY2jhu50geOG7rSBsw71cIikpXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9hY2NlcHRfaW52aXRhdGlvbi5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IElEIGPhu6dhIGludml0YXRpb24gdOG7qyBVUkxcblx0aW52aXRhdGlvbklEIDo9IGMuUGFyYW1zKFwiaWRcIilcblx0aWYgaW52aXRhdGlvbklEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiaWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdGlmIGVyciA6PSBoLkFjY2VwdEludml0YXRpb25Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGludml0YXRpb25JRCwgdXNlcklEKTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBnb3JtLkVyclJlY29yZE5vdEZvdW5kKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwia2jDtG5nIHTDrG0gdGjhuqV5IGzhu51pIG3hu51pXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdEludml0YXRpb25SZWNlaXZlcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBuw6B5XCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyckludml0YXRpb25Ob3RQZW5kaW5nKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibOG7nWkgbeG7nWkga2jDtG5nIOG7nyB0cuG6oW5nIHRow6FpIGNo4budIHjhu60gbMO9XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGF0aW9uc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9oYW5kbGVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcblxudHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAvLyBU4bqhbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTOG7jWMgdGjDoG5oIHZpw6puIGPhu6dhIGzhu5twIGjhu41jXG5cdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4budaSBt4budaVxuXHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gVOG7qyBjaOG7kWkgbOG7nWkgbeG7nWlcblx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIEzhu41jIGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgxJHGsOG7o2MgbeG7nWlcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21NZW1iZXJzIFtdZW50aXR5LkNsYXNzcm9vbU1lbWJlclxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkXCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbU1lbWJlcnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbU1lbWJlcnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogZXJyb3IvZXJyb3IuZ29cbnBhY2thZ2UgcWVycm9yXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcbilcblxuLy8gxJDhu4tuaCBuZ2jEqWEgY8OhYyBjb25zdGFudHMgZXJyb3JcbnZhciAoXG5cdC8vIEludml0YXRpb24gZXJyb3JzXG5cdEVyclJlY2VpdmVyQWxyZWFkeUhhc0ludml0YXRpb24gPSBlcnJvcnMuTmV3KFwicmVjZWl2ZXIgYWxyZWFkeSBoYXMgYSBwZW5kaW5nIG9yIGFjY2VwdGVkIGludml0YXRpb25cIilcblx0RXJyTm90Q2xhc3Nyb29tT3duZXIgICAgICAgICAgICA9IGVycm9ycy5OZXcoXCJ1c2VyIGlzIG5vdCB0aGUgb3duZXIgb2YgdGhlIGNsYXNzcm9vbVwiKVxuXHRFcnJJbnZpdGF0aW9uTm90Rm91bmQgICAgICAgICAgID0gZXJyb3JzLk5ldyhcImludml0YXRpb24gbm90IGZvdW5kXCIpXG5cdEVyckludml0YXRpb25Ob3RQZW5kaW5nICAgICAgICAgPSBlcnJvcnMuTmV3KFwiaW52aXRhdGlvbiBpcyBub3QgaW4gcGVuZGluZyBzdGF0dXNcIilcblx0RXJyTm90SW52aXRhdGlvblJlY2VpdmVyICAgICAgICA9IGVycm9ycy5OZXcoXCJ1c2VyIGlzIG5vdCB0aGUgcmVjZWl2ZXIgb2YgdGhpcyBpbnZpdGF0aW9uXCIpXG5cdEVyclVzZXJBbHJlYWR5Q2xhc3Nyb29tTWVtYmVyICAgPSBlcnJvcnMuTmV3KFwidXNlciBpcyBhbHJlYWR5IGEgbWVtYmVyIG9mIHRoaXMgY2xhc3Nyb29tXCIpXG4pXG4uLi5cblBhdGg6IHNlcnZlci9zZXJ2ZXIuZ29cbnBhY2thZ2Ugc2VydmVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyL21pZGRsZXdhcmUvcmVjb3ZlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG5mdW5jIFJ1bihzZXJ2aWNlQ29uZmlnICptb2RlbC5TZXJ2aWNlQ29uZmlnKSB7XG5cdGFwcCA6PSBmaWJlci5OZXcoZmliZXIuQ29uZmlne1xuXHRcdEVuYWJsZVByaW50Um91dGVzOiB0cnVlLFxuXHR9KVxuXHRhcHAuVXNlKHJlY292ZXIuTmV3KCkpXG5cblx0cHJvdmlkZXIsIGVyciA6PSBwcm92aWRlci5Jbml0KHNlcnZpY2VDb25maWcpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBpbml0IHByb3ZpZGVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG4uLi5cblxuXHRJbml0Um91dGVyKGFwcCwgaGFuZGxlcilcblx0dXRpbC5Jbml0VmFsaWRhdGUoKVxuXG5cdGlmIGVyciA6PSBhcHAuTGlzdGVuKFwiOlwiICsgc2VydmljZUNvbmZpZy5Qb3J0KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIHN0YXJ0IHNlcnZlclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XyBcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcbn1cblxudHlwZSBjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2Uge1xuXHRyZXR1cm4gJmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAoYyAqY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdGlmIGVyciA6PSBjLlJlcG8uQ3JlYXRlQ2xhc3Nyb29tKGN0eCwgY2xhc3Nyb29tKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb21cIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cdHJldHVybiBuaWxcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVxXG5cbnR5cGUgSW52aXRlTWVtYmVyUmVxdWVzdCBzdHJ1Y3Qge1xuXHRDbGFzc3Jvb21JRCAqc3RyaW5nIGBqc29uOlwiY2xhc3Nyb29tX2lkXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxuXHRSZWNlaXZlcklEICAqc3RyaW5nIGBqc29uOlwicmVjZWl2ZXJfaWRcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVJlcXVlc3Qgc3RydWN0IHtcblx0TmFtZSAgICAgICpzdHJpbmcgYGpzb246XCJuYW1lXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxuXHRBdmF0YXJVcmwgKnN0cmluZyBganNvbjpcImF2YXRhcl91cmxcIiB2YWxpZGF0ZTpcInJlcXVpcmVkLHVybFwiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHF1ZXJ5IDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInJlY2VpdmVyX2lkID0gP1wiLCByZWNlaXZlcklEKVxuXG5cdC8vIEzhu41jIHRoZW8gc3RhdHVzIG7hur91IGPDs1xuXHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0cXVlcnkgPSBxdWVyeS5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdH1cblxuXHR2YXIgaW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gcXVlcnkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2V7UmVwbzogcmVwb31cbn1cbi4uLlxuUGF0aDogY21kL3NlcnZlLmdvXG4vKlxuQ29weXJpZ2h0IMKpIDIwMjUgTkFNRSBIRVJFIDxFTUFJTCBBRERSRVNTPlxuKi9cbnBhY2thZ2UgY21kXG5cbmltcG9ydCAoXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvY29uZmlnXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9zZXJ2ZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9zcGYxMy9jb2JyYVwiXG4pXG5cbi8vIHNlcnZlQ21kIHJlcHJlc2VudHMgdGhlIHNlcnZlIGNvbW1hbmRcbnZhciBzZXJ2ZUNtZCA9ICZjb2JyYS5Db21tYW5ke1xuXHRVc2U6ICAgXCJzZXJ2ZVwiLFxuXHRTaG9ydDogXCJBIGJyaWVmIGRlc2NyaXB0aW9uIG9mIHlvdXIgY29tbWFuZFwiLFxuXHRMb25nOiBgQSBsb25nZXIgZGVzY3JpcHRpb24gdGhhdCBzcGFucyBtdWx0aXBsZSBsaW5lcyBhbmQgbGlrZWx5IGNvbnRhaW5zIGV4YW1wbGVzXG5hbmQgdXNhZ2Ugb2YgdXNpbmcgeW91ciBjb21tYW5kLiBGb3IgZXhhbXBsZTpcblxuQ29icmEgaXMgYSBDTEkgbGlicmFyeSBmb3IgR28gdGhhdCBlbXBvd2VycyBhcHBsaWNhdGlvbnMuXG5UaGlzIGFwcGxpY2F0aW9uIGlzIGEgdG9vbCB0byBnZW5lcmF0ZSB0aGUgbmVlZGVkIGZpbGVzXG50byBxdWlja2x5IGNyZWF0ZSBhIENvYnJhIGFwcGxpY2F0aW9uLmAsXG5cdFJ1bjogZnVuYyhjbWQgKmNvYnJhLkNvbW1hbmQsIGFyZ3MgW11zdHJpbmcpIHtcblx0XHRpZiBlcnIgOj0gbG9nZ2VyLkluaXQoKTsgZXJyICE9IG5pbCB7XG5cdFx0XHRwYW5pYyhlcnIpXG5cdFx0fVxuXG5cdFx0dmFyIHNlcnZpY2VDb25maWcgbW9kZWwuU2VydmljZUNvbmZpZ1xuXHRcdGVudlBhdGgsIF8gOj0gY21kLkZsYWdzKCkuR2V0U3RyaW5nKFwiZW52LXBhdGhcIilcblxuXHRcdGlmIGVyciA6PSBjb25maWcuTG9hZENvbmZpZyhlbnZQYXRoLCAmc2VydmljZUNvbmZpZyk7IGVyciAhPSBuaWwge1xuXHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGxvYWQgY29uZmlnXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdFx0cmV0dXJuXG5cdFx0fVxuXG5cdFx0c2VydmVyLlJ1bigmc2VydmljZUNvbmZpZylcblx0fSxcbn1cbi4uLlxuUGF0aDogY21kL3Jvb3QuZ29cbi8qXG5Db3B5cmlnaHQgwqkgMjAyNSBOQU1FIEhFUkUgPEVNQUlMIEFERFJFU1M+XG4qL1xucGFja2FnZSBjbWRcblxuaW1wb3J0IChcblx0XCJvc1wiXG5cblx0XCJnaXRodWIuY29tL3NwZjEzL2NvYnJhXCJcbilcblxuLy8gcm9vdENtZCByZXByZXNlbnRzIHRoZSBiYXNlIGNvbW1hbmQgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgc3ViY29tbWFuZHNcbnZhciByb290Q21kID0gJmNvYnJhLkNvbW1hbmR7XG5cdFVzZTogICBcInF1aXp6eS1jbGFzc3Jvb21cIixcblx0U2hvcnQ6IFwiQSBicmllZiBkZXNjcmlwdGlvbiBvZiB5b3VyIGFwcGxpY2F0aW9uXCIsXG5cdExvbmc6IGBBIGxvbmdlciBkZXNjcmlwdGlvbiB0aGF0IHNwYW5zIG11bHRpcGxlIGxpbmVzIGFuZCBsaWtlbHkgY29udGFpbnNcbmV4YW1wbGVzIGFuZCB1c2FnZSBvZiB1c2luZyB5b3VyIGFwcGxpY2F0aW9uLiBGb3IgZXhhbXBsZTpcblxuQ29icmEgaXMgYSBDTEkgbGlicmFyeSBmb3IgR28gdGhhdCBlbXBvd2VycyBhcHBsaWNhdGlvbnMuXG5UaGlzIGFwcGxpY2F0aW9uIGlzIGEgdG9vbCB0byBnZW5lcmF0ZSB0aGUgbmVlZGVkIGZpbGVzXG50byBxdWlja2x5IGNyZWF0ZSBhIENvYnJhIGFwcGxpY2F0aW9uLmAsXG5cdC8vIFVuY29tbWVudCB0aGUgZm9sbG93aW5nIGxpbmUgaWYgeW91ciBiYXJlIGFwcGxpY2F0aW9uXG5cdC8vIGhhcyBhbiBhY3Rpb24gYXNzb2NpYXRlZCB3aXRoIGl0OlxuXHQvLyBSdW46IGZ1bmMoY21kICpjb2JyYS5Db21tYW5kLCBhcmdzIFtdc3RyaW5nKSB7IH0sXG59XG5cbi8vIEV4ZWN1dGUgYWRkcyBhbGwgY2hpbGQgY29tbWFuZHMgdG8gdGhlIHJvb3QgY29tbWFuZCBhbmQgc2V0cyBmbGFncyBhcHByb3ByaWF0ZWx5LlxuLy8gVGhpcyBpcyBjYWxsZWQgYnkgbWFpbi5tYWluKCkuIEl0IG9ubHkgbmVlZHMgdG8gaGFwcGVuIG9uY2UgdG8gdGhlIHJvb3RDbWQuXG5mdW5jIEV4ZWN1dGUoKSB7XG5cdGVyciA6PSByb290Q21kLkV4ZWN1dGUoKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRvcy5FeGl0KDEpXG5cdH1cbn1cblxuZnVuYyBpbml0KCkge1xuXHQvLyBIZXJlIHlvdSB3aWxsIGRlZmluZSB5b3VyIGZsYWdzIGFuZCBjb25maWd1cmF0aW9uIHNldHRpbmdzLlxuXHQvLyBDb2JyYSBzdXBwb3J0cyBwZXJzaXN0ZW50IGZsYWdzLCB3aGljaCwgaWYgZGVmaW5lZCBoZXJlLFxuXHQvLyB3aWxsIGJlIGdsb2JhbCBmb3IgeW91ciBhcHBsaWNhdGlvbi5cblxuXHQvLyByb290Q21kLlBlcnNpc3RlbnRGbGFncygpLlN0cmluZ1ZhcigmY2ZnRmlsZSwgXCJjb25maWdcIiwgXCJcIiwgXCJjb25maWcgZmlsZSAoZGVmYXVsdCBpcyAkSE9NRS8ucXVpenp5LWNsYXNzcm9vbS55YW1sKVwiKVxuXG5cdC8vIENvYnJhIGFsc28gc3VwcG9ydHMgbG9jYWwgZmxhZ3MsIHdoaWNoIHdpbGwgb25seSBydW5cblx0Ly8gd2hlbiB0aGlzIGFjdGlvbiBpcyBjYWxsZWQgZGlyZWN0bHkuXG5cdHJvb3RDbWQuRmxhZ3MoKS5Cb29sUChcInRvZ2dsZVwiLCBcInRcIiwgZmFsc2UsIFwiSGVscCBtZXNzYWdlIGZvciB0b2dnbGVcIilcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9yZWplY3RfaW52aXRhdGlvbi5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIFJlamVjdEludml0YXRpb25Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgdXNlcklEIHN0cmluZykgZXJyb3Jcbn1cblxudHlwZSByZWplY3RJbnZpdGF0aW9uVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgUmVqZWN0SW52aXRhdGlvblVzZUNhc2Uge1xuXHRyZXR1cm4gJnJlamVjdEludml0YXRpb25Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKnJlamVjdEludml0YXRpb25Vc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSBlcnJvciB7XG5cdC8vIEzhuqV5IHRow7RuZyB0aW4gaW52aXRhdGlvblxuXHRpbnZpdGF0aW9uLCBlcnIgOj0gdS5SZXBvLkdldEludml0YXRpb25CeUlEKGN0eCwgaW52aXRhdGlvbklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZ2V0IGludml0YXRpb25cIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0Ly8gS2nhu4NtIHRyYSB4ZW0gbmfGsOG7nWkgZMO5bmcgY8OzIHBo4bqjaSBsw6AgbmfGsOG7nWkgbmjhuq1uIGzhu51pIG3hu51pIGtow7RuZ1xuXHRpZiBpbnZpdGF0aW9uLlJlY2VpdmVySUQgIT0gdXNlcklEIHtcblx0XHRyZXR1cm4gcWVycm9yLkVyck5vdEludml0YXRpb25SZWNlaXZlclxuXHR9XG5cblx0Ly8gS2nhu4NtIHRyYSB4ZW0gaW52aXRhdGlvbiBjw7MgxJFhbmcg4bufIHRy4bqhbmcgdGjDoWkgcGVuZGluZyBraMO0bmdcblx0aWYgaW52aXRhdGlvbi5TdGF0dXMgIT0gZW50aXR5Lkludml0YXRpb25TdGF0dXNQZW5kaW5nIHtcblx0XHRyZXR1cm4gcWVycm9yLkVyckludml0YXRpb25Ob3RQZW5kaW5nXG5cdH1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcbilcbi4uLlxuXHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Jcblx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Jcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcblx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG59XG5cbmZ1bmMgTmV3KHByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlcikgUmVwb3NpdG9yeSB7XG5cdHJldHVybiAmcmVwb3NpdG9yeUltcGx7XG5cdFx0UHJvdmlkZXI6IHByb3ZpZGVyLFxuXHR9XG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbHsuLi4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFEMnp1anNOV25pRWJIN2c3TjVGWnlaIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiQmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIGdhdGhlcmVkLCBJIG5vdyBoYXZlIGEgZ29vZCB1bmRlcnN0YW5kaW5nIG9mIHRoZSBjb2RlYmFzZSBzdHJ1Y3R1cmUgYW5kIGhvdyB0byBpbXBsZW1lbnQgdGhlIG5ldyBBUEkgZm9yIHJldHJpZXZpbmcgY2xhc3Nyb29tcyBvd25lZCBieSBhIHVzZXIuIExldCBtZSBjcmVhdGUgYSBkZXRhaWxlZCBwbGFuIGZvciBpbXBsZW1lbnRpbmcgdGhpcyBmZWF0dXJlLlxuXG4jIyBQbGFuIGZvciBJbXBsZW1lbnRpbmcgQVBJIHRvIFJldHJpZXZlIE93bmVkIENsYXNzcm9vbXNcblxuMS4gQ3JlYXRlIGEgbmV3IHJlcXVlc3QgbW9kZWwgZm9yIGZpbHRlcmluZyBvd25lZCBjbGFzc3Jvb21zXG4yLiBBZGQgYSBuZXcgcmVwb3NpdG9yeSBtZXRob2QgdG8gZmlsdGVyIGNsYXNzcm9vbXMgYnkgb3duZXJcbjMuIENyZWF0ZSBhIG5ldyB1c2VjYXNlIGZvciBmaWx0ZXJpbmcgb3duZWQgY2xhc3Nyb29tc1xuNC4gQWRkIGEgbmV3IGhhbmRsZXIgbWV0aG9kIHRvIHRoZSBIYW5kbGVyIGludGVyZmFjZVxuNS4gSW1wbGVtZW50IHRoZSBoYW5kbGVyIG1ldGhvZFxuNi4gVXBkYXRlIHRoZSByb3V0ZXIgdG8gYWRkIHRoZSBuZXcgZW5kcG9pbnRcbjcuIFVwZGF0ZSB0aGUgaGFuZGxlciBpbmplY3Rpb24gaW4gc2VydmVyLmdvXG5cbkxldCdzIHN0YXJ0IGltcGxlbWVudGluZyB0aGVzZSBjaGFuZ2VzOlxuXG4jIyMgMS4gQ3JlYXRlIGEgbmV3IHJlcXVlc3QgbW9kZWwgZm9yIGZpbHRlcmluZyBvd25lZCBjbGFzc3Jvb21zXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYmRlOWE1MTAtZjJjMi00OTMyLTk5OTQtNjQ4ODQyZWEwYmM0IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMUZtNzR2Szd2MzdqdkE0SnQyOE5KayIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJyZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiMjIyAyLiBBZGQgYSBuZXcgcmVwb3NpdG9yeSBtZXRob2QgdG8gZmlsdGVyIGNsYXNzcm9vbXMgYnkgb3duZXJcblxuRmlyc3QsIGxldCdzIHVwZGF0ZSB0aGUgcmVwb3NpdG9yeSBpbnRlcmZhY2U6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFGZ1dqZjNieThLdWgycVptSk1pN2hNIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiIyMjIDIuIEFkZCBhIG5ldyByZXBvc2l0b3J5IG1ldGhvZCB0byBmaWx0ZXIgY2xhc3Nyb29tcyBieSBvd25lclxuXG5GaXJzdCwgbGV0J3MgdXBkYXRlIHRoZSByZXBvc2l0b3J5IGludGVyZmFjZTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJkZmE3NzQ3ZS1jNTBkLTQ3ZjgtODcwYy00NTBlNWVjY2NjYTAiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE0OHVMZ2VvWmRpVWRneXF2NG5OeEVVIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJyZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiXFx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3JcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcIiwgXCJuZXdfc3RyXCI6IFwiXFx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3JcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcXG5cXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMjEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMjJ9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvOlxuICAgICAxXHRwYWNrYWdlIHJlcG9zaXRvcnlcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCAoXG4gICAgIDRcdFx0XCJjb250ZXh0XCJcbiAgICAgNVx0XHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbiAgICAgNlx0XHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbiAgICAgN1x0XHRcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuICAgICA4XHRcbiAgICAgOVx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4gICAgMTBcdClcbiAgICAxMVx0XG4gICAgMTJcdHR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuICAgIDEzXHRcdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG4gICAgMTRcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG4gICAgMTVcdFx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3JcbiAgICAxNlx0XHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG4gICAgMTdcdFx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcbiAgICAxOFx0XHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuICAgIDE5XHRcdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuICAgIDIwXHRcdFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvclxuICAgIDIxXHRcdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG4gICAgMjJcdFx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG4gICAgMjNcdH1cbiAgICAyNFx0XG4gICAgMjVcdHR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcbiAgICAyNlx0XHRQcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXJcbiAgICAyN1x0fVxuICAgIDI4XHRcbiAgICAyOVx0ZnVuYyBOZXcocHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyKSBSZXBvc2l0b3J5IHtcbiAgICAzMFx0XHRyZXR1cm4gJnJlcG9zaXRvcnlJbXBse1xuICAgIDMxXHRcdFx0UHJvdmlkZXI6IHByb3ZpZGVyLFxuICAgIDMyXHRcdH1cbiAgICAzM1x0fVxuICAgIDM0XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDM0XG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDExRm03NHZLN3YzN2p2QTRKdDI4TkprIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJyZXF1ZXN0X2lkIjoiM2I5MzFhMDktYmNiOS00ODQ5LWI0ZGItNzE5MTUyYWNlODc2Iiwic3RhdHVzIjoiY2FuY2VsbGVkIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy10dXJuLWRlbGltaXRlciJ9LHsicmVxdWVzdF9pZCI6ImRiOGUyNTFhLTdhNGYtNDAzYS1iODY1LTc2MjgyZjk5MmE4NiIsInV1aWQiOiI5NTYxZjg3ZC1jNDQ4LTRlNDUtYWYzMC1hNGRhMzRmMzNjY2QiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLWNoZWNrcG9pbnQtZGVsaW1pdGVyIiwic3RhdHVzIjoic3VjY2VzcyIsImZyb21UaW1lc3RhbXAiOjAsInRvVGltZXN0YW1wIjoxNzQ1MjUyNDEzNzg3LCJzZWVuX3N0YXRlIjoic2VlbiJ9LHsicmVxdWVzdF9pZCI6ImMwMjg4NDliLTU4NjQtNDE4Yi04YmJlLWQyMWI1MGI3MTNiMCIsInN0YXR1cyI6ImNhbmNlbGxlZCIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtdHVybi1kZWxpbWl0ZXIifSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZGNkNzU5ODktYTA5OC00YTBmLWE3YWItYjgyNDk4NWQ0YTExIiwicmVxdWVzdF9tZXNzYWdlIjoidOG6oW8gYXBpIGzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJFhbmcgc+G7nyBo4buvdXThuqFvIGFwaSBs4bqleSBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3UiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoidOG6oW8gYXBpIGzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJFhbmcgc+G7nyBo4buvdXThuqFvIGFwaSBs4bqleSBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3UifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUxrb0FjU0VEekF4N0VOV3lKQ3RHSjMiLCJ0b29sX25hbWUiOiJjb2RlYmFzZS1yZXRyaWV2YWwiLCJpbnB1dF9qc29uIjoie1wiaW5mb3JtYXRpb25fcmVxdWVzdFwiOiBcIkZpbmQgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGhhbmRsZXIvaGFuZGxlci5nbyBmaWxlIHN0cnVjdHVyZSBhbmQgaG93IEFQSSBlbmRwb2ludHMgYXJlIGRlZmluZWQgaW4gdGhpcyBwcm9qZWN0LiBBbHNvIGxvb2sgZm9yIGFueSBleGlzdGluZyBjbGFzcyBvciBjbGFzc3Jvb20gcmVsYXRlZCBtb2RlbHMsIGhhbmRsZXJzLCBhbmQgZGF0YWJhc2UgaW50ZXJhY3Rpb25zLlwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSSdsbCBoZWxwIHlvdSBjcmVhdGUgYW4gQVBJIHRvIHJldHJpZXZlIGEgbGlzdCBvZiBjbGFzc3Jvb21zIG93bmVkIGJ5IGEgdXNlci4gTGV0IG1lIGZpcnN0IGdhdGhlciBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY29kZWJhc2Ugc3RydWN0dXJlIHRvIHVuZGVyc3RhbmQgaG93IHRvIGltcGxlbWVudCB0aGlzIGZlYXR1cmUgcHJvcGVybHkuXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9LHsiaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFYdUtVelV3dkZxY1NHWG5RVzQxUDZQIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJGaW5kIGluZm9ybWF0aW9uIGFib3V0IHRoZSBoYW5kbGVyL2hhbmRsZXIuZ28gZmlsZSBzdHJ1Y3R1cmUgYW5kIGhvdyBBUEkgZW5kcG9pbnRzIGFyZSBkZWZpbmVkIGluIHRoaXMgcHJvamVjdC4gQWxzbyBsb29rIGZvciBhbnkgZXhpc3RpbmcgY2xhc3Mgb3IgY2xhc3Nyb29tIHJlbGF0ZWQgbW9kZWxzLCBoYW5kbGVycywgYW5kIGRhdGFiYXNlIGludGVyYWN0aW9ucy5cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkknbGwgaGVscCB5b3UgY3JlYXRlIGFuIEFQSSB0byByZXRyaWV2ZSBhIGxpc3Qgb2YgY2xhc3Nyb29tcyBvd25lZCBieSBhIHVzZXIuIExldCBtZSBmaXJzdCBnYXRoZXIgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNvZGViYXNlIHN0cnVjdHVyZSB0byB1bmRlcnN0YW5kIGhvdyB0byBpbXBsZW1lbnQgdGhpcyBmZWF0dXJlIHByb3Blcmx5LlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MCwidGV4dF9ub2RlIjp7ImNvbnRlbnQiOiJ04bqhbyBhcGkgbOG6pXkgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691dOG6oW8gYXBpIGzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJFhbmcgc+G7nyBo4buvdSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkknbGwgaGVscCB5b3UgY3JlYXRlIGFuIEFQSSB0byByZXRyaWV2ZSBhIGxpc3Qgb2YgY2xhc3Nyb29tcyBvd25lZCBieSBhIHVzZXIuIExldCBtZSBmaXJzdCBnYXRoZXIgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNvZGViYXNlIHN0cnVjdHVyZSB0byB1bmRlcnN0YW5kIGhvdyB0byBpbXBsZW1lbnQgdGhpcyBmZWF0dXJlIHByb3Blcmx5LlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJmYWlsZWQiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W10sInNlZW5fc3RhdGUiOiJ1bnNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBoYW5kbGVyL2hhbmRsZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG50eXBlIEhhbmRsZXIgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAvLyBM4buNYyB0aMOgbmggdmnDqm4gY+G7p2EgbOG7m3AgaOG7jWNcblx0SW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgIC8vIE3hu51pIHRow6BuaCB2acOqbiB2w6BvIGzhu5twIGjhu41jXG5cdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG5cdFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBU4burIGNo4buRaSBs4budaSBt4budaVxuXHRBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gQ2jhuqVwIG5o4bqtbiBs4budaSBt4budaVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxufVxuXG50eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Vcbn1cblxudHlwZSBJbmplY3Qgc3RydWN0IHtcblx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG5cdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxufVxuXG5mdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XG5cdHJldHVybiAmaGFuZGxlckltcGx7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiBpbmplY3QuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UsXG5cdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIGluamVjdC5JbnZpdGVNZW1iZXJVc2VDYXNlLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuUmVqZWN0SW52aXRhdGlvblVzZUNhc2UsXG5cdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcblx0fVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IHIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkNyZWF0ZUNsYXNzcm9vbVJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gci5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e1xuXHRcdFVzZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdE5hbWU6ICAgICAgdmFsdWUuR2V0VmFsdWUoYm9keS5OYW1lLCBcIlwiKSxcblx0XHRBdmF0YXJVcmw6IHZhbHVlLkdldFZhbHVlKGJvZHkuQXZhdGFyVXJsLCBcIlwiKSxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvcm91dGVyLmdvXG5wYWNrYWdlIHNlcnZlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbmZ1bmMgSW5pdFJvdXRlcihhcHAgKmZpYmVyLkFwcCwgaGFuZGxlciBoYW5kbGVyLkhhbmRsZXIpIHtcblx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvY3JlYXRlXCIsIGhhbmRsZXIuQ3JlYXRlQ2xhc3Nyb29tKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2ludml0ZVwiLCBoYW5kbGVyLkludml0ZU1lbWJlcilcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzKVxuXG5cdGludml0YXRpb25Hcm91cCA6PSBhcHAuR3JvdXAoXCIvaW52aXRhdGlvblwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGludml0YXRpb25Hcm91cC5HZXQoXCIvZmlsdGVyXCIsIGhhbmRsZXIuRmlsdGVySW52aXRhdGlvbnMpXG5cdGludml0YXRpb25Hcm91cC5QdXQoXCIvcmVqZWN0LzppZFwiLCBoYW5kbGVyLlJlamVjdEludml0YXRpb24pXG5cdGludml0YXRpb25Hcm91cC5QdXQoXCIvYWNjZXB0LzppZFwiLCBoYW5kbGVyLkFjY2VwdEludml0YXRpb24pXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkludml0ZU1lbWJlclJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gaC5JbnZpdGVNZW1iZXJVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXtcblx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoYm9keS5DbGFzc3Jvb21JRCwgXCJcIiksXG5cdFx0U2VuZGVySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHRSZWNlaXZlcklEOiAgdmFsdWUuR2V0VmFsdWUoYm9keS5SZWNlaXZlcklELCBcIlwiKSxcblx0XHRTdGF0dXM6ICAgICAgZW50aXR5Lkludml0YXRpb25TdGF0dXNQZW5kaW5nLFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvbik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcIm5nxrDhu51pIG5o4bqtbiDEkcOjIGPDsyBs4budaSBt4budaSDEkWFuZyBjaOG7nSB44butIGzDvSBob+G6t2MgxJHDoyDEkcaw4bujYyBjaOG6pXAgbmjhuq1uXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IGNsYXNzcm9vbV9pZCB04burIFVSTFxuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBxdWVyeSByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSwgcXVlcnkpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRpZiBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpIHtcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG4uLi5cblBhdGg6IHNlcnZlci9zZXJ2ZXIuZ29cbi4uLlxuXHRyZXBvc2l0b3J5IDo9IHJlcG9zaXRvcnkuTmV3KHByb3ZpZGVyKVxuXHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgdXNlY2FzZS5OZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICB1c2VjYXNlLk5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0fSlcbi4uLlxuUGF0aDogaGFuZGxlci9hY2NlcHRfaW52aXRhdGlvbi5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IElEIGPhu6dhIGludml0YXRpb24gdOG7qyBVUkxcblx0aW52aXRhdGlvbklEIDo9IGMuUGFyYW1zKFwiaWRcIilcblx0aWYgaW52aXRhdGlvbklEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiaWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cbi4uLlxuUGF0aDogbWlncmF0ZS9taWdyYXRlLmdvXG5wYWNrYWdlIG1pZ3JhdGVcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbmZ1bmMgUnVuKHNlcnZpY2VDb25maWcgKm1vZGVsLlNlcnZpY2VDb25maWcpIHtcblx0cHJvdmlkZXIsIGVyciA6PSBwcm92aWRlci5Jbml0KHNlcnZpY2VDb25maWcpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBpbml0IHByb3ZpZGVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG5cblx0aWYgZXJyIDo9IHByb3ZpZGVyLkRiLkF1dG9NaWdyYXRlKFxuXHRcdCZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e30sXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7fSxcblx0XHQmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSxcblx0KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIG1pZ3JhdGUgZGF0YWJhc2VcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRsb2dnZXIuSW5mbyhcIm1pZ3JhdGUgZGF0YWJhc2Ugc3VjY2Vzc1wiKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL3JlamVjdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgUmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgSUQgY+G7p2EgaW52aXRhdGlvbiB04burIFVSTFxuXHRpbnZpdGF0aW9uSUQgOj0gYy5QYXJhbXMoXCJpZFwiKVxuXHRpZiBpbnZpdGF0aW9uSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJpZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuLi4uXG5QYXRoOiBlbnRpdHkvY2xhc3Nyb29tLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXG50eXBlIENsYXNzcm9vbUVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXG5cdFVzZXJJRCAgICBzdHJpbmcgYGpzb246XCJ1c2VyX2lkXCJgXG5cdE5hbWUgICAgICBzdHJpbmcgYGpzb246XCJuYW1lXCJgXG5cdEF2YXRhclVybCBzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCJgXG59XG5cbmZ1bmMgKGMgKkNsYXNzcm9vbUVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21zXCJcbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyUm9sZSBzdHJpbmdcblxuY29uc3QgKFxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlciBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJ0ZWFjaGVyXCJcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwic3R1ZGVudFwiXG4pXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyIHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cdENsYXNzcm9vbUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJjbGFzc3Jvb21faWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFVzZXJJRCAgICAgIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJ1c2VyX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRSb2xlICAgICAgICBDbGFzc3Jvb21NZW1iZXJSb2xlIGBqc29uOlwicm9sZVwiYFxuXHRJbnZpdGVkQnlJRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiaW52aXRlZF9ieV9pZFwiYFxufVxuXG5mdW5jIChjIENsYXNzcm9vbU1lbWJlcikgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVyc1wiXG59XG4uLi5cblBhdGg6IGVudGl0eS9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvblN0YXR1cyBzdHJpbmdcblxuY29uc3QgKFxuXHRJbnZpdGF0aW9uU3RhdHVzUGVuZGluZyAgSW52aXRhdGlvblN0YXR1cyA9IFwicGVuZGluZ1wiXG5cdEludml0YXRpb25TdGF0dXNBY2NlcHRlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJhY2NlcHRlZFwiXG5cdEludml0YXRpb25TdGF0dXNSZWplY3RlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJyZWplY3RlZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvbkVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXHRDbGFzc3Jvb21JRCBzdHJpbmcgICAgICAgICAgIGBqc29uOlwiY2xhc3Nyb29tX2lkXCJgXG5cdFNlbmRlcklEICAgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJzZW5kZXJfaWRcIiBnb3JtOlwiaW5kZXhcImBcblx0UmVjZWl2ZXJJRCAgc3RyaW5nICAgICAgICAgICBganNvbjpcInJlY2VpdmVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFN0YXR1cyAgICAgIEludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBnb3JtOlwiaW5kZXhcImBcbn1cblxuZnVuYyAoSW52aXRhdGlvbkVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHsgcmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5pbnZpdGF0aW9uc1wiIH1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuVHJhbnNhY3Rpb24oZnVuYyh0eCAqZ29ybS5EQikgZXJyb3Ige1xuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoY2xhc3Nyb29tKS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZSgmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShjbGFzc3Jvb20uSUQsIFwiXCIpLFxuXHRcdFx0VXNlcklEOiAgICAgIGNsYXNzcm9vbS5Vc2VySUQsXG5cdFx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyLFxuXHRcdH0pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRyZXR1cm4gbmlsXG5cdH0pXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdvcm0uaW8vZ29ybS9jbGF1c2VcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Ige1xuXHQvLyBT4butIGThu6VuZyBjbGF1c2UuT25Db25mbGljdCgpLkRvTm90aGluZygpIMSR4buDIHRyw6FuaCBs4buXaSBraGkgdGjDqm0gdGjDoG5oIHZpw6puIMSRw6MgdOG7k24gdOG6oWlcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5cblx0XHRDbGF1c2VzKGNsYXVzZS5PbkNvbmZsaWN0e0RvTm90aGluZzogdHJ1ZX0pLlxuXHRcdENyZWF0ZShtZW1iZXIpLkVycm9yXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGF0aW9uc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgcmVxXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tUmVxdWVzdCBzdHJ1Y3Qge1xuXHROYW1lICAgICAgKnN0cmluZyBganNvbjpcIm5hbWVcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdEF2YXRhclVybCAqc3RyaW5nIGBqc29uOlwiYXZhdGFyX3VybFwiIHZhbGlkYXRlOlwicmVxdWlyZWQsdXJsXCJgXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tTWVtYmVycyBbXWVudGl0eS5DbGFzc3Jvb21NZW1iZXJcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZFwiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21NZW1iZXJzKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21NZW1iZXJzXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2ludml0YXRpb24uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5DcmVhdGUoaW52aXRhdGlvbikuRXJyb3Jcbn0uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L3VwZGF0ZV9pbnZpdGF0aW9uX3N0YXR1cy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgVXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRNb2RlbCgmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSkuXG5cdFx0V2hlcmUoXCJpZCA9ID9cIiwgaW52aXRhdGlvbklEKS5cblx0XHRVcGRhdGUoXCJzdGF0dXNcIiwgc3RhdHVzKS5cblx0XHRFcnJvclxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSByZXFcblxudHlwZSBJbnZpdGVNZW1iZXJSZXF1ZXN0IHN0cnVjdCB7XG5cdENsYXNzcm9vbUlEICpzdHJpbmcgYGpzb246XCJjbGFzc3Jvb21faWRcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdFJlY2VpdmVySUQgICpzdHJpbmcgYGpzb246XCJyZWNlaXZlcl9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHRxdWVyeSA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJyZWNlaXZlcl9pZCA9ID9cIiwgcmVjZWl2ZXJJRClcblxuXHQvLyBM4buNYyB0aGVvIHN0YXR1cyBu4bq/dSBjw7Ncblx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdHF1ZXJ5ID0gcXVlcnkuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHR9XG5cblx0dmFyIGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0aWYgZXJyIDo9IHF1ZXJ5LlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuLi4uXG5QYXRoOiB1c2VjYXNlL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XyBcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcbn1cblxudHlwZSBjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2Uge1xuXHRyZXR1cm4gJmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAoYyAqY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdGlmIGVyciA6PSBjLlJlcG8uQ3JlYXRlQ2xhc3Nyb29tKGN0eCwgY2xhc3Nyb29tKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb21cIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cdHJldHVybiBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9hY2NlcHRfaW52aXRhdGlvbi5nb1xuLi4uXG5cblx0aWYgZXJyIDo9IHUuUmVwby5DcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4LCAmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRDbGFzc3Jvb21JRDogaW52aXRhdGlvbi5DbGFzc3Jvb21JRCxcblx0XHRVc2VySUQ6ICAgICAgaW52aXRhdGlvbi5SZWNlaXZlcklELFxuXHRcdFJvbGU6ICAgICAgICBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQsXG5cdFx0SW52aXRlZEJ5SUQ6IGludml0YXRpb24uU2VuZGVySUQsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbSBtZW1iZXJcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0aWYgZXJyIDo9IHUuUmVwby5VcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCwgaW52aXRhdGlvbklELCBlbnRpdHkuSW52aXRhdGlvblN0YXR1c0FjY2VwdGVkKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIHVwZGF0ZSBpbnZpdGF0aW9uIHN0YXR1c1wiLCB6YXAuU3RyaW5nKFwiaW52aXRhdGlvbiBpZFwiLCBpbnZpdGF0aW9uSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xuLi4uXG5cbnR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcblx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Jcblx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZXtSZXBvOiByZXBvfVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2lzX2ludml0YXRpb25fZXhpc3RpbmcuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY291bnQgaW50NjRcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRNb2RlbCgmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/IEFORCByZWNlaXZlcl9pZCA9ID8gQU5EIHN0YXR1cyBJTiA/XCIsIGNsYXNzcm9vbUlELCByZWNlaXZlcklELCBbXWVudGl0eS5JbnZpdGF0aW9uU3RhdHVze2VudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZywgZW50aXR5Lkludml0YXRpb25TdGF0dXNBY2NlcHRlZH0pLlxuXHRcdENvdW50KCZjb3VudCkuXG5cdFx0RXJyb3I7IGVyciAhLi4uIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxTGtvQWNTRUR6QXg3RU5XeUpDdEdKMyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XX1dLCJmZWVkYmFja1N0YXRlcyI6eyJ0ZW1wLWZlLTViYjAwZjMwLTllOGMtNDQ0OS1iNTVlLWQxZjg5ZTE1Mjc2NCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMjI4MmM0YzAtNmNiYy00YWJkLWJkZGUtZWYyNzdlZTU5Yjk2Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1jMzc2MGI5OS1mMmJhLTRlOWQtODliNy01NGI2MmY3YjI5NmMiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWVkMTM0OTNlLWE3OTktNGYxYy1iMWU3LTFjMDhmMjYyMzA5NSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNGZhNGEwYjUtYTg5Yi00MWI5LTkwY2YtYmVmMWZlMTE5ODgyIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0zOWQzNzdlMi1iZjQwLTQxODMtYTA4Ny1hYmMzNWJhMjI3ZGUiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWQ2NjRmYzNkLTFhN2MtNDE5MC04Y2I4LTliYWUwZWJkMmNjNiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNDgyZmI0NGEtNzI2ZC00ZDcxLWFlMDktYTk0ZjliMjYyOWJiIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1hMzk1OTkwZi1jOTdjLTQ4YWEtYTk5OS0xMjMwZmRmZTFhNTkiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTk1ZDg2Y2YyLTQyNGItNGI5NC05Y2U2LWIwNThlOWRkNmMzYyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYmRmNjZlZmYtNGYzYi00MmMzLWIyMGMtYzM2ZDRhMTZmYTkxIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifX0sInRvb2xVc2VTdGF0ZXMiOnsiYjMzNmM4OTEtOWRkOC00NTA0LWJlYTAtNzE3NDcxNDQwMDM3O3Rvb2x1X3ZydHhfMDFTZlhDQ211TTdYaGpydUIxSmh4dVo2Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IGhhbmRsZXIvaGFuZGxlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbnR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTeG7nWkgdGjDoG5oIHZpw6puIHbDoG8gbOG7m3AgaOG7jWNcblx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcblx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG5cdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBDaOG6pXAgbmjhuq1uIGzhu51pIG3hu51pXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG59XG5cbnR5cGUgaGFuZGxlckltcGwgc3RydWN0IHtcblx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG5cdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxufVxuXG50eXBlIEluamVjdCBzdHJ1Y3Qge1xuXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2Vcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2Vcblx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Vcblx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxuXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG5cdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG59XG5cbmZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcblx0cmV0dXJuICZoYW5kbGVySW1wbHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXG5cdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcblx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgaW5qZWN0Lkludml0ZU1lbWJlclVzZUNhc2UsXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIGluamVjdC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UsXG5cdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LkFjY2VwdEludml0YXRpb25Vc2VDYXNlLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICBpbmplY3QuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLFxuXHR9XG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuQ3JlYXRlQ2xhc3Nyb29tUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSByLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5DbGFzc3Jvb21FbnRpdHl7XG5cdFx0VXNlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0TmFtZTogICAgICB2YWx1ZS5HZXRWYWx1ZShib2R5Lk5hbWUsIFwiXCIpLFxuXHRcdEF2YXRhclVybDogdmFsdWUuR2V0VmFsdWUoYm9keS5BdmF0YXJVcmwsIFwiXCIpLFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IHNlcnZlci9yb3V0ZXIuZ29cbnBhY2thZ2Ugc2VydmVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmVcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcblxuZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xuXHRjbGFzc3Jvb21Hcm91cCA6PSBhcHAuR3JvdXAoXCIvY2xhc3Nyb29tXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvaW52aXRlXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycylcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG5cblx0aW52aXRhdGlvbkdyb3VwIDo9IGFwcC5Hcm91cChcIi9pbnZpdGF0aW9uXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0aW52aXRhdGlvbkdyb3VwLkdldChcIi9maWx0ZXJcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucylcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9yZWplY3QvOmlkXCIsIGhhbmRsZXIuUmVqZWN0SW52aXRhdGlvbilcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9hY2NlcHQvOmlkXCIsIGhhbmRsZXIuQWNjZXB0SW52aXRhdGlvbilcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgSW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuSW52aXRlTWVtYmVyUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSBoLkludml0ZU1lbWJlclVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e1xuXHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkNsYXNzcm9vbUlELCBcIlwiKSxcblx0XHRTZW5kZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdFJlY2VpdmVySUQ6ICB2YWx1ZS5HZXRWYWx1ZShib2R5LlJlY2VpdmVySUQsIFwiXCIpLFxuXHRcdFN0YXR1czogICAgICBlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIMSRYW5nIGNo4budIHjhu60gbMO9IGhv4bq3YyDEkcOjIMSRxrDhu6NjIGNo4bqlcCBuaOG6rW5cIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0YXRpb25zVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgY2xhc3Nyb29tX2lkIHThu6sgVVJMXG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHF1ZXJ5IHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLCBxdWVyeSlcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdGlmIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcikge1xuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0fVxuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cbi4uLlxuUGF0aDogc2VydmVyL3NlcnZlci5nb1xuLi4uXG5cdHJlcG9zaXRvcnkgOj0gcmVwb3NpdG9yeS5OZXcocHJvdmlkZXIpXG5cdGhhbmRsZXIgOj0gaGFuZGxlci5OZXcoJmhhbmRsZXIuSW5qZWN0e1xuXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICB1c2VjYXNlLk5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IHVzZWNhc2UuTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIHVzZWNhc2UuTmV3SW52aXRlTWVtYmVyVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIHVzZWNhc2UuTmV3UmVqZWN0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIHVzZWNhc2UuTmV3QWNjZXB0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHR9KVxuLi4uXG5QYXRoOiBoYW5kbGVyL2FjY2VwdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgQWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgSUQgY+G7p2EgaW52aXRhdGlvbiB04burIFVSTFxuXHRpbnZpdGF0aW9uSUQgOj0gYy5QYXJhbXMoXCJpZFwiKVxuXHRpZiBpbnZpdGF0aW9uSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJpZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuLi4uXG5QYXRoOiBtaWdyYXRlL21pZ3JhdGUuZ29cbnBhY2thZ2UgbWlncmF0ZVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxuZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuXHRwcm92aWRlciwgZXJyIDo9IHByb3ZpZGVyLkluaXQoc2VydmljZUNvbmZpZylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRpZiBlcnIgOj0gcHJvdmlkZXIuRGIuQXV0b01pZ3JhdGUoXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21FbnRpdHl7fSxcblx0XHQmZW50aXR5LkNsYXNzcm9vbU1lbWJlcnt9LFxuXHRcdCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9LFxuXHQpOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gbWlncmF0ZSBkYXRhYmFzZVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuXG5cdGxvZ2dlci5JbmZvKFwibWlncmF0ZSBkYXRhYmFzZSBzdWNjZXNzXCIpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvcmVqZWN0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBJRCBj4bunYSBpbnZpdGF0aW9uIHThu6sgVVJMXG5cdGludml0YXRpb25JRCA6PSBjLlBhcmFtcyhcImlkXCIpXG5cdGlmIGludml0YXRpb25JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImlkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tRW50aXR5IHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cblx0VXNlcklEICAgIHN0cmluZyBganNvbjpcInVzZXJfaWRcImBcblx0TmFtZSAgICAgIHN0cmluZyBganNvbjpcIm5hbWVcImBcblx0QXZhdGFyVXJsIHN0cmluZyBganNvbjpcImF2YXRhcl91cmxcImBcbn1cblxuZnVuYyAoYyAqQ2xhc3Nyb29tRW50aXR5KSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXNcIlxufVxuLi4uXG5QYXRoOiBlbnRpdHkvY2xhc3Nyb29tX21lbWJlci5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblxudHlwZSBDbGFzc3Jvb21NZW1iZXJSb2xlIHN0cmluZ1xuXG5jb25zdCAoXG5cdENsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyIENsYXNzcm9vbU1lbWJlclJvbGUgPSBcInRlYWNoZXJcIlxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJzdHVkZW50XCJcbilcblxudHlwZSBDbGFzc3Jvb21NZW1iZXIgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiIGdvcm06XCJ1bmlxdWVJbmRleDppZHhfY2xhc3Nyb29tX3VzZXJcImBcblx0VXNlcklEICAgICAgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcInVzZXJfaWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFJvbGUgICAgICAgIENsYXNzcm9vbU1lbWJlclJvbGUgYGpzb246XCJyb2xlXCJgXG5cdEludml0ZWRCeUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJpbnZpdGVkX2J5X2lkXCJgXG59XG5cbmZ1bmMgKGMgQ2xhc3Nyb29tTWVtYmVyKSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbV9tZW1iZXJzXCJcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcbilcblxudHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxuXHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxuXHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuXHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Jcblx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Jcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcblx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG59XG5cbmZ1bmMgTmV3KHByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlcikgUmVwb3NpdG9yeSB7XG5cdHJldHVybiAmcmVwb3NpdG9yeUltcGx7XG5cdFx0UHJvdmlkZXI6IHByb3ZpZGVyLFxuXHR9XG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnb3JtLmlvL2dvcm0vY2xhdXNlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yIHtcblx0Ly8gU+G7rSBk4bulbmcgY2xhdXNlLk9uQ29uZmxpY3QoKS5Eb05vdGhpbmcoKSDEkeG7gyB0csOhbmggbOG7l2kga2hpIHRow6ptIHRow6BuaCB2acOqbiDEkcOjIHThu5NuIHThuqFpXG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuXG5cdFx0Q2xhdXNlcyhjbGF1c2UuT25Db25mbGljdHtEb05vdGhpbmc6IHRydWV9KS5cblx0XHRDcmVhdGUobWVtYmVyKS5FcnJvclxufVxuLi4uXG5QYXRoOiBlbnRpdHkvaW52aXRhdGlvbi5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuXG50eXBlIEludml0YXRpb25TdGF0dXMgc3RyaW5nXG5cbmNvbnN0IChcblx0SW52aXRhdGlvblN0YXR1c1BlbmRpbmcgIEludml0YXRpb25TdGF0dXMgPSBcInBlbmRpbmdcIlxuXHRJbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwiYWNjZXB0ZWRcIlxuXHRJbnZpdGF0aW9uU3RhdHVzUmVqZWN0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwicmVqZWN0ZWRcIlxuKVxuXG50eXBlIEludml0YXRpb25FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiYFxuXHRTZW5kZXJJRCAgICBzdHJpbmcgICAgICAgICAgIGBqc29uOlwic2VuZGVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFJlY2VpdmVySUQgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJyZWNlaXZlcl9pZFwiIGdvcm06XCJpbmRleFwiYFxuXHRTdGF0dXMgICAgICBJbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgZ29ybTpcImluZGV4XCJgXG59XG5cbmZ1bmMgKEludml0YXRpb25FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7IHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uaW52aXRhdGlvbnNcIiB9XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2ludml0YXRpb24uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5DcmVhdGUoaW52aXRhdGlvbikuRXJyb3Jcbn0uLi5cblBhdGg6IG1vZGVsL3JlcS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVJlcXVlc3Qgc3RydWN0IHtcblx0TmFtZSAgICAgICpzdHJpbmcgYGpzb246XCJuYW1lXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxuXHRBdmF0YXJVcmwgKnN0cmluZyBganNvbjpcImF2YXRhcl91cmxcIiB2YWxpZGF0ZTpcInJlcXVpcmVkLHVybFwiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbU1lbWJlcnMgW11lbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWRcIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tTWVtYmVycykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tTWVtYmVyc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHF1ZXJ5IDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInJlY2VpdmVyX2lkID0gP1wiLCByZWNlaXZlcklEKVxuXG5cdC8vIEzhu41jIHRoZW8gc3RhdHVzIG7hur91IGPDs1xuXHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0cXVlcnkgPSBxdWVyeS5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdH1cblxuXHR2YXIgaW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gcXVlcnkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2dldF9pbnZpdGF0aW9uX2J5X2lkLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcikge1xuXHR2YXIgaW52aXRhdGlvbiBlbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiaWQgPSA/XCIsIGludml0YXRpb25JRCkuXG5cdFx0Rmlyc3QoJmludml0YXRpb24pLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gJmludml0YXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSByZXFcblxudHlwZSBJbnZpdGVNZW1iZXJSZXF1ZXN0IHN0cnVjdCB7XG5cdENsYXNzcm9vbUlEICpzdHJpbmcgYGpzb246XCJjbGFzc3Jvb21faWRcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdFJlY2VpdmVySUQgICpzdHJpbmcgYGpzb246XCJyZWNlaXZlcl9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdF8gXCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIHtcblx0cmV0dXJuICZjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKGMgKmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRpZiBlcnIgOj0gYy5SZXBvLkNyZWF0ZUNsYXNzcm9vbShjdHgsIGNsYXNzcm9vbSk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2xhc3Nyb29tXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvdXBkYXRlX2ludml0YXRpb25fc3RhdHVzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdE1vZGVsKCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9KS5cblx0XHRXaGVyZShcImlkID0gP1wiLCBpbnZpdGF0aW9uSUQpLlxuXHRcdFVwZC4uLiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjdhMDcyMzE5LWZmYjAtNGFlNi05OWJjLTgxYjQ1NWEwNzMyNzt0b29sdV92cnR4XzAxNFA3V2dicVd2dktkN2NTWjVMeEV4ZSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBlbnRpdHkvY2xhc3Nyb29tLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXG50eXBlIENsYXNzcm9vbUVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXG5cdFVzZXJJRCAgICBzdHJpbmcgYGpzb246XCJ1c2VyX2lkXCJgXG5cdE5hbWUgICAgICBzdHJpbmcgYGpzb246XCJuYW1lXCJgXG5cdEF2YXRhclVybCBzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCJgXG59XG5cbmZ1bmMgKGMgKkNsYXNzcm9vbUVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21zXCJcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9pc19jbGFzc3Jvb21fb3duZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpIHtcblx0dmFyIGNsYXNzcm9vbSBlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJpZCA9ID8gQU5EIHVzZXJfaWQgPSA/XCIsIGNsYXNzcm9vbUlELCB1c2VySUQpLlxuXHRcdEZpcnN0KCZjbGFzc3Jvb20pLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBO4bq/dSBraMO0bmcgdMOsbSB0aOG6pXkgYuG6o24gZ2hpLCBjw7MgbmdoxKlhIGzDoCBuZ8aw4budaSBkw7luZyBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691XG5cdFx0cmV0dXJuIGZhbHNlLCBuaWxcblx0fVxuXHRyZXR1cm4gdHJ1ZSwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xuLi4uXG5cbnR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcblx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Jcblx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcblx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXG5cdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIHJlcG9zaXRvcnlJbXBsIHN0cnVjdCB7XG5cdFByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlclxufVxuXG5mdW5jIE5ldyhwcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXIpIFJlcG9zaXRvcnkge1xuXHRyZXR1cm4gJnJlcG9zaXRvcnlJbXBse1xuXHRcdFByb3ZpZGVyOiBwcm92aWRlcixcblx0fVxufVxuLi4uXG5QYXRoOiBlbnRpdHkvY2xhc3Nyb29tX21lbWJlci5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblxudHlwZSBDbGFzc3Jvb21NZW1iZXJSb2xlIHN0cmluZ1xuXG5jb25zdCAoXG5cdENsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyIENsYXNzcm9vbU1lbWJlclJvbGUgPSBcInRlYWNoZXJcIlxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJzdHVkZW50XCJcbilcblxudHlwZSBDbGFzc3Jvb21NZW1iZXIgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiIGdvcm06XCJ1bmlxdWVJbmRleDppZHhfY2xhc3Nyb29tX3VzZXJcImBcblx0VXNlcklEICAgICAgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcInVzZXJfaWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFJvbGUgICAgICAgIENsYXNzcm9vbU1lbWJlclJvbGUgYGpzb246XCJyb2xlXCJgXG5cdEludml0ZWRCeUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJpbnZpdGVkX2J5X2lkXCJgXG59XG5cbmZ1bmMgKGMgQ2xhc3Nyb29tTWVtYmVyKSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbV9tZW1iZXJzXCJcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZXtSZXBvOiByZXBvfVxufVxuXG5mdW5jIChmICpmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0cmVzdWx0LCBlcnIgOj0gZi5SZXBvLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4LCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGNsYXNzcm9vbSBtZW1iZXJzXCIsIHphcC5TdHJpbmcoXCJjbGFzc3Jvb20gaWRcIiwgY2xhc3Nyb29tSUQpLCB6YXAuRXJyb3IoKGVycikpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5UcmFuc2FjdGlvbihmdW5jKHR4ICpnb3JtLkRCKSBlcnJvciB7XG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZShjbGFzc3Jvb20pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKCZlbnRpdHkuQ2xhc3Nyb29tTWVtYmVye1xuXHRcdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGNsYXNzcm9vbS5JRCwgXCJcIiksXG5cdFx0XHRVc2VySUQ6ICAgICAgY2xhc3Nyb29tLlVzZXJJRCxcblx0XHRcdFJvbGU6ICAgICAgICBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVRlYWNoZXIsXG5cdFx0fSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdHJldHVybiBuaWxcblx0fSlcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGNsYXNzcm9vbSBraMO0bmdcblx0aXNPd25lciwgZXJyIDo9IHUuUmVwby5Jc0NsYXNzcm9vbU93bmVyKGN0eCwgY2xhc3Nyb29tSUQsIHVzZXJJRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNoZWNrIGNsYXNzcm9vbSBvd25lclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdGlmICFpc093bmVyIHtcblx0XHRyZXR1cm4gbmlsLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXJcblx0fVxuXG5cdC8vIEzhuqV5IGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgbeG7nWlcblx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckludml0ZWRNZW1iZXJzKGN0eCwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBpbnZpdGVkIG1lbWJlcnNcIiwgemFwLlN0cmluZyhcImNsYXNzcm9vbSBpZFwiLCBjbGFzc3Jvb21JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tTWVtYmVycyBbXWVudGl0eS5DbGFzc3Jvb21NZW1iZXJcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZFwiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21NZW1iZXJzKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21NZW1iZXJzXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaGFuZGxlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbnR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTeG7nWkgdGjDoG5oIHZpw6puIHbDoG8gbOG7m3AgaOG7jWNcblx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcblx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG5cdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBDaOG6pXAgbmjhuq1uIGzhu51pIG3hu51pXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRfIFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSB7XG5cdHJldHVybiAmY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jIChjICpjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0aWYgZXJyIDo9IGMuUmVwby5DcmVhdGVDbGFzc3Jvb20oY3R4LCBjbGFzc3Jvb20pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2lzX2ludml0YXRpb25fZXhpc3RpbmcuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY291bnQgaW50NjRcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRNb2RlbCgmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/IEFORCByZWNlaXZlcl9pZCA9ID8gQU5EIHN0YXR1cyBJTiA/XCIsIGNsYXNzcm9vbUlELCByZWNlaXZlcklELCBbXWVudGl0eS5JbnZpdGF0aW9uU3RhdHVze2VudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZywgZW50aXR5Lkludml0YXRpb25TdGF0dXNBY2NlcHRlZH0pLlxuXHRcdENvdW50KCZjb3VudCkuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBmYWxzZSwgZXJyXG5cdH1cblx0cmV0dXJuIGNvdW50ID4gMCwgbmlsXG59XG4uLi5cblBhdGg6IHNlcnZlci9yb3V0ZXIuZ29cbi4uLlxuXG5mdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG5cdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcIi9jbGFzc3Jvb21cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2NyZWF0ZVwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcblxuXHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnb3JtLmlvL2dvcm0vY2xhdXNlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yIHtcblx0Ly8gU+G7rSBk4bulbmcgY2xhdXNlLk9uQ29uZmxpY3QoKS5Eb05vdGhpbmcoKSDEkeG7gyB0csOhbmggbOG7l2kga2hpIHRow6ptIHRow6BuaCB2acOqbiDEkcOjIHThu5NuIHThuqFpXG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuXG5cdFx0Q2xhdXNlcyhjbGF1c2UuT25Db25mbGljdHtEb05vdGhpbmc6IHRydWV9KS5cblx0XHRDcmVhdGUobWVtYmVyKS5FcnJvclxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHRxdWVyeSA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJyZWNlaXZlcl9pZCA9ID9cIiwgcmVjZWl2ZXJJRClcblxuXHQvLyBM4buNYyB0aGVvIHN0YXR1cyBu4bq/dSBjw7Ncblx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdHF1ZXJ5ID0gcXVlcnkuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHR9XG5cblx0dmFyIGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0aWYgZXJyIDo9IHF1ZXJ5LlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXFcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21SZXF1ZXN0IHN0cnVjdCB7XG5cdE5hbWUgICAgICAqc3RyaW5nIGBqc29uOlwibmFtZVwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0QXZhdGFyVXJsICpzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCIgdmFsaWRhdGU6XCJyZXF1aXJlZCx1cmxcImBcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuKVxuXG50eXBlIEZpbHRlckludml0YXRpb25zUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG5cdFN0YXR1cyAqZW50aXR5Lkludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBxdWVyeTpcInN0YXR1c1wiYFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSByZXFcblxudHlwZSBJbnZpdGVNZW1iZXJSZXF1ZXN0IHN0cnVjdCB7XG5cdENsYXNzcm9vbUlEICpzdHJpbmcgYGpzb246XCJjbGFzc3Jvb21faWRcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdFJlY2VpdmVySUQgICpzdHJpbmcgYGpzb246XCJyZWNlaXZlcl9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckludml0YXRpb25zVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRhdGlvbnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVySW52aXRhdGlvbnNVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJJbnZpdGF0aW9ucyhjdHgsIHJlY2VpdmVySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBpbnZpdGF0aW9uc1wiLCB6YXAuU3RyaW5nKFwicmVjZWl2ZXIgaWRcIiwgcmVjZWl2ZXJJRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IHIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEludml0ZU1lbWJlclVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Jcbn1cblxudHlwZSBpbnZpdGVNZW1iZXJVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEludml0ZU1lbWJlclVzZUNhc2Uge1xuXHRyZXR1cm4gJmludml0ZU1lbWJlclVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqaW52aXRlTWVtYmVyVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yIHtcblx0Ly8gS2nhu4NtIHRyYSB4ZW0gbmfGsOG7nWkgZMO5bmcgY8OzIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBjbGFzc3Jvb20ga2jDtG5nXG5cdGlzT3duZXIsIGVyciA6PSB1LlJlcG8uSXNDbGFzc3Jvb21Pd25lcihjdHgsIGludml0YXRpb24uQ2xhc3Nyb29tSUQsIGludml0YXRpb24uU2VuZGVySUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjaGVjayBjbGFzc3Jvb20gb3duZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0aWYgIWlzT3duZXIge1xuXHRcdHJldHVybiBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXJcblx0fVxuXG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIG5o4bqtbiDEkcOjIGPDsyBs4budaSBt4budaSBuw6BvIMSRYW5nIOG7nyB0cuG6oW5nIHRow6FpIHBlbmRpbmcgaG/hurdjIGFjY2VwdGVkIGNoxrBhXG5cdGV4aXN0cywgZXJyIDo9IHUuUmVwby5Jc0ludml0YXRpb25FeGlzdGluZyhjdHgsIGludml0YXRpb24uQ2xhc3Nyb29tSUQsIGludml0YXRpb24uUmVjZWl2ZXJJRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNoZWNrIGV4aXN0aW5nIGludml0YXRpb25cIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0aWYgZXhpc3RzIHtcblx0XHRyZXR1cm4gcWVycm9yLkVyclJlY2VpdmVyQWxyZWFkeUhhc0ludml0YXRpb25cblx0fVxuLi4uXG5QYXRoOiB1c2VjYXNlL2FjY2VwdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgQWNjZXB0SW52aXRhdGlvblVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSBlcnJvclxufVxuXG50eXBlIGFjY2VwdEludml0YXRpb25Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSB7XG5cdHJldHVybiAmYWNjZXB0SW52aXRhdGlvblVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqYWNjZXB0SW52aXRhdGlvblVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIGVycm9yIHtcblx0Ly8gTOG6pXkgdGjDtG5nIHRpbiBpbnZpdGF0aW9uXG5cdGludml0YXRpb24sIGVyciA6PSB1LlJlcG8uR2V0SW52aXRhdGlvbkJ5SUQoY3R4LCBpbnZpdGF0aW9uSUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBnZXQgaW52aXRhdGlvblwiLCB6YXAuU3RyaW5nKFwiaW52aXRhdGlvbiBpZFwiLCBpbnZpdGF0aW9uSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBuZ8aw4budaSBuaOG6rW4gbOG7nWkgbeG7nWkga2jDtG5nXG5cdGlmIGludml0YXRpb24uUmVjZWl2ZXJJRCAhPSB1c2VySUQge1xuXHRcdHJldHVybiBxZXJyb3IuRXJyTm90SW52aXRhdGlvblJlY2VpdmVyXG5cdH1cblxuXHQvLyBLaeG7g20gdHJhIHhlbSBpbnZpdGF0aW9uIGPDsyDEkWFuZyDhu58gdHLhuqFuZyB0aMOhaSBwZW5kaW5nIGtow7RuZ1xuXHRpZiBpbnZpdGF0aW9uLlN0YXR1cyAhPSBlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcge1xuXHRcdHJldHVybiBxZXJyb3IuRXJySW52aXRhdGlvbk5vdFBlbmRpbmdcblx0fVxuXG5cdGlmIGVyciA6PSB1LlJlcG8uQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCwgJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0Q2xhc3Nyb29tSUQ6IGludml0YXRpb24uQ2xhc3Nyb29tSUQsXG5cdFx0VXNlcklEOiAgICAgIGludml0YXRpb24uUmVjZWl2ZXJJRCxcblx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50LFxuXHRcdEludml0ZWRCeUlEOiBpbnZpdGF0aW9uLlNlbmRlcklELFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb20gbWVtYmVyXCIsIHphcC5TdHJpbmcoXCJpbnZpdGF0aW9uIGlkXCIsIGludml0YXRpb25JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmIGVyciA6PSB1LlJlcG8uVXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHgsIGludml0YXRpb25JRCwgZW50aXR5Lkludml0YXRpb25TdGF0dXNBY2NlcHRlZCk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byB1cGRhdGUgaW52aXRhdGlvbiBzdGF0dXNcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL3JlamVjdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgUmVqZWN0SW52aXRhdGlvblVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSBlcnJvclxufVxuXG50eXBlIHJlamVjdEludml0YXRpb25Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSB7XG5cdHJldHVybiAmcmVqZWN0SW52aXRhdGlvblVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqcmVqZWN0SW52aXRhdGlvblVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIGVycm9yIHtcblx0Ly8gTOG6pXkgdGjDtG5nIHRpbiBpbnZpdGF0aW9uXG5cdGludml0YXRpb24sIGVyciA6PSB1LlJlcG8uR2V0SW52aXRhdGlvbkJ5SUQoY3R4LCBpbnZpdGF0aW9uSUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBnZXQgaW52aXRhdGlvblwiLCB6YXAuU3RyaW5nKFwiaW52aXRhdGlvbiBpZFwiLCBpbnZpdGF0aW9uSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBuZ8aw4budaSBuaOG6rW4gbOG7nWkgbeG7nWkga2jDtG5nXG5cdGlmIGludml0YXRpb24uUmVjZWl2ZXJJRCAhPSB1c2VySUQge1xuXHRcdHJldHVybiBxZXJyb3IuRXJyTm90SW52aXRhdGlvblJlY2VpdmVyXG5cdH1cblxuXHQvLyBLaeG7g20gdHJhIHhlbSBpbnZpdGF0aW9uIGPDsyDEkWFuZyDhu58gdHLhuqFuZyB0aMOhaSBwZW5kaW5nIGtow7RuZ1xuXHRpZiBpbnZpdGF0aW9uLlN0YXR1cyAhPSBlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcge1xuXHRcdHJldHVybiBxZXJyb3IuRXJySW52aXRhdGlvbk5vdFBlbmRpbmdcblx0fVxuLi4uXG5QYXRoOiBoYW5kbGVyL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWMuLi4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI5ZDlhZDY1MC0yZWVhLTRjNjktYjQ3Zi05Mjc0ZDBhZTQ0OGQ7dG9vbHVfdnJ0eF8wMUQyenVqc05XbmlFYkg3ZzdONUZaeVoiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogaGFuZGxlci9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSByLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBib2R5IHJlcS5JbnZpdGVNZW1iZXJSZXF1ZXN0XG5cblx0aWYgZXJyIDo9IGMuQm9keVBhcnNlcigmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IGguSW52aXRlTWVtYmVyVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5Lkludml0YXRpb25FbnRpdHl7XG5cdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGJvZHkuQ2xhc3Nyb29tSUQsIFwiXCIpLFxuXHRcdFNlbmRlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0UmVjZWl2ZXJJRDogIHZhbHVlLkdldFZhbHVlKGJvZHkuUmVjZWl2ZXJJRCwgXCJcIiksXG5cdFx0U3RhdHVzOiAgICAgIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZyxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRzd2l0Y2gge1xuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyclJlY2VpdmVyQWxyZWFkeUhhc0ludml0YXRpb24pOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgxJFhbmcgY2jhu50geOG7rSBsw70gaG/hurdjIMSRw6MgxJHGsOG7o2MgY2jhuqVwIG5o4bqtblwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IGNsYXNzcm9vbV9pZCB04burIFVSTFxuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBxdWVyeSByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSwgcXVlcnkpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRpZiBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpIHtcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuKVxuXG50eXBlIEZpbHRlckludml0ZWRNZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG5cdFN0YXR1cyAqZW50aXR5Lkludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBxdWVyeTpcInN0YXR1c1wiYFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBib2R5IHJlcS5DcmVhdGVDbGFzc3Jvb21SZXF1ZXN0XG5cblx0aWYgZXJyIDo9IGMuQm9keVBhcnNlcigmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHIuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5LkNsYXNzcm9vbUVudGl0eXtcblx0XHRVc2VySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHROYW1lOiAgICAgIHZhbHVlLkdldFZhbHVlKGJvZHkuTmFtZSwgXCJcIiksXG5cdFx0QXZhdGFyVXJsOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkF2YXRhclVybCwgXCJcIiksXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvcmVqZWN0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBJRCBj4bunYSBpbnZpdGF0aW9uIHThu6sgVVJMXG5cdGludml0YXRpb25JRCA6PSBjLlBhcmFtcyhcImlkXCIpXG5cdGlmIGludml0YXRpb25JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImlkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRpZiBlcnIgOj0gaC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBpbnZpdGF0aW9uSUQsIHVzZXJJRCk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgaGFuZGxlIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIGdvcm0uRXJyUmVjb3JkTm90Rm91bmQpOlxuXHRcdFx0cmV0dXJuIHJlcy5Ob3RGb3VuZChjLCBlcnJvcnMuTmV3KFwia2jDtG5nIHTDrG0gdGjhuqV5IGzhu51pIG3hu51pXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdEludml0YXRpb25SZWNlaXZlcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBuw6B5XCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyckludml0YXRpb25Ob3RQZW5kaW5nKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibOG7nWkgbeG7nWkga2jDtG5nIOG7nyB0cuG6oW5nIHRow6FpIGNo4budIHjhu60gbMO9XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvYWNjZXB0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBJRCBj4bunYSBpbnZpdGF0aW9uIHThu6sgVVJMXG5cdGludml0YXRpb25JRCA6PSBjLlBhcmFtcyhcImlkXCIpXG5cdGlmIGludml0YXRpb25JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImlkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRpZiBlcnIgOj0gaC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBpbnZpdGF0aW9uSUQsIHVzZXJJRCk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRzd2l0Y2gge1xuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgZ29ybS5FcnJSZWNvcmROb3RGb3VuZCk6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImtow7RuZyB0w6xtIHRo4bqleSBs4budaSBt4budaVwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RJbnZpdGF0aW9uUmVjZWl2ZXIpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBuZ8aw4budaSBuaOG6rW4gbOG7nWkgbeG7nWkgbsOgeVwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJJbnZpdGF0aW9uTm90UGVuZGluZyk6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImzhu51pIG3hu51pIGtow7RuZyDhu58gdHLhuqFuZyB0aMOhaSBjaOG7nSB44butIGzDvVwiKSlcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRhdGlvbnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaGFuZGxlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbnR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTeG7nWkgdGjDoG5oIHZpw6puIHbDoG8gbOG7m3AgaOG7jWNcblx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcblx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG5cdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBDaOG6pXAgbmjhuq1uIGzhu51pIG3hu51pXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tTWVtYmVycyBbXWVudGl0eS5DbGFzc3Jvb21NZW1iZXJcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZFwiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21NZW1iZXJzKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21NZW1iZXJzXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRnb3JtMiBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgKFxuXHRcdHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHRcdH1cblx0XHRpbnZpdGF0aW9ucyBbXWVudGl0eS5JbnZpdGF0aW9uRW50aXR5XG5cdClcblxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkID0gP1wiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGZ1bmMoZGIgKmdvcm0uREIpICpnb3JtLkRCIHtcblx0XHRcdGlmIHBhcmFtcy5TdGF0dXMgIT0gbmlsIHtcblx0XHRcdFx0cmV0dXJuIGRiLldoZXJlKFwic3RhdHVzID0gP1wiLCAqcGFyYW1zLlN0YXR1cylcblx0XHRcdH1cblx0XHRcdHJldHVybiBkYlxuXHRcdH0sIGdvcm0yLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGludml0YXRpb25zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IGVycm9yL2Vycm9yLmdvXG5wYWNrYWdlIHFlcnJvclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG4pXG5cbi8vIMSQ4buLbmggbmdoxKlhIGPDoWMgY29uc3RhbnRzIGVycm9yXG52YXIgKFxuXHQvLyBJbnZpdGF0aW9uIGVycm9yc1xuXHRFcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uID0gZXJyb3JzLk5ldyhcInJlY2VpdmVyIGFscmVhZHkgaGFzIGEgcGVuZGluZyBvciBhY2NlcHRlZCBpbnZpdGF0aW9uXCIpXG5cdEVyck5vdENsYXNzcm9vbU93bmVyICAgICAgICAgICAgPSBlcnJvcnMuTmV3KFwidXNlciBpcyBub3QgdGhlIG93bmVyIG9mIHRoZSBjbGFzc3Jvb21cIilcblx0RXJySW52aXRhdGlvbk5vdEZvdW5kICAgICAgICAgICA9IGVycm9ycy5OZXcoXCJpbnZpdGF0aW9uIG5vdCBmb3VuZFwiKVxuXHRFcnJJbnZpdGF0aW9uTm90UGVuZGluZyAgICAgICAgID0gZXJyb3JzLk5ldyhcImludml0YXRpb24gaXMgbm90IGluIHBlbmRpbmcgc3RhdHVzXCIpXG5cdEVyck5vdEludml0YXRpb25SZWNlaXZlciAgICAgICAgPSBlcnJvcnMuTmV3KFwidXNlciBpcyBub3QgdGhlIHJlY2VpdmVyIG9mIHRoaXMgaW52aXRhdGlvblwiKVxuXHRFcnJVc2VyQWxyZWFkeUNsYXNzcm9vbU1lbWJlciAgID0gZXJyb3JzLk5ldyhcInVzZXIgaXMgYWxyZWFkeSBhIG1lbWJlciBvZiB0aGlzIGNsYXNzcm9vbVwiKVxuKVxuLi4uXG5QYXRoOiBzZXJ2ZXIvc2VydmVyLmdvXG5wYWNrYWdlIHNlcnZlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92Mi9taWRkbGV3YXJlL3JlY292ZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxuZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuXHRhcHAgOj0gZmliZXIuTmV3KGZpYmVyLkNvbmZpZ3tcblx0XHRFbmFibGVQcmludFJvdXRlczogdHJ1ZSxcblx0fSlcblx0YXBwLlVzZShyZWNvdmVyLk5ldygpKVxuXG5cdHByb3ZpZGVyLCBlcnIgOj0gcHJvdmlkZXIuSW5pdChzZXJ2aWNlQ29uZmlnKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gaW5pdCBwcm92aWRlclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuLi4uXG5cblx0SW5pdFJvdXRlcihhcHAsIGhhbmRsZXIpXG5cdHV0aWwuSW5pdFZhbGlkYXRlKClcblxuXHRpZiBlcnIgOj0gYXBwLkxpc3RlbihcIjpcIiArIHNlcnZpY2VDb25maWcuUG9ydCk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBzdGFydCBzZXJ2ZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdF8gXCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIHtcblx0cmV0dXJuICZjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKGMgKmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRpZiBlcnIgOj0gYy5SZXBvLkNyZWF0ZUNsYXNzcm9vbShjdHgsIGNsYXNzcm9vbSk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2xhc3Nyb29tXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIEludml0ZU1lbWJlclJlcXVlc3Qgc3RydWN0IHtcblx0Q2xhc3Nyb29tSUQgKnN0cmluZyBganNvbjpcImNsYXNzcm9vbV9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0UmVjZWl2ZXJJRCAgKnN0cmluZyBganNvbjpcInJlY2VpdmVyX2lkXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXFcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21SZXF1ZXN0IHN0cnVjdCB7XG5cdE5hbWUgICAgICAqc3RyaW5nIGBqc29uOlwibmFtZVwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0QXZhdGFyVXJsICpzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCIgdmFsaWRhdGU6XCJyZXF1aXJlZCx1cmxcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHRxdWVyeSA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJyZWNlaXZlcl9pZCA9ID9cIiwgcmVjZWl2ZXJJRClcblxuXHQvLyBM4buNYyB0aGVvIHN0YXR1cyBu4bq/dSBjw7Ncblx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdHF1ZXJ5ID0gcXVlcnkuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHR9XG5cblx0dmFyIGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0aWYgZXJyIDo9IHF1ZXJ5LlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Ugc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNle1JlcG86IHJlcG99XG59XG4uLi5cblBhdGg6IGNtZC9zZXJ2ZS5nb1xuLypcbkNvcHlyaWdodCDCqSAyMDI1IE5BTUUgSEVSRSA8RU1BSUwgQUREUkVTUz5cbiovXG5wYWNrYWdlIGNtZFxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2NvbmZpZ1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWxcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vc2VydmVyXCJcblxuXHRcImdpdGh1Yi5jb20vc3BmMTMvY29icmFcIlxuKVxuXG4vLyBzZXJ2ZUNtZCByZXByZXNlbnRzIHRoZSBzZXJ2ZSBjb21tYW5kXG52YXIgc2VydmVDbWQgPSAmY29icmEuQ29tbWFuZHtcblx0VXNlOiAgIFwic2VydmVcIixcblx0U2hvcnQ6IFwiQSBicmllZiBkZXNjcmlwdGlvbiBvZiB5b3VyIGNvbW1hbmRcIixcblx0TG9uZzogYEEgbG9uZ2VyIGRlc2NyaXB0aW9uIHRoYXQgc3BhbnMgbXVsdGlwbGUgbGluZXMgYW5kIGxpa2VseSBjb250YWlucyBleGFtcGxlc1xuYW5kIHVzYWdlIG9mIHVzaW5nIHlvdXIgY29tbWFuZC4gRm9yIGV4YW1wbGU6XG5cbkNvYnJhIGlzIGEgQ0xJIGxpYnJhcnkgZm9yIEdvIHRoYXQgZW1wb3dlcnMgYXBwbGljYXRpb25zLlxuVGhpcyBhcHBsaWNhdGlvbiBpcyBhIHRvb2wgdG8gZ2VuZXJhdGUgdGhlIG5lZWRlZCBmaWxlc1xudG8gcXVpY2tseSBjcmVhdGUgYSBDb2JyYSBhcHBsaWNhdGlvbi5gLFxuXHRSdW46IGZ1bmMoY21kICpjb2JyYS5Db21tYW5kLCBhcmdzIFtdc3RyaW5nKSB7XG5cdFx0aWYgZXJyIDo9IGxvZ2dlci5Jbml0KCk7IGVyciAhPSBuaWwge1xuXHRcdFx0cGFuaWMoZXJyKVxuXHRcdH1cblxuXHRcdHZhciBzZXJ2aWNlQ29uZmlnIG1vZGVsLlNlcnZpY2VDb25maWdcblx0XHRlbnZQYXRoLCBfIDo9IGNtZC5GbGFncygpLkdldFN0cmluZyhcImVudi1wYXRoXCIpXG5cblx0XHRpZiBlcnIgOj0gY29uZmlnLkxvYWRDb25maWcoZW52UGF0aCwgJnNlcnZpY2VDb25maWcpOyBlcnIgIT0gbmlsIHtcblx0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBsb2FkIGNvbmZpZ1wiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRcdHJldHVyblxuXHRcdH1cblxuXHRcdHNlcnZlci5SdW4oJnNlcnZpY2VDb25maWcpXG5cdH0sXG59XG4uLi5cblBhdGg6IGNtZC9yb290LmdvXG4vKlxuQ29weXJpZ2h0IMKpIDIwMjUgTkFNRSBIRVJFIDxFTUFJTCBBRERSRVNTPlxuKi9cbnBhY2thZ2UgY21kXG5cbmltcG9ydCAoXG5cdFwib3NcIlxuXG5cdFwiZ2l0aHViLmNvbS9zcGYxMy9jb2JyYVwiXG4pXG5cbi8vIHJvb3RDbWQgcmVwcmVzZW50cyB0aGUgYmFzZSBjb21tYW5kIHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHN1YmNvbW1hbmRzXG52YXIgcm9vdENtZCA9ICZjb2JyYS5Db21tYW5ke1xuXHRVc2U6ICAgXCJxdWl6enktY2xhc3Nyb29tXCIsXG5cdFNob3J0OiBcIkEgYnJpZWYgZGVzY3JpcHRpb24gb2YgeW91ciBhcHBsaWNhdGlvblwiLFxuXHRMb25nOiBgQSBsb25nZXIgZGVzY3JpcHRpb24gdGhhdCBzcGFucyBtdWx0aXBsZSBsaW5lcyBhbmQgbGlrZWx5IGNvbnRhaW5zXG5leGFtcGxlcyBhbmQgdXNhZ2Ugb2YgdXNpbmcgeW91ciBhcHBsaWNhdGlvbi4gRm9yIGV4YW1wbGU6XG5cbkNvYnJhIGlzIGEgQ0xJIGxpYnJhcnkgZm9yIEdvIHRoYXQgZW1wb3dlcnMgYXBwbGljYXRpb25zLlxuVGhpcyBhcHBsaWNhdGlvbiBpcyBhIHRvb2wgdG8gZ2VuZXJhdGUgdGhlIG5lZWRlZCBmaWxlc1xudG8gcXVpY2tseSBjcmVhdGUgYSBDb2JyYSBhcHBsaWNhdGlvbi5gLFxuXHQvLyBVbmNvbW1lbnQgdGhlIGZvbGxvd2luZyBsaW5lIGlmIHlvdXIgYmFyZSBhcHBsaWNhdGlvblxuXHQvLyBoYXMgYW4gYWN0aW9uIGFzc29jaWF0ZWQgd2l0aCBpdDpcblx0Ly8gUnVuOiBmdW5jKGNtZCAqY29icmEuQ29tbWFuZCwgYXJncyBbXXN0cmluZykgeyB9LFxufVxuXG4vLyBFeGVjdXRlIGFkZHMgYWxsIGNoaWxkIGNvbW1hbmRzIHRvIHRoZSByb290IGNvbW1hbmQgYW5kIHNldHMgZmxhZ3MgYXBwcm9wcmlhdGVseS5cbi8vIFRoaXMgaXMgY2FsbGVkIGJ5IG1haW4ubWFpbigpLiBJdCBvbmx5IG5lZWRzIHRvIGhhcHBlbiBvbmNlIHRvIHRoZSByb290Q21kLlxuZnVuYyBFeGVjdXRlKCkge1xuXHRlcnIgOj0gcm9vdENtZC5FeGVjdXRlKClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0b3MuRXhpdCgxKVxuXHR9XG59XG5cbmZ1bmMgaW5pdCgpIHtcblx0Ly8gSGVyZSB5b3Ugd2lsbCBkZWZpbmUgeW91ciBmbGFncyBhbmQgY29uZmlndXJhdGlvbiBzZXR0aW5ncy5cblx0Ly8gQ29icmEgc3VwcG9ydHMgcGVyc2lzdGVudCBmbGFncywgd2hpY2gsIGlmIGRlZmluZWQgaGVyZSxcblx0Ly8gd2lsbCBiZSBnbG9iYWwgZm9yIHlvdXIgYXBwbGljYXRpb24uXG5cblx0Ly8gcm9vdENtZC5QZXJzaXN0ZW50RmxhZ3MoKS5TdHJpbmdWYXIoJmNmZ0ZpbGUsIFwiY29uZmlnXCIsIFwiXCIsIFwiY29uZmlnIGZpbGUgKGRlZmF1bHQgaXMgJEhPTUUvLnF1aXp6eS1jbGFzc3Jvb20ueWFtbClcIilcblxuXHQvLyBDb2JyYSBhbHNvIHN1cHBvcnRzIGxvY2FsIGZsYWdzLCB3aGljaCB3aWxsIG9ubHkgcnVuXG5cdC8vIHdoZW4gdGhpcyBhY3Rpb24gaXMgY2FsbGVkIGRpcmVjdGx5LlxuXHRyb290Q21kLkZsYWdzKCkuQm9vbFAoXCJ0b2dnbGVcIiwgXCJ0XCIsIGZhbHNlLCBcIkhlbHAgbWVzc2FnZSBmb3IgdG9nZ2xlXCIpXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvcmVqZWN0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIGVycm9yXG59XG5cbnR5cGUgcmVqZWN0SW52aXRhdGlvblVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3UmVqZWN0SW52aXRhdGlvblVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIFJlamVjdEludml0YXRpb25Vc2VDYXNlIHtcblx0cmV0dXJuICZyZWplY3RJbnZpdGF0aW9uVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpyZWplY3RJbnZpdGF0aW9uVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgdXNlcklEIHN0cmluZykgZXJyb3Ige1xuXHQvLyBM4bqleSB0aMO0bmcgdGluIGludml0YXRpb25cblx0aW52aXRhdGlvbiwgZXJyIDo9IHUuUmVwby5HZXRJbnZpdGF0aW9uQnlJRChjdHgsIGludml0YXRpb25JRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGdldCBpbnZpdGF0aW9uXCIsIHphcC5TdHJpbmcoXCJpbnZpdGF0aW9uIGlkXCIsIGludml0YXRpb25JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBraMO0bmdcblx0aWYgaW52aXRhdGlvbi5SZWNlaXZlcklEICE9IHVzZXJJRCB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJOb3RJbnZpdGF0aW9uUmVjZWl2ZXJcblx0fVxuXG5cdC8vIEtp4buDbSB0cmEgeGVtIGludml0YXRpb24gY8OzIMSRYW5nIOG7nyB0cuG6oW5nIHRow6FpIHBlbmRpbmcga2jDtG5nXG5cdGlmIGludml0YXRpb24uU3RhdHVzICE9IGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZyB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJJbnZpdGF0aW9uTm90UGVuZGluZ1xuXHR9XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG4uLi5cblx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXG5cdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIHJlcG9zaXRvcnlJbXBsIHN0cnVjdCB7XG5cdFByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlclxufVxuXG5mdW5jIE5ldyhwcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXIpIFJlcG9zaXRvcnkge1xuXHRyZXR1cm4gJnJlcG9zaXRvcnlJbXBse1xuXHRcdFByb3ZpZGVyOiBwcm92aWRlcixcblx0fVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGx7Li4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiYjkyNWI1NzItMjcxNC00ZTUzLWFiODQtMGM4MTJkNzMyNjBmO3Rvb2x1X3ZydHhfMDFGZ1dqZjNieThLdWgycVptSk1pN2hNIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImJkZTlhNTEwLWYyYzItNDkzMi05OTk0LTY0ODg0MmVhMGJjNDt0b29sdV92cnR4XzAxMUZtNzR2Szd2MzdqdkE0SnQyOE5KayI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nbzpcbiAgICAgMVx0cGFja2FnZSByZXBvc2l0b3J5XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgKFxuICAgICA0XHRcdFwiY29udGV4dFwiXG4gICAgIDVcdFx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4gICAgIDZcdFx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG4gICAgIDdcdFx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcbiAgICAgOFx0XG4gICAgIDlcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuICAgIDEwXHQpXG4gICAgMTFcdFxuICAgIDEyXHR0eXBlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHtcbiAgICAxM1x0XHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuICAgIDE0XHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxuICAgIDE1XHRcdENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG4gICAgMTZcdFx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuICAgIDE3XHRcdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG4gICAgMThcdFx0RmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbiAgICAxOVx0XHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcbiAgICAyMFx0XHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3JcbiAgICAyMVx0XHRDcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgbWVtYmVyICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyKSBlcnJvclxuICAgIDIyXHRcdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuICAgIDIzXHR9XG4gICAgMjRcdFxuICAgIDI1XHR0eXBlIHJlcG9zaXRvcnlJbXBsIHN0cnVjdCB7XG4gICAgMjZcdFx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG4gICAgMjdcdH1cbiAgICAyOFx0XG4gICAgMjlcdGZ1bmMgTmV3KHByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlcikgUmVwb3NpdG9yeSB7XG4gICAgMzBcdFx0cmV0dXJuICZyZXBvc2l0b3J5SW1wbHtcbiAgICAzMVx0XHRcdFByb3ZpZGVyOiBwcm92aWRlcixcbiAgICAzMlx0XHR9XG4gICAgMzNcdH1cbiAgICAzNFx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAzNFxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZGZhNzc0N2UtYzUwZC00N2Y4LTg3MGMtNDUwZTVlY2NjY2EwO3Rvb2x1X3ZydHhfMDE0OHVMZ2VvWmRpVWRneXF2NG5OeEVVIjp7InBoYXNlIjo4fSwiOTk5Mzg1YjMtZTc2ZS00ZjRmLWI3YTAtZjc3MjU3MTlhNGQ5O3Rvb2x1X3ZydHhfMDFMa29BY1NFRHpBeDdFTld5SkN0R0ozIjp7InBoYXNlIjo4LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IGhhbmRsZXIvaGFuZGxlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbnR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTeG7nWkgdGjDoG5oIHZpw6puIHbDoG8gbOG7m3AgaOG7jWNcblx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcblx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG5cdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBDaOG6pXAgbmjhuq1uIGzhu51pIG3hu51pXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG59XG5cbnR5cGUgaGFuZGxlckltcGwgc3RydWN0IHtcblx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG5cdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxufVxuXG50eXBlIEluamVjdCBzdHJ1Y3Qge1xuXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2Vcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2Vcblx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Vcblx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxuXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG5cdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG59XG5cbmZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcblx0cmV0dXJuICZoYW5kbGVySW1wbHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXG5cdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcblx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgaW5qZWN0Lkludml0ZU1lbWJlclVzZUNhc2UsXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIGluamVjdC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UsXG5cdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LkFjY2VwdEludml0YXRpb25Vc2VDYXNlLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICBpbmplY3QuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLFxuXHR9XG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuQ3JlYXRlQ2xhc3Nyb29tUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSByLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5DbGFzc3Jvb21FbnRpdHl7XG5cdFx0VXNlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0TmFtZTogICAgICB2YWx1ZS5HZXRWYWx1ZShib2R5Lk5hbWUsIFwiXCIpLFxuXHRcdEF2YXRhclVybDogdmFsdWUuR2V0VmFsdWUoYm9keS5BdmF0YXJVcmwsIFwiXCIpLFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IHNlcnZlci9yb3V0ZXIuZ29cbnBhY2thZ2Ugc2VydmVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmVcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcblxuZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xuXHRjbGFzc3Jvb21Hcm91cCA6PSBhcHAuR3JvdXAoXCIvY2xhc3Nyb29tXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvaW52aXRlXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycylcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG5cblx0aW52aXRhdGlvbkdyb3VwIDo9IGFwcC5Hcm91cChcIi9pbnZpdGF0aW9uXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0aW52aXRhdGlvbkdyb3VwLkdldChcIi9maWx0ZXJcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucylcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9yZWplY3QvOmlkXCIsIGhhbmRsZXIuUmVqZWN0SW52aXRhdGlvbilcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9hY2NlcHQvOmlkXCIsIGhhbmRsZXIuQWNjZXB0SW52aXRhdGlvbilcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgSW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuSW52aXRlTWVtYmVyUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSBoLkludml0ZU1lbWJlclVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e1xuXHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkNsYXNzcm9vbUlELCBcIlwiKSxcblx0XHRTZW5kZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdFJlY2VpdmVySUQ6ICB2YWx1ZS5HZXRWYWx1ZShib2R5LlJlY2VpdmVySUQsIFwiXCIpLFxuXHRcdFN0YXR1czogICAgICBlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIMSRYW5nIGNo4budIHjhu60gbMO9IGhv4bq3YyDEkcOjIMSRxrDhu6NjIGNo4bqlcCBuaOG6rW5cIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0YXRpb25zVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgY2xhc3Nyb29tX2lkIHThu6sgVVJMXG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHF1ZXJ5IHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLCBxdWVyeSlcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdGlmIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcikge1xuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0fVxuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cbi4uLlxuUGF0aDogc2VydmVyL3NlcnZlci5nb1xuLi4uXG5cdHJlcG9zaXRvcnkgOj0gcmVwb3NpdG9yeS5OZXcocHJvdmlkZXIpXG5cdGhhbmRsZXIgOj0gaGFuZGxlci5OZXcoJmhhbmRsZXIuSW5qZWN0e1xuXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICB1c2VjYXNlLk5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IHVzZWNhc2UuTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIHVzZWNhc2UuTmV3SW52aXRlTWVtYmVyVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIHVzZWNhc2UuTmV3UmVqZWN0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIHVzZWNhc2UuTmV3QWNjZXB0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHR9KVxuLi4uXG5QYXRoOiBoYW5kbGVyL2FjY2VwdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgQWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgSUQgY+G7p2EgaW52aXRhdGlvbiB04burIFVSTFxuXHRpbnZpdGF0aW9uSUQgOj0gYy5QYXJhbXMoXCJpZFwiKVxuXHRpZiBpbnZpdGF0aW9uSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJpZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuLi4uXG5QYXRoOiBtaWdyYXRlL21pZ3JhdGUuZ29cbnBhY2thZ2UgbWlncmF0ZVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxuZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuXHRwcm92aWRlciwgZXJyIDo9IHByb3ZpZGVyLkluaXQoc2VydmljZUNvbmZpZylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRpZiBlcnIgOj0gcHJvdmlkZXIuRGIuQXV0b01pZ3JhdGUoXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21FbnRpdHl7fSxcblx0XHQmZW50aXR5LkNsYXNzcm9vbU1lbWJlcnt9LFxuXHRcdCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9LFxuXHQpOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gbWlncmF0ZSBkYXRhYmFzZVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuXG5cdGxvZ2dlci5JbmZvKFwibWlncmF0ZSBkYXRhYmFzZSBzdWNjZXNzXCIpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvcmVqZWN0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBJRCBj4bunYSBpbnZpdGF0aW9uIHThu6sgVVJMXG5cdGludml0YXRpb25JRCA6PSBjLlBhcmFtcyhcImlkXCIpXG5cdGlmIGludml0YXRpb25JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImlkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tRW50aXR5IHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cblx0VXNlcklEICAgIHN0cmluZyBganNvbjpcInVzZXJfaWRcImBcblx0TmFtZSAgICAgIHN0cmluZyBganNvbjpcIm5hbWVcImBcblx0QXZhdGFyVXJsIHN0cmluZyBganNvbjpcImF2YXRhcl91cmxcImBcbn1cblxuZnVuYyAoYyAqQ2xhc3Nyb29tRW50aXR5KSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXNcIlxufVxuLi4uXG5QYXRoOiBlbnRpdHkvY2xhc3Nyb29tX21lbWJlci5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblxudHlwZSBDbGFzc3Jvb21NZW1iZXJSb2xlIHN0cmluZ1xuXG5jb25zdCAoXG5cdENsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyIENsYXNzcm9vbU1lbWJlclJvbGUgPSBcInRlYWNoZXJcIlxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJzdHVkZW50XCJcbilcblxudHlwZSBDbGFzc3Jvb21NZW1iZXIgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiIGdvcm06XCJ1bmlxdWVJbmRleDppZHhfY2xhc3Nyb29tX3VzZXJcImBcblx0VXNlcklEICAgICAgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcInVzZXJfaWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFJvbGUgICAgICAgIENsYXNzcm9vbU1lbWJlclJvbGUgYGpzb246XCJyb2xlXCJgXG5cdEludml0ZWRCeUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJpbnZpdGVkX2J5X2lkXCJgXG59XG5cbmZ1bmMgKGMgQ2xhc3Nyb29tTWVtYmVyKSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbV9tZW1iZXJzXCJcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcbilcblxudHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxuXHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxuXHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuXHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Jcblx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Jcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcblx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG59XG5cbmZ1bmMgTmV3KHByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlcikgUmVwb3NpdG9yeSB7XG5cdHJldHVybiAmcmVwb3NpdG9yeUltcGx7XG5cdFx0UHJvdmlkZXI6IHByb3ZpZGVyLFxuXHR9XG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnb3JtLmlvL2dvcm0vY2xhdXNlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yIHtcblx0Ly8gU+G7rSBk4bulbmcgY2xhdXNlLk9uQ29uZmxpY3QoKS5Eb05vdGhpbmcoKSDEkeG7gyB0csOhbmggbOG7l2kga2hpIHRow6ptIHRow6BuaCB2acOqbiDEkcOjIHThu5NuIHThuqFpXG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuXG5cdFx0Q2xhdXNlcyhjbGF1c2UuT25Db25mbGljdHtEb05vdGhpbmc6IHRydWV9KS5cblx0XHRDcmVhdGUobWVtYmVyKS5FcnJvclxufVxuLi4uXG5QYXRoOiBlbnRpdHkvaW52aXRhdGlvbi5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuXG50eXBlIEludml0YXRpb25TdGF0dXMgc3RyaW5nXG5cbmNvbnN0IChcblx0SW52aXRhdGlvblN0YXR1c1BlbmRpbmcgIEludml0YXRpb25TdGF0dXMgPSBcInBlbmRpbmdcIlxuXHRJbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwiYWNjZXB0ZWRcIlxuXHRJbnZpdGF0aW9uU3RhdHVzUmVqZWN0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwicmVqZWN0ZWRcIlxuKVxuXG50eXBlIEludml0YXRpb25FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiYFxuXHRTZW5kZXJJRCAgICBzdHJpbmcgICAgICAgICAgIGBqc29uOlwic2VuZGVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFJlY2VpdmVySUQgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJyZWNlaXZlcl9pZFwiIGdvcm06XCJpbmRleFwiYFxuXHRTdGF0dXMgICAgICBJbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgZ29ybTpcImluZGV4XCJgXG59XG5cbmZ1bmMgKEludml0YXRpb25FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7IHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uaW52aXRhdGlvbnNcIiB9XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2ludml0YXRpb24uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5DcmVhdGUoaW52aXRhdGlvbikuRXJyb3Jcbn0uLi5cblBhdGg6IG1vZGVsL3JlcS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVJlcXVlc3Qgc3RydWN0IHtcblx0TmFtZSAgICAgICpzdHJpbmcgYGpzb246XCJuYW1lXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxuXHRBdmF0YXJVcmwgKnN0cmluZyBganNvbjpcImF2YXRhcl91cmxcIiB2YWxpZGF0ZTpcInJlcXVpcmVkLHVybFwiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbU1lbWJlcnMgW11lbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWRcIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tTWVtYmVycykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tTWVtYmVyc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHF1ZXJ5IDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInJlY2VpdmVyX2lkID0gP1wiLCByZWNlaXZlcklEKVxuXG5cdC8vIEzhu41jIHRoZW8gc3RhdHVzIG7hur91IGPDs1xuXHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0cXVlcnkgPSBxdWVyeS5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdH1cblxuXHR2YXIgaW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gcXVlcnkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2dldF9pbnZpdGF0aW9uX2J5X2lkLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcikge1xuXHR2YXIgaW52aXRhdGlvbiBlbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiaWQgPSA/XCIsIGludml0YXRpb25JRCkuXG5cdFx0Rmlyc3QoJmludml0YXRpb24pLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gJmludml0YXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSByZXFcblxudHlwZSBJbnZpdGVNZW1iZXJSZXF1ZXN0IHN0cnVjdCB7XG5cdENsYXNzcm9vbUlEICpzdHJpbmcgYGpzb246XCJjbGFzc3Jvb21faWRcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdFJlY2VpdmVySUQgICpzdHJpbmcgYGpzb246XCJyZWNlaXZlcl9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdF8gXCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIHtcblx0cmV0dXJuICZjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKGMgKmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRpZiBlcnIgOj0gYy5SZXBvLkNyZWF0ZUNsYXNzcm9vbShjdHgsIGNsYXNzcm9vbSk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2xhc3Nyb29tXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvdXBkYXRlX2ludml0YXRpb25fc3RhdHVzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdE1vZGVsKCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9KS5cblx0XHRXaGVyZShcImlkID0gP1wiLCBpbnZpdGF0aW9uSUQpLlxuXHRcdFVwZC4uLiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImRjZDc1OTg5LWEwOTgtNGEwZi1hN2FiLWI4MjQ5ODVkNGExMTt0b29sdV92cnR4XzAxTGtvQWNTRUR6QXg3RU5XeUpDdEdKMyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBoYW5kbGVyL2hhbmRsZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG50eXBlIEhhbmRsZXIgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAvLyBM4buNYyB0aMOgbmggdmnDqm4gY+G7p2EgbOG7m3AgaOG7jWNcblx0SW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgIC8vIE3hu51pIHRow6BuaCB2acOqbiB2w6BvIGzhu5twIGjhu41jXG5cdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG5cdFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBU4burIGNo4buRaSBs4budaSBt4budaVxuXHRBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gQ2jhuqVwIG5o4bqtbiBs4budaSBt4budaVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxufVxuXG50eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Vcbn1cblxudHlwZSBJbmplY3Qgc3RydWN0IHtcblx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG5cdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxufVxuXG5mdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XG5cdHJldHVybiAmaGFuZGxlckltcGx7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiBpbmplY3QuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UsXG5cdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIGluamVjdC5JbnZpdGVNZW1iZXJVc2VDYXNlLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuUmVqZWN0SW52aXRhdGlvblVzZUNhc2UsXG5cdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcblx0fVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IHIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkNyZWF0ZUNsYXNzcm9vbVJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gci5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e1xuXHRcdFVzZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdE5hbWU6ICAgICAgdmFsdWUuR2V0VmFsdWUoYm9keS5OYW1lLCBcIlwiKSxcblx0XHRBdmF0YXJVcmw6IHZhbHVlLkdldFZhbHVlKGJvZHkuQXZhdGFyVXJsLCBcIlwiKSxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvcm91dGVyLmdvXG5wYWNrYWdlIHNlcnZlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbmZ1bmMgSW5pdFJvdXRlcihhcHAgKmZpYmVyLkFwcCwgaGFuZGxlciBoYW5kbGVyLkhhbmRsZXIpIHtcblx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvY3JlYXRlXCIsIGhhbmRsZXIuQ3JlYXRlQ2xhc3Nyb29tKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2ludml0ZVwiLCBoYW5kbGVyLkludml0ZU1lbWJlcilcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzKVxuXG5cdGludml0YXRpb25Hcm91cCA6PSBhcHAuR3JvdXAoXCIvaW52aXRhdGlvblwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGludml0YXRpb25Hcm91cC5HZXQoXCIvZmlsdGVyXCIsIGhhbmRsZXIuRmlsdGVySW52aXRhdGlvbnMpXG5cdGludml0YXRpb25Hcm91cC5QdXQoXCIvcmVqZWN0LzppZFwiLCBoYW5kbGVyLlJlamVjdEludml0YXRpb24pXG5cdGludml0YXRpb25Hcm91cC5QdXQoXCIvYWNjZXB0LzppZFwiLCBoYW5kbGVyLkFjY2VwdEludml0YXRpb24pXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkludml0ZU1lbWJlclJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gaC5JbnZpdGVNZW1iZXJVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXtcblx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoYm9keS5DbGFzc3Jvb21JRCwgXCJcIiksXG5cdFx0U2VuZGVySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHRSZWNlaXZlcklEOiAgdmFsdWUuR2V0VmFsdWUoYm9keS5SZWNlaXZlcklELCBcIlwiKSxcblx0XHRTdGF0dXM6ICAgICAgZW50aXR5Lkludml0YXRpb25TdGF0dXNQZW5kaW5nLFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvbik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcIm5nxrDhu51pIG5o4bqtbiDEkcOjIGPDsyBs4budaSBt4budaSDEkWFuZyBjaOG7nSB44butIGzDvSBob+G6t2MgxJHDoyDEkcaw4bujYyBjaOG6pXAgbmjhuq1uXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IGNsYXNzcm9vbV9pZCB04burIFVSTFxuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBxdWVyeSByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSwgcXVlcnkpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRpZiBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpIHtcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG4uLi5cblBhdGg6IHNlcnZlci9zZXJ2ZXIuZ29cbi4uLlxuXHRyZXBvc2l0b3J5IDo9IHJlcG9zaXRvcnkuTmV3KHByb3ZpZGVyKVxuXHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgdXNlY2FzZS5OZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICB1c2VjYXNlLk5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0fSlcbi4uLlxuUGF0aDogaGFuZGxlci9hY2NlcHRfaW52aXRhdGlvbi5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IElEIGPhu6dhIGludml0YXRpb24gdOG7qyBVUkxcblx0aW52aXRhdGlvbklEIDo9IGMuUGFyYW1zKFwiaWRcIilcblx0aWYgaW52aXRhdGlvbklEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiaWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cbi4uLlxuUGF0aDogbWlncmF0ZS9taWdyYXRlLmdvXG5wYWNrYWdlIG1pZ3JhdGVcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbmZ1bmMgUnVuKHNlcnZpY2VDb25maWcgKm1vZGVsLlNlcnZpY2VDb25maWcpIHtcblx0cHJvdmlkZXIsIGVyciA6PSBwcm92aWRlci5Jbml0KHNlcnZpY2VDb25maWcpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBpbml0IHByb3ZpZGVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG5cblx0aWYgZXJyIDo9IHByb3ZpZGVyLkRiLkF1dG9NaWdyYXRlKFxuXHRcdCZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e30sXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7fSxcblx0XHQmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSxcblx0KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIG1pZ3JhdGUgZGF0YWJhc2VcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRsb2dnZXIuSW5mbyhcIm1pZ3JhdGUgZGF0YWJhc2Ugc3VjY2Vzc1wiKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL3JlamVjdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgUmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgSUQgY+G7p2EgaW52aXRhdGlvbiB04burIFVSTFxuXHRpbnZpdGF0aW9uSUQgOj0gYy5QYXJhbXMoXCJpZFwiKVxuXHRpZiBpbnZpdGF0aW9uSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJpZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuLi4uXG5QYXRoOiBlbnRpdHkvY2xhc3Nyb29tLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXG50eXBlIENsYXNzcm9vbUVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXG5cdFVzZXJJRCAgICBzdHJpbmcgYGpzb246XCJ1c2VyX2lkXCJgXG5cdE5hbWUgICAgICBzdHJpbmcgYGpzb246XCJuYW1lXCJgXG5cdEF2YXRhclVybCBzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCJgXG59XG5cbmZ1bmMgKGMgKkNsYXNzcm9vbUVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21zXCJcbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyUm9sZSBzdHJpbmdcblxuY29uc3QgKFxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlciBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJ0ZWFjaGVyXCJcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwic3R1ZGVudFwiXG4pXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyIHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cdENsYXNzcm9vbUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJjbGFzc3Jvb21faWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFVzZXJJRCAgICAgIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJ1c2VyX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRSb2xlICAgICAgICBDbGFzc3Jvb21NZW1iZXJSb2xlIGBqc29uOlwicm9sZVwiYFxuXHRJbnZpdGVkQnlJRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiaW52aXRlZF9ieV9pZFwiYFxufVxuXG5mdW5jIChjIENsYXNzcm9vbU1lbWJlcikgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVyc1wiXG59XG4uLi5cblBhdGg6IGVudGl0eS9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvblN0YXR1cyBzdHJpbmdcblxuY29uc3QgKFxuXHRJbnZpdGF0aW9uU3RhdHVzUGVuZGluZyAgSW52aXRhdGlvblN0YXR1cyA9IFwicGVuZGluZ1wiXG5cdEludml0YXRpb25TdGF0dXNBY2NlcHRlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJhY2NlcHRlZFwiXG5cdEludml0YXRpb25TdGF0dXNSZWplY3RlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJyZWplY3RlZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvbkVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXHRDbGFzc3Jvb21JRCBzdHJpbmcgICAgICAgICAgIGBqc29uOlwiY2xhc3Nyb29tX2lkXCJgXG5cdFNlbmRlcklEICAgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJzZW5kZXJfaWRcIiBnb3JtOlwiaW5kZXhcImBcblx0UmVjZWl2ZXJJRCAgc3RyaW5nICAgICAgICAgICBganNvbjpcInJlY2VpdmVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFN0YXR1cyAgICAgIEludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBnb3JtOlwiaW5kZXhcImBcbn1cblxuZnVuYyAoSW52aXRhdGlvbkVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHsgcmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5pbnZpdGF0aW9uc1wiIH1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuVHJhbnNhY3Rpb24oZnVuYyh0eCAqZ29ybS5EQikgZXJyb3Ige1xuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoY2xhc3Nyb29tKS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZSgmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShjbGFzc3Jvb20uSUQsIFwiXCIpLFxuXHRcdFx0VXNlcklEOiAgICAgIGNsYXNzcm9vbS5Vc2VySUQsXG5cdFx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyLFxuXHRcdH0pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRyZXR1cm4gbmlsXG5cdH0pXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdvcm0uaW8vZ29ybS9jbGF1c2VcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Ige1xuXHQvLyBT4butIGThu6VuZyBjbGF1c2UuT25Db25mbGljdCgpLkRvTm90aGluZygpIMSR4buDIHRyw6FuaCBs4buXaSBraGkgdGjDqm0gdGjDoG5oIHZpw6puIMSRw6MgdOG7k24gdOG6oWlcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5cblx0XHRDbGF1c2VzKGNsYXVzZS5PbkNvbmZsaWN0e0RvTm90aGluZzogdHJ1ZX0pLlxuXHRcdENyZWF0ZShtZW1iZXIpLkVycm9yXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGF0aW9uc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgcmVxXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tUmVxdWVzdCBzdHJ1Y3Qge1xuXHROYW1lICAgICAgKnN0cmluZyBganNvbjpcIm5hbWVcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdEF2YXRhclVybCAqc3RyaW5nIGBqc29uOlwiYXZhdGFyX3VybFwiIHZhbGlkYXRlOlwicmVxdWlyZWQsdXJsXCJgXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tTWVtYmVycyBbXWVudGl0eS5DbGFzc3Jvb21NZW1iZXJcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZFwiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21NZW1iZXJzKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21NZW1iZXJzXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2ludml0YXRpb24uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5DcmVhdGUoaW52aXRhdGlvbikuRXJyb3Jcbn0uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L3VwZGF0ZV9pbnZpdGF0aW9uX3N0YXR1cy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgVXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRNb2RlbCgmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSkuXG5cdFx0V2hlcmUoXCJpZCA9ID9cIiwgaW52aXRhdGlvbklEKS5cblx0XHRVcGRhdGUoXCJzdGF0dXNcIiwgc3RhdHVzKS5cblx0XHRFcnJvclxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSByZXFcblxudHlwZSBJbnZpdGVNZW1iZXJSZXF1ZXN0IHN0cnVjdCB7XG5cdENsYXNzcm9vbUlEICpzdHJpbmcgYGpzb246XCJjbGFzc3Jvb21faWRcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdFJlY2VpdmVySUQgICpzdHJpbmcgYGpzb246XCJyZWNlaXZlcl9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHRxdWVyeSA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJyZWNlaXZlcl9pZCA9ID9cIiwgcmVjZWl2ZXJJRClcblxuXHQvLyBM4buNYyB0aGVvIHN0YXR1cyBu4bq/dSBjw7Ncblx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdHF1ZXJ5ID0gcXVlcnkuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHR9XG5cblx0dmFyIGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0aWYgZXJyIDo9IHF1ZXJ5LlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuLi4uXG5QYXRoOiB1c2VjYXNlL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XyBcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcbn1cblxudHlwZSBjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2Uge1xuXHRyZXR1cm4gJmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAoYyAqY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdGlmIGVyciA6PSBjLlJlcG8uQ3JlYXRlQ2xhc3Nyb29tKGN0eCwgY2xhc3Nyb29tKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb21cIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cdHJldHVybiBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9hY2NlcHRfaW52aXRhdGlvbi5nb1xuLi4uXG5cblx0aWYgZXJyIDo9IHUuUmVwby5DcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4LCAmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRDbGFzc3Jvb21JRDogaW52aXRhdGlvbi5DbGFzc3Jvb21JRCxcblx0XHRVc2VySUQ6ICAgICAgaW52aXRhdGlvbi5SZWNlaXZlcklELFxuXHRcdFJvbGU6ICAgICAgICBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQsXG5cdFx0SW52aXRlZEJ5SUQ6IGludml0YXRpb24uU2VuZGVySUQsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbSBtZW1iZXJcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0aWYgZXJyIDo9IHUuUmVwby5VcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCwgaW52aXRhdGlvbklELCBlbnRpdHkuSW52aXRhdGlvblN0YXR1c0FjY2VwdGVkKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIHVwZGF0ZSBpbnZpdGF0aW9uIHN0YXR1c1wiLCB6YXAuU3RyaW5nKFwiaW52aXRhdGlvbiBpZFwiLCBpbnZpdGF0aW9uSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xuLi4uXG5cbnR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcblx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Jcblx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZXtSZXBvOiByZXBvfVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2lzX2ludml0YXRpb25fZXhpc3RpbmcuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY291bnQgaW50NjRcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRNb2RlbCgmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/IEFORCByZWNlaXZlcl9pZCA9ID8gQU5EIHN0YXR1cyBJTiA/XCIsIGNsYXNzcm9vbUlELCByZWNlaXZlcklELCBbXWVudGl0eS5JbnZpdGF0aW9uU3RhdHVze2VudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZywgZW50aXR5Lkludml0YXRpb25TdGF0dXNBY2NlcHRlZH0pLlxuXHRcdENvdW50KCZjb3VudCkuXG5cdFx0RXJyb3I7IGVyciAhLi4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZGNkNzU5ODktYTA5OC00YTBmLWE3YWItYjgyNDk4NWQ0YTExO3Rvb2x1X3ZydHhfMDFYdUtVelV3dkZxY1NHWG5RVzQxUDZQIjp7InBoYXNlIjo4fX0sImRyYWZ0RXhjaGFuZ2UiOnsicmVxdWVzdF9tZXNzYWdlIjoiIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCJ9XX0sInN0YXR1cyI6ImRyYWZ0In0sImRyYWZ0QWN0aXZlQ29udGV4dElkcyI6WyIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbWZhbHNlZmFsc2UiLCJhZ2VudE1lbW9yaWVzIl0sInJlcXVlc3RJZHMiOltdLCJpc1Bpbm5lZCI6ZmFsc2UsImlzU2hhcmVhYmxlIjp0cnVlLCJleHRyYURhdGEiOnsiaXNBZ2VudENvbnZlcnNhdGlvbiI6dHJ1ZSwiaGFzQWdlbnRPbmJvYXJkZWQiOnRydWUsImhhc0RpcnR5RWRpdHMiOmZhbHNlfX0sImQ0NTVkZTFiLTYwZjgtNDQ3Ni04ZDZiLTllMDZiYjBhYWJkNSI6eyJpZCI6ImQ0NTVkZTFiLTYwZjgtNDQ3Ni04ZDZiLTllMDZiYjBhYWJkNSIsImNyZWF0ZWRBdElzbyI6IjIwMjUtMDQtMjFUMTY6MjE6MjUuNjc0WiIsImxhc3RJbnRlcmFjdGVkQXRJc28iOiIyMDI1LTA0LTIxVDE2OjI4OjA3LjIyNFoiLCJjaGF0SGlzdG9yeSI6W3sic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI0YTVjYzcxYi04MGUwLTRlYTEtOGJiOC0yOWQ0NWI2MTdhMjUiLCJyZXF1ZXN0X21lc3NhZ2UiOiJ04bqhbyBhcGkgbOG6pXkgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691dOG6oW8gYXBpIGzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJFhbmcgc+G7nyBo4buvdSIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJ04bqhbyBhcGkgbOG6pXkgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691dOG6oW8gYXBpIGzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJFhbmcgc+G7nyBo4buvdSJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxRUNTd2pVQmFIalhLd2FnZ05VSnJLeSIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiRmluZCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcHJvamVjdCBzdHJ1Y3R1cmUsIEFQSSByb3V0ZXMsIGNvbnRyb2xsZXJzLCBhbmQgbW9kZWxzIHJlbGF0ZWQgdG8gY2xhc3NlcyBvciBjbGFzc3Jvb21zLiBMb29rIGZvciBleGlzdGluZyBBUEkgZW5kcG9pbnRzIGFuZCBob3cgdGhleSdyZSBzdHJ1Y3R1cmVkLlwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSSdsbCBoZWxwIHlvdSBjcmVhdGUgYW4gQVBJIGVuZHBvaW50IHRvIHJldHJpZXZlIGEgbGlzdCBvZiBjbGFzc2VzIG93bmVkIGJ5IGEgdXNlci4gTGV0IG1lIGZpcnN0IGV4cGxvcmUgdGhlIGNvZGViYXNlIHRvIHVuZGVyc3RhbmQgdGhlIHN0cnVjdHVyZSBhbmQgaG93IHRvIGltcGxlbWVudCB0aGlzIGZlYXR1cmUgcHJvcGVybHkuXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjowLCJ0ZXh0X25vZGUiOnsiY29udGVudCI6InThuqFvIGFwaSBs4bqleSBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3V04bqhbyBhcGkgbOG6pXkgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiSSdsbCBoZWxwIHlvdSBjcmVhdGUgYW4gQVBJIGVuZHBvaW50IHRvIHJldHJpZXZlIGEgbGlzdCBvZiBjbGFzc2VzIG93bmVkIGJ5IGEgdXNlci4gTGV0IG1lIGZpcnN0IGV4cGxvcmUgdGhlIGNvZGViYXNlIHRvIHVuZGVyc3RhbmQgdGhlIHN0cnVjdHVyZSBhbmQgaG93IHRvIGltcGxlbWVudCB0aGlzIGZlYXR1cmUgcHJvcGVybHkuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiOGU0ZTNkNjgtMGFjZC00N2U2LTkxOTktMmVjYWExZDVhZDM4IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxSFlhV2ZNUW5CMXR0dlJzcDJzMjFrSyIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiRmluZCBpbmZvcm1hdGlvbiBhYm91dCBob3cgdG8gcXVlcnkgY2xhc3Nyb29tcyBvd25lZCBieSBhIHVzZXIuIExvb2sgZm9yIHJlcG9zaXRvcnkgbWV0aG9kcyB0aGF0IG1pZ2h0IHF1ZXJ5IGNsYXNzcm9vbXMgYnkgdXNlciBJRCBvciBhbnkgZXhpc3RpbmcgZnVuY3Rpb25hbGl0eSByZWxhdGVkIHRvIHJldHJpZXZpbmcgY2xhc3Nyb29tcyBieSBvd25lci5cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSBnYXRoZXIgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZGF0YWJhc2Ugc3RydWN0dXJlIGFuZCBhbnkgZXhpc3RpbmcgZnVuY3Rpb25hbGl0eSB0aGF0IG1pZ2h0IGJlIHJlbGF0ZWQgdG8gcmV0cmlldmluZyBvd25lZCBjbGFzc3Jvb21zLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc2VydmVyL3JvdXRlci5nb1xucGFja2FnZSBzZXJ2ZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2hhbmRsZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG5mdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG5cdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcIi9jbGFzc3Jvb21cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2NyZWF0ZVwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcblxuXHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2hhbmRsZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG50eXBlIEhhbmRsZXIgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAvLyBM4buNYyB0aMOgbmggdmnDqm4gY+G7p2EgbOG7m3AgaOG7jWNcblx0SW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgIC8vIE3hu51pIHRow6BuaCB2acOqbiB2w6BvIGzhu5twIGjhu41jXG5cdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG5cdFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBU4burIGNo4buRaSBs4budaSBt4budaVxuXHRBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gQ2jhuqVwIG5o4bqtbiBs4budaSBt4budaVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxufVxuXG50eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Vcbn1cblxudHlwZSBJbmplY3Qgc3RydWN0IHtcblx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG5cdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxufVxuXG5mdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XG5cdHJldHVybiAmaGFuZGxlckltcGx7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiBpbmplY3QuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UsXG5cdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIGluamVjdC5JbnZpdGVNZW1iZXJVc2VDYXNlLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuUmVqZWN0SW52aXRhdGlvblVzZUNhc2UsXG5cdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcblx0fVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBib2R5IHJlcS5DcmVhdGVDbGFzc3Jvb21SZXF1ZXN0XG5cblx0aWYgZXJyIDo9IGMuQm9keVBhcnNlcigmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHIuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5LkNsYXNzcm9vbUVudGl0eXtcblx0XHRVc2VySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHROYW1lOiAgICAgIHZhbHVlLkdldFZhbHVlKGJvZHkuTmFtZSwgXCJcIiksXG5cdFx0QXZhdGFyVXJsOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkF2YXRhclVybCwgXCJcIiksXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSByLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvc2VydmVyLmdvXG4uLi5cblx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcblx0aGFuZGxlciA6PSBoYW5kbGVyLk5ldygmaGFuZGxlci5JbmplY3R7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIHVzZWNhc2UuTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgdXNlY2FzZS5OZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICB1c2VjYXNlLk5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdH0pXG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tRW50aXR5IHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cblx0VXNlcklEICAgIHN0cmluZyBganNvbjpcInVzZXJfaWRcImBcblx0TmFtZSAgICAgIHN0cmluZyBganNvbjpcIm5hbWVcImBcblx0QXZhdGFyVXJsIHN0cmluZyBganNvbjpcImF2YXRhcl91cmxcImBcbn1cblxuZnVuYyAoYyAqQ2xhc3Nyb29tRW50aXR5KSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXNcIlxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXFcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21SZXF1ZXN0IHN0cnVjdCB7XG5cdE5hbWUgICAgICAqc3RyaW5nIGBqc29uOlwibmFtZVwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0QXZhdGFyVXJsICpzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCIgdmFsaWRhdGU6XCJyZXF1aXJlZCx1cmxcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuVHJhbnNhY3Rpb24oZnVuYyh0eCAqZ29ybS5EQikgZXJyb3Ige1xuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoY2xhc3Nyb29tKS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZSgmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShjbGFzc3Jvb20uSUQsIFwiXCIpLFxuXHRcdFx0VXNlcklEOiAgICAgIGNsYXNzcm9vbS5Vc2VySUQsXG5cdFx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyLFxuXHRcdH0pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRyZXR1cm4gbmlsXG5cdH0pXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRfIFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSB7XG5cdHJldHVybiAmY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jIChjICpjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0aWYgZXJyIDo9IGMuUmVwby5DcmVhdGVDbGFzc3Jvb20oY3R4LCBjbGFzc3Jvb20pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cbi4uLlxuXG50eXBlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG5cdENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG5cdElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcblx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcblx0RmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcblx0R2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpXG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xuLi4uXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgY2xhc3Nyb29tX2lkIHThu6sgVVJMXG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHF1ZXJ5IHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLCBxdWVyeSlcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdGlmIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcikge1xuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0fVxuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZXtSZXBvOiByZXBvfVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbU1lbWJlcnMgW11lbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWRcIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tTWVtYmVycykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tTWVtYmVyc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyUm9sZSBzdHJpbmdcblxuY29uc3QgKFxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlciBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJ0ZWFjaGVyXCJcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwic3R1ZGVudFwiXG4pXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyIHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cdENsYXNzcm9vbUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJjbGFzc3Jvb21faWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFVzZXJJRCAgICAgIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJ1c2VyX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRSb2xlICAgICAgICBDbGFzc3Jvb21NZW1iZXJSb2xlIGBqc29uOlwicm9sZVwiYFxuXHRJbnZpdGVkQnlJRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiaW52aXRlZF9ieV9pZFwiYFxufVxuXG5mdW5jIChjIENsYXNzcm9vbU1lbWJlcikgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVyc1wiXG59XG4uLi5cblBhdGg6IGVudGl0eS9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvblN0YXR1cyBzdHJpbmdcblxuY29uc3QgKFxuXHRJbnZpdGF0aW9uU3RhdHVzUGVuZGluZyAgSW52aXRhdGlvblN0YXR1cyA9IFwicGVuZGluZ1wiXG5cdEludml0YXRpb25TdGF0dXNBY2NlcHRlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJhY2NlcHRlZFwiXG5cdEludml0YXRpb25TdGF0dXNSZWplY3RlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJyZWplY3RlZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvbkVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXHRDbGFzc3Jvb21JRCBzdHJpbmcgICAgICAgICAgIGBqc29uOlwiY2xhc3Nyb29tX2lkXCJgXG5cdFNlbmRlcklEICAgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJzZW5kZXJfaWRcIiBnb3JtOlwiaW5kZXhcImBcblx0UmVjZWl2ZXJJRCAgc3RyaW5nICAgICAgICAgICBganNvbjpcInJlY2VpdmVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFN0YXR1cyAgICAgIEludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBnb3JtOlwiaW5kZXhcImBcbn1cblxuZnVuYyAoSW52aXRhdGlvbkVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHsgcmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5pbnZpdGF0aW9uc1wiIH1cbi4uLlxuUGF0aDogaGFuZGxlci9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgSW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuSW52aXRlTWVtYmVyUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSBoLkludml0ZU1lbWJlclVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e1xuXHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkNsYXNzcm9vbUlELCBcIlwiKSxcblx0XHRTZW5kZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdFJlY2VpdmVySUQ6ICB2YWx1ZS5HZXRWYWx1ZShib2R5LlJlY2VpdmVySUQsIFwiXCIpLFxuXHRcdFN0YXR1czogICAgICBlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIMSRYW5nIGNo4budIHjhu60gbMO9IGhv4bq3YyDEkcOjIMSRxrDhu6NjIGNo4bqlcCBuaOG6rW5cIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgSW52aXRlTWVtYmVyVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGludml0ZU1lbWJlclVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3SW52aXRlTWVtYmVyVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgSW52aXRlTWVtYmVyVXNlQ2FzZSB7XG5cdHJldHVybiAmaW52aXRlTWVtYmVyVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICppbnZpdGVNZW1iZXJVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Ige1xuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGNsYXNzcm9vbSBraMO0bmdcblx0aXNPd25lciwgZXJyIDo9IHUuUmVwby5Jc0NsYXNzcm9vbU93bmVyKGN0eCwgaW52aXRhdGlvbi5DbGFzc3Jvb21JRCwgaW52aXRhdGlvbi5TZW5kZXJJRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNoZWNrIGNsYXNzcm9vbSBvd25lclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRpZiAhaXNPd25lciB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lclxuXHR9XG5cblx0Ly8gS2nhu4NtIHRyYSB4ZW0gbmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIG7DoG8gxJFhbmcg4bufIHRy4bqhbmcgdGjDoWkgcGVuZGluZyBob+G6t2MgYWNjZXB0ZWQgY2jGsGFcblx0ZXhpc3RzLCBlcnIgOj0gdS5SZXBvLklzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCwgaW52aXRhdGlvbi5DbGFzc3Jvb21JRCwgaW52aXRhdGlvbi5SZWNlaXZlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgZXhpc3RpbmcgaW52aXRhdGlvblwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRpZiBleGlzdHMge1xuXHRcdHJldHVybiBxZXJyb3IuRXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvblxuXHR9XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdvcm0uaW8vZ29ybS9jbGF1c2VcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Ige1xuXHQvLyBT4butIGThu6VuZyBjbGF1c2UuT25Db25mbGljdCgpLkRvTm90aGluZygpIMSR4buDIHRyw6FuaCBs4buXaSBraGkgdGjDqm0gdGjDoG5oIHZpw6puIMSRw6MgdOG7k24gdOG6oWlcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5cblx0XHRDbGF1c2VzKGNsYXVzZS5PbkNvbmZsaWN0e0RvTm90aGluZzogdHJ1ZX0pLlxuXHRcdENyZWF0ZShtZW1iZXIpLkVycm9yXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGF0aW9uc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0YXRpb25zVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2ludml0YXRpb24uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5DcmVhdGUoaW52aXRhdGlvbikuRXJyb3Jcbn0uLi5cblBhdGg6IHVzZWNhc2UvYWNjZXB0X2ludml0YXRpb24uZ29cbi4uLlxuXG5cdGlmIGVyciA6PSB1LlJlcG8uQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCwgJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0Q2xhc3Nyb29tSUQ6IGludml0YXRpb24uQ2xhc3Nyb29tSUQsXG5cdFx0VXNlcklEOiAgICAgIGludml0YXRpb24uUmVjZWl2ZXJJRCxcblx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50LFxuXHRcdEludml0ZWRCeUlEOiBpbnZpdGF0aW9uLlNlbmRlcklELFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb20gbWVtYmVyXCIsIHphcC5TdHJpbmcoXCJpbnZpdGF0aW9uIGlkXCIsIGludml0YXRpb25JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmIGVyciA6PSB1LlJlcG8uVXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHgsIGludml0YXRpb25JRCwgZW50aXR5Lkludml0YXRpb25TdGF0dXNBY2NlcHRlZCk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byB1cGRhdGUgaW52aXRhdGlvbiBzdGF0dXNcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2FjY2VwdF9pbnZpdGF0aW9uLmdvXG4uLi5cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdGlmIGVyciA6PSBoLkFjY2VwdEludml0YXRpb25Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGludml0YXRpb25JRCwgdXNlcklEKTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBnb3JtLkVyclJlY29yZE5vdEZvdW5kKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwia2jDtG5nIHTDrG0gdGjhuqV5IGzhu51pIG3hu51pXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdEludml0YXRpb25SZWNlaXZlcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBuw6B5XCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyckludml0YXRpb25Ob3RQZW5kaW5nKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibOG7nWkgbeG7nWkga2jDtG5nIOG7nyB0cuG6oW5nIHRow6FpIGNo4budIHjhu60gbMO9XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvaXNfaW52aXRhdGlvbl9leGlzdGluZy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgSXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKSB7XG5cdHZhciBjb3VudCBpbnQ2NFxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdE1vZGVsKCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZCA9ID8gQU5EIHJlY2VpdmVyX2lkID0gPyBBTkQgc3RhdHVzIElOID9cIiwgY2xhc3Nyb29tSUQsIHJlY2VpdmVySUQsIFtdZW50aXR5Lkludml0YXRpb25TdGF0dXN7ZW50aXR5Lkludml0YXRpb25TdGF0dXNQZW5kaW5nLCBlbnRpdHkuSW52aXRhdGlvblN0YXR1c0FjY2VwdGVkfSkuXG5cdFx0Q291bnQoJmNvdW50KS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIGZhbHNlLCBlcnJcblx0fVxuXHRyZXR1cm4gY291bnQgPiAwLCBuaWxcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9yZWplY3RfaW52aXRhdGlvbi5nb1xuLi4uXG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRpZiBlcnIgOj0gaC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBpbnZpdGF0aW9uSUQsIHVzZXJJRCk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgaGFuZGxlIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIGdvcm0uRXJyUmVjb3JkTm90Rm91bmQpOlxuXHRcdFx0cmV0dXJuIHJlcy5Ob3RGb3VuZChjLCBlcnJvcnMuTmV3KFwia2jDtG5nIHTDrG0gdGjhuqV5IGzhu51pIG3hu51pXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdEludml0YXRpb25SZWNlaXZlcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBuw6B5XCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyckludml0YXRpb25Ob3RQZW5kaW5nKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibOG7nWkgbeG7nWkga2jDtG5nIOG7nyB0cuG6oW5nIHRow6FpIGNo4budIHjhu60gbMO9XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIEludml0ZU1lbWJlclJlcXVlc3Qgc3RydWN0IHtcblx0Q2xhc3Nyb29tSUQgKnN0cmluZyBganNvbjpcImNsYXNzcm9vbV9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0UmVjZWl2ZXJJRCAgKnN0cmluZyBganNvbjpcInJlY2VpdmVyX2lkXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xuLi4uXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uLi4uIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxRUNTd2pVQmFIalhLd2FnZ05VSnJLeSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkxldCBtZSBnYXRoZXIgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZGF0YWJhc2Ugc3RydWN0dXJlIGFuZCBhbnkgZXhpc3RpbmcgZnVuY3Rpb25hbGl0eSB0aGF0IG1pZ2h0IGJlIHJlbGF0ZWQgdG8gcmV0cmlldmluZyBvd25lZCBjbGFzc3Jvb21zLlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjMwMDQyMzNhLWViYjYtNGNiOC1hNmQzLTc3ZWYyMmM2MmY5YyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMThZaTVQMlF2OFhyRnM3TU1KanJidngiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwibW9kZWwvcmVxL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJCYXNlZCBvbiBteSBleHBsb3JhdGlvbiBvZiB0aGUgY29kZWJhc2UsIEkgbm93IGhhdmUgYSBnb29kIHVuZGVyc3RhbmRpbmcgb2YgdGhlIHByb2plY3Qgc3RydWN0dXJlIGFuZCBob3cgdG8gaW1wbGVtZW50IHRoZSBBUEkgZW5kcG9pbnQgdG8gcmV0cmlldmUgY2xhc3Nyb29tcyBvd25lZCBieSBhIHVzZXIuIExldCBtZSBjcmVhdGUgYSBkZXRhaWxlZCBwbGFuIGZvciBpbXBsZW1lbnRpbmcgdGhpcyBmZWF0dXJlLlxuXG4jIyBQbGFuIGZvciBDcmVhdGluZyBBUEkgdG8gUmV0cmlldmUgT3duZWQgQ2xhc3Nyb29tc1xuXG4xLiAqKkNyZWF0ZSBhIG5ldyByZXF1ZXN0IG1vZGVsKio6XG4gICAtIFdlIGFscmVhZHkgaGF2ZSBgbW9kZWwvcmVxL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvYCB3aXRoIGEgYEZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcWAgc3RydWN0IHRoYXQgZXh0ZW5kcyBgUGFnaW5hdGlvblJlcWBcblxuMi4gKipDcmVhdGUgYSBuZXcgcmVwb3NpdG9yeSBtZXRob2QqKjpcbiAgIC0gQWRkIGEgYEZpbHRlck93bmVkQ2xhc3Nyb29tc2AgbWV0aG9kIHRvIHRoZSBgUmVwb3NpdG9yeWAgaW50ZXJmYWNlIGluIGByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29gXG4gICAtIEltcGxlbWVudCB0aGUgbWV0aG9kIGluIGEgbmV3IGZpbGUgYHJlcG9zaXRvcnkvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29gXG5cbjMuICoqQ3JlYXRlIGEgbmV3IHVzZSBjYXNlKio6XG4gICAtIENyZWF0ZSBhIGBGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlYCBpbnRlcmZhY2UgaW4gYSBuZXcgZmlsZSBgdXNlY2FzZS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb2BcbiAgIC0gSW1wbGVtZW50IHRoZSB1c2UgY2FzZSB0byBjYWxsIHRoZSByZXBvc2l0b3J5IG1ldGhvZFxuXG40LiAqKkFkZCB0aGUgaGFuZGxlciBtZXRob2QqKjpcbiAgIC0gQWRkIGEgYEZpbHRlck93bmVkQ2xhc3Nyb29tc2AgbWV0aG9kIHRvIHRoZSBgSGFuZGxlcmAgaW50ZXJmYWNlIGluIGBoYW5kbGVyL2hhbmRsZXIuZ29gXG4gICAtIEltcGxlbWVudCB0aGUgaGFuZGxlciBpbiBhIG5ldyBmaWxlIGBoYW5kbGVyL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvYFxuXG41LiAqKlVwZGF0ZSB0aGUgcm91dGVyKio6XG4gICAtIEFkZCBhIG5ldyByb3V0ZSBpbiBgc2VydmVyL3JvdXRlci5nb2AgdG8gbWFwIHRoZSBlbmRwb2ludCB0byB0aGUgaGFuZGxlclxuXG42LiAqKlVwZGF0ZSB0aGUgZGVwZW5kZW5jeSBpbmplY3Rpb24qKjpcbiAgIC0gVXBkYXRlIHRoZSBgSW5qZWN0YCBzdHJ1Y3QgaW4gYGhhbmRsZXIvaGFuZGxlci5nb2BcbiAgIC0gVXBkYXRlIHRoZSBkZXBlbmRlbmN5IGluamVjdGlvbiBpbiBgc2VydmVyL3NlcnZlci5nb2BcblxuTGV0J3Mgc3RhcnQgaW1wbGVtZW50aW5nIHRoZXNlIGNoYW5nZXM6XG5cbiMjIyAxLiBGaXJzdCwgbGV0J3MgY2hlY2sgaWYgdGhlIHJlcXVlc3QgbW9kZWwgZXhpc3RzIGFuZCBjcmVhdGUgaXQgaWYgbmVlZGVkXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiByZXBvc2l0b3J5L2lzX2NsYXNzcm9vbV9vd25lci5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgSXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY2xhc3Nyb29tIGVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImlkID0gPyBBTkQgdXNlcl9pZCA9ID9cIiwgY2xhc3Nyb29tSUQsIHVzZXJJRCkuXG5cdFx0Rmlyc3QoJmNsYXNzcm9vbSkuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdC8vIE7hur91IGtow7RuZyB0w6xtIHRo4bqleSBi4bqjbiBnaGksIGPDsyBuZ2jEqWEgbMOgIG5nxrDhu51pIGTDuW5nIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3Vcblx0XHRyZXR1cm4gZmFsc2UsIG5pbFxuXHR9XG5cdHJldHVybiB0cnVlLCBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGNsYXNzcm9vbSBraMO0bmdcblx0aXNPd25lciwgZXJyIDo9IHUuUmVwby5Jc0NsYXNzcm9vbU93bmVyKGN0eCwgY2xhc3Nyb29tSUQsIHVzZXJJRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNoZWNrIGNsYXNzcm9vbSBvd25lclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdGlmICFpc093bmVyIHtcblx0XHRyZXR1cm4gbmlsLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXJcblx0fVxuXG5cdC8vIEzhuqV5IGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgbeG7nWlcblx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckludml0ZWRNZW1iZXJzKGN0eCwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBpbnZpdGVkIG1lbWJlcnNcIiwgemFwLlN0cmluZyhcImNsYXNzcm9vbSBpZFwiLCBjbGFzc3Jvb21JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xuLi4uXG5cbnR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcblx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Jcblx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcblx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXG5cdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIHJlcG9zaXRvcnlJbXBsIHN0cnVjdCB7XG5cdFByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlclxufVxuXG5mdW5jIE5ldyhwcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXIpIFJlcG9zaXRvcnkge1xuXHRyZXR1cm4gJnJlcG9zaXRvcnlJbXBse1xuXHRcdFByb3ZpZGVyOiBwcm92aWRlcixcblx0fVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IHIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tTWVtYmVycyBbXWVudGl0eS5DbGFzc3Jvb21NZW1iZXJcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZFwiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21NZW1iZXJzKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21NZW1iZXJzXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2V7UmVwbzogcmVwb31cbn1cblxuZnVuYyAoZiAqZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IGYuUmVwby5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBjbGFzc3Jvb20gbWVtYmVyc1wiLCB6YXAuU3RyaW5nKFwiY2xhc3Nyb29tIGlkXCIsIGNsYXNzcm9vbUlEKSwgemFwLkVycm9yKChlcnIpKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuVHJhbnNhY3Rpb24oZnVuYyh0eCAqZ29ybS5EQikgZXJyb3Ige1xuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoY2xhc3Nyb29tKS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZSgmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShjbGFzc3Jvb20uSUQsIFwiXCIpLFxuXHRcdFx0VXNlcklEOiAgICAgIGNsYXNzcm9vbS5Vc2VySUQsXG5cdFx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyLFxuXHRcdH0pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRyZXR1cm4gbmlsXG5cdH0pXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRnb3JtMiBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgKFxuXHRcdHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHRcdH1cblx0XHRpbnZpdGF0aW9ucyBbXWVudGl0eS5JbnZpdGF0aW9uRW50aXR5XG5cdClcblxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkID0gP1wiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGZ1bmMoZGIgKmdvcm0uREIpICpnb3JtLkRCIHtcblx0XHRcdGlmIHBhcmFtcy5TdGF0dXMgIT0gbmlsIHtcblx0XHRcdFx0cmV0dXJuIGRiLldoZXJlKFwic3RhdHVzID0gP1wiLCAqcGFyYW1zLlN0YXR1cylcblx0XHRcdH1cblx0XHRcdHJldHVybiBkYlxuXHRcdH0sIGdvcm0yLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGludml0YXRpb25zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgY2xhc3Nyb29tX2lkIHThu6sgVVJMXG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHF1ZXJ5IHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLCBxdWVyeSlcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdGlmIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcikge1xuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0fVxuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9pc19pbnZpdGF0aW9uX2V4aXN0aW5nLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpIHtcblx0dmFyIGNvdW50IGludDY0XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0TW9kZWwoJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e30pLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkID0gPyBBTkQgcmVjZWl2ZXJfaWQgPSA/IEFORCBzdGF0dXMgSU4gP1wiLCBjbGFzc3Jvb21JRCwgcmVjZWl2ZXJJRCwgW11lbnRpdHkuSW52aXRhdGlvblN0YXR1c3tlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWR9KS5cblx0XHRDb3VudCgmY291bnQpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gZmFsc2UsIGVyclxuXHR9XG5cdHJldHVybiBjb3VudCA+IDAsIG5pbFxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvcm91dGVyLmdvXG4uLi5cblxuZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xuXHRjbGFzc3Jvb21Hcm91cCA6PSBhcHAuR3JvdXAoXCIvY2xhc3Nyb29tXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvaW52aXRlXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycylcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG5cblx0aW52aXRhdGlvbkdyb3VwIDo9IGFwcC5Hcm91cChcIi9pbnZpdGF0aW9uXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0aW52aXRhdGlvbkdyb3VwLkdldChcIi9maWx0ZXJcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucylcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9yZWplY3QvOmlkXCIsIGhhbmRsZXIuUmVqZWN0SW52aXRhdGlvbilcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9hY2NlcHQvOmlkXCIsIGhhbmRsZXIuQWNjZXB0SW52aXRhdGlvbilcbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbS5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblxudHlwZSBDbGFzc3Jvb21FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblxuXHRVc2VySUQgICAgc3RyaW5nIGBqc29uOlwidXNlcl9pZFwiYFxuXHROYW1lICAgICAgc3RyaW5nIGBqc29uOlwibmFtZVwiYFxuXHRBdmF0YXJVcmwgc3RyaW5nIGBqc29uOlwiYXZhdGFyX3VybFwiYFxufVxuXG5mdW5jIChjICpDbGFzc3Jvb21FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7XG5cdHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tc1wiXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0YXRpb25zVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHlde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcImNyZWF0ZWRfYXQgREVTQ1wiKSwgLy8gTeG6t2MgxJHhu4tuaCBz4bqvcCB44bq/cCB0aGVvIG5nw6B5IHThuqFvIG3hu5tpIG5o4bqldFxuXHR9XG5cblx0cXVlcnkgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwicmVjZWl2ZXJfaWQgPSA/XCIsIHJlY2VpdmVySUQpXG5cblx0Ly8gTOG7jWMgdGhlbyBzdGF0dXMgbuG6v3UgY8OzXG5cdGlmIHBhcmFtcy5TdGF0dXMgIT0gbmlsIHtcblx0XHRxdWVyeSA9IHF1ZXJ5LldoZXJlKFwic3RhdHVzID0gP1wiLCAqcGFyYW1zLlN0YXR1cylcblx0fVxuXG5cdHZhciBpbnZpdGF0aW9ucyBbXWVudGl0eS5JbnZpdGF0aW9uRW50aXR5XG5cdGlmIGVyciA6PSBxdWVyeS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmludml0YXRpb25zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cbi4uLlxuUGF0aDogaGFuZGxlci9oYW5kbGVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcblxudHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAvLyBU4bqhbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTOG7jWMgdGjDoG5oIHZpw6puIGPhu6dhIGzhu5twIGjhu41jXG5cdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4budaSBt4budaVxuXHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gVOG7qyBjaOG7kWkgbOG7nWkgbeG7nWlcblx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIEzhu41jIGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgxJHGsOG7o2MgbeG7nWlcbn1cblxudHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xuXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2Vcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2Vcblx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Vcblx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxuXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG5cdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG59XG5cbnR5cGUgSW5qZWN0IHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Vcbn1cblxuZnVuYyBOZXcoaW5qZWN0ICpJbmplY3QpIEhhbmRsZXIge1xuXHRyZXR1cm4gJmhhbmRsZXJJbXBse1xuXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICBpbmplY3QuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSxcblx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogaW5qZWN0LkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLFxuXHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICBpbmplY3QuSW52aXRlTWVtYmVyVXNlQ2FzZSxcblx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgaW5qZWN0LkZpbHRlckludml0YXRpb25zVXNlQ2FzZSxcblx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LlJlamVjdEludml0YXRpb25Vc2VDYXNlLFxuXHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuQWNjZXB0SW52aXRhdGlvblVzZUNhc2UsXG5cdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIGluamVjdC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UsXG5cdH1cbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckludml0YXRpb25zVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRhdGlvbnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVySW52aXRhdGlvbnNVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJJbnZpdGF0aW9ucyhjdHgsIHJlY2VpdmVySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBpbnZpdGF0aW9uc1wiLCB6YXAuU3RyaW5nKFwicmVjZWl2ZXIgaWRcIiwgcmVjZWl2ZXJJRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XyBcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcbn1cblxudHlwZSBjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2Uge1xuXHRyZXR1cm4gJmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAoYyAqY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdGlmIGVyciA6PSBjLlJlcG8uQ3JlYXRlQ2xhc3Nyb29tKGN0eCwgY2xhc3Nyb29tKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb21cIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cdHJldHVybiBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgSW52aXRlTWVtYmVyVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGludml0ZU1lbWJlclVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3SW52aXRlTWVtYmVyVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgSW52aXRlTWVtYmVyVXNlQ2FzZSB7XG5cdHJldHVybiAmaW52aXRlTWVtYmVyVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICppbnZpdGVNZW1iZXJVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Ige1xuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGNsYXNzcm9vbSBraMO0bmdcblx0aXNPd25lciwgZXJyIDo9IHUuUmVwby5Jc0NsYXNzcm9vbU93bmVyKGN0eCwgaW52aXRhdGlvbi5DbGFzc3Jvb21JRCwgaW52aXRhdGlvbi5TZW5kZXJJRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNoZWNrIGNsYXNzcm9vbSBvd25lclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRpZiAhaXNPd25lciB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lclxuXHR9XG5cblx0Ly8gS2nhu4NtIHRyYSB4ZW0gbmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIG7DoG8gxJFhbmcg4bufIHRy4bqhbmcgdGjDoWkgcGVuZGluZyBob+G6t2MgYWNjZXB0ZWQgY2jGsGFcblx0ZXhpc3RzLCBlcnIgOj0gdS5SZXBvLklzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCwgaW52aXRhdGlvbi5DbGFzc3Jvb21JRCwgaW52aXRhdGlvbi5SZWNlaXZlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgZXhpc3RpbmcgaW52aXRhdGlvblwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRpZiBleGlzdHMge1xuXHRcdHJldHVybiBxZXJyb3IuRXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvblxuXHR9XG4uLi5cblBhdGg6IGhhbmRsZXIvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkNyZWF0ZUNsYXNzcm9vbVJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gci5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e1xuXHRcdFVzZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdE5hbWU6ICAgICAgdmFsdWUuR2V0VmFsdWUoYm9keS5OYW1lLCBcIlwiKSxcblx0XHRBdmF0YXJVcmw6IHZhbHVlLkdldFZhbHVlKGJvZHkuQXZhdGFyVXJsLCBcIlwiKSxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ludml0ZV9tZW1iZXIuZ29cbi4uLlxuXG5cdGlmIGVyciA6PSBoLkludml0ZU1lbWJlclVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e1xuXHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkNsYXNzcm9vbUlELCBcIlwiKSxcblx0XHRTZW5kZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdFJlY2VpdmVySUQ6ICB2YWx1ZS5HZXRWYWx1ZShib2R5LlJlY2VpdmVySUQsIFwiXCIpLFxuXHRcdFN0YXR1czogICAgICBlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIMSRYW5nIGNo4budIHjhu60gbMO9IGhv4bq3YyDEkcOjIMSRxrDhu6NjIGNo4bqlcCBuaOG6rW5cIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9hY2NlcHRfaW52aXRhdGlvbi5nb1xuLi4uXG5cblx0aWYgZXJyIDo9IHUuUmVwby5DcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4LCAmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRDbGFzc3Jvb21JRDogaW52aXRhdGlvbi5DbGFzc3Jvb21JRCxcblx0XHRVc2VySUQ6ICAgICAgaW52aXRhdGlvbi5SZWNlaXZlcklELFxuXHRcdFJvbGU6ICAgICAgICBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQsXG5cdFx0SW52aXRlZEJ5SUQ6IGludml0YXRpb24uU2VuZGVySUQsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbSBtZW1iZXJcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyci4uLiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUhZYVdmTVFuQjF0dHZSc3AyczIxa0sifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJCYXNlZCBvbiBteSBleHBsb3JhdGlvbiBvZiB0aGUgY29kZWJhc2UsIEkgbm93IGhhdmUgYSBnb29kIHVuZGVyc3RhbmRpbmcgb2YgdGhlIHByb2plY3Qgc3RydWN0dXJlIGFuZCBob3cgdG8gaW1wbGVtZW50IHRoZSBBUEkgZW5kcG9pbnQgdG8gcmV0cmlldmUgY2xhc3Nyb29tcyBvd25lZCBieSBhIHVzZXIuIExldCBtZSBjcmVhdGUgYSBkZXRhaWxlZCBwbGFuIGZvciBpbXBsZW1lbnRpbmcgdGhpcyBmZWF0dXJlLlxuXG4jIyBQbGFuIGZvciBDcmVhdGluZyBBUEkgdG8gUmV0cmlldmUgT3duZWQgQ2xhc3Nyb29tc1xuXG4xLiAqKkNyZWF0ZSBhIG5ldyByZXF1ZXN0IG1vZGVsKio6XG4gICAtIFdlIGFscmVhZHkgaGF2ZSBgbW9kZWwvcmVxL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvYCB3aXRoIGEgYEZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcWAgc3RydWN0IHRoYXQgZXh0ZW5kcyBgUGFnaW5hdGlvblJlcWBcblxuMi4gKipDcmVhdGUgYSBuZXcgcmVwb3NpdG9yeSBtZXRob2QqKjpcbiAgIC0gQWRkIGEgYEZpbHRlck93bmVkQ2xhc3Nyb29tc2AgbWV0aG9kIHRvIHRoZSBgUmVwb3NpdG9yeWAgaW50ZXJmYWNlIGluIGByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29gXG4gICAtIEltcGxlbWVudCB0aGUgbWV0aG9kIGluIGEgbmV3IGZpbGUgYHJlcG9zaXRvcnkvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29gXG5cbjMuICoqQ3JlYXRlIGEgbmV3IHVzZSBjYXNlKio6XG4gICAtIENyZWF0ZSBhIGBGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlYCBpbnRlcmZhY2UgaW4gYSBuZXcgZmlsZSBgdXNlY2FzZS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb2BcbiAgIC0gSW1wbGVtZW50IHRoZSB1c2UgY2FzZSB0byBjYWxsIHRoZSByZXBvc2l0b3J5IG1ldGhvZFxuXG40LiAqKkFkZCB0aGUgaGFuZGxlciBtZXRob2QqKjpcbiAgIC0gQWRkIGEgYEZpbHRlck93bmVkQ2xhc3Nyb29tc2AgbWV0aG9kIHRvIHRoZSBgSGFuZGxlcmAgaW50ZXJmYWNlIGluIGBoYW5kbGVyL2hhbmRsZXIuZ29gXG4gICAtIEltcGxlbWVudCB0aGUgaGFuZGxlciBpbiBhIG5ldyBmaWxlIGBoYW5kbGVyL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvYFxuXG41LiAqKlVwZGF0ZSB0aGUgcm91dGVyKio6XG4gICAtIEFkZCBhIG5ldyByb3V0ZSBpbiBgc2VydmVyL3JvdXRlci5nb2AgdG8gbWFwIHRoZSBlbmRwb2ludCB0byB0aGUgaGFuZGxlclxuXG42LiAqKlVwZGF0ZSB0aGUgZGVwZW5kZW5jeSBpbmplY3Rpb24qKjpcbiAgIC0gVXBkYXRlIHRoZSBgSW5qZWN0YCBzdHJ1Y3QgaW4gYGhhbmRsZXIvaGFuZGxlci5nb2BcbiAgIC0gVXBkYXRlIHRoZSBkZXBlbmRlbmN5IGluamVjdGlvbiBpbiBgc2VydmVyL3NlcnZlci5nb2BcblxuTGV0J3Mgc3RhcnQgaW1wbGVtZW50aW5nIHRoZXNlIGNoYW5nZXM6XG5cbiMjIyAxLiBGaXJzdCwgbGV0J3MgY2hlY2sgaWYgdGhlIHJlcXVlc3QgbW9kZWwgZXhpc3RzIGFuZCBjcmVhdGUgaXQgaWYgbmVlZGVkXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMWRlYjZjNjMtMzA5ZC00NjhkLTg3MjYtNjZlY2FjZjgyOGVjIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxM2p0RW16QnZpRWFLVVpIWjhwTmJ0ViIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiU2hvdyBtZSB0aGUgZnVsbCBjb250ZW50IG9mIHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nbyB0byBzZWUgdGhlIFJlcG9zaXRvcnkgaW50ZXJmYWNlXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJHcmVhdCEgVGhlIHJlcXVlc3QgbW9kZWwgYWxyZWFkeSBleGlzdHMuIE5vdyBsZXQncyBpbXBsZW1lbnQgdGhlIHJlcG9zaXRvcnkgbWV0aG9kLlxuXG4jIyMgMi4gQWRkIHRoZSByZXBvc2l0b3J5IG1ldGhvZCB0byB0aGUgaW50ZXJmYWNlIGFuZCBpbXBsZW1lbnQgaXRcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gbW9kZWwvcmVxL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvOlxuICAgICAxXHRwYWNrYWdlIHJlcVxuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbiAgICAgNFx0XG4gICAgIDVcdHR5cGUgRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxIHN0cnVjdCB7XG4gICAgIDZcdFx0cmVxLlBhZ2luYXRpb25SZXFcbiAgICAgN1x0fVxuICAgICA4XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDhcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMThZaTVQMlF2OFhyRnM3TU1KanJidngifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJHcmVhdCEgVGhlIHJlcXVlc3QgbW9kZWwgYWxyZWFkeSBleGlzdHMuIE5vdyBsZXQncyBpbXBsZW1lbnQgdGhlIHJlcG9zaXRvcnkgbWV0aG9kLlxuXG4jIyMgMi4gQWRkIHRoZSByZXBvc2l0b3J5IG1ldGhvZCB0byB0aGUgaW50ZXJmYWNlIGFuZCBpbXBsZW1lbnQgaXRcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIyMTI5MzQwZC1kMzYzLTQzY2YtOTFjNy00OGJjZTQ5ODI3YjUiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE4MWlHRnVQQmdzcmJWNWVQaTN2NzNkIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJyZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwidHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XFxuXFx0Q3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3JcXG5cXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcXG5cXHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxcblxcdElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcXG5cXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxcblxcdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXFxuXFx0R2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpXFxuXFx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXFxuXFx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3JcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcXG59XCIsIFwibmV3X3N0clwiOiBcInR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xcblxcdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXFxuXFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXFxuXFx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3JcXG5cXHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXFxuXFx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcXG5cXHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxcblxcdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxcblxcdFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvclxcblxcdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXFxuXFx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXFxuXFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcXG59XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAxMSwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAyMX1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IEknbGwgaW1wbGVtZW50IHRoZSBuZWNlc3NhcnkgZmlsZXMgZm9yIHRoZSBBUEkgZW5kcG9pbnQgdG8gcmV0cmlldmUgb3duZWQgY2xhc3Nyb29tcy5cblxuIyMjIDEuIEZpcnN0LCBsZXQncyB1cGRhdGUgdGhlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHRvIGFkZCB0aGUgbmV3IG1ldGhvZFxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcbilcblxudHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxuXHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxuXHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuXHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Jcblx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Jcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcblx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG59XG5cbmZ1bmMgTmV3KHByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlcikgUmVwb3NpdG9yeSB7XG5cdHJldHVybiAmcmVwb3NpdG9yeUltcGx7XG5cdFx0UHJvdmlkZXI6IHByb3ZpZGVyLFxuXHR9XG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2ludml0YXRpb24uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5DcmVhdGUoaW52aXRhdGlvbikuRXJyb3Jcbn0uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHlde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcImNyZWF0ZWRfYXQgREVTQ1wiKSwgLy8gTeG6t2MgxJHhu4tuaCBz4bqvcCB44bq/cCB0aGVvIG5nw6B5IHThuqFvIG3hu5tpIG5o4bqldFxuXHR9XG5cblx0cXVlcnkgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwicmVjZWl2ZXJfaWQgPSA/XCIsIHJlY2VpdmVySUQpXG5cblx0Ly8gTOG7jWMgdGhlbyBzdGF0dXMgbuG6v3UgY8OzXG5cdGlmIHBhcmFtcy5TdGF0dXMgIT0gbmlsIHtcblx0XHRxdWVyeSA9IHF1ZXJ5LldoZXJlKFwic3RhdHVzID0gP1wiLCAqcGFyYW1zLlN0YXR1cylcblx0fVxuXG5cdHZhciBpbnZpdGF0aW9ucyBbXWVudGl0eS5JbnZpdGF0aW9uRW50aXR5XG5cdGlmIGVyciA6PSBxdWVyeS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmludml0YXRpb25zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBpbnZpdGF0aW9uc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5UcmFuc2FjdGlvbihmdW5jKHR4ICpnb3JtLkRCKSBlcnJvciB7XG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZShjbGFzc3Jvb20pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKCZlbnRpdHkuQ2xhc3Nyb29tTWVtYmVye1xuXHRcdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGNsYXNzcm9vbS5JRCwgXCJcIiksXG5cdFx0XHRVc2VySUQ6ICAgICAgY2xhc3Nyb29tLlVzZXJJRCxcblx0XHRcdFJvbGU6ICAgICAgICBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVRlYWNoZXIsXG5cdFx0fSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdHJldHVybiBuaWxcblx0fSlcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9nZXRfaW52aXRhdGlvbl9ieV9pZC5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgR2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpIHtcblx0dmFyIGludml0YXRpb24gZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImlkID0gP1wiLCBpbnZpdGF0aW9uSUQpLlxuXHRcdEZpcnN0KCZpbnZpdGF0aW9uKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuICZpbnZpdGF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9pc19pbnZpdGF0aW9uX2V4aXN0aW5nLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpIHtcblx0dmFyIGNvdW50IGludDY0XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0TW9kZWwoJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e30pLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkID0gPyBBTkQgcmVjZWl2ZXJfaWQgPSA/IEFORCBzdGF0dXMgSU4gP1wiLCBjbGFzc3Jvb21JRCwgcmVjZWl2ZXJJRCwgW11lbnRpdHkuSW52aXRhdGlvblN0YXR1c3tlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWR9KS5cblx0XHRDb3VudCgmY291bnQpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gZmFsc2UsIGVyclxuXHR9XG5cdHJldHVybiBjb3VudCA+IDAsIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbU1lbWJlcnMgW11lbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWRcIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tTWVtYmVycykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tTWVtYmVyc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L3VwZGF0ZV9pbnZpdGF0aW9uX3N0YXR1cy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgVXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRNb2RlbCgmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSkuXG5cdFx0V2hlcmUoXCJpZCA9ID9cIiwgaW52aXRhdGlvbklEKS5cblx0XHRVcGRhdGUoXCJzdGF0dXNcIiwgc3RhdHVzKS5cblx0XHRFcnJvclxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2lzX2NsYXNzcm9vbV9vd25lci5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgSXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY2xhc3Nyb29tIGVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImlkID0gPyBBTkQgdXNlcl9pZCA9ID9cIiwgY2xhc3Nyb29tSUQsIHVzZXJJRCkuXG5cdFx0Rmlyc3QoJmNsYXNzcm9vbSkuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdC8vIE7hur91IGtow7RuZyB0w6xtIHRo4bqleSBi4bqjbiBnaGksIGPDsyBuZ2jEqWEgbMOgIG5nxrDhu51pIGTDuW5nIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3Vcblx0XHRyZXR1cm4gZmFsc2UsIG5pbFxuXHR9XG5cdHJldHVybiB0cnVlLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfY2xhc3Nyb29tX21lbWJlci5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ29ybS5pby9nb3JtL2NsYXVzZVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBDcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgbWVtYmVyICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyKSBlcnJvciB7XG5cdC8vIFPhu60gZOG7pW5nIGNsYXVzZS5PbkNvbmZsaWN0KCkuRG9Ob3RoaW5nKCkgxJHhu4MgdHLDoW5oIGzhu5dpIGtoaSB0aMOqbSB0aMOgbmggdmnDqm4gxJHDoyB04buTbiB04bqhaVxuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlxuXHRcdENsYXVzZXMoY2xhdXNlLk9uQ29uZmxpY3R7RG9Ob3RoaW5nOiB0cnVlfSkuXG5cdFx0Q3JlYXRlKG1lbWJlcikuRXJyb3Jcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9yZWplY3RfaW52aXRhdGlvbi5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIFJlamVjdEludml0YXRpb25Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgdXNlcklEIHN0cmluZykgZXJyb3Jcbn1cblxudHlwZSByZWplY3RJbnZpdGF0aW9uVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgUmVqZWN0SW52aXRhdGlvblVzZUNhc2Uge1xuXHRyZXR1cm4gJnJlamVjdEludml0YXRpb25Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG4uLi5cblBhdGg6IHVzZWNhc2UvYWNjZXB0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIGVycm9yXG59XG5cbnR5cGUgYWNjZXB0SW52aXRhdGlvblVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3QWNjZXB0SW52aXRhdGlvblVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEFjY2VwdEludml0YXRpb25Vc2VDYXNlIHtcblx0cmV0dXJuICZhY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvc2VydmVyLmdvXG5wYWNrYWdlIHNlcnZlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92Mi9taWRkbGV3YXJlL3JlY292ZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxuZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuXHRhcHAgOj0gZmliZXIuTmV3KGZpYmVyLkNvbmZpZ3tcblx0XHRFbmFibGVQcmludFJvdXRlczogdHJ1ZSxcblx0fSlcblx0YXBwLlVzZShyZWNvdmVyLk5ldygpKVxuXG5cdHByb3ZpZGVyLCBlcnIgOj0gcHJvdmlkZXIuSW5pdChzZXJ2aWNlQ29uZmlnKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gaW5pdCBwcm92aWRlclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuXHRyZXBvc2l0b3J5IDo9IHJlcG9zaXRvcnkuTmV3KHByb3ZpZGVyKVxuXHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgdXNlY2FzZS5OZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICB1c2VjYXNlLk5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0fSlcbi4uLlxuUGF0aDogdXNlY2FzZS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgSW52aXRlTWVtYmVyVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGludml0ZU1lbWJlclVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3SW52aXRlTWVtYmVyVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgSW52aXRlTWVtYmVyVXNlQ2FzZSB7XG5cdHJldHVybiAmaW52aXRlTWVtYmVyVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuLi4uXG5QYXRoOiBwcm92aWRlci9wcm92aWRlci5nb1xucGFja2FnZSBwcm92aWRlclxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbmVkcGFscy9zdXBhYmFzZS1nb1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9wcm92aWRlci9kYXRhYmFzZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxudHlwZSBQcm92aWRlciBzdHJ1Y3Qge1xuXHREYiAgICAgICAgICAgICAqZ29ybS5EQlxuXHRTdXBhYmFzZUNsaWVudCAqc3VwYWJhc2UuQ2xpZW50XG59XG5cbmZ1bmMgSW5pdChzZXJ2aWNlQ29uZmlnICptb2RlbC5TZXJ2aWNlQ29uZmlnKSAoKlByb3ZpZGVyLCBlcnJvcikge1xuXHRkYiwgZXJyIDo9IGRhdGFiYXNlLk5ld1Bvc3RncmVzREIoXG5cdFx0c2VydmljZUNvbmZpZy5EYkhvc3QsXG5cdFx0c2VydmljZUNvbmZpZy5EYlBvcnQsXG5cdFx0c2VydmljZUNvbmZpZy5EYlVzZXIsXG5cdFx0c2VydmljZUNvbmZpZy5EYlBhc3N3b3JkLFxuXHRcdHNlcnZpY2VDb25maWcuRGJOYW1lLFxuXHQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0c3VwYWJhc2VDbGllbnQgOj0gc3VwYWJhc2UuQ3JlYXRlQ2xpZW50KFxuXHRcdHNlcnZpY2VDb25maWcuU3VwYmFzZVVybCxcblx0XHRzZXJ2aWNlQ29uZmlnLlN1cGFiYXNlQW5vbktleSxcblx0KVxuXG5cdHJldHVybiAmUHJvdmlkZXJ7XG5cdFx0RGI6ICAgICAgICAgICAgIGRiLFxuXHRcdFN1cGFiYXNlQ2xpZW50OiBzdXBhYmFzZUNsaWVudCxcblx0fSwgbmlsXG59XG4uLi5cblBhdGg6IHNlcnZlci9yb3V0ZXIuZ29cbnBhY2thZ2Ugc2VydmVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmVcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcbi4uLlxuUGF0aDogY21kL3Jvb3QuZ29cbi8qXG5Db3B5cmlnaHQgwqkgMjAyNSBOQU1FIEhFUkUgPEVNQUlMIEFERFJFU1M+XG4qL1xucGFja2FnZSBjbWRcblxuaW1wb3J0IChcblx0XCJvc1wiXG5cblx0XCJnaXRodWIuY29tL3NwZjEzL2NvYnJhXCJcbilcblxuLy8gcm9vdENtZCByZXByZXNlbnRzIHRoZSBiYXNlIGNvbW1hbmQgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgc3ViY29tbWFuZHNcbnZhciByb290Q21kID0gJmNvYnJhLkNvbW1hbmR7XG5cdFVzZTogICBcInF1aXp6eS1jbGFzc3Jvb21cIixcblx0U2hvcnQ6IFwiQSBicmllZiBkZXNjcmlwdGlvbiBvZiB5b3VyIGFwcGxpY2F0aW9uXCIsXG5cdExvbmc6IGBBIGxvbmdlciBkZXNjcmlwdGlvbiB0aGF0IHNwYW5zIG11bHRpcGxlIGxpbmVzIGFuZCBsaWtlbHkgY29udGFpbnNcbmV4YW1wbGVzIGFuZCB1c2FnZSBvZiB1c2luZyB5b3VyIGFwcGxpY2F0aW9uLiBGb3IgZXhhbXBsZTpcblxuQ29icmEgaXMgYSBDTEkgbGlicmFyeSBmb3IgR28gdGhhdCBlbXBvd2VycyBhcHBsaWNhdGlvbnMuXG5UaGlzIGFwcGxpY2F0aW9uIGlzIGEgdG9vbCB0byBnZW5lcmF0ZSB0aGUgbmVlZGVkIGZpbGVzXG50byBxdWlja2x5IGNyZWF0ZSBhIENvYnJhIGFwcGxpY2F0aW9uLmAsXG5cdC8vIFVuY29tbWVudCB0aGUgZm9sbG93aW5nIGxpbmUgaWYgeW91ciBiYXJlIGFwcGxpY2F0aW9uXG5cdC8vIGhhcyBhbiBhY3Rpb24gYXNzb2NpYXRlZCB3aXRoIGl0OlxuXHQvLyBSdW46IGZ1bmMoY21kICpjb2JyYS5Db21tYW5kLCBhcmdzIFtdc3RyaW5nKSB7IH0sXG59XG5cbi8vIEV4ZWN1dGUgYWRkcyBhbGwgY2hpbGQgY29tbWFuZHMgdG8gdGhlIHJvb3QgY29tbWFuZCBhbmQgc2V0cyBmbGFncyBhcHByb3ByaWF0ZWx5LlxuLy8gVGhpcyBpcyBjYWxsZWQgYnkgbWFpbi5tYWluKCkuIEl0IG9ubHkgbmVlZHMgdG8gaGFwcGVuIG9uY2UgdG8gdGhlIHJvb3RDbWQuXG5mdW5jIEV4ZWN1dGUoKSB7XG5cdGVyciA6PSByb290Q21kLkV4ZWN1dGUoKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRvcy5FeGl0KDEpXG5cdH1cbn1cblxuZnVuYyBpbml0KCkge1xuXHQvLyBIZXJlIHlvdSB3aWxsIGRlZmluZSB5b3VyIGZsYWdzIGFuZCBjb25maWd1cmF0aW9uIHNldHRpbmdzLlxuXHQvLyBDb2JyYSBzdXBwb3J0cyBwZXJzaXN0ZW50IGZsYWdzLCB3aGljaCwgaWYgZGVmaW5lZCBoZXJlLFxuXHQvLyB3aWxsIGJlIGdsb2JhbCBmb3IgeW91ciBhcHBsaWNhdGlvbi5cblxuXHQvLyByb290Q21kLlBlcnNpc3RlbnRGbGFncygpLlN0cmluZ1ZhcigmY2ZnRmlsZSwgXCJjb25maWdcIiwgXCJcIiwgXCJjb25maWcgZmlsZSAoZGVmYXVsdCBpcyAkSE9NRS8ucXVpenp5LWNsYXNzcm9vbS55YW1sKVwiKVxuXG5cdC8vIENvYnJhIGFsc28gc3VwcG9ydHMgbG9jYWwgZmxhZ3MsIHdoaWNoIHdpbGwgb25seSBydW5cblx0Ly8gd2hlbiB0aGlzIGFjdGlvbiBpcyBjYWxsZWQgZGlyZWN0bHkuXG5cdHJvb3RDbWQuRmxhZ3MoKS5Cb29sUChcInRvZ2dsZVwiLCBcInRcIiwgZmFsc2UsIFwiSGVscCBtZXNzYWdlIGZvciB0b2dnbGVcIilcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckludml0YXRpb25zVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRhdGlvbnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cbi4uLlxuUGF0aDogbWlncmF0ZS9taWdyYXRlLmdvXG5wYWNrYWdlIG1pZ3JhdGVcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbmZ1bmMgUnVuKHNlcnZpY2VDb25maWcgKm1vZGVsLlNlcnZpY2VDb25maWcpIHtcblx0cHJvdmlkZXIsIGVyciA6PSBwcm92aWRlci5Jbml0KHNlcnZpY2VDb25maWcpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBpbml0IHByb3ZpZGVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG5cblx0aWYgZXJyIDo9IHByb3ZpZGVyLkRiLkF1dG9NaWdyYXRlKFxuXHRcdCZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e30sXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7fSxcblx0XHQmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSxcblx0KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIG1pZ3JhdGUgZGF0YWJhc2VcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRsb2dnZXIuSW5mbyhcIm1pZ3JhdGUgZGF0YWJhc2Ugc3VjY2Vzc1wiKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL3JlamVjdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgUmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgSUQgY+G7p2EgaW52aXRhdGlvbiB04burIFVSTFxuXHRpbnZpdGF0aW9uSUQgOj0gYy5QYXJhbXMoXCJpZFwiKVxuXHRpZiBpbnZpdGF0aW9uSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJpZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuLi4uXG5QYXRoOiBoYW5kbGVyL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG4uLi5cblBhdGg6IHVzZWNhc2UvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRfIFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSB7XG5cdHJldHVybiAmY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jIChjICpjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0aWYgZXJyIDo9IGMuUmVwby5DcmVhdGVDbGFzc3Jvb20oY3R4LCBjbGFzc3Jvb20pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiBjbWQvc2VydmUuZ29cbi8qXG5Db3B5cmlnaHQgwqkgMjAyNSBOQU1FIEhFUkUgPEVNQUlMIEFERFJFU1M+XG4qL1xucGFja2FnZSBjbWRcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9jb25maWdcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3NlcnZlclwiXG5cblx0XCJnaXRodWIuY29tL3NwZjEzL2NvYnJhXCJcbilcblxuLy8gc2VydmVDbWQgcmVwcmVzZW50cyB0aGUgc2VydmUgY29tbWFuZFxudmFyIHNlcnZlQ21kID0gJmNvYnJhLkNvbW1hbmR7XG5cdFVzZTogICBcInNlcnZlXCIsXG5cdFNob3J0OiBcIkEgYnJpZWYgZGVzY3JpcHRpb24gb2YgeW91ciBjb21tYW5kXCIsXG5cdExvbmc6IGBBIGxvbmdlciBkZXNjcmlwdGlvbiB0aGF0IHNwYW5zIG11bHRpcGxlIGxpbmVzIGFuZCBsaWtlbHkgY29udGFpbnMgZXhhbXBsZXNcbmFuZCB1c2FnZSBvZiB1c2luZyB5b3VyIGNvbW1hbmQuIEZvciBleGFtcGxlOlxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Ugc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNle1JlcG86IHJlcG99XG59XG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tRW50aXR5IHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cblx0VXNlcklEICAgIHN0cmluZyBganNvbjpcInVzZXJfaWRcImBcblx0TmFtZSAgICAgIHN0cmluZyBganNvbjpcIm5hbWVcImBcblx0QXZhdGFyVXJsIHN0cmluZyBganNvbjpcImF2YXRhcl91cmxcImBcbn1cblxuZnVuYyAoYyAqQ2xhc3Nyb29tRW50aXR5KSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXNcIlxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuLi4uXG5QYXRoOiBlbnRpdHkvaW52aXRhdGlvbi5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuXG50eXBlIEludml0YXRpb25TdGF0dXMgc3RyaW5nXG5cbmNvbnN0IChcblx0SW52aXRhdGlvblN0YXR1c1BlbmRpbmcgIEludml0YXRpb25TdGF0dXMgPSBcInBlbmRpbmdcIlxuXHRJbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwiYWNjZXB0ZWRcIlxuXHRJbnZpdGF0aW9uU3RhdHVzUmVqZWN0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwicmVqZWN0ZWRcIlxuKVxuXG50eXBlIEludml0YXRpb25FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiYFxuXHRTZW5kZXJJRCAgICBzdHJpbmcgICAgICAgICAgIGBqc29uOlwic2VuZGVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFJlY2VpdmVySUQgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJyZWNlaXZlcl9pZFwiIGdvcm06XCJpbmRleFwiYFxuXHRTdGF0dXMgICAgICBJbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgZ29ybTpcImluZGV4XCJgXG59XG5cbmZ1bmMgKEludml0YXRpb25FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7IHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uaW52aXRhdGlvbnNcIiB9XG4uLi5cblBhdGg6IGhhbmRsZXIvaGFuZGxlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbnR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTeG7nWkgdGjDoG5oIHZpw6puIHbDoG8gbOG7m3AgaOG7jWNcblx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcblx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG5cdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBDaOG6pXAgbmjhuq1uIGzhu51pIG3hu51pXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG59XG4uLi5cblBhdGg6IGNtZC9taWdyYXRlLmdvXG4vKlxuQ29weXJpZ2h0IMKpIDIwMjUgTkFNRSBIRVJFIDxFTUFJTCBBRERSRVNTPlxuKi9cbnBhY2thZ2UgY21kXG5cbmltcG9ydCAoXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvY29uZmlnXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9taWcuLi4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDEzanRFbXpCdmlFYUtVWkhaOHBOYnRWIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTm93IEknbGwgaW1wbGVtZW50IHRoZSBuZWNlc3NhcnkgZmlsZXMgZm9yIHRoZSBBUEkgZW5kcG9pbnQgdG8gcmV0cmlldmUgb3duZWQgY2xhc3Nyb29tcy5cblxuIyMjIDEuIEZpcnN0LCBsZXQncyB1cGRhdGUgdGhlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHRvIGFkZCB0aGUgbmV3IG1ldGhvZFxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImVmMzhhOTBhLWFkODctNGQ0My1iNjNhLTBmNTYyOWZkODVjZiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTFvaWgxVTUzdFNKN3dKOTI1ZGJjNTIiLCJ0b29sX25hbWUiOiJzYXZlLWZpbGUiLCJpbnB1dF9qc29uIjoie1wiZmlsZV9wYXRoXCI6IFwicmVwb3NpdG9yeS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1wiLCBcImZpbGVfY29udGVudFwiOiBcInBhY2thZ2UgcmVwb3NpdG9yeVxcblxcbmltcG9ydCAoXFxuXFx0XFxcImNvbnRleHRcXFwiXFxuXFx0XFxcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XFxcIlxcblxcdFxcXCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVxcXCJcXG5cXG5cXHRcXFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVxcXCJcXG5cXHRcXFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXFxcIlxcblxcdFxcXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVxcXCJcXG4pXFxuXFxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcXG5cXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHlde1xcblxcdFxcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXFxuXFx0XFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXFxuXFx0XFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcXFwiY3JlYXRlZF9hdCBERVNDXFxcIiksIC8vIE1cXHUxZWI3YyBcXHUwMTExXFx1MWVjYm5oIHNcXHUxZWFmcCB4XFx1MWViZnAgdGhlbyBuZ1xcdTAwZTB5IHRcXHUxZWExbyBtXFx1MWVkYmkgbmhcXHUxZWE1dFxcblxcdH1cXG5cXG5cXHR2YXIgY2xhc3Nyb29tcyBbXWVudGl0eS5DbGFzc3Jvb21FbnRpdHlcXG5cXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cXG5cXHRcXHRXaXRoQ29udGV4dChjdHgpLlxcblxcdFxcdFdoZXJlKFxcXCJ1c2VyX2lkID0gP1xcXCIsIHVzZXJJRCkuXFxuXFx0XFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cXG5cXHRcXHRGaW5kKCZjbGFzc3Jvb21zKS5cXG5cXHRcXHRFcnJvcjsgZXJyICE9IG5pbCB7XFxuXFx0XFx0cmV0dXJuIG5pbCwgZXJyXFxuXFx0fVxcblxcblxcdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbXNcXG5cXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxcbn1cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiMjIyAyLiBOb3csIGxldCdzIGltcGxlbWVudCB0aGUgcmVwb3NpdG9yeSBtZXRob2QgaW4gYSBuZXcgZmlsZVxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ28uXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgOFx0XG4gICAgIDlcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuICAgIDEwXHQpXG4gICAgMTFcdFxuICAgIDEyXHR0eXBlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHtcbiAgICAxM1x0XHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuICAgIDE0XHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxuICAgIDE1XHRcdENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG4gICAgMTZcdFx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuICAgIDE3XHRcdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG4gICAgMThcdFx0RmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbiAgICAxOVx0XHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcbiAgICAyMFx0XHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3JcbiAgICAyMVx0XHRDcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgbWVtYmVyICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyKSBlcnJvclxuICAgIDIyXHRcdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuICAgIDIzXHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG4gICAgMjRcdH1cbiAgICAyNVx0XG4gICAgMjZcdHR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcbiAgICAyN1x0XHRQcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXJcbiAgICAyOFx0fVxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE4MWlHRnVQQmdzcmJWNWVQaTN2NzNkIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiIyMjIDIuIE5vdywgbGV0J3MgaW1wbGVtZW50IHRoZSByZXBvc2l0b3J5IG1ldGhvZCBpbiBhIG5ldyBmaWxlXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZjg0ZDUyY2YtMTQzMC00NjNhLTkwZjktNWRhZTU1OWY2YjQyIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMmo2RUpDMWNMYldlVG1rOGZkMjZDRCIsInRvb2xfbmFtZSI6InNhdmUtZmlsZSIsImlucHV0X2pzb24iOiJ7XCJmaWxlX3BhdGhcIjogXCJ1c2VjYXNlL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXCIsIFwiZmlsZV9jb250ZW50XCI6IFwicGFja2FnZSB1c2VjYXNlXFxuXFxuaW1wb3J0IChcXG5cXHRcXFwiY29udGV4dFxcXCJcXG5cXHRcXFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcXFwiXFxuXFx0XFxcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXFxcIlxcblxcdFxcXCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcXFwiXFxuXFxuXFx0XFxcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclxcXCJcXG5cXHRcXFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXFxcIlxcblxcdFxcXCJnby51YmVyLm9yZy96YXBcXFwiXFxuKVxcblxcbnR5cGUgRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSBpbnRlcmZhY2Uge1xcblxcdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxcbn1cXG5cXG50eXBlIGZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBsIHN0cnVjdCB7XFxuXFx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcXG59XFxuXFxuZnVuYyBOZXdGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlIHtcXG5cXHRyZXR1cm4gJmZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBse1xcblxcdFxcdFJlcG86IHJlcG8sXFxuXFx0fVxcbn1cXG5cXG5mdW5jICh1ICpmaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcXG5cXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCwgdXNlcklELCBwYXJhbXMpXFxuXFx0aWYgZXJyICE9IG5pbCB7XFxuXFx0XFx0bG9nZ2VyLkVycm9yKFxcXCJmYWlsZWQgdG8gZmlsdGVyIG93bmVkIGNsYXNzcm9vbXNcXFwiLCB6YXAuU3RyaW5nKFxcXCJ1c2VyIGlkXFxcIiwgdXNlcklEKSwgemFwLkVycm9yKGVycikpXFxuXFx0XFx0cmV0dXJuIG5pbCwgZXJyXFxuXFx0fVxcblxcdHJldHVybiByZXN1bHQsIG5pbFxcbn1cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiMjIyAzLiBOb3csIGxldCdzIGNyZWF0ZSB0aGUgdXNlIGNhc2UgaW50ZXJmYWNlIGFuZCBpbXBsZW1lbnRhdGlvblxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMW9paDFVNTN0U0o3d0o5MjVkYmM1MiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IiMjIyAzLiBOb3csIGxldCdzIGNyZWF0ZSB0aGUgdXNlIGNhc2UgaW50ZXJmYWNlIGFuZCBpbXBsZW1lbnRhdGlvblxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImU1Mjg5MjU3LTEyOGUtNGFiNi1iOWVkLTFhNDhmOTg2MGRkYiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVN3ZUFLY1E1Q1BqRVUyS2hZakFuOTMiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcImhhbmRsZXIvaGFuZGxlci5nb1wiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJ0eXBlIEhhbmRsZXIgaW50ZXJmYWNlIHtcXG5cXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgLy8gVFxcdTFlYTFvIGxcXHUxZWRicCBoXFx1MWVjZGNcXG5cXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTFxcdTFlY2RjIHRoXFx1MDBlMG5oIHZpXFx1MDBlYW4gY1xcdTFlZTdhIGxcXHUxZWRicCBoXFx1MWVjZGNcXG5cXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTVxcdTFlZGRpIHRoXFx1MDBlMG5oIHZpXFx1MDBlYW4gdlxcdTAwZTBvIGxcXHUxZWRicCBoXFx1MWVjZGNcXG5cXHRGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgLy8gTFxcdTFlY2RjIGRhbmggc1xcdTAwZTFjaCBsXFx1MWVkZGkgbVxcdTFlZGRpXFxuXFx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFRcXHUxZWViIGNoXFx1MWVkMWkgbFxcdTFlZGRpIG1cXHUxZWRkaVxcblxcdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBDaFxcdTFlYTVwIG5oXFx1MWVhZG4gbFxcdTFlZGRpIG1cXHUxZWRkaVxcblxcdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAvLyBMXFx1MWVjZGMgZGFuaCBzXFx1MDBlMWNoIHRoXFx1MDBlMG5oIHZpXFx1MDBlYW4gXFx1MDExMVxcdTAwZTMgXFx1MDExMVxcdTAxYjBcXHUxZWUzYyBtXFx1MWVkZGlcXG59XCIsIFwibmV3X3N0clwiOiBcInR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xcblxcdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAvLyBUXFx1MWVhMW8gbFxcdTFlZGJwIGhcXHUxZWNkY1xcblxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAvLyBMXFx1MWVjZGMgdGhcXHUwMGUwbmggdmlcXHUwMGVhbiBjXFx1MWVlN2EgbFxcdTFlZGJwIGhcXHUxZWNkY1xcblxcdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBNXFx1MWVkZGkgdGhcXHUwMGUwbmggdmlcXHUwMGVhbiB2XFx1MDBlMG8gbFxcdTFlZGJwIGhcXHUxZWNkY1xcblxcdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBMXFx1MWVjZGMgZGFuaCBzXFx1MDBlMWNoIGxcXHUxZWRkaSBtXFx1MWVkZGlcXG5cXHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gVFxcdTFlZWIgY2hcXHUxZWQxaSBsXFx1MWVkZGkgbVxcdTFlZGRpXFxuXFx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENoXFx1MWVhNXAgbmhcXHUxZWFkbiBsXFx1MWVkZGkgbVxcdTFlZGRpXFxuXFx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIExcXHUxZWNkYyBkYW5oIHNcXHUwMGUxY2ggdGhcXHUwMGUwbmggdmlcXHUwMGVhbiBcXHUwMTExXFx1MDBlMyBcXHUwMTExXFx1MDFiMFxcdTFlZTNjIG1cXHUxZWRkaVxcblxcdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yICAvLyBMXFx1MWVjZGMgZGFuaCBzXFx1MDBlMWNoIGxcXHUxZWRicCBoXFx1MWVjZGMgXFx1MDExMWFuZyBzXFx1MWVkZiBoXFx1MWVlZnVcXG59XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA5LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDE2fV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIjIyMgNC4gVXBkYXRlIHRoZSBIYW5kbGVyIGludGVyZmFjZSBhbmQgY3JlYXRlIHRoZSBoYW5kbGVyIGltcGxlbWVudGF0aW9uXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDEyajZFSkMxY0xiV2VUbWs4ZmQyNkNEIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiIyMjIDQuIFVwZGF0ZSB0aGUgSGFuZGxlciBpbnRlcmZhY2UgYW5kIGNyZWF0ZSB0aGUgaGFuZGxlciBpbXBsZW1lbnRhdGlvblxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjdhZmEwZTBkLWFjNjEtNDJjYi1iMTViLTdkNTUzMDQyZjMxMSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVEzSnYyWTdDbnh2bnNYYmlDN1hkdHAiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcImhhbmRsZXIvaGFuZGxlci5nb1wiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJ0eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XFxuXFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXFxuXFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxcblxcdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxcblxcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXFxuXFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxcblxcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2VcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxcbn1cIiwgXCJuZXdfc3RyXCI6IFwidHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xcblxcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxcblxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcXG5cXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2VcXG5cXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxcblxcdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2VcXG5cXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXFxuXFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VcXG5cXHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VcXG59XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAyMCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAyOH1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IGxldCdzIHVwZGF0ZSB0aGUgaGFuZGxlckltcGwgc3RydWN0IGFuZCBJbmplY3Qgc3RydWN0IHRvIGluY2x1ZGUgdGhlIG5ldyB1c2UgY2FzZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgaGFuZGxlci9oYW5kbGVyLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDVcdFxuICAgICA2XHRcdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbiAgICAgN1x0KVxuICAgICA4XHRcbiAgICAgOVx0dHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG4gICAgMTBcdFx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG4gICAgMTFcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuICAgIDEyXHRcdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuICAgIDEzXHRcdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG4gICAgMTRcdFx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG4gICAgMTVcdFx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcbiAgICAxNlx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxuICAgIDE3XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3VcbiAgICAxOFx0fVxuICAgIDE5XHRcbiAgICAyMFx0dHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xuICAgIDIxXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuICAgIDIyXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxU3dlQUtjUTVDUGpFVTJLaFlqQW45MyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6Ik5vdyBsZXQncyB1cGRhdGUgdGhlIGhhbmRsZXJJbXBsIHN0cnVjdCBhbmQgSW5qZWN0IHN0cnVjdCB0byBpbmNsdWRlIHRoZSBuZXcgdXNlIGNhc2U6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNTY4N2NkMTItODQ0OC00ZDc1LWEzMTAtMmJiMDlkOTIxNDI3IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNWc0UlA2ZWE2eXNNTW5LaVhRdXZnTiIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwiaGFuZGxlci9oYW5kbGVyLmdvXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcInR5cGUgSW5qZWN0IHN0cnVjdCB7XFxuXFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXFxuXFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxcblxcdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxcblxcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXFxuXFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxcblxcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2VcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxcbn1cIiwgXCJuZXdfc3RyXCI6IFwidHlwZSBJbmplY3Qgc3RydWN0IHtcXG5cXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VcXG5cXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXFxuXFx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXFxuXFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VcXG5cXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXFxuXFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxcblxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXFxuXFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXFxufVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMzEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMzl9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgaGFuZGxlci9oYW5kbGVyLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgMTZcdFx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIEzhu41jIGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgxJHGsOG7o2MgbeG7nWlcbiAgICAxN1x0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691XG4gICAgMThcdH1cbiAgICAxOVx0XG4gICAgMjBcdHR5cGUgaGFuZGxlckltcGwgc3RydWN0IHtcbiAgICAyMVx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VcbiAgICAyMlx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG4gICAgMjNcdFx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG4gICAgMjRcdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VcbiAgICAyNVx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG4gICAgMjZcdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuICAgIDI3XHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG4gICAgMjhcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXG4gICAgMjlcdH1cbiAgICAzMFx0XG4gICAgMzFcdHR5cGUgSW5qZWN0IHN0cnVjdCB7XG4gICAgMzJcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG4gICAgMzNcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFRM0p2Mlk3Q254dm5zWGJpQzdYZHRwIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImE0ZGZlMzUzLTdjOTItNDJmYi05MTgyLTMzZjMzODczMTRhNCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUJOM1BpN1lXNm5SQ3ZmQ1NORGtmRWciLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcImhhbmRsZXIvaGFuZGxlci5nb1wiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJmdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XFxuXFx0cmV0dXJuICZoYW5kbGVySW1wbHtcXG5cXHRcXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXFxuXFx0XFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcXG5cXHRcXHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgaW5qZWN0Lkludml0ZU1lbWJlclVzZUNhc2UsXFxuXFx0XFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIGluamVjdC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UsXFxuXFx0XFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcXG5cXHRcXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LkFjY2VwdEludml0YXRpb25Vc2VDYXNlLFxcblxcdFxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICBpbmplY3QuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLFxcblxcdH1cXG59XCIsIFwibmV3X3N0clwiOiBcImZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcXG5cXHRyZXR1cm4gJmhhbmRsZXJJbXBse1xcblxcdFxcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICBpbmplY3QuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSxcXG5cXHRcXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogaW5qZWN0LkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLFxcblxcdFxcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICBpbmplY3QuSW52aXRlTWVtYmVyVXNlQ2FzZSxcXG5cXHRcXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgaW5qZWN0LkZpbHRlckludml0YXRpb25zVXNlQ2FzZSxcXG5cXHRcXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LlJlamVjdEludml0YXRpb25Vc2VDYXNlLFxcblxcdFxcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuQWNjZXB0SW52aXRhdGlvblVzZUNhc2UsXFxuXFx0XFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIGluamVjdC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UsXFxuXFx0XFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZTogIGluamVjdC5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlLFxcblxcdH1cXG59XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA0MiwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA1Mn1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBoYW5kbGVyL2hhbmRsZXIuZ28uXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAyN1x0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxuICAgIDI4XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgIHVzZWNhc2UuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZVxuICAgIDI5XHR9XG4gICAgMzBcdFxuICAgIDMxXHR0eXBlIEluamVjdCBzdHJ1Y3Qge1xuICAgIDMyXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuICAgIDMzXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcbiAgICAzNFx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2VcbiAgICAzNVx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuICAgIDM2XHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2VcbiAgICAzN1x0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG4gICAgMzhcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VcbiAgICAzOVx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VcbiAgICA0MFx0fVxuICAgIDQxXHRcbiAgICA0Mlx0ZnVuYyBOZXcoaW5qZWN0ICpJbmplY3QpIEhhbmRsZXIge1xuICAgIDQzXHRcdHJldHVybiAmaGFuZGxlckltcGx7XG4gICAgNDRcdFx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTVnNFJQNmVhNnlzTU1uS2lYUXV2Z04ifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiIiLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYjFlNjYxYmItOTdkNy00ODhjLWI3NGUtNDJmZTRkZTdlYzExIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxVk51QlRaTGRSbThKVzQ5ZGZCdWE4RiIsInRvb2xfbmFtZSI6InNhdmUtZmlsZSIsImlucHV0X2pzb24iOiJ7XCJmaWxlX3BhdGhcIjogXCJoYW5kbGVyL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXCIsIFwiZmlsZV9jb250ZW50XCI6IFwicGFja2FnZSBoYW5kbGVyXFxuXFxuaW1wb3J0IChcXG5cXHRcXFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcXFwiXFxuXFx0XFxcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFxcXCJcXG5cXG5cXHRcXFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXFxcIlxcblxcdFxcXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcXFwiXFxuKVxcblxcbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJPd25lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XFxuXFx0dmFyIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxXFxuXFx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xcblxcdFxcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXFxuXFx0fVxcblxcblxcdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XFxuXFx0XFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcXG5cXHR9XFxuXFxuXFx0Ly8gTFxcdTFlYTV5IElEIGNcXHUxZWU3YSBuZ1xcdTAxYjBcXHUxZWRkaSBkXFx1MDBmOW5nIGhpXFx1MWVjN24gdFxcdTFlYTFpIHRcXHUxZWViIEpXVCB0b2tlblxcblxcdHVzZXJJRCA6PSBjLkxvY2FscyhcXFwidXNlcl9pZFxcXCIpLihzdHJpbmcpXFxuXFxuXFx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxcblxcdGlmIGVyciAhPSBuaWwge1xcblxcdFxcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXFxuXFx0fVxcblxcblxcdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXFxufVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIyMjIDUuIE5vdywgbGV0J3MgY3JlYXRlIHRoZSBoYW5kbGVyIGltcGxlbWVudGF0aW9uXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIGhhbmRsZXIvaGFuZGxlci5nby5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDM4XHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG4gICAgMzlcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXG4gICAgNDBcdH1cbiAgICA0MVx0XG4gICAgNDJcdGZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcbiAgICA0M1x0XHRyZXR1cm4gJmhhbmRsZXJJbXBse1xuICAgIDQ0XHRcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuICAgIDQ1XHRcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcbiAgICA0Nlx0XHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICBpbmplY3QuSW52aXRlTWVtYmVyVXNlQ2FzZSxcbiAgICA0N1x0XHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxuICAgIDQ4XHRcdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcbiAgICA0OVx0XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuQWNjZXB0SW52aXRhdGlvblVzZUNhc2UsXG4gICAgNTBcdFx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcbiAgICA1MVx0XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2U6ICBpbmplY3QuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSxcbiAgICA1Mlx0XHR9XG4gICAgNTNcdH1cbiAgICA1NFx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUJOM1BpN1lXNm5SQ3ZmQ1NORGtmRWcifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiIjIyMgNS4gTm93LCBsZXQncyBjcmVhdGUgdGhlIGhhbmRsZXIgaW1wbGVtZW50YXRpb25cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIyYTA3NDdmNy0yNzlkLTQ3MDQtYjUxOC1kNzExNWNmYTc3ZDMiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFLYnJVWmpadmpVUTl2UGpLQ3BvTTFXIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNlcnZlci9yb3V0ZXIuZ29cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiMjIyA2LiBVcGRhdGUgdGhlIHJvdXRlciB0byBhZGQgdGhlIG5ldyBlbmRwb2ludFxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxVk51QlRaTGRSbThKVzQ5ZGZCdWE4RiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IiMjIyA2LiBVcGRhdGUgdGhlIHJvdXRlciB0byBhZGQgdGhlIG5ldyBlbmRwb2ludFxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImNkZjljOGMxLTAxNzUtNGFkNS05YTU1LTdhMzhiMGIwMThhYiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUVIRVVrVnBFQTlDc2lER3JFbjlEam4iLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNlcnZlci9yb3V0ZXIuZ29cIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xcblxcdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcXFwiL2NsYXNzcm9vbVxcXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcXG5cXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFxcXCIvY3JlYXRlXFxcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXFxuXFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcXFwiL2ludml0ZVxcXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxcblxcdGNsYXNzcm9vbUdyb3VwLkdldChcXFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1xcXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycylcXG5cXHRjbGFzc3Jvb21Hcm91cC5HZXQoXFxcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1xcXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXFxuXFxuXFx0aW52aXRhdGlvbkdyb3VwIDo9IGFwcC5Hcm91cChcXFwiL2ludml0YXRpb25cXFwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXFxuXFx0aW52aXRhdGlvbkdyb3VwLkdldChcXFwiL2ZpbHRlclxcXCIsIGhhbmRsZXIuRmlsdGVySW52aXRhdGlvbnMpXFxuXFx0aW52aXRhdGlvbkdyb3VwLlB1dChcXFwiL3JlamVjdC86aWRcXFwiLCBoYW5kbGVyLlJlamVjdEludml0YXRpb24pXFxuXFx0aW52aXRhdGlvbkdyb3VwLlB1dChcXFwiL2FjY2VwdC86aWRcXFwiLCBoYW5kbGVyLkFjY2VwdEludml0YXRpb24pXFxufVwiLCBcIm5ld19zdHJcIjogXCJmdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XFxuXFx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFxcXCIvY2xhc3Nyb29tXFxcIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxcblxcdGNsYXNzcm9vbUdyb3VwLlBvc3QoXFxcIi9jcmVhdGVcXFwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcXG5cXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFxcXCIvaW52aXRlXFxcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXFxuXFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFxcXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXFxcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxcblxcdGNsYXNzcm9vbUdyb3VwLkdldChcXFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXFxcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcXG5cXHRjbGFzc3Jvb21Hcm91cC5HZXQoXFxcIi9vd25lZFxcXCIsIGhhbmRsZXIuRmlsdGVyT3duZWRDbGFzc3Jvb21zKVxcblxcblxcdGludml0YXRpb25Hcm91cCA6PSBhcHAuR3JvdXAoXFxcIi9pbnZpdGF0aW9uXFxcIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxcblxcdGludml0YXRpb25Hcm91cC5HZXQoXFxcIi9maWx0ZXJcXFwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxcblxcdGludml0YXRpb25Hcm91cC5QdXQoXFxcIi9yZWplY3QvOmlkXFxcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxcblxcdGludml0YXRpb25Hcm91cC5QdXQoXFxcIi9hY2NlcHQvOmlkXFxcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxcbn1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDExLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDIxfV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHNlcnZlci9yb3V0ZXIuZ286XG4gICAgIDFcdHBhY2thZ2Ugc2VydmVyXG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgKFxuICAgICA0XHRcdFwicXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyXCJcbiAgICAgNVx0XG4gICAgIDZcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlXCJcbiAgICAgN1x0XG4gICAgIDhcdFx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuICAgICA5XHQpXG4gICAgMTBcdFxuICAgIDExXHRmdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG4gICAgMTJcdFx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG4gICAgMTNcdFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG4gICAgMTRcdFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG4gICAgMTVcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG4gICAgMTZcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG4gICAgMTdcdFxuICAgIDE4XHRcdGludml0YXRpb25Hcm91cCA6PSBhcHAuR3JvdXAoXCIvaW52aXRhdGlvblwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG4gICAgMTlcdFx0aW52aXRhdGlvbkdyb3VwLkdldChcIi9maWx0ZXJcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucylcbiAgICAyMFx0XHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuICAgIDIxXHRcdGludml0YXRpb25Hcm91cC5QdXQoXCIvYWNjZXB0LzppZFwiLCBoYW5kbGVyLkFjY2VwdEludml0YXRpb24pXG4gICAgMjJcdH1cbiAgICAyM1x0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAyM1xuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxS2JyVVpqWnZqVVE5dlBqS0Nwb00xVyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIxMDQxYmM2NS1mN2YyLTQ1OGUtOTYyMC03YWFhYzNmYThhNTUiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE0RGU2cFo2cllRb0NpUlc1a0dxM1lBIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInNlcnZlci9zZXJ2ZXIuZ29cIiwgXCJ2aWV3X3JhbmdlXCI6IFsxLCA1MF19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIjIyMgNy4gRmluYWxseSwgdXBkYXRlIHRoZSBzZXJ2ZXIuZ28gZmlsZSB0byBpbmplY3QgdGhlIG5ldyB1c2UgY2FzZVxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzZXJ2ZXIvcm91dGVyLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDdcdFxuICAgICA4XHRcdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbiAgICAgOVx0KVxuICAgIDEwXHRcbiAgICAxMVx0ZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xuICAgIDEyXHRcdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcIi9jbGFzc3Jvb21cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuICAgIDEzXHRcdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvY3JlYXRlXCIsIGhhbmRsZXIuQ3JlYXRlQ2xhc3Nyb29tKVxuICAgIDE0XHRcdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvaW52aXRlXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxuICAgIDE1XHRcdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxuICAgIDE2XHRcdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzKVxuICAgIDE3XHRcdGNsYXNzcm9vbUdyb3VwLkdldChcIi9vd25lZFwiLCBoYW5kbGVyLkZpbHRlck93bmVkQ2xhc3Nyb29tcylcbiAgICAxOFx0XG4gICAgMTlcdFx0aW52aXRhdGlvbkdyb3VwIDo9IGFwcC5Hcm91cChcIi9pbnZpdGF0aW9uXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcbiAgICAyMFx0XHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuICAgIDIxXHRcdGludml0YXRpb25Hcm91cC5QdXQoXCIvcmVqZWN0LzppZFwiLCBoYW5kbGVyLlJlamVjdEludml0YXRpb24pXG4gICAgMjJcdFx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9hY2NlcHQvOmlkXCIsIGhhbmRsZXIuQWNjZXB0SW52aXRhdGlvbilcbiAgICAyM1x0fVxuICAgIDI0XHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxRUhFVWtWcEVBOUNzaURHckVuOURqbiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IiMjIyA3LiBGaW5hbGx5LCB1cGRhdGUgdGhlIHNlcnZlci5nbyBmaWxlIHRvIGluamVjdCB0aGUgbmV3IHVzZSBjYXNlXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMjIzY2RjMGYtY2Y5Ny00ZTQ3LWEzODEtN2RkZTkwNTM4ZDZkIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMm9SVTlvR3RyUWZ2Wlg3M2hOb0hRZSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic2VydmVyL3NlcnZlci5nb1wiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJcXHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcXG5cXHRcXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgdXNlY2FzZS5OZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICB1c2VjYXNlLk5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHR9KVwiLCBcIm5ld19zdHJcIjogXCJcXHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcXG5cXHRcXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgdXNlY2FzZS5OZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICB1c2VjYXNlLk5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHRcXHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlOiAgdXNlY2FzZS5OZXdGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdH0pXCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAyOSwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAzN31dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiTm90ZTpcbkVuZCBsaW5lIDUwIGV4Y2VlZHMgZmlsZSBsZW5ndGggKDQ3KS4gQWRqdXN0ZWQgdG8gNDcuXG5cbkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc2VydmVyL3NlcnZlci5nbzpcbiAgICAgMVx0cGFja2FnZSBzZXJ2ZXJcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCAoXG4gICAgIDRcdFx0XCJxdWl6enktY2xhc3Nyb29tL2hhbmRsZXJcIlxuICAgICA1XHRcdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG4gICAgIDZcdFx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcbiAgICAgN1x0XHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG4gICAgIDhcdFx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuICAgICA5XHRcdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcbiAgICAxMFx0XG4gICAgMTFcdFx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuICAgIDEyXHRcdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyL21pZGRsZXdhcmUvcmVjb3ZlclwiXG4gICAgMTNcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuICAgIDE0XHRcdFwiZ28udWJlci5vcmcvemFwXCJcbiAgICAxNVx0KVxuICAgIDE2XHRcbiAgICAxN1x0ZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuICAgIDE4XHRcdGFwcCA6PSBmaWJlci5OZXcoZmliZXIuQ29uZmlne1xuICAgIDE5XHRcdFx0RW5hYmxlUHJpbnRSb3V0ZXM6IHRydWUsXG4gICAgMjBcdFx0fSlcbiAgICAyMVx0XHRhcHAuVXNlKHJlY292ZXIuTmV3KCkpXG4gICAgMjJcdFxuICAgIDIzXHRcdHByb3ZpZGVyLCBlcnIgOj0gcHJvdmlkZXIuSW5pdChzZXJ2aWNlQ29uZmlnKVxuICAgIDI0XHRcdGlmIGVyciAhPSBuaWwge1xuICAgIDI1XHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG4gICAgMjZcdFx0XHRyZXR1cm5cbiAgICAyN1x0XHR9XG4gICAgMjhcdFx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcbiAgICAyOVx0XHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcbiAgICAzMFx0XHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICB1c2VjYXNlLk5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzFcdFx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzMlx0XHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzNcdFx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzRcdFx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzNVx0XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM2XHRcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM3XHRcdH0pXG4gICAgMzhcdFxuICAgIDM5XHRcdEluaXRSb3V0ZXIoYXBwLCBoYW5kbGVyKVxuICAgIDQwXHRcdHV0aWwuSW5pdFZhbGlkYXRlKClcbiAgICA0MVx0XG4gICAgNDJcdFx0aWYgZXJyIDo9IGFwcC5MaXN0ZW4oXCI6XCIgKyBzZXJ2aWNlQ29uZmlnLlBvcnQpOyBlcnIgIT0gbmlsIHtcbiAgICA0M1x0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBzdGFydCBzZXJ2ZXJcIiwgemFwLkVycm9yKGVycikpXG4gICAgNDRcdFx0XHRyZXR1cm5cbiAgICA0NVx0XHR9XG4gICAgNDZcdH1cbiAgICA0N1x0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA0N1xuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNERlNnBaNnJZUW9DaVJXNWtHcTNZQSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI5YWJlY2RhMC0wYWM0LTRhNTgtOTFkMy1mMWNmZGY4NWQ2MmEiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJHcmVhdCEgV2UgaGF2ZSBzdWNjZXNzZnVsbHkgaW1wbGVtZW50ZWQgdGhlIEFQSSBlbmRwb2ludCB0byByZXRyaWV2ZSBjbGFzc3Jvb21zIG93bmVkIGJ5IGEgdXNlci4gTGV0J3Mgc3VtbWFyaXplIHdoYXQgd2UndmUgZG9uZTpcblxuIyMgU3VtbWFyeSBvZiBDaGFuZ2VzXG5cbjEuICoqQWRkZWQgYSBuZXcgcmVwb3NpdG9yeSBtZXRob2QqKjpcbiAgIC0gQWRkZWQgYEZpbHRlck93bmVkQ2xhc3Nyb29tc2AgdG8gdGhlIGBSZXBvc2l0b3J5YCBpbnRlcmZhY2VcbiAgIC0gSW1wbGVtZW50ZWQgdGhlIG1ldGhvZCBpbiBgcmVwb3NpdG9yeS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb2BcblxuMi4gKipDcmVhdGVkIGEgbmV3IHVzZSBjYXNlKio6XG4gICAtIENyZWF0ZWQgYEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VgIGludGVyZmFjZVxuICAgLSBJbXBsZW1lbnRlZCB0aGUgdXNlIGNhc2UgaW4gYHVzZWNhc2UvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29gXG5cbjMuICoqQWRkZWQgYSBuZXcgaGFuZGxlciBtZXRob2QqKjpcbiAgIC0gQWRkZWQgYEZpbHRlck93bmVkQ2xhc3Nyb29tc2AgdG8gdGhlIGBIYW5kbGVyYCBpbnRlcmZhY2VcbiAgIC0gSW1wbGVtZW50ZWQgdGhlIGhhbmRsZXIgaW4gYGhhbmRsZXIvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29gXG5cbjQuICoqVXBkYXRlZCB0aGUgcm91dGVyKio6XG4gICAtIEFkZGVkIGEgbmV3IHJvdXRlIGAvY2xhc3Nyb29tL293bmVkYCBpbiBgc2VydmVyL3JvdXRlci5nb2BcblxuNS4gKipVcGRhdGVkIHRoZSBkZXBlbmRlbmN5IGluamVjdGlvbioqOlxuICAgLSBVcGRhdGVkIHRoZSBgaGFuZGxlckltcGxgIHN0cnVjdCBpbiBgaGFuZGxlci9oYW5kbGVyLmdvYFxuICAgLSBVcGRhdGVkIHRoZSBgSW5qZWN0YCBzdHJ1Y3QgaW4gYGhhbmRsZXIvaGFuZGxlci5nb2BcbiAgIC0gVXBkYXRlZCB0aGUgZGVwZW5kZW5jeSBpbmplY3Rpb24gaW4gYHNlcnZlci9zZXJ2ZXIuZ29gXG5cbiMjIEFQSSBFbmRwb2ludCBEZXRhaWxzXG5cbi0gKipVUkwqKjogYC9jbGFzc3Jvb20vb3duZWRgXG4tICoqTWV0aG9kKio6IEdFVFxuLSAqKkF1dGhlbnRpY2F0aW9uKio6IFJlcXVpcmVkIChKV1QgdG9rZW4pXG4tICoqUXVlcnkgUGFyYW1ldGVycyoqOlxuICAtIGBwYWdlYDogUGFnZSBudW1iZXIgKG9wdGlvbmFsKVxuICAtIGBsaW1pdGA6IE51bWJlciBvZiBpdGVtcyBwZXIgcGFnZSAob3B0aW9uYWwpXG4gIC0gYHNvcnRgOiBTb3J0IG9yZGVyIChvcHRpb25hbCwgZGVmYXVsdHMgdG8gXCJjcmVhdGVkX2F0IERFU0NcIilcbi0gKipSZXNwb25zZSoqOiBBIHBhZ2luYXRlZCBsaXN0IG9mIGNsYXNzcm9vbXMgb3duZWQgYnkgdGhlIGF1dGhlbnRpY2F0ZWQgdXNlclxuXG4jIyBIb3cgdG8gVGVzdFxuXG5Zb3UgY2FuIHRlc3QgdGhpcyBBUEkgZW5kcG9pbnQgYnkgbWFraW5nIGEgR0VUIHJlcXVlc3QgdG8gYC9jbGFzc3Jvb20vb3duZWRgIHdpdGggYSB2YWxpZCBKV1QgdG9rZW4uIFRoZSBBUEkgd2lsbCByZXR1cm4gYSBwYWdpbmF0ZWQgbGlzdCBvZiBjbGFzc3Jvb21zIG93bmVkIGJ5IHRoZSBhdXRoZW50aWNhdGVkIHVzZXIuXG5cbkV4YW1wbGUgcmVxdWVzdDpcbmBgYFxuR0VUIC9jbGFzc3Jvb20vb3duZWQ/cGFnZT0xJmxpbWl0PTEwXG5BdXRob3JpemF0aW9uOiBCZWFyZXIgPHlvdXJfand0X3Rva2VuPlxuYGBgXG5cbkV4YW1wbGUgcmVzcG9uc2U6XG5gYGBqc29uXG57XG4gIFwic3VjY2Vzc1wiOiB0cnVlLFxuICBcImRhdGFcIjoge1xuICAgIFwicGFnZVwiOiAxLFxuICAgIFwibGltaXRcIjogMTAsXG4gICAgXCJ0b3RhbFwiOiA1LFxuICAgIFwicm93c1wiOiBbXG4gICAgICB7XG4gICAgICAgIFwiaWRcIjogXCIxMjNlNDU2Ny1lODliLTEyZDMtYTQ1Ni00MjY2MTQxNzQwMDBcIixcbiAgICAgICAgXCJjcmVhdGVkX2F0XCI6IFwiMjAyMy0wNi0wMVQxMjowMDowMFpcIixcbiAgICAgICAgXCJ1cGRhdGVkX2F0XCI6IFwiMjAyMy0wNi0wMVQxMjowMDowMFpcIixcbiAgICAgICAgXCJ1c2VyX2lkXCI6IFwidXNlcjEyM1wiLFxuICAgICAgICBcIm5hbWVcIjogXCJNYXRoIENsYXNzXCIsXG4gICAgICAgIFwiYXZhdGFyX3VybFwiOiBcImh0dHBzOi8vZXhhbXBsZS5jb20vYXZhdGFyLmpwZ1wiXG4gICAgICB9LFxuICAgICAgLy8gTW9yZSBjbGFzc3Jvb21zLi4uXG4gICAgXVxuICB9XG59XG5gYGBcblxuSXMgdGhlcmUgYW55dGhpbmcgZWxzZSB5b3UnZCBsaWtlIG1lIHRvIGV4cGxhaW4gb3IgbW9kaWZ5IGFib3V0IHRoZSBpbXBsZW1lbnRhdGlvbj9cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc2VydmVyL3NlcnZlci5nby5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDI1XHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG4gICAgMjZcdFx0XHRyZXR1cm5cbiAgICAyN1x0XHR9XG4gICAgMjhcdFx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcbiAgICAyOVx0XHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcbiAgICAzMFx0XHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICB1c2VjYXNlLk5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzFcdFx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzMlx0XHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzNcdFx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzRcdFx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzNVx0XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM2XHRcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM3XHRcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZTogIHVzZWNhc2UuTmV3RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzOFx0XHR9KVxuICAgIDM5XHRcbiAgICA0MFx0XHRJbml0Um91dGVyKGFwcCwgaGFuZGxlcilcbiAgICA0MVx0XHR1dGlsLkluaXRWYWxpZGF0ZSgpXG4gICAgNDJcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDEyb1JVOW9HdHJRZnZaWDczaE5vSFFlIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiR3JlYXQhIFdlIGhhdmUgc3VjY2Vzc2Z1bGx5IGltcGxlbWVudGVkIHRoZSBBUEkgZW5kcG9pbnQgdG8gcmV0cmlldmUgY2xhc3Nyb29tcyBvd25lZCBieSBhIHVzZXIuIExldCdzIHN1bW1hcml6ZSB3aGF0IHdlJ3ZlIGRvbmU6XG5cbiMjIFN1bW1hcnkgb2YgQ2hhbmdlc1xuXG4xLiAqKkFkZGVkIGEgbmV3IHJlcG9zaXRvcnkgbWV0aG9kKio6XG4gICAtIEFkZGVkIGBGaWx0ZXJPd25lZENsYXNzcm9vbXNgIHRvIHRoZSBgUmVwb3NpdG9yeWAgaW50ZXJmYWNlXG4gICAtIEltcGxlbWVudGVkIHRoZSBtZXRob2QgaW4gYHJlcG9zaXRvcnkvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29gXG5cbjIuICoqQ3JlYXRlZCBhIG5ldyB1c2UgY2FzZSoqOlxuICAgLSBDcmVhdGVkIGBGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlYCBpbnRlcmZhY2VcbiAgIC0gSW1wbGVtZW50ZWQgdGhlIHVzZSBjYXNlIGluIGB1c2VjYXNlL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvYFxuXG4zLiAqKkFkZGVkIGEgbmV3IGhhbmRsZXIgbWV0aG9kKio6XG4gICAtIEFkZGVkIGBGaWx0ZXJPd25lZENsYXNzcm9vbXNgIHRvIHRoZSBgSGFuZGxlcmAgaW50ZXJmYWNlXG4gICAtIEltcGxlbWVudGVkIHRoZSBoYW5kbGVyIGluIGBoYW5kbGVyL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvYFxuXG40LiAqKlVwZGF0ZWQgdGhlIHJvdXRlcioqOlxuICAgLSBBZGRlZCBhIG5ldyByb3V0ZSBgL2NsYXNzcm9vbS9vd25lZGAgaW4gYHNlcnZlci9yb3V0ZXIuZ29gXG5cbjUuICoqVXBkYXRlZCB0aGUgZGVwZW5kZW5jeSBpbmplY3Rpb24qKjpcbiAgIC0gVXBkYXRlZCB0aGUgYGhhbmRsZXJJbXBsYCBzdHJ1Y3QgaW4gYGhhbmRsZXIvaGFuZGxlci5nb2BcbiAgIC0gVXBkYXRlZCB0aGUgYEluamVjdGAgc3RydWN0IGluIGBoYW5kbGVyL2hhbmRsZXIuZ29gXG4gICAtIFVwZGF0ZWQgdGhlIGRlcGVuZGVuY3kgaW5qZWN0aW9uIGluIGBzZXJ2ZXIvc2VydmVyLmdvYFxuXG4jIyBBUEkgRW5kcG9pbnQgRGV0YWlsc1xuXG4tICoqVVJMKio6IGAvY2xhc3Nyb29tL293bmVkYFxuLSAqKk1ldGhvZCoqOiBHRVRcbi0gKipBdXRoZW50aWNhdGlvbioqOiBSZXF1aXJlZCAoSldUIHRva2VuKVxuLSAqKlF1ZXJ5IFBhcmFtZXRlcnMqKjpcbiAgLSBgcGFnZWA6IFBhZ2UgbnVtYmVyIChvcHRpb25hbClcbiAgLSBgbGltaXRgOiBOdW1iZXIgb2YgaXRlbXMgcGVyIHBhZ2UgKG9wdGlvbmFsKVxuICAtIGBzb3J0YDogU29ydCBvcmRlciAob3B0aW9uYWwsIGRlZmF1bHRzIHRvIFwiY3JlYXRlZF9hdCBERVNDXCIpXG4tICoqUmVzcG9uc2UqKjogQSBwYWdpbmF0ZWQgbGlzdCBvZiBjbGFzc3Jvb21zIG93bmVkIGJ5IHRoZSBhdXRoZW50aWNhdGVkIHVzZXJcblxuIyMgSG93IHRvIFRlc3RcblxuWW91IGNhbiB0ZXN0IHRoaXMgQVBJIGVuZHBvaW50IGJ5IG1ha2luZyBhIEdFVCByZXF1ZXN0IHRvIGAvY2xhc3Nyb29tL293bmVkYCB3aXRoIGEgdmFsaWQgSldUIHRva2VuLiBUaGUgQVBJIHdpbGwgcmV0dXJuIGEgcGFnaW5hdGVkIGxpc3Qgb2YgY2xhc3Nyb29tcyBvd25lZCBieSB0aGUgYXV0aGVudGljYXRlZCB1c2VyLlxuXG5FeGFtcGxlIHJlcXVlc3Q6XG5gYGBcbkdFVCAvY2xhc3Nyb29tL293bmVkP3BhZ2U9MSZsaW1pdD0xMFxuQXV0aG9yaXphdGlvbjogQmVhcmVyIDx5b3VyX2p3dF90b2tlbj5cbmBgYFxuXG5FeGFtcGxlIHJlc3BvbnNlOlxuYGBganNvblxue1xuICBcInN1Y2Nlc3NcIjogdHJ1ZSxcbiAgXCJkYXRhXCI6IHtcbiAgICBcInBhZ2VcIjogMSxcbiAgICBcImxpbWl0XCI6IDEwLFxuICAgIFwidG90YWxcIjogNSxcbiAgICBcInJvd3NcIjogW1xuICAgICAge1xuICAgICAgICBcImlkXCI6IFwiMTIzZTQ1NjctZTg5Yi0xMmQzLWE0NTYtNDI2NjE0MTc0MDAwXCIsXG4gICAgICAgIFwiY3JlYXRlZF9hdFwiOiBcIjIwMjMtMDYtMDFUMTI6MDA6MDBaXCIsXG4gICAgICAgIFwidXBkYXRlZF9hdFwiOiBcIjIwMjMtMDYtMDFUMTI6MDA6MDBaXCIsXG4gICAgICAgIFwidXNlcl9pZFwiOiBcInVzZXIxMjNcIixcbiAgICAgICAgXCJuYW1lXCI6IFwiTWF0aCBDbGFzc1wiLFxuICAgICAgICBcImF2YXRhcl91cmxcIjogXCJodHRwczovL2V4YW1wbGUuY29tL2F2YXRhci5qcGdcIlxuICAgICAgfSxcbiAgICAgIC8vIE1vcmUgY2xhc3Nyb29tcy4uLlxuICAgIF1cbiAgfVxufVxuYGBgXG5cbklzIHRoZXJlIGFueXRoaW5nIGVsc2UgeW91J2QgbGlrZSBtZSB0byBleHBsYWluIG9yIG1vZGlmeSBhYm91dCB0aGUgaW1wbGVtZW50YXRpb24/XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InJlcXVlc3RfaWQiOiJlM2M0NTNlZC01Y2NlLTQwMTUtOTk1ZS1iOWFmM2E1ZTg3YTIiLCJ1dWlkIjoiOTY5ZWZlZmUtYTNiYS00N2RhLWI2MGUtNzM3NjgwODYwZDllIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy1jaGVja3BvaW50LWRlbGltaXRlciIsInN0YXR1cyI6InN1Y2Nlc3MiLCJmcm9tVGltZXN0YW1wIjowLCJ0b1RpbWVzdGFtcCI6MTc0NTI1MzE0Nzg3NSwic2Vlbl9zdGF0ZSI6InNlZW4ifV0sImZlZWRiYWNrU3RhdGVzIjp7InRlbXAtZmUtNzczZjI1MTAtNzZiNi00OGRiLWE3MGQtNGRlYTljNjY5Zjg5Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0yZTFjY2MwMS0yY2M3LTRkYTktODRjNS05MTU4OGMyOTQyNDEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWJmYThmYmI3LWUwYjUtNDllMC05YzIzLWNmNGRhYTU5NjdlMCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNzVhMzVlZWEtZDZkYi00OTkyLWE4NmQtNGU4MjQyYWI0YzVmIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS02NjZiOTVjZS01ODAwLTQ4ZjYtOTM0ZC03ZDNkMjk1ZjkxYjciOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWM4OGY5YzUyLWQyZTctNGQ1Yy1hZTViLWQwZWQxYTc3YzUwOSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZWNhOGIwY2QtM2I2NC00NmUzLTg4ODctYmQ2NDQ1MzE1NDBhIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1mM2IxYTFjZS1lMTI0LTQxMTUtODdjNC1hY2RiZDAxNGIyMjYiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTczNzkzYmI5LTFhNjMtNDA1My1hNjc5LTFmNzEzMjQ4OTY3YSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZTU1M2U3M2UtZWZjYS00NzVhLTliYWUtNjZjYTBkYmZiNWM4Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1jYzgyYWQ0NS0wNDNmLTQ2MTMtYjc1MC03MTc2ZGNmOTM2NDgiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWQ0ZTg0Yjc3LTQ0OWQtNGE0OS1hZWRjLTZjZDhiY2ZmMzI4YiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMjhlMWE4YjgtNTIxOS00NDk4LWI1MDQtZTU1NDI1NWUxYmE1Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0yMmJkNmI4NC1jZWNkLTRiYmMtYWNjYS02OWY0YzA2ODMxZDYiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTM1ZTc2OTc1LWJlNzgtNDk1Ni1hMjk4LWMxYjZmMWFjMjdhZiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMmNmZjI4YjEtYzQzNC00ZDM2LWFiY2EtN2E1NmFmZjI3OWViIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS05NWI0OWFjZC0xMjI4LTRhNzMtYjNhZC05NmYxOTdhZjlhODgiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9fSwidG9vbFVzZVN0YXRlcyI6eyI0YTVjYzcxYi04MGUwLTRlYTEtOGJiOC0yOWQ0NWI2MTdhMjU7dG9vbHVfdnJ0eF8wMUVDU3dqVUJhSGpYS3dhZ2dOVUpyS3kiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc2VydmVyL3JvdXRlci5nb1xucGFja2FnZSBzZXJ2ZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2hhbmRsZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG5mdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG5cdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcIi9jbGFzc3Jvb21cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2NyZWF0ZVwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcblxuXHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2hhbmRsZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG50eXBlIEhhbmRsZXIgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAvLyBM4buNYyB0aMOgbmggdmnDqm4gY+G7p2EgbOG7m3AgaOG7jWNcblx0SW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgIC8vIE3hu51pIHRow6BuaCB2acOqbiB2w6BvIGzhu5twIGjhu41jXG5cdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG5cdFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBU4burIGNo4buRaSBs4budaSBt4budaVxuXHRBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gQ2jhuqVwIG5o4bqtbiBs4budaSBt4budaVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxufVxuXG50eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Vcbn1cblxudHlwZSBJbmplY3Qgc3RydWN0IHtcblx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG5cdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxufVxuXG5mdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XG5cdHJldHVybiAmaGFuZGxlckltcGx7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiBpbmplY3QuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UsXG5cdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIGluamVjdC5JbnZpdGVNZW1iZXJVc2VDYXNlLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuUmVqZWN0SW52aXRhdGlvblVzZUNhc2UsXG5cdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcblx0fVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBib2R5IHJlcS5DcmVhdGVDbGFzc3Jvb21SZXF1ZXN0XG5cblx0aWYgZXJyIDo9IGMuQm9keVBhcnNlcigmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHIuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5LkNsYXNzcm9vbUVudGl0eXtcblx0XHRVc2VySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHROYW1lOiAgICAgIHZhbHVlLkdldFZhbHVlKGJvZHkuTmFtZSwgXCJcIiksXG5cdFx0QXZhdGFyVXJsOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkF2YXRhclVybCwgXCJcIiksXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSByLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvc2VydmVyLmdvXG4uLi5cblx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcblx0aGFuZGxlciA6PSBoYW5kbGVyLk5ldygmaGFuZGxlci5JbmplY3R7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIHVzZWNhc2UuTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgdXNlY2FzZS5OZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICB1c2VjYXNlLk5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdH0pXG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tRW50aXR5IHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cblx0VXNlcklEICAgIHN0cmluZyBganNvbjpcInVzZXJfaWRcImBcblx0TmFtZSAgICAgIHN0cmluZyBganNvbjpcIm5hbWVcImBcblx0QXZhdGFyVXJsIHN0cmluZyBganNvbjpcImF2YXRhcl91cmxcImBcbn1cblxuZnVuYyAoYyAqQ2xhc3Nyb29tRW50aXR5KSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXNcIlxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXFcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21SZXF1ZXN0IHN0cnVjdCB7XG5cdE5hbWUgICAgICAqc3RyaW5nIGBqc29uOlwibmFtZVwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0QXZhdGFyVXJsICpzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCIgdmFsaWRhdGU6XCJyZXF1aXJlZCx1cmxcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuVHJhbnNhY3Rpb24oZnVuYyh0eCAqZ29ybS5EQikgZXJyb3Ige1xuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoY2xhc3Nyb29tKS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZSgmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShjbGFzc3Jvb20uSUQsIFwiXCIpLFxuXHRcdFx0VXNlcklEOiAgICAgIGNsYXNzcm9vbS5Vc2VySUQsXG5cdFx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyLFxuXHRcdH0pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRyZXR1cm4gbmlsXG5cdH0pXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRfIFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSB7XG5cdHJldHVybiAmY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jIChjICpjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0aWYgZXJyIDo9IGMuUmVwby5DcmVhdGVDbGFzc3Jvb20oY3R4LCBjbGFzc3Jvb20pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cbi4uLlxuXG50eXBlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG5cdENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG5cdElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcblx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcblx0RmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcblx0R2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpXG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xuLi4uXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgY2xhc3Nyb29tX2lkIHThu6sgVVJMXG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHF1ZXJ5IHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLCBxdWVyeSlcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdGlmIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcikge1xuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0fVxuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZXtSZXBvOiByZXBvfVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbU1lbWJlcnMgW11lbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWRcIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tTWVtYmVycykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tTWVtYmVyc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyUm9sZSBzdHJpbmdcblxuY29uc3QgKFxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlciBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJ0ZWFjaGVyXCJcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwic3R1ZGVudFwiXG4pXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyIHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cdENsYXNzcm9vbUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJjbGFzc3Jvb21faWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFVzZXJJRCAgICAgIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJ1c2VyX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRSb2xlICAgICAgICBDbGFzc3Jvb21NZW1iZXJSb2xlIGBqc29uOlwicm9sZVwiYFxuXHRJbnZpdGVkQnlJRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiaW52aXRlZF9ieV9pZFwiYFxufVxuXG5mdW5jIChjIENsYXNzcm9vbU1lbWJlcikgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVyc1wiXG59XG4uLi5cblBhdGg6IGVudGl0eS9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvblN0YXR1cyBzdHJpbmdcblxuY29uc3QgKFxuXHRJbnZpdGF0aW9uU3RhdHVzUGVuZGluZyAgSW52aXRhdGlvblN0YXR1cyA9IFwicGVuZGluZ1wiXG5cdEludml0YXRpb25TdGF0dXNBY2NlcHRlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJhY2NlcHRlZFwiXG5cdEludml0YXRpb25TdGF0dXNSZWplY3RlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJyZWplY3RlZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvbkVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXHRDbGFzc3Jvb21JRCBzdHJpbmcgICAgICAgICAgIGBqc29uOlwiY2xhc3Nyb29tX2lkXCJgXG5cdFNlbmRlcklEICAgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJzZW5kZXJfaWRcIiBnb3JtOlwiaW5kZXhcImBcblx0UmVjZWl2ZXJJRCAgc3RyaW5nICAgICAgICAgICBganNvbjpcInJlY2VpdmVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFN0YXR1cyAgICAgIEludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBnb3JtOlwiaW5kZXhcImBcbn1cblxuZnVuYyAoSW52aXRhdGlvbkVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHsgcmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5pbnZpdGF0aW9uc1wiIH1cbi4uLlxuUGF0aDogaGFuZGxlci9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgSW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuSW52aXRlTWVtYmVyUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSBoLkludml0ZU1lbWJlclVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e1xuXHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkNsYXNzcm9vbUlELCBcIlwiKSxcblx0XHRTZW5kZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdFJlY2VpdmVySUQ6ICB2YWx1ZS5HZXRWYWx1ZShib2R5LlJlY2VpdmVySUQsIFwiXCIpLFxuXHRcdFN0YXR1czogICAgICBlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIMSRYW5nIGNo4budIHjhu60gbMO9IGhv4bq3YyDEkcOjIMSRxrDhu6NjIGNo4bqlcCBuaOG6rW5cIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgSW52aXRlTWVtYmVyVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGludml0ZU1lbWJlclVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3SW52aXRlTWVtYmVyVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgSW52aXRlTWVtYmVyVXNlQ2FzZSB7XG5cdHJldHVybiAmaW52aXRlTWVtYmVyVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICppbnZpdGVNZW1iZXJVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Ige1xuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGNsYXNzcm9vbSBraMO0bmdcblx0aXNPd25lciwgZXJyIDo9IHUuUmVwby5Jc0NsYXNzcm9vbU93bmVyKGN0eCwgaW52aXRhdGlvbi5DbGFzc3Jvb21JRCwgaW52aXRhdGlvbi5TZW5kZXJJRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNoZWNrIGNsYXNzcm9vbSBvd25lclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRpZiAhaXNPd25lciB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lclxuXHR9XG5cblx0Ly8gS2nhu4NtIHRyYSB4ZW0gbmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIG7DoG8gxJFhbmcg4bufIHRy4bqhbmcgdGjDoWkgcGVuZGluZyBob+G6t2MgYWNjZXB0ZWQgY2jGsGFcblx0ZXhpc3RzLCBlcnIgOj0gdS5SZXBvLklzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCwgaW52aXRhdGlvbi5DbGFzc3Jvb21JRCwgaW52aXRhdGlvbi5SZWNlaXZlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgZXhpc3RpbmcgaW52aXRhdGlvblwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRpZiBleGlzdHMge1xuXHRcdHJldHVybiBxZXJyb3IuRXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvblxuXHR9XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdvcm0uaW8vZ29ybS9jbGF1c2VcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Ige1xuXHQvLyBT4butIGThu6VuZyBjbGF1c2UuT25Db25mbGljdCgpLkRvTm90aGluZygpIMSR4buDIHRyw6FuaCBs4buXaSBraGkgdGjDqm0gdGjDoG5oIHZpw6puIMSRw6MgdOG7k24gdOG6oWlcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5cblx0XHRDbGF1c2VzKGNsYXVzZS5PbkNvbmZsaWN0e0RvTm90aGluZzogdHJ1ZX0pLlxuXHRcdENyZWF0ZShtZW1iZXIpLkVycm9yXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGF0aW9uc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0YXRpb25zVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2ludml0YXRpb24uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5DcmVhdGUoaW52aXRhdGlvbikuRXJyb3Jcbn0uLi5cblBhdGg6IHVzZWNhc2UvYWNjZXB0X2ludml0YXRpb24uZ29cbi4uLlxuXG5cdGlmIGVyciA6PSB1LlJlcG8uQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCwgJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0Q2xhc3Nyb29tSUQ6IGludml0YXRpb24uQ2xhc3Nyb29tSUQsXG5cdFx0VXNlcklEOiAgICAgIGludml0YXRpb24uUmVjZWl2ZXJJRCxcblx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50LFxuXHRcdEludml0ZWRCeUlEOiBpbnZpdGF0aW9uLlNlbmRlcklELFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb20gbWVtYmVyXCIsIHphcC5TdHJpbmcoXCJpbnZpdGF0aW9uIGlkXCIsIGludml0YXRpb25JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmIGVyciA6PSB1LlJlcG8uVXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHgsIGludml0YXRpb25JRCwgZW50aXR5Lkludml0YXRpb25TdGF0dXNBY2NlcHRlZCk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byB1cGRhdGUgaW52aXRhdGlvbiBzdGF0dXNcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2FjY2VwdF9pbnZpdGF0aW9uLmdvXG4uLi5cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdGlmIGVyciA6PSBoLkFjY2VwdEludml0YXRpb25Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGludml0YXRpb25JRCwgdXNlcklEKTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBnb3JtLkVyclJlY29yZE5vdEZvdW5kKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwia2jDtG5nIHTDrG0gdGjhuqV5IGzhu51pIG3hu51pXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdEludml0YXRpb25SZWNlaXZlcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBuw6B5XCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyckludml0YXRpb25Ob3RQZW5kaW5nKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibOG7nWkgbeG7nWkga2jDtG5nIOG7nyB0cuG6oW5nIHRow6FpIGNo4budIHjhu60gbMO9XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvaXNfaW52aXRhdGlvbl9leGlzdGluZy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgSXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKSB7XG5cdHZhciBjb3VudCBpbnQ2NFxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdE1vZGVsKCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZCA9ID8gQU5EIHJlY2VpdmVyX2lkID0gPyBBTkQgc3RhdHVzIElOID9cIiwgY2xhc3Nyb29tSUQsIHJlY2VpdmVySUQsIFtdZW50aXR5Lkludml0YXRpb25TdGF0dXN7ZW50aXR5Lkludml0YXRpb25TdGF0dXNQZW5kaW5nLCBlbnRpdHkuSW52aXRhdGlvblN0YXR1c0FjY2VwdGVkfSkuXG5cdFx0Q291bnQoJmNvdW50KS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIGZhbHNlLCBlcnJcblx0fVxuXHRyZXR1cm4gY291bnQgPiAwLCBuaWxcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9yZWplY3RfaW52aXRhdGlvbi5nb1xuLi4uXG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRpZiBlcnIgOj0gaC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBpbnZpdGF0aW9uSUQsIHVzZXJJRCk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgaGFuZGxlIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIGdvcm0uRXJyUmVjb3JkTm90Rm91bmQpOlxuXHRcdFx0cmV0dXJuIHJlcy5Ob3RGb3VuZChjLCBlcnJvcnMuTmV3KFwia2jDtG5nIHTDrG0gdGjhuqV5IGzhu51pIG3hu51pXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdEludml0YXRpb25SZWNlaXZlcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBuw6B5XCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyckludml0YXRpb25Ob3RQZW5kaW5nKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibOG7nWkgbeG7nWkga2jDtG5nIOG7nyB0cuG6oW5nIHRow6FpIGNo4budIHjhu60gbMO9XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIEludml0ZU1lbWJlclJlcXVlc3Qgc3RydWN0IHtcblx0Q2xhc3Nyb29tSUQgKnN0cmluZyBganNvbjpcImNsYXNzcm9vbV9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0UmVjZWl2ZXJJRCAgKnN0cmluZyBganNvbjpcInJlY2VpdmVyX2lkXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xuLi4uXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uLi4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiOGU0ZTNkNjgtMGFjZC00N2U2LTkxOTktMmVjYWExZDVhZDM4O3Rvb2x1X3ZydHhfMDFIWWFXZk1RbkIxdHR2UnNwMnMyMWtLIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHJlcG9zaXRvcnkvaXNfY2xhc3Nyb29tX293bmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKSB7XG5cdHZhciBjbGFzc3Jvb20gZW50aXR5LkNsYXNzcm9vbUVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiaWQgPSA/IEFORCB1c2VyX2lkID0gP1wiLCBjbGFzc3Jvb21JRCwgdXNlcklEKS5cblx0XHRGaXJzdCgmY2xhc3Nyb29tKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gTuG6v3Uga2jDtG5nIHTDrG0gdGjhuqV5IGLhuqNuIGdoaSwgY8OzIG5naMSpYSBsw6AgbmfGsOG7nWkgZMO5bmcga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdVxuXHRcdHJldHVybiBmYWxzZSwgbmlsXG5cdH1cblx0cmV0dXJuIHRydWUsIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgY2xhc3Nyb29tIGtow7RuZ1xuXHRpc093bmVyLCBlcnIgOj0gdS5SZXBvLklzQ2xhc3Nyb29tT3duZXIoY3R4LCBjbGFzc3Jvb21JRCwgdXNlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgY2xhc3Nyb29tIG93bmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0aWYgIWlzT3duZXIge1xuXHRcdHJldHVybiBuaWwsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lclxuXHR9XG5cblx0Ly8gTOG6pXkgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyBt4budaVxuXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVySW52aXRlZE1lbWJlcnMoY3R4LCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGludml0ZWQgbWVtYmVyc1wiLCB6YXAuU3RyaW5nKFwiY2xhc3Nyb29tIGlkXCIsIGNsYXNzcm9vbUlEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvXG4uLi5cblxudHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxuXHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxuXHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuXHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Jcblx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Jcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcblx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG59XG5cbmZ1bmMgTmV3KHByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlcikgUmVwb3NpdG9yeSB7XG5cdHJldHVybiAmcmVwb3NpdG9yeUltcGx7XG5cdFx0UHJvdmlkZXI6IHByb3ZpZGVyLFxuXHR9XG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21NZW1iZXJzIFtdZW50aXR5LkNsYXNzcm9vbU1lbWJlclxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkXCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbU1lbWJlcnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbU1lbWJlcnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZXtSZXBvOiByZXBvfVxufVxuXG5mdW5jIChmICpmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0cmVzdWx0LCBlcnIgOj0gZi5SZXBvLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4LCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGNsYXNzcm9vbSBtZW1iZXJzXCIsIHphcC5TdHJpbmcoXCJjbGFzc3Jvb20gaWRcIiwgY2xhc3Nyb29tSUQpLCB6YXAuRXJyb3IoKGVycikpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5UcmFuc2FjdGlvbihmdW5jKHR4ICpnb3JtLkRCKSBlcnJvciB7XG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZShjbGFzc3Jvb20pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKCZlbnRpdHkuQ2xhc3Nyb29tTWVtYmVye1xuXHRcdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGNsYXNzcm9vbS5JRCwgXCJcIiksXG5cdFx0XHRVc2VySUQ6ICAgICAgY2xhc3Nyb29tLlVzZXJJRCxcblx0XHRcdFJvbGU6ICAgICAgICBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVRlYWNoZXIsXG5cdFx0fSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdHJldHVybiBuaWxcblx0fSlcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBjbGFzc3Jvb21faWQgdOG7qyBVUkxcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcXVlcnkgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksIHF1ZXJ5KVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0aWYgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKSB7XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHR9XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2lzX2ludml0YXRpb25fZXhpc3RpbmcuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY291bnQgaW50NjRcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRNb2RlbCgmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/IEFORCByZWNlaXZlcl9pZCA9ID8gQU5EIHN0YXR1cyBJTiA/XCIsIGNsYXNzcm9vbUlELCByZWNlaXZlcklELCBbXWVudGl0eS5JbnZpdGF0aW9uU3RhdHVze2VudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZywgZW50aXR5Lkludml0YXRpb25TdGF0dXNBY2NlcHRlZH0pLlxuXHRcdENvdW50KCZjb3VudCkuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBmYWxzZSwgZXJyXG5cdH1cblx0cmV0dXJuIGNvdW50ID4gMCwgbmlsXG59XG4uLi5cblBhdGg6IHNlcnZlci9yb3V0ZXIuZ29cbi4uLlxuXG5mdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG5cdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcIi9jbGFzc3Jvb21cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2NyZWF0ZVwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcblxuXHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxufVxuLi4uXG5QYXRoOiBlbnRpdHkvY2xhc3Nyb29tLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXG50eXBlIENsYXNzcm9vbUVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXG5cdFVzZXJJRCAgICBzdHJpbmcgYGpzb246XCJ1c2VyX2lkXCJgXG5cdE5hbWUgICAgICBzdHJpbmcgYGpzb246XCJuYW1lXCJgXG5cdEF2YXRhclVybCBzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCJgXG59XG5cbmZ1bmMgKGMgKkNsYXNzcm9vbUVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21zXCJcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHRxdWVyeSA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJyZWNlaXZlcl9pZCA9ID9cIiwgcmVjZWl2ZXJJRClcblxuXHQvLyBM4buNYyB0aGVvIHN0YXR1cyBu4bq/dSBjw7Ncblx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdHF1ZXJ5ID0gcXVlcnkuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHR9XG5cblx0dmFyIGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0aWYgZXJyIDo9IHF1ZXJ5LlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuLi4uXG5QYXRoOiBoYW5kbGVyL2hhbmRsZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG50eXBlIEhhbmRsZXIgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAvLyBM4buNYyB0aMOgbmggdmnDqm4gY+G7p2EgbOG7m3AgaOG7jWNcblx0SW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgIC8vIE3hu51pIHRow6BuaCB2acOqbiB2w6BvIGzhu5twIGjhu41jXG5cdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG5cdFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBU4burIGNo4buRaSBs4budaSBt4budaVxuXHRBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gQ2jhuqVwIG5o4bqtbiBs4budaSBt4budaVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxufVxuXG50eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Vcbn1cblxudHlwZSBJbmplY3Qgc3RydWN0IHtcblx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG5cdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxufVxuXG5mdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XG5cdHJldHVybiAmaGFuZGxlckltcGx7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiBpbmplY3QuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UsXG5cdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIGluamVjdC5JbnZpdGVNZW1iZXJVc2VDYXNlLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuUmVqZWN0SW52aXRhdGlvblVzZUNhc2UsXG5cdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcblx0fVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0YXRpb25zVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckludml0YXRpb25zKGN0eCwgcmVjZWl2ZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGludml0YXRpb25zXCIsIHphcC5TdHJpbmcoXCJyZWNlaXZlciBpZFwiLCByZWNlaXZlcklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRfIFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSB7XG5cdHJldHVybiAmY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jIChjICpjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0aWYgZXJyIDo9IGMuUmVwby5DcmVhdGVDbGFzc3Jvb20oY3R4LCBjbGFzc3Jvb20pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBJbnZpdGVNZW1iZXJVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgaW52aXRlTWVtYmVyVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBJbnZpdGVNZW1iZXJVc2VDYXNlIHtcblx0cmV0dXJuICZpbnZpdGVNZW1iZXJVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKmludml0ZU1lbWJlclVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvciB7XG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgY2xhc3Nyb29tIGtow7RuZ1xuXHRpc093bmVyLCBlcnIgOj0gdS5SZXBvLklzQ2xhc3Nyb29tT3duZXIoY3R4LCBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELCBpbnZpdGF0aW9uLlNlbmRlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgY2xhc3Nyb29tIG93bmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmICFpc093bmVyIHtcblx0XHRyZXR1cm4gcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyXG5cdH1cblxuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgbsOgbyDEkWFuZyDhu58gdHLhuqFuZyB0aMOhaSBwZW5kaW5nIGhv4bq3YyBhY2NlcHRlZCBjaMawYVxuXHRleGlzdHMsIGVyciA6PSB1LlJlcG8uSXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4LCBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELCBpbnZpdGF0aW9uLlJlY2VpdmVySUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjaGVjayBleGlzdGluZyBpbnZpdGF0aW9uXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmIGV4aXN0cyB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uXG5cdH1cbi4uLlxuUGF0aDogaGFuZGxlci9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuQ3JlYXRlQ2xhc3Nyb29tUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSByLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5DbGFzc3Jvb21FbnRpdHl7XG5cdFx0VXNlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0TmFtZTogICAgICB2YWx1ZS5HZXRWYWx1ZShib2R5Lk5hbWUsIFwiXCIpLFxuXHRcdEF2YXRhclVybDogdmFsdWUuR2V0VmFsdWUoYm9keS5BdmF0YXJVcmwsIFwiXCIpLFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaW52aXRlX21lbWJlci5nb1xuLi4uXG5cblx0aWYgZXJyIDo9IGguSW52aXRlTWVtYmVyVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5Lkludml0YXRpb25FbnRpdHl7XG5cdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGJvZHkuQ2xhc3Nyb29tSUQsIFwiXCIpLFxuXHRcdFNlbmRlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0UmVjZWl2ZXJJRDogIHZhbHVlLkdldFZhbHVlKGJvZHkuUmVjZWl2ZXJJRCwgXCJcIiksXG5cdFx0U3RhdHVzOiAgICAgIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZyxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRzd2l0Y2gge1xuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyclJlY2VpdmVyQWxyZWFkeUhhc0ludml0YXRpb24pOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgxJFhbmcgY2jhu50geOG7rSBsw70gaG/hurdjIMSRw6MgxJHGsOG7o2MgY2jhuqVwIG5o4bqtblwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2FjY2VwdF9pbnZpdGF0aW9uLmdvXG4uLi5cblxuXHRpZiBlcnIgOj0gdS5SZXBvLkNyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHgsICZlbnRpdHkuQ2xhc3Nyb29tTWVtYmVye1xuXHRcdENsYXNzcm9vbUlEOiBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELFxuXHRcdFVzZXJJRDogICAgICBpbnZpdGF0aW9uLlJlY2VpdmVySUQsXG5cdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCxcblx0XHRJbnZpdGVkQnlJRDogaW52aXRhdGlvbi5TZW5kZXJJRCxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2xhc3Nyb29tIG1lbWJlclwiLCB6YXAuU3RyaW5nKFwiaW52aXRhdGlvbiBpZFwiLCBpbnZpdGF0aW9uSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyLi4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMzAwNDIzM2EtZWJiNi00Y2I4LWE2ZDMtNzdlZjIyYzYyZjljO3Rvb2x1X3ZydHhfMDE4WWk1UDJRdjhYckZzN01NSmpyYnZ4Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gbW9kZWwvcmVxL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvOlxuICAgICAxXHRwYWNrYWdlIHJlcVxuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbiAgICAgNFx0XG4gICAgIDVcdHR5cGUgRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxIHN0cnVjdCB7XG4gICAgIDZcdFx0cmVxLlBhZ2luYXRpb25SZXFcbiAgICAgN1x0fVxuICAgICA4XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDhcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjFkZWI2YzYzLTMwOWQtNDY4ZC04NzI2LTY2ZWNhY2Y4MjhlYzt0b29sdV92cnR4XzAxM2p0RW16QnZpRWFLVVpIWjhwTmJ0ViI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuXG50eXBlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG5cdENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG5cdElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcblx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcblx0RmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcblx0R2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpXG5cdFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvclxuXHRDcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgbWVtYmVyICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyKSBlcnJvclxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSByZXBvc2l0b3J5SW1wbCBzdHJ1Y3Qge1xuXHRQcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXJcbn1cblxuZnVuYyBOZXcocHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyKSBSZXBvc2l0b3J5IHtcblx0cmV0dXJuICZyZXBvc2l0b3J5SW1wbHtcblx0XHRQcm92aWRlcjogcHJvdmlkZXIsXG5cdH1cbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfaW52aXRhdGlvbi5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLkNyZWF0ZShpbnZpdGF0aW9uKS5FcnJvclxufS4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHRxdWVyeSA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJyZWNlaXZlcl9pZCA9ID9cIiwgcmVjZWl2ZXJJRClcblxuXHQvLyBM4buNYyB0aGVvIHN0YXR1cyBu4bq/dSBjw7Ncblx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdHF1ZXJ5ID0gcXVlcnkuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHR9XG5cblx0dmFyIGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0aWYgZXJyIDo9IHF1ZXJ5LlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGludml0YXRpb25zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0Z29ybTIgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIChcblx0XHRwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHlde1xuXHRcdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0XHR9XG5cdFx0aW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHQpXG5cblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZCA9ID9cIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3BlcyhmdW5jKGRiICpnb3JtLkRCKSAqZ29ybS5EQiB7XG5cdFx0XHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0XHRcdHJldHVybiBkYi5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZGJcblx0XHR9LCBnb3JtMi5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmludml0YXRpb25zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBpbnZpdGF0aW9uc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2dldF9pbnZpdGF0aW9uX2J5X2lkLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcikge1xuXHR2YXIgaW52aXRhdGlvbiBlbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiaWQgPSA/XCIsIGludml0YXRpb25JRCkuXG5cdFx0Rmlyc3QoJmludml0YXRpb24pLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gJmludml0YXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2lzX2ludml0YXRpb25fZXhpc3RpbmcuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY291bnQgaW50NjRcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRNb2RlbCgmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/IEFORCByZWNlaXZlcl9pZCA9ID8gQU5EIHN0YXR1cyBJTiA/XCIsIGNsYXNzcm9vbUlELCByZWNlaXZlcklELCBbXWVudGl0eS5JbnZpdGF0aW9uU3RhdHVze2VudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZywgZW50aXR5Lkludml0YXRpb25TdGF0dXNBY2NlcHRlZH0pLlxuXHRcdENvdW50KCZjb3VudCkuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBmYWxzZSwgZXJyXG5cdH1cblx0cmV0dXJuIGNvdW50ID4gMCwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tTWVtYmVycyBbXWVudGl0eS5DbGFzc3Jvb21NZW1iZXJcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZFwiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21NZW1iZXJzKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21NZW1iZXJzXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvdXBkYXRlX2ludml0YXRpb25fc3RhdHVzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdE1vZGVsKCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9KS5cblx0XHRXaGVyZShcImlkID0gP1wiLCBpbnZpdGF0aW9uSUQpLlxuXHRcdFVwZGF0ZShcInN0YXR1c1wiLCBzdGF0dXMpLlxuXHRcdEVycm9yXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvaXNfY2xhc3Nyb29tX293bmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKSB7XG5cdHZhciBjbGFzc3Jvb20gZW50aXR5LkNsYXNzcm9vbUVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiaWQgPSA/IEFORCB1c2VyX2lkID0gP1wiLCBjbGFzc3Jvb21JRCwgdXNlcklEKS5cblx0XHRGaXJzdCgmY2xhc3Nyb29tKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gTuG6v3Uga2jDtG5nIHTDrG0gdGjhuqV5IGLhuqNuIGdoaSwgY8OzIG5naMSpYSBsw6AgbmfGsOG7nWkgZMO5bmcga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdVxuXHRcdHJldHVybiBmYWxzZSwgbmlsXG5cdH1cblx0cmV0dXJuIHRydWUsIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnb3JtLmlvL2dvcm0vY2xhdXNlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yIHtcblx0Ly8gU+G7rSBk4bulbmcgY2xhdXNlLk9uQ29uZmxpY3QoKS5Eb05vdGhpbmcoKSDEkeG7gyB0csOhbmggbOG7l2kga2hpIHRow6ptIHRow6BuaCB2acOqbiDEkcOjIHThu5NuIHThuqFpXG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuXG5cdFx0Q2xhdXNlcyhjbGF1c2UuT25Db25mbGljdHtEb05vdGhpbmc6IHRydWV9KS5cblx0XHRDcmVhdGUobWVtYmVyKS5FcnJvclxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL3JlamVjdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgUmVqZWN0SW52aXRhdGlvblVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSBlcnJvclxufVxuXG50eXBlIHJlamVjdEludml0YXRpb25Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSB7XG5cdHJldHVybiAmcmVqZWN0SW52aXRhdGlvblVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9hY2NlcHRfaW52aXRhdGlvbi5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEFjY2VwdEludml0YXRpb25Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgdXNlcklEIHN0cmluZykgZXJyb3Jcbn1cblxudHlwZSBhY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgQWNjZXB0SW52aXRhdGlvblVzZUNhc2Uge1xuXHRyZXR1cm4gJmFjY2VwdEludml0YXRpb25Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG4uLi5cblBhdGg6IHNlcnZlci9zZXJ2ZXIuZ29cbnBhY2thZ2Ugc2VydmVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyL21pZGRsZXdhcmUvcmVjb3ZlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG5mdW5jIFJ1bihzZXJ2aWNlQ29uZmlnICptb2RlbC5TZXJ2aWNlQ29uZmlnKSB7XG5cdGFwcCA6PSBmaWJlci5OZXcoZmliZXIuQ29uZmlne1xuXHRcdEVuYWJsZVByaW50Um91dGVzOiB0cnVlLFxuXHR9KVxuXHRhcHAuVXNlKHJlY292ZXIuTmV3KCkpXG5cblx0cHJvdmlkZXIsIGVyciA6PSBwcm92aWRlci5Jbml0KHNlcnZpY2VDb25maWcpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBpbml0IHByb3ZpZGVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG5cdHJlcG9zaXRvcnkgOj0gcmVwb3NpdG9yeS5OZXcocHJvdmlkZXIpXG5cdGhhbmRsZXIgOj0gaGFuZGxlci5OZXcoJmhhbmRsZXIuSW5qZWN0e1xuXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICB1c2VjYXNlLk5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IHVzZWNhc2UuTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIHVzZWNhc2UuTmV3SW52aXRlTWVtYmVyVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIHVzZWNhc2UuTmV3UmVqZWN0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIHVzZWNhc2UuTmV3QWNjZXB0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHR9KVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBJbnZpdGVNZW1iZXJVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgaW52aXRlTWVtYmVyVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBJbnZpdGVNZW1iZXJVc2VDYXNlIHtcblx0cmV0dXJuICZpbnZpdGVNZW1iZXJVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG4uLi5cblBhdGg6IHByb3ZpZGVyL3Byb3ZpZGVyLmdvXG5wYWNrYWdlIHByb3ZpZGVyXG5cbmltcG9ydCAoXG5cdFwiZ2l0aHViLmNvbS9uZWRwYWxzL3N1cGFiYXNlLWdvXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3Byb3ZpZGVyL2RhdGFiYXNlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG50eXBlIFByb3ZpZGVyIHN0cnVjdCB7XG5cdERiICAgICAgICAgICAgICpnb3JtLkRCXG5cdFN1cGFiYXNlQ2xpZW50ICpzdXBhYmFzZS5DbGllbnRcbn1cblxuZnVuYyBJbml0KHNlcnZpY2VDb25maWcgKm1vZGVsLlNlcnZpY2VDb25maWcpICgqUHJvdmlkZXIsIGVycm9yKSB7XG5cdGRiLCBlcnIgOj0gZGF0YWJhc2UuTmV3UG9zdGdyZXNEQihcblx0XHRzZXJ2aWNlQ29uZmlnLkRiSG9zdCxcblx0XHRzZXJ2aWNlQ29uZmlnLkRiUG9ydCxcblx0XHRzZXJ2aWNlQ29uZmlnLkRiVXNlcixcblx0XHRzZXJ2aWNlQ29uZmlnLkRiUGFzc3dvcmQsXG5cdFx0c2VydmljZUNvbmZpZy5EYk5hbWUsXG5cdClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRzdXBhYmFzZUNsaWVudCA6PSBzdXBhYmFzZS5DcmVhdGVDbGllbnQoXG5cdFx0c2VydmljZUNvbmZpZy5TdXBiYXNlVXJsLFxuXHRcdHNlcnZpY2VDb25maWcuU3VwYWJhc2VBbm9uS2V5LFxuXHQpXG5cblx0cmV0dXJuICZQcm92aWRlcntcblx0XHREYjogICAgICAgICAgICAgZGIsXG5cdFx0U3VwYWJhc2VDbGllbnQ6IHN1cGFiYXNlQ2xpZW50LFxuXHR9LCBuaWxcbn1cbi4uLlxuUGF0aDogc2VydmVyL3JvdXRlci5nb1xucGFja2FnZSBzZXJ2ZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2hhbmRsZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuLi4uXG5QYXRoOiBjbWQvcm9vdC5nb1xuLypcbkNvcHlyaWdodCDCqSAyMDI1IE5BTUUgSEVSRSA8RU1BSUwgQUREUkVTUz5cbiovXG5wYWNrYWdlIGNtZFxuXG5pbXBvcnQgKFxuXHRcIm9zXCJcblxuXHRcImdpdGh1Yi5jb20vc3BmMTMvY29icmFcIlxuKVxuXG4vLyByb290Q21kIHJlcHJlc2VudHMgdGhlIGJhc2UgY29tbWFuZCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBzdWJjb21tYW5kc1xudmFyIHJvb3RDbWQgPSAmY29icmEuQ29tbWFuZHtcblx0VXNlOiAgIFwicXVpenp5LWNsYXNzcm9vbVwiLFxuXHRTaG9ydDogXCJBIGJyaWVmIGRlc2NyaXB0aW9uIG9mIHlvdXIgYXBwbGljYXRpb25cIixcblx0TG9uZzogYEEgbG9uZ2VyIGRlc2NyaXB0aW9uIHRoYXQgc3BhbnMgbXVsdGlwbGUgbGluZXMgYW5kIGxpa2VseSBjb250YWluc1xuZXhhbXBsZXMgYW5kIHVzYWdlIG9mIHVzaW5nIHlvdXIgYXBwbGljYXRpb24uIEZvciBleGFtcGxlOlxuXG5Db2JyYSBpcyBhIENMSSBsaWJyYXJ5IGZvciBHbyB0aGF0IGVtcG93ZXJzIGFwcGxpY2F0aW9ucy5cblRoaXMgYXBwbGljYXRpb24gaXMgYSB0b29sIHRvIGdlbmVyYXRlIHRoZSBuZWVkZWQgZmlsZXNcbnRvIHF1aWNrbHkgY3JlYXRlIGEgQ29icmEgYXBwbGljYXRpb24uYCxcblx0Ly8gVW5jb21tZW50IHRoZSBmb2xsb3dpbmcgbGluZSBpZiB5b3VyIGJhcmUgYXBwbGljYXRpb25cblx0Ly8gaGFzIGFuIGFjdGlvbiBhc3NvY2lhdGVkIHdpdGggaXQ6XG5cdC8vIFJ1bjogZnVuYyhjbWQgKmNvYnJhLkNvbW1hbmQsIGFyZ3MgW11zdHJpbmcpIHsgfSxcbn1cblxuLy8gRXhlY3V0ZSBhZGRzIGFsbCBjaGlsZCBjb21tYW5kcyB0byB0aGUgcm9vdCBjb21tYW5kIGFuZCBzZXRzIGZsYWdzIGFwcHJvcHJpYXRlbHkuXG4vLyBUaGlzIGlzIGNhbGxlZCBieSBtYWluLm1haW4oKS4gSXQgb25seSBuZWVkcyB0byBoYXBwZW4gb25jZSB0byB0aGUgcm9vdENtZC5cbmZ1bmMgRXhlY3V0ZSgpIHtcblx0ZXJyIDo9IHJvb3RDbWQuRXhlY3V0ZSgpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdG9zLkV4aXQoMSlcblx0fVxufVxuXG5mdW5jIGluaXQoKSB7XG5cdC8vIEhlcmUgeW91IHdpbGwgZGVmaW5lIHlvdXIgZmxhZ3MgYW5kIGNvbmZpZ3VyYXRpb24gc2V0dGluZ3MuXG5cdC8vIENvYnJhIHN1cHBvcnRzIHBlcnNpc3RlbnQgZmxhZ3MsIHdoaWNoLCBpZiBkZWZpbmVkIGhlcmUsXG5cdC8vIHdpbGwgYmUgZ2xvYmFsIGZvciB5b3VyIGFwcGxpY2F0aW9uLlxuXG5cdC8vIHJvb3RDbWQuUGVyc2lzdGVudEZsYWdzKCkuU3RyaW5nVmFyKCZjZmdGaWxlLCBcImNvbmZpZ1wiLCBcIlwiLCBcImNvbmZpZyBmaWxlIChkZWZhdWx0IGlzICRIT01FLy5xdWl6enktY2xhc3Nyb29tLnlhbWwpXCIpXG5cblx0Ly8gQ29icmEgYWxzbyBzdXBwb3J0cyBsb2NhbCBmbGFncywgd2hpY2ggd2lsbCBvbmx5IHJ1blxuXHQvLyB3aGVuIHRoaXMgYWN0aW9uIGlzIGNhbGxlZCBkaXJlY3RseS5cblx0cm9vdENtZC5GbGFncygpLkJvb2xQKFwidG9nZ2xlXCIsIFwidFwiLCBmYWxzZSwgXCJIZWxwIG1lc3NhZ2UgZm9yIHRvZ2dsZVwiKVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0YXRpb25zVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuLi4uXG5QYXRoOiBtaWdyYXRlL21pZ3JhdGUuZ29cbnBhY2thZ2UgbWlncmF0ZVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxuZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuXHRwcm92aWRlciwgZXJyIDo9IHByb3ZpZGVyLkluaXQoc2VydmljZUNvbmZpZylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRpZiBlcnIgOj0gcHJvdmlkZXIuRGIuQXV0b01pZ3JhdGUoXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21FbnRpdHl7fSxcblx0XHQmZW50aXR5LkNsYXNzcm9vbU1lbWJlcnt9LFxuXHRcdCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9LFxuXHQpOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gbWlncmF0ZSBkYXRhYmFzZVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuXG5cdGxvZ2dlci5JbmZvKFwibWlncmF0ZSBkYXRhYmFzZSBzdWNjZXNzXCIpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvcmVqZWN0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBJRCBj4bunYSBpbnZpdGF0aW9uIHThu6sgVVJMXG5cdGludml0YXRpb25JRCA6PSBjLlBhcmFtcyhcImlkXCIpXG5cdGlmIGludml0YXRpb25JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImlkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG4uLi5cblBhdGg6IGhhbmRsZXIvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcbi4uLlxuUGF0aDogdXNlY2FzZS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdF8gXCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIHtcblx0cmV0dXJuICZjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKGMgKmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRpZiBlcnIgOj0gYy5SZXBvLkNyZWF0ZUNsYXNzcm9vbShjdHgsIGNsYXNzcm9vbSk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2xhc3Nyb29tXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IGNtZC9zZXJ2ZS5nb1xuLypcbkNvcHlyaWdodCDCqSAyMDI1IE5BTUUgSEVSRSA8RU1BSUwgQUREUkVTUz5cbiovXG5wYWNrYWdlIGNtZFxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2NvbmZpZ1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWxcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vc2VydmVyXCJcblxuXHRcImdpdGh1Yi5jb20vc3BmMTMvY29icmFcIlxuKVxuXG4vLyBzZXJ2ZUNtZCByZXByZXNlbnRzIHRoZSBzZXJ2ZSBjb21tYW5kXG52YXIgc2VydmVDbWQgPSAmY29icmEuQ29tbWFuZHtcblx0VXNlOiAgIFwic2VydmVcIixcblx0U2hvcnQ6IFwiQSBicmllZiBkZXNjcmlwdGlvbiBvZiB5b3VyIGNvbW1hbmRcIixcblx0TG9uZzogYEEgbG9uZ2VyIGRlc2NyaXB0aW9uIHRoYXQgc3BhbnMgbXVsdGlwbGUgbGluZXMgYW5kIGxpa2VseSBjb250YWlucyBleGFtcGxlc1xuYW5kIHVzYWdlIG9mIHVzaW5nIHlvdXIgY29tbWFuZC4gRm9yIGV4YW1wbGU6XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2V7UmVwbzogcmVwb31cbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbS5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblxudHlwZSBDbGFzc3Jvb21FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblxuXHRVc2VySUQgICAgc3RyaW5nIGBqc29uOlwidXNlcl9pZFwiYFxuXHROYW1lICAgICAgc3RyaW5nIGBqc29uOlwibmFtZVwiYFxuXHRBdmF0YXJVcmwgc3RyaW5nIGBqc29uOlwiYXZhdGFyX3VybFwiYFxufVxuXG5mdW5jIChjICpDbGFzc3Jvb21FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7XG5cdHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tc1wiXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG4uLi5cblBhdGg6IGVudGl0eS9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvblN0YXR1cyBzdHJpbmdcblxuY29uc3QgKFxuXHRJbnZpdGF0aW9uU3RhdHVzUGVuZGluZyAgSW52aXRhdGlvblN0YXR1cyA9IFwicGVuZGluZ1wiXG5cdEludml0YXRpb25TdGF0dXNBY2NlcHRlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJhY2NlcHRlZFwiXG5cdEludml0YXRpb25TdGF0dXNSZWplY3RlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJyZWplY3RlZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvbkVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXHRDbGFzc3Jvb21JRCBzdHJpbmcgICAgICAgICAgIGBqc29uOlwiY2xhc3Nyb29tX2lkXCJgXG5cdFNlbmRlcklEICAgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJzZW5kZXJfaWRcIiBnb3JtOlwiaW5kZXhcImBcblx0UmVjZWl2ZXJJRCAgc3RyaW5nICAgICAgICAgICBganNvbjpcInJlY2VpdmVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFN0YXR1cyAgICAgIEludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBnb3JtOlwiaW5kZXhcImBcbn1cblxuZnVuYyAoSW52aXRhdGlvbkVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHsgcmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5pbnZpdGF0aW9uc1wiIH1cbi4uLlxuUGF0aDogaGFuZGxlci9oYW5kbGVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcblxudHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAvLyBU4bqhbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTOG7jWMgdGjDoG5oIHZpw6puIGPhu6dhIGzhu5twIGjhu41jXG5cdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4budaSBt4budaVxuXHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gVOG7qyBjaOG7kWkgbOG7nWkgbeG7nWlcblx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIEzhu41jIGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgxJHGsOG7o2MgbeG7nWlcbn1cbi4uLlxuUGF0aDogY21kL21pZ3JhdGUuZ29cbi8qXG5Db3B5cmlnaHQgwqkgMjAyNSBOQU1FIEhFUkUgPEVNQUlMIEFERFJFU1M+XG4qL1xucGFja2FnZSBjbWRcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9jb25maWdcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21pZy4uLiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjIxMjkzNDBkLWQzNjMtNDNjZi05MWM3LTQ4YmNlNDk4MjdiNTt0b29sdV92cnR4XzAxODFpR0Z1UEJnc3JiVjVlUGkzdjczZCI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nby5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgICA4XHRcbiAgICAgOVx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4gICAgMTBcdClcbiAgICAxMVx0XG4gICAgMTJcdHR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuICAgIDEzXHRcdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG4gICAgMTRcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG4gICAgMTVcdFx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3JcbiAgICAxNlx0XHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG4gICAgMTdcdFx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcbiAgICAxOFx0XHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuICAgIDE5XHRcdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuICAgIDIwXHRcdFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvclxuICAgIDIxXHRcdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG4gICAgMjJcdFx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG4gICAgMjNcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbiAgICAyNFx0fVxuICAgIDI1XHRcbiAgICAyNlx0dHlwZSByZXBvc2l0b3J5SW1wbCBzdHJ1Y3Qge1xuICAgIDI3XHRcdFByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlclxuICAgIDI4XHR9XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImVmMzhhOTBhLWFkODctNGQ0My1iNjNhLTBmNTYyOWZkODVjZjt0b29sdV92cnR4XzAxMW9paDFVNTN0U0o3d0o5MjVkYmM1MiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJmODRkNTJjZi0xNDMwLTQ2M2EtOTBmOS01ZGFlNTU5ZjZiNDI7dG9vbHVfdnJ0eF8wMTJqNkVKQzFjTGJXZVRtazhmZDI2Q0QiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZTUyODkyNTctMTI4ZS00YWI2LWI5ZWQtMWE0OGY5ODYwZGRiO3Rvb2x1X3ZydHhfMDFTd2VBS2NRNUNQakVVMktoWWpBbjkzIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgaGFuZGxlci9oYW5kbGVyLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDVcdFxuICAgICA2XHRcdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbiAgICAgN1x0KVxuICAgICA4XHRcbiAgICAgOVx0dHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG4gICAgMTBcdFx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG4gICAgMTFcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuICAgIDEyXHRcdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuICAgIDEzXHRcdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG4gICAgMTRcdFx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG4gICAgMTVcdFx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcbiAgICAxNlx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxuICAgIDE3XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3VcbiAgICAxOFx0fVxuICAgIDE5XHRcbiAgICAyMFx0dHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xuICAgIDIxXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuICAgIDIyXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiN2FmYTBlMGQtYWM2MS00MmNiLWIxNWItN2Q1NTMwNDJmMzExO3Rvb2x1X3ZydHhfMDFRM0p2Mlk3Q254dm5zWGJpQzdYZHRwIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgaGFuZGxlci9oYW5kbGVyLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgMTZcdFx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIEzhu41jIGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgxJHGsOG7o2MgbeG7nWlcbiAgICAxN1x0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691XG4gICAgMThcdH1cbiAgICAxOVx0XG4gICAgMjBcdHR5cGUgaGFuZGxlckltcGwgc3RydWN0IHtcbiAgICAyMVx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VcbiAgICAyMlx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG4gICAgMjNcdFx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG4gICAgMjRcdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VcbiAgICAyNVx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG4gICAgMjZcdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuICAgIDI3XHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG4gICAgMjhcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXG4gICAgMjlcdH1cbiAgICAzMFx0XG4gICAgMzFcdHR5cGUgSW5qZWN0IHN0cnVjdCB7XG4gICAgMzJcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG4gICAgMzNcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCI1Njg3Y2QxMi04NDQ4LTRkNzUtYTMxMC0yYmIwOWQ5MjE0Mjc7dG9vbHVfdnJ0eF8wMTVnNFJQNmVhNnlzTU1uS2lYUXV2Z04iOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBoYW5kbGVyL2hhbmRsZXIuZ28uXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAyN1x0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxuICAgIDI4XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgIHVzZWNhc2UuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZVxuICAgIDI5XHR9XG4gICAgMzBcdFxuICAgIDMxXHR0eXBlIEluamVjdCBzdHJ1Y3Qge1xuICAgIDMyXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuICAgIDMzXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcbiAgICAzNFx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2VcbiAgICAzNVx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuICAgIDM2XHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2VcbiAgICAzN1x0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG4gICAgMzhcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VcbiAgICAzOVx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VcbiAgICA0MFx0fVxuICAgIDQxXHRcbiAgICA0Mlx0ZnVuYyBOZXcoaW5qZWN0ICpJbmplY3QpIEhhbmRsZXIge1xuICAgIDQzXHRcdHJldHVybiAmaGFuZGxlckltcGx7XG4gICAgNDRcdFx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImE0ZGZlMzUzLTdjOTItNDJmYi05MTgyLTMzZjMzODczMTRhNDt0b29sdV92cnR4XzAxQk4zUGk3WVc2blJDdmZDU05Ea2ZFZyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIGhhbmRsZXIvaGFuZGxlci5nby5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDM4XHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG4gICAgMzlcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXG4gICAgNDBcdH1cbiAgICA0MVx0XG4gICAgNDJcdGZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcbiAgICA0M1x0XHRyZXR1cm4gJmhhbmRsZXJJbXBse1xuICAgIDQ0XHRcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuICAgIDQ1XHRcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcbiAgICA0Nlx0XHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICBpbmplY3QuSW52aXRlTWVtYmVyVXNlQ2FzZSxcbiAgICA0N1x0XHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxuICAgIDQ4XHRcdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcbiAgICA0OVx0XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuQWNjZXB0SW52aXRhdGlvblVzZUNhc2UsXG4gICAgNTBcdFx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcbiAgICA1MVx0XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2U6ICBpbmplY3QuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSxcbiAgICA1Mlx0XHR9XG4gICAgNTNcdH1cbiAgICA1NFx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImIxZTY2MWJiLTk3ZDctNDg4Yy1iNzRlLTQyZmU0ZGU3ZWMxMTt0b29sdV92cnR4XzAxVk51QlRaTGRSbThKVzQ5ZGZCdWE4RiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIyYTA3NDdmNy0yNzlkLTQ3MDQtYjUxOC1kNzExNWNmYTc3ZDM7dG9vbHVfdnJ0eF8wMUticlVaalp2alVROXZQaktDcG9NMVciOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzZXJ2ZXIvcm91dGVyLmdvOlxuICAgICAxXHRwYWNrYWdlIHNlcnZlclxuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IChcbiAgICAgNFx0XHRcInF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlclwiXG4gICAgIDVcdFxuICAgICA2XHRcdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZVwiXG4gICAgIDdcdFxuICAgICA4XHRcdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbiAgICAgOVx0KVxuICAgIDEwXHRcbiAgICAxMVx0ZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xuICAgIDEyXHRcdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcIi9jbGFzc3Jvb21cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuICAgIDEzXHRcdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvY3JlYXRlXCIsIGhhbmRsZXIuQ3JlYXRlQ2xhc3Nyb29tKVxuICAgIDE0XHRcdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvaW52aXRlXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxuICAgIDE1XHRcdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxuICAgIDE2XHRcdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzKVxuICAgIDE3XHRcbiAgICAxOFx0XHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuICAgIDE5XHRcdGludml0YXRpb25Hcm91cC5HZXQoXCIvZmlsdGVyXCIsIGhhbmRsZXIuRmlsdGVySW52aXRhdGlvbnMpXG4gICAgMjBcdFx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9yZWplY3QvOmlkXCIsIGhhbmRsZXIuUmVqZWN0SW52aXRhdGlvbilcbiAgICAyMVx0XHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxuICAgIDIyXHR9XG4gICAgMjNcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMjNcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImNkZjljOGMxLTAxNzUtNGFkNS05YTU1LTdhMzhiMGIwMThhYjt0b29sdV92cnR4XzAxRUhFVWtWcEVBOUNzaURHckVuOURqbiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNlcnZlci9yb3V0ZXIuZ28uXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgN1x0XG4gICAgIDhcdFx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuICAgICA5XHQpXG4gICAgMTBcdFxuICAgIDExXHRmdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG4gICAgMTJcdFx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG4gICAgMTNcdFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG4gICAgMTRcdFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG4gICAgMTVcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG4gICAgMTZcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG4gICAgMTdcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiL293bmVkXCIsIGhhbmRsZXIuRmlsdGVyT3duZWRDbGFzc3Jvb21zKVxuICAgIDE4XHRcbiAgICAxOVx0XHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuICAgIDIwXHRcdGludml0YXRpb25Hcm91cC5HZXQoXCIvZmlsdGVyXCIsIGhhbmRsZXIuRmlsdGVySW52aXRhdGlvbnMpXG4gICAgMjFcdFx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9yZWplY3QvOmlkXCIsIGhhbmRsZXIuUmVqZWN0SW52aXRhdGlvbilcbiAgICAyMlx0XHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxuICAgIDIzXHR9XG4gICAgMjRcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIxMDQxYmM2NS1mN2YyLTQ1OGUtOTYyMC03YWFhYzNmYThhNTU7dG9vbHVfdnJ0eF8wMTREZTZwWjZyWVFvQ2lSVzVrR3EzWUEiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiTm90ZTpcbkVuZCBsaW5lIDUwIGV4Y2VlZHMgZmlsZSBsZW5ndGggKDQ3KS4gQWRqdXN0ZWQgdG8gNDcuXG5cbkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc2VydmVyL3NlcnZlci5nbzpcbiAgICAgMVx0cGFja2FnZSBzZXJ2ZXJcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCAoXG4gICAgIDRcdFx0XCJxdWl6enktY2xhc3Nyb29tL2hhbmRsZXJcIlxuICAgICA1XHRcdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG4gICAgIDZcdFx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcbiAgICAgN1x0XHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG4gICAgIDhcdFx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuICAgICA5XHRcdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcbiAgICAxMFx0XG4gICAgMTFcdFx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuICAgIDEyXHRcdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyL21pZGRsZXdhcmUvcmVjb3ZlclwiXG4gICAgMTNcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuICAgIDE0XHRcdFwiZ28udWJlci5vcmcvemFwXCJcbiAgICAxNVx0KVxuICAgIDE2XHRcbiAgICAxN1x0ZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuICAgIDE4XHRcdGFwcCA6PSBmaWJlci5OZXcoZmliZXIuQ29uZmlne1xuICAgIDE5XHRcdFx0RW5hYmxlUHJpbnRSb3V0ZXM6IHRydWUsXG4gICAgMjBcdFx0fSlcbiAgICAyMVx0XHRhcHAuVXNlKHJlY292ZXIuTmV3KCkpXG4gICAgMjJcdFxuICAgIDIzXHRcdHByb3ZpZGVyLCBlcnIgOj0gcHJvdmlkZXIuSW5pdChzZXJ2aWNlQ29uZmlnKVxuICAgIDI0XHRcdGlmIGVyciAhPSBuaWwge1xuICAgIDI1XHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG4gICAgMjZcdFx0XHRyZXR1cm5cbiAgICAyN1x0XHR9XG4gICAgMjhcdFx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcbiAgICAyOVx0XHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcbiAgICAzMFx0XHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICB1c2VjYXNlLk5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzFcdFx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzMlx0XHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzNcdFx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzRcdFx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzNVx0XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM2XHRcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM3XHRcdH0pXG4gICAgMzhcdFxuICAgIDM5XHRcdEluaXRSb3V0ZXIoYXBwLCBoYW5kbGVyKVxuICAgIDQwXHRcdHV0aWwuSW5pdFZhbGlkYXRlKClcbiAgICA0MVx0XG4gICAgNDJcdFx0aWYgZXJyIDo9IGFwcC5MaXN0ZW4oXCI6XCIgKyBzZXJ2aWNlQ29uZmlnLlBvcnQpOyBlcnIgIT0gbmlsIHtcbiAgICA0M1x0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBzdGFydCBzZXJ2ZXJcIiwgemFwLkVycm9yKGVycikpXG4gICAgNDRcdFx0XHRyZXR1cm5cbiAgICA0NVx0XHR9XG4gICAgNDZcdH1cbiAgICA0N1x0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA0N1xuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMjIzY2RjMGYtY2Y5Ny00ZTQ3LWEzODEtN2RkZTkwNTM4ZDZkO3Rvb2x1X3ZydHhfMDEyb1JVOW9HdHJRZnZaWDczaE5vSFFlIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc2VydmVyL3NlcnZlci5nby5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDI1XHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG4gICAgMjZcdFx0XHRyZXR1cm5cbiAgICAyN1x0XHR9XG4gICAgMjhcdFx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcbiAgICAyOVx0XHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcbiAgICAzMFx0XHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICB1c2VjYXNlLk5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzFcdFx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzMlx0XHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzNcdFx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzRcdFx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzNVx0XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM2XHRcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM3XHRcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZTogIHVzZWNhc2UuTmV3RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzOFx0XHR9KVxuICAgIDM5XHRcbiAgICA0MFx0XHRJbml0Um91dGVyKGFwcCwgaGFuZGxlcilcbiAgICA0MVx0XHR1dGlsLkluaXRWYWxpZGF0ZSgpXG4gICAgNDJcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19fSwiZHJhZnRFeGNoYW5nZSI6eyJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIn1dfSwic3RhdHVzIjoiZHJhZnQifSwiZHJhZnRBY3RpdmVDb250ZXh0SWRzIjpbIi86TDAtMCIsIi9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tL2NtZC9zZXJ2ZS5nbyIsIi9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tZmFsc2VmYWxzZSIsImFnZW50TWVtb3JpZXMiXSwicmVxdWVzdElkcyI6W10sImlzUGlubmVkIjpmYWxzZSwiaXNTaGFyZWFibGUiOnRydWUsImV4dHJhRGF0YSI6eyJpc0FnZW50Q29udmVyc2F0aW9uIjp0cnVlLCJoYXNEaXJ0eUVkaXRzIjp0cnVlfX0sIjRkZDE3ZGY0LWFiYTctNDA4MC05N2Y5LWE0Yjc1ZGFiMzY0ZSI6eyJpZCI6IjRkZDE3ZGY0LWFiYTctNDA4MC05N2Y5LWE0Yjc1ZGFiMzY0ZSIsImNyZWF0ZWRBdElzbyI6IjIwMjUtMDQtMjFUMTY6MzU6MjUuNjgwWiIsImxhc3RJbnRlcmFjdGVkQXRJc28iOiIyMDI1LTA0LTIxVDE2OjQ2OjAxLjQ0N1oiLCJjaGF0SGlzdG9yeSI6W3sic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIwOTljN2I4Yy0xMDI3LTQ1MjItYWM0ZS0wNjA5YTU4MmI0Y2EiLCJyZXF1ZXN0X21lc3NhZ2UiOiJ0aMOqbSBhcGkgbOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkcOjIHRoYW0gZ2lhIHbhu5tpIHZhaSB0csOyIGzDoCBDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJ0aMOqbSBhcGkgbOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkcOjIHRoYW0gZ2lhIHbhu5tpIHZhaSB0csOyIGzDoCBDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxUGlkem9BUjVhOXRkQXRSUG1pNXJaUSIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiU2hvdyBtZSB0aGUgZW50aXR5L2NsYXNzcm9vbV9tZW1iZXIuZ28gZmlsZSB0byB1bmRlcnN0YW5kIHRoZSBDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCBkZWZpbml0aW9uIGFuZCByZWxhdGVkIHN0cnVjdHVyZXNcIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkknbGwgaGVscCB5b3UgYWRkIGFuIEFQSSB0byBmaWx0ZXIgdGhlIGxpc3Qgb2YgY2xhc3Nyb29tcyB3aGVyZSB0aGUgdXNlciBoYXMgcGFydGljaXBhdGVkIHdpdGggdGhlIHJvbGUgb2YgQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQuIExldCBtZSBmaXJzdCBnYXRoZXIgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGNvZGViYXNlIHRvIHVuZGVyc3RhbmQgdGhlIGN1cnJlbnQgaW1wbGVtZW50YXRpb24uXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjowLCJ0ZXh0X25vZGUiOnsiY29udGVudCI6InRow6ptIGFwaSBs4buNYyBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRw6MgdGhhbSBnaWEgduG7m2kgdmFpIHRyw7IgbMOgIENsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiSSdsbCBoZWxwIHlvdSBhZGQgYW4gQVBJIHRvIGZpbHRlciB0aGUgbGlzdCBvZiBjbGFzc3Jvb21zIHdoZXJlIHRoZSB1c2VyIGhhcyBwYXJ0aWNpcGF0ZWQgd2l0aCB0aGUgcm9sZSBvZiBDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudC4gTGV0IG1lIGZpcnN0IGdhdGhlciBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY29kZWJhc2UgdG8gdW5kZXJzdGFuZCB0aGUgY3VycmVudCBpbXBsZW1lbnRhdGlvbi5cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIwMzVjMjg4MC0xMDQ2LTQ3NDktYmJkZC00MGEyMzQ4OGE5OGYiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDExd1ZhdlNkVm1vRkVpblQ4MXJ1SkZSIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJTaG93IG1lIHRoZSByb3V0ZXIgc2V0dXAgYW5kIGFueSBleGlzdGluZyByZXBvc2l0b3J5IG1ldGhvZHMgZm9yIGZpbHRlcmluZyBjbGFzc3Jvb21zIGJ5IG1lbWJlciByb2xlXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQgbWUgZ2F0aGVyIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHJlcG9zaXRvcnkgYW5kIHJvdXRlciBzdHJ1Y3R1cmUgdG8gdW5kZXJzdGFuZCBob3cgdG8gaW1wbGVtZW50IHRoZSBuZXcgQVBJLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyUm9sZSBzdHJpbmdcblxuY29uc3QgKFxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlciBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJ0ZWFjaGVyXCJcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwic3R1ZGVudFwiXG4pXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyIHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cdENsYXNzcm9vbUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJjbGFzc3Jvb21faWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFVzZXJJRCAgICAgIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJ1c2VyX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRSb2xlICAgICAgICBDbGFzc3Jvb21NZW1iZXJSb2xlIGBqc29uOlwicm9sZVwiYFxuXHRJbnZpdGVkQnlJRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiaW52aXRlZF9ieV9pZFwiYFxufVxuXG5mdW5jIChjIENsYXNzcm9vbU1lbWJlcikgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVyc1wiXG59XG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tRW50aXR5IHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cblx0VXNlcklEICAgIHN0cmluZyBganNvbjpcInVzZXJfaWRcImBcblx0TmFtZSAgICAgIHN0cmluZyBganNvbjpcIm5hbWVcImBcblx0QXZhdGFyVXJsIHN0cmluZyBganNvbjpcImF2YXRhcl91cmxcImBcbn1cblxuZnVuYyAoYyAqQ2xhc3Nyb29tRW50aXR5KSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXNcIlxufVxuLi4uXG5QYXRoOiBlbnRpdHkvaW52aXRhdGlvbi5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuXG50eXBlIEludml0YXRpb25TdGF0dXMgc3RyaW5nXG5cbmNvbnN0IChcblx0SW52aXRhdGlvblN0YXR1c1BlbmRpbmcgIEludml0YXRpb25TdGF0dXMgPSBcInBlbmRpbmdcIlxuXHRJbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwiYWNjZXB0ZWRcIlxuXHRJbnZpdGF0aW9uU3RhdHVzUmVqZWN0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwicmVqZWN0ZWRcIlxuKVxuXG50eXBlIEludml0YXRpb25FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiYFxuXHRTZW5kZXJJRCAgICBzdHJpbmcgICAgICAgICAgIGBqc29uOlwic2VuZGVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFJlY2VpdmVySUQgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJyZWNlaXZlcl9pZFwiIGdvcm06XCJpbmRleFwiYFxuXHRTdGF0dXMgICAgICBJbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgZ29ybTpcImluZGV4XCJgXG59XG5cbmZ1bmMgKEludml0YXRpb25FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7IHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uaW52aXRhdGlvbnNcIiB9XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdvcm0uaW8vZ29ybS9jbGF1c2VcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Ige1xuXHQvLyBT4butIGThu6VuZyBjbGF1c2UuT25Db25mbGljdCgpLkRvTm90aGluZygpIMSR4buDIHRyw6FuaCBs4buXaSBraGkgdGjDqm0gdGjDoG5oIHZpw6puIMSRw6MgdOG7k24gdOG6oWlcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5cblx0XHRDbGF1c2VzKGNsYXVzZS5PbkNvbmZsaWN0e0RvTm90aGluZzogdHJ1ZX0pLlxuXHRcdENyZWF0ZShtZW1iZXIpLkVycm9yXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbU1lbWJlcnMgW11lbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWRcIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tTWVtYmVycykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tTWVtYmVyc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgcmVxXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tUmVxdWVzdCBzdHJ1Y3Qge1xuXHROYW1lICAgICAgKnN0cmluZyBganNvbjpcIm5hbWVcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdEF2YXRhclVybCAqc3RyaW5nIGBqc29uOlwiYXZhdGFyX3VybFwiIHZhbGlkYXRlOlwicmVxdWlyZWQsdXJsXCJgXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIEludml0ZU1lbWJlclJlcXVlc3Qgc3RydWN0IHtcblx0Q2xhc3Nyb29tSUQgKnN0cmluZyBganNvbjpcImNsYXNzcm9vbV9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0UmVjZWl2ZXJJRCAgKnN0cmluZyBganNvbjpcInJlY2VpdmVyX2lkXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuKVxuXG50eXBlIEZpbHRlckludml0ZWRNZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG5cdFN0YXR1cyAqZW50aXR5Lkludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBxdWVyeTpcInN0YXR1c1wiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tcyBbXWVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInVzZXJfaWQgPSA/XCIsIHVzZXJJRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9pc19jbGFzc3Jvb21fb3duZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpIHtcblx0dmFyIGNsYXNzcm9vbSBlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJpZCA9ID8gQU5EIHVzZXJfaWQgPSA/XCIsIGNsYXNzcm9vbUlELCB1c2VySUQpLlxuXHRcdEZpcnN0KCZjbGFzc3Jvb20pLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBO4bq/dSBraMO0bmcgdMOsbSB0aOG6pXkgYuG6o24gZ2hpLCBjw7MgbmdoxKlhIGzDoCBuZ8aw4budaSBkw7luZyBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691XG5cdFx0cmV0dXJuIGZhbHNlLCBuaWxcblx0fVxuXHRyZXR1cm4gdHJ1ZSwgbmlsXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2V7UmVwbzogcmVwb31cbn1cblxuZnVuYyAoZiAqZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IGYuUmVwby5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBjbGFzc3Jvb20gbWVtYmVyc1wiLCB6YXAuU3RyaW5nKFwiY2xhc3Nyb29tIGlkXCIsIGNsYXNzcm9vbUlEKSwgemFwLkVycm9yKChlcnIpKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9hY2NlcHRfaW52aXRhdGlvbi5nb1xuLi4uXG5cblx0aWYgZXJyIDo9IHUuUmVwby5DcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4LCAmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRDbGFzc3Jvb21JRDogaW52aXRhdGlvbi5DbGFzc3Jvb21JRCxcblx0XHRVc2VySUQ6ICAgICAgaW52aXRhdGlvbi5SZWNlaXZlcklELFxuXHRcdFJvbGU6ICAgICAgICBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQsXG5cdFx0SW52aXRlZEJ5SUQ6IGludml0YXRpb24uU2VuZGVySUQsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbSBtZW1iZXJcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0aWYgZXJyIDo9IHUuUmVwby5VcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCwgaW52aXRhdGlvbklELCBlbnRpdHkuSW52aXRhdGlvblN0YXR1c0FjY2VwdGVkKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIHVwZGF0ZSBpbnZpdGF0aW9uIHN0YXR1c1wiLCB6YXAuU3RyaW5nKFwiaW52aXRhdGlvbiBpZFwiLCBpbnZpdGF0aW9uSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkNyZWF0ZUNsYXNzcm9vbVJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gci5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e1xuXHRcdFVzZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdE5hbWU6ICAgICAgdmFsdWUuR2V0VmFsdWUoYm9keS5OYW1lLCBcIlwiKSxcblx0XHRBdmF0YXJVcmw6IHZhbHVlLkdldFZhbHVlKGJvZHkuQXZhdGFyVXJsLCBcIlwiKSxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IHIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG5cbnR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcblx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Jcblx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcblx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXG5cdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIHJlcG9zaXRvcnlJbXBsIHN0cnVjdCB7XG5cdFByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlclxufVxuXG5mdW5jIE5ldyhwcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXIpIFJlcG9zaXRvcnkge1xuXHRyZXR1cm4gJnJlcG9zaXRvcnlJbXBse1xuXHRcdFByb3ZpZGVyOiBwcm92aWRlcixcblx0fVxufVxuLi4uXG5QYXRoOiBtaWdyYXRlL21pZ3JhdGUuZ29cbnBhY2thZ2UgbWlncmF0ZVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxuZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuXHRwcm92aWRlciwgZXJyIDo9IHByb3ZpZGVyLkluaXQoc2VydmljZUNvbmZpZylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRpZiBlcnIgOj0gcHJvdmlkZXIuRGIuQXV0b01pZ3JhdGUoXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21FbnRpdHl7fSxcblx0XHQmZW50aXR5LkNsYXNzcm9vbU1lbWJlcnt9LFxuXHRcdCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9LFxuXHQpOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gbWlncmF0ZSBkYXRhYmFzZVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuXG5cdGxvZ2dlci5JbmZvKFwibWlncmF0ZSBkYXRhYmFzZSBzdWNjZXNzXCIpXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRfIFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSB7XG5cdHJldHVybiAmY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jIChjICpjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0aWYgZXJyIDo9IGMuUmVwby5DcmVhdGVDbGFzc3Jvb20oY3R4LCBjbGFzc3Jvb20pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBib2R5IHJlcS5JbnZpdGVNZW1iZXJSZXF1ZXN0XG5cblx0aWYgZXJyIDo9IGMuQm9keVBhcnNlcigmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IGguSW52aXRlTWVtYmVyVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5Lkludml0YXRpb25FbnRpdHl7XG5cdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGJvZHkuQ2xhc3Nyb29tSUQsIFwiXCIpLFxuXHRcdFNlbmRlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0UmVjZWl2ZXJJRDogIHZhbHVlLkdldFZhbHVlKGJvZHkuUmVjZWl2ZXJJRCwgXCJcIiksXG5cdFx0U3RhdHVzOiAgICAgIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZyxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRzd2l0Y2gge1xuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyclJlY2VpdmVyQWxyZWFkeUhhc0ludml0YXRpb24pOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgxJFhbmcgY2jhu50geOG7rSBsw70gaG/hurdjIMSRw6MgxJHGsOG7o2MgY2jhuqVwIG5o4bqtblwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBJbnZpdGVNZW1iZXJVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgaW52aXRlTWVtYmVyVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBJbnZpdGVNZW1iZXJVc2VDYXNlIHtcblx0cmV0dXJuICZpbnZpdGVNZW1iZXJVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKmludml0ZU1lbWJlclVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvciB7XG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgY2xhc3Nyb29tIGtow7RuZ1xuXHRpc093bmVyLCBlcnIgOj0gdS5SZXBvLklzQ2xhc3Nyb29tT3duZXIoY3R4LCBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELCBpbnZpdGF0aW9uLlNlbmRlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgY2xhc3Nyb29tIG93bmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmICFpc093bmVyIHtcblx0XHRyZXR1cm4gcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyXG5cdH1cblxuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgbsOgbyDEkWFuZyDhu58gdHLhuqFuZyB0aMOhaSBwZW5kaW5nIGhv4bq3YyBhY2NlcHRlZCBjaMawYVxuXHRleGlzdHMsIGVyciA6PSB1LlJlcG8uSXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4LCBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELCBpbnZpdGF0aW9uLlJlY2VpdmVySUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjaGVjayBleGlzdGluZyBpbnZpdGF0aW9uXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmIGV4aXN0cyB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uXG5cdH1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGNsYXNzcm9vbSBraMO0bmdcblx0aXNPd25lciwgZXJyIDo9IHUuUmVwby5Jc0NsYXNzcm9vbU93bmVyKGN0eCwgY2xhc3Nyb29tSUQsIHVzZXJJRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNoZWNrIGNsYXNzcm9vbSBvd25lclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdGlmICFpc093bmVyIHtcblx0XHRyZXR1cm4gbmlsLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXJcblx0fVxuXG5cdC8vIEzhuqV5IGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgbeG7nWlcblx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckludml0ZWRNZW1iZXJzKGN0eCwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBpbnZpdGVkIG1lbWJlcnNcIiwgemFwLlN0cmluZyhcImNsYXNzcm9vbSBpZFwiLCBjbGFzc3Jvb21JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaGFuZGxlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbnR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTeG7nWkgdGjDoG5oIHZpw6puIHbDoG8gbOG7m3AgaOG7jWNcblx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcblx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG5cdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBDaOG6pXAgbmjhuq1uIGzhu51pIG3hu51pXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3Vcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJPd25lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6cuLi4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFQaWR6b0FSNWE5dGRBdFJQbWk1clpRIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTGV0IG1lIGdhdGhlciBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZSByZXBvc2l0b3J5IGFuZCByb3V0ZXIgc3RydWN0dXJlIHRvIHVuZGVyc3RhbmQgaG93IHRvIGltcGxlbWVudCB0aGUgbmV3IEFQSS5cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI1ZWU1YzNhNi0yMzYxLTQ3YTYtODJiNS02NGFlNWViZDAxZDgiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE3Tk12QTNjU01NeUFRTm1GVHJibmtzIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJTaG93IG1lIGFueSBleGlzdGluZyBjb2RlIHJlbGF0ZWQgdG8gam9pbmVkIGNsYXNzcm9vbXMgb3IgZmlsdGVyaW5nIGNsYXNzcm9vbXMgYnkgbWVtYmVyIHJvbGVcIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSBjaGVjayBpZiB0aGVyZSBhcmUgYW55IGV4aXN0aW5nIG1ldGhvZHMgZm9yIGpvaW5pbmcgY2xhc3Nyb29tcyBvciByZWxhdGVkIGZ1bmN0aW9uYWxpdHk6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBzZXJ2ZXIvcm91dGVyLmdvXG4uLi5cblxuZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xuXHRjbGFzc3Jvb21Hcm91cCA6PSBhcHAuR3JvdXAoXCIvY2xhc3Nyb29tXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvaW52aXRlXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycylcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi9vd25lZFwiLCBoYW5kbGVyLkZpbHRlck93bmVkQ2xhc3Nyb29tcylcblxuXHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IHIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tTWVtYmVycyBbXWVudGl0eS5DbGFzc3Jvb21NZW1iZXJcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZFwiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21NZW1iZXJzKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21NZW1iZXJzXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21zIFtdZW50aXR5LkNsYXNzcm9vbUVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwidXNlcl9pZCA9ID9cIiwgdXNlcklEKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbXMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbXNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJPd25lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvXG4uLi5cblxudHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxuXHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxuXHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuXHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Jcblx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Jcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcblx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG59XG5cbmZ1bmMgTmV3KHByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlcikgUmVwb3NpdG9yeSB7XG5cdHJldHVybiAmcmVwb3NpdG9yeUltcGx7XG5cdFx0UHJvdmlkZXI6IHByb3ZpZGVyLFxuXHR9XG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2V7UmVwbzogcmVwb31cbn1cblxuZnVuYyAoZiAqZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IGYuUmVwby5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBjbGFzc3Jvb20gbWVtYmVyc1wiLCB6YXAuU3RyaW5nKFwiY2xhc3Nyb29tIGlkXCIsIGNsYXNzcm9vbUlEKSwgemFwLkVycm9yKChlcnIpKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBjbGFzc3Jvb21faWQgdOG7qyBVUkxcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcXVlcnkgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksIHF1ZXJ5KVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0aWYgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKSB7XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHR9XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuLi4uXG5QYXRoOiBoYW5kbGVyL2hhbmRsZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG50eXBlIEhhbmRsZXIgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAvLyBM4buNYyB0aMOgbmggdmnDqm4gY+G7p2EgbOG7m3AgaOG7jWNcblx0SW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgIC8vIE3hu51pIHRow6BuaCB2acOqbiB2w6BvIGzhu5twIGjhu41jXG5cdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG5cdFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBU4burIGNo4buRaSBs4budaSBt4budaVxuXHRBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gQ2jhuqVwIG5o4bqtbiBs4budaSBt4budaVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxuXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691XG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0Ly8gS2nhu4NtIHRyYSB4ZW0gbmfGsOG7nWkgZMO5bmcgY8OzIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBjbGFzc3Jvb20ga2jDtG5nXG5cdGlzT3duZXIsIGVyciA6PSB1LlJlcG8uSXNDbGFzc3Jvb21Pd25lcihjdHgsIGNsYXNzcm9vbUlELCB1c2VySUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjaGVjayBjbGFzc3Jvb20gb3duZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRpZiAhaXNPd25lciB7XG5cdFx0cmV0dXJuIG5pbCwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyXG5cdH1cblxuXHQvLyBM4bqleSBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIG3hu51pXG5cdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHgsIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgaW52aXRlZCBtZW1iZXJzXCIsIHphcC5TdHJpbmcoXCJjbGFzc3Jvb20gaWRcIiwgY2xhc3Nyb29tSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiBlbnRpdHkvY2xhc3Nyb29tX21lbWJlci5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblxudHlwZSBDbGFzc3Jvb21NZW1iZXJSb2xlIHN0cmluZ1xuXG5jb25zdCAoXG5cdENsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyIENsYXNzcm9vbU1lbWJlclJvbGUgPSBcInRlYWNoZXJcIlxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJzdHVkZW50XCJcbilcblxudHlwZSBDbGFzc3Jvb21NZW1iZXIgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiIGdvcm06XCJ1bmlxdWVJbmRleDppZHhfY2xhc3Nyb29tX3VzZXJcImBcblx0VXNlcklEICAgICAgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcInVzZXJfaWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFJvbGUgICAgICAgIENsYXNzcm9vbU1lbWJlclJvbGUgYGpzb246XCJyb2xlXCJgXG5cdEludml0ZWRCeUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJpbnZpdGVkX2J5X2lkXCJgXG59XG5cbmZ1bmMgKGMgQ2xhc3Nyb29tTWVtYmVyKSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbV9tZW1iZXJzXCJcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tRW50aXR5IHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cblx0VXNlcklEICAgIHN0cmluZyBganNvbjpcInVzZXJfaWRcImBcblx0TmFtZSAgICAgIHN0cmluZyBganNvbjpcIm5hbWVcImBcblx0QXZhdGFyVXJsIHN0cmluZyBganNvbjpcImF2YXRhcl91cmxcImBcbn1cblxuZnVuYyAoYyAqQ2xhc3Nyb29tRW50aXR5KSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXNcIlxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuKVxuXG50eXBlIEZpbHRlckludml0ZWRNZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG5cdFN0YXR1cyAqZW50aXR5Lkludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBxdWVyeTpcInN0YXR1c1wiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnb3JtLmlvL2dvcm0vY2xhdXNlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yIHtcblx0Ly8gU+G7rSBk4bulbmcgY2xhdXNlLk9uQ29uZmxpY3QoKS5Eb05vdGhpbmcoKSDEkeG7gyB0csOhbmggbOG7l2kga2hpIHRow6ptIHRow6BuaCB2acOqbiDEkcOjIHThu5NuIHThuqFpXG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuXG5cdFx0Q2xhdXNlcyhjbGF1c2UuT25Db25mbGljdHtEb05vdGhpbmc6IHRydWV9KS5cblx0XHRDcmVhdGUobWVtYmVyKS5FcnJvclxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRhdGlvbnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiBlbnRpdHkvaW52aXRhdGlvbi5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuXG50eXBlIEludml0YXRpb25TdGF0dXMgc3RyaW5nXG5cbmNvbnN0IChcblx0SW52aXRhdGlvblN0YXR1c1BlbmRpbmcgIEludml0YXRpb25TdGF0dXMgPSBcInBlbmRpbmdcIlxuXHRJbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwiYWNjZXB0ZWRcIlxuXHRJbnZpdGF0aW9uU3RhdHVzUmVqZWN0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwicmVqZWN0ZWRcIlxuKVxuXG50eXBlIEludml0YXRpb25FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiYFxuXHRTZW5kZXJJRCAgICBzdHJpbmcgICAgICAgICAgIGBqc29uOlwic2VuZGVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFJlY2VpdmVySUQgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJyZWNlaXZlcl9pZFwiIGdvcm06XCJpbmRleFwiYFxuXHRTdGF0dXMgICAgICBJbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgZ29ybTpcImluZGV4XCJgXG59XG5cbmZ1bmMgKEludml0YXRpb25FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7IHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uaW52aXRhdGlvbnNcIiB9XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVxXG5cbnR5cGUgSW52aXRlTWVtYmVyUmVxdWVzdCBzdHJ1Y3Qge1xuXHRDbGFzc3Jvb21JRCAqc3RyaW5nIGBqc29uOlwiY2xhc3Nyb29tX2lkXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxuXHRSZWNlaXZlcklEICAqc3RyaW5nIGBqc29uOlwicmVjZWl2ZXJfaWRcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHlde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcImNyZWF0ZWRfYXQgREVTQ1wiKSwgLy8gTeG6t2MgxJHhu4tuaCBz4bqvcCB44bq/cCB0aGVvIG5nw6B5IHThuqFvIG3hu5tpIG5o4bqldFxuXHR9XG5cblx0cXVlcnkgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwicmVjZWl2ZXJfaWQgPSA/XCIsIHJlY2VpdmVySUQpXG5cblx0Ly8gTOG7jWMgdGhlbyBzdGF0dXMgbuG6v3UgY8OzXG5cdGlmIHBhcmFtcy5TdGF0dXMgIT0gbmlsIHtcblx0XHRxdWVyeSA9IHF1ZXJ5LldoZXJlKFwic3RhdHVzID0gP1wiLCAqcGFyYW1zLlN0YXR1cylcblx0fVxuXG5cdHZhciBpbnZpdGF0aW9ucyBbXWVudGl0eS5JbnZpdGF0aW9uRW50aXR5XG5cdGlmIGVyciA6PSBxdWVyeS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmludml0YXRpb25zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgcmVxXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tUmVxdWVzdCBzdHJ1Y3Qge1xuXHROYW1lICAgICAgKnN0cmluZyBganNvbjpcIm5hbWVcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdEF2YXRhclVybCAqc3RyaW5nIGBqc29uOlwiYXZhdGFyX3VybFwiIHZhbGlkYXRlOlwicmVxdWlyZWQsdXJsXCJgXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvaXNfY2xhc3Nyb29tX293bmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKSB7XG5cdHZhciBjbGFzc3Jvb20gZW50aXR5LkNsYXNzcm9vbUVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiaWQgPSA/IEFORCB1c2VyX2lkID0gP1wiLCBjbGFzc3Jvb21JRCwgdXNlcklEKS5cblx0XHRGaXJzdCgmY2xhc3Nyb29tKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gTuG6v3Uga2jDtG5nIHTDrG0gdGjhuqV5IGLhuqNuIGdoaSwgY8OzIG5naMSpYSBsw6AgbmfGsOG7nWkgZMO5bmcga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdVxuXHRcdHJldHVybiBmYWxzZSwgbmlsXG5cdH1cblx0cmV0dXJuIHRydWUsIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2FjY2VwdF9pbnZpdGF0aW9uLmdvXG4uLi5cblxuXHRpZiBlcnIgOj0gdS5SZXBvLkNyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHgsICZlbnRpdHkuQ2xhc3Nyb29tTWVtYmVye1xuXHRcdENsYXNzcm9vbUlEOiBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELFxuXHRcdFVzZXJJRDogICAgICBpbnZpdGF0aW9uLlJlY2VpdmVySUQsXG5cdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCxcblx0XHRJbnZpdGVkQnlJRDogaW52aXRhdGlvbi5TZW5kZXJJRCxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2xhc3Nyb29tIG1lbWJlclwiLCB6YXAuU3RyaW5nKFwiaW52aXRhdGlvbiBpZFwiLCBpbnZpdGF0aW9uSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRpZiBlcnIgOj0gdS5SZXBvLlVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4LCBpbnZpdGF0aW9uSUQsIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWQpOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gdXBkYXRlIGludml0YXRpb24gc3RhdHVzXCIsIHphcC5TdHJpbmcoXCJpbnZpdGF0aW9uIGlkXCIsIGludml0YXRpb25JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdHJldHVybiBuaWxcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9pbnZpdGVfbWVtYmVyLmdvXG4uLi5cblxuXHRpZiBlcnIgOj0gaC5JbnZpdGVNZW1iZXJVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXtcblx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoYm9keS5DbGFzc3Jvb21JRCwgXCJcIiksXG5cdFx0U2VuZGVySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHRSZWNlaXZlcklEOiAgdmFsdWUuR2V0VmFsdWUoYm9keS5SZWNlaXZlcklELCBcIlwiKSxcblx0XHRTdGF0dXM6ICAgICAgZW50aXR5Lkludml0YXRpb25TdGF0dXNQZW5kaW5nLFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvbik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcIm5nxrDhu51pIG5o4bqtbiDEkcOjIGPDsyBs4budaSBt4budaSDEkWFuZyBjaOG7nSB44butIGzDvSBob+G6t2MgxJHDoyDEkcaw4bujYyBjaOG6pXAgbmjhuq1uXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvaW52aXRlX21lbWJlci5nb1xuLi4uXG5cbmZ1bmMgKHUgKmludml0ZU1lbWJlclVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvciB7XG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgY2xhc3Nyb29tIGtow7RuZ1xuXHRpc093bmVyLCBlcnIgOj0gdS5SZXBvLklzQ2xhc3Nyb29tT3duZXIoY3R4LCBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELCBpbnZpdGF0aW9uLlNlbmRlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgY2xhc3Nyb29tIG93bmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmICFpc093bmVyIHtcblx0XHRyZXR1cm4gcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyXG5cdH1cblxuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgbsOgbyDEkWFuZyDhu58gdHLhuqFuZyB0aMOhaSBwZW5kaW5nIGhv4bq3YyBhY2NlcHRlZCBjaMawYVxuXHRleGlzdHMsIGVyciA6PSB1LlJlcG8uSXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4LCBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELCBpbnZpdGF0aW9uLlJlY2VpdmVySUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjaGVjayBleGlzdGluZyBpbnZpdGF0aW9uXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmIGV4aXN0cyB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uXG5cdH1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Li4uIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMXdWYXZTZFZtb0ZFaW5UODFydUpGUiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkxldCBtZSBjaGVjayBpZiB0aGVyZSBhcmUgYW55IGV4aXN0aW5nIG1ldGhvZHMgZm9yIGpvaW5pbmcgY2xhc3Nyb29tcyBvciByZWxhdGVkIGZ1bmN0aW9uYWxpdHk6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiYjQwYzg5MTUtN2JhMy00OGQyLWJlYjgtYzY1YTgzZWZlYjE1IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNEFFRzRGdlBMV3MzclkxU2RNNDNjNiIsInRvb2xfbmFtZSI6InNhdmUtZmlsZSIsImlucHV0X2pzb24iOiJ7XCJmaWxlX3BhdGhcIjogXCJtb2RlbC9yZXEvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zLmdvXCIsIFwiZmlsZV9jb250ZW50XCI6IFwicGFja2FnZSByZXFcXG5cXG5pbXBvcnQgXFxcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVxcXCJcXG5cXG50eXBlIEZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEgc3RydWN0IHtcXG5cXHRyZXEuUGFnaW5hdGlvblJlcVxcbn1cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6Ik5vdyBJIGhhdmUgYSBnb29kIHVuZGVyc3RhbmRpbmcgb2YgdGhlIGNvZGViYXNlLiBMZXQgbWUgY3JlYXRlIGEgZGV0YWlsZWQgcGxhbiBmb3IgaW1wbGVtZW50aW5nIHRoZSBBUEkgdG8gZmlsdGVyIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaGFzIHBhcnRpY2lwYXRlZCB3aXRoIHRoZSByb2xlIG9mIENsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50LlxuXG4jIyBEZXRhaWxlZCBQbGFuXG5cbjEuIENyZWF0ZSBhIG5ldyByZXF1ZXN0IG1vZGVsIGZvciBmaWx0ZXJpbmcgam9pbmVkIGNsYXNzcm9vbXNcbjIuIEFkZCBhIG5ldyByZXBvc2l0b3J5IG1ldGhvZCB0byBmaWx0ZXIgY2xhc3Nyb29tcyBieSBtZW1iZXIgcm9sZVxuMy4gQ3JlYXRlIGEgbmV3IHVzZSBjYXNlIGZvciBmaWx0ZXJpbmcgam9pbmVkIGNsYXNzcm9vbXNcbjQuIEFkZCBhIG5ldyBoYW5kbGVyIG1ldGhvZCBmb3IgdGhlIEFQSSBlbmRwb2ludFxuNS4gVXBkYXRlIHRoZSBoYW5kbGVyIGludGVyZmFjZSBhbmQgaW1wbGVtZW50YXRpb25cbjYuIFJlZ2lzdGVyIHRoZSBuZXcgcm91dGUgaW4gdGhlIHJvdXRlclxuXG5MZXQncyBzdGFydCBpbXBsZW1lbnRpbmc6XG5cbiMjIyAxLiBDcmVhdGUgYSBuZXcgcmVxdWVzdCBtb2RlbCBmb3IgZmlsdGVyaW5nIGpvaW5lZCBjbGFzc3Jvb21zXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IHIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21zIFtdZW50aXR5LkNsYXNzcm9vbUVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwidXNlcl9pZCA9ID9cIiwgdXNlcklEKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbXMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbXNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG4uLi5cblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBjbGFzc3Jvb21faWQgdOG7qyBVUkxcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcXVlcnkgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksIHF1ZXJ5KVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0aWYgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKSB7XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHR9XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuLi4uXG5QYXRoOiBzZXJ2ZXIvcm91dGVyLmdvXG4uLi5cblxuZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xuXHRjbGFzc3Jvb21Hcm91cCA6PSBhcHAuR3JvdXAoXCIvY2xhc3Nyb29tXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvaW52aXRlXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycylcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi9vd25lZFwiLCBoYW5kbGVyLkZpbHRlck93bmVkQ2xhc3Nyb29tcylcblxuXHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgY2xhc3Nyb29tIGtow7RuZ1xuXHRpc093bmVyLCBlcnIgOj0gdS5SZXBvLklzQ2xhc3Nyb29tT3duZXIoY3R4LCBjbGFzc3Jvb21JRCwgdXNlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgY2xhc3Nyb29tIG93bmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0aWYgIWlzT3duZXIge1xuXHRcdHJldHVybiBuaWwsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lclxuXHR9XG5cblx0Ly8gTOG6pXkgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyBt4budaVxuXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVySW52aXRlZE1lbWJlcnMoY3R4LCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGludml0ZWQgbWVtYmVyc1wiLCB6YXAuU3RyaW5nKFwiY2xhc3Nyb29tIGlkXCIsIGNsYXNzcm9vbUlEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21NZW1iZXJzIFtdZW50aXR5LkNsYXNzcm9vbU1lbWJlclxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkXCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbU1lbWJlcnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbU1lbWJlcnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBvd25lZCBjbGFzc3Jvb21zXCIsIHphcC5TdHJpbmcoXCJ1c2VyIGlkXCIsIHVzZXJJRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Ugc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNle1JlcG86IHJlcG99XG59XG5cbmZ1bmMgKGYgKmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHRyZXN1bHQsIGVyciA6PSBmLlJlcG8uRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHgsIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgY2xhc3Nyb29tIG1lbWJlcnNcIiwgemFwLlN0cmluZyhcImNsYXNzcm9vbSBpZFwiLCBjbGFzc3Jvb21JRCksIHphcC5FcnJvcigoZXJyKSkpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaGFuZGxlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbnR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTeG7nWkgdGjDoG5oIHZpw6puIHbDoG8gbOG7m3AgaOG7jWNcblx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcblx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG5cdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBDaOG6pXAgbmjhuq1uIGzhu51pIG3hu51pXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3Vcbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyUm9sZSBzdHJpbmdcblxuY29uc3QgKFxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlciBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJ0ZWFjaGVyXCJcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwic3R1ZGVudFwiXG4pXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyIHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cdENsYXNzcm9vbUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJjbGFzc3Jvb21faWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFVzZXJJRCAgICAgIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJ1c2VyX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRSb2xlICAgICAgICBDbGFzc3Jvb21NZW1iZXJSb2xlIGBqc29uOlwicm9sZVwiYFxuXHRJbnZpdGVkQnlJRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiaW52aXRlZF9ieV9pZFwiYFxufVxuXG5mdW5jIChjIENsYXNzcm9vbU1lbWJlcikgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVyc1wiXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2lzX2NsYXNzcm9vbV9vd25lci5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgSXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY2xhc3Nyb29tIGVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImlkID0gPyBBTkQgdXNlcl9pZCA9ID9cIiwgY2xhc3Nyb29tSUQsIHVzZXJJRCkuXG5cdFx0Rmlyc3QoJmNsYXNzcm9vbSkuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdC8vIE7hur91IGtow7RuZyB0w6xtIHRo4bqleSBi4bqjbiBnaGksIGPDsyBuZ2jEqWEgbMOgIG5nxrDhu51pIGTDuW5nIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3Vcblx0XHRyZXR1cm4gZmFsc2UsIG5pbFxuXHR9XG5cdHJldHVybiB0cnVlLCBuaWxcbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbS5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblxudHlwZSBDbGFzc3Jvb21FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblxuXHRVc2VySUQgICAgc3RyaW5nIGBqc29uOlwidXNlcl9pZFwiYFxuXHROYW1lICAgICAgc3RyaW5nIGBqc29uOlwibmFtZVwiYFxuXHRBdmF0YXJVcmwgc3RyaW5nIGBqc29uOlwiYXZhdGFyX3VybFwiYFxufVxuXG5mdW5jIChjICpDbGFzc3Jvb21FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7XG5cdHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tc1wiXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiBlbnRpdHkvaW52aXRhdGlvbi5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuXG50eXBlIEludml0YXRpb25TdGF0dXMgc3RyaW5nXG5cbmNvbnN0IChcblx0SW52aXRhdGlvblN0YXR1c1BlbmRpbmcgIEludml0YXRpb25TdGF0dXMgPSBcInBlbmRpbmdcIlxuXHRJbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwiYWNjZXB0ZWRcIlxuXHRJbnZpdGF0aW9uU3RhdHVzUmVqZWN0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwicmVqZWN0ZWRcIlxuKVxuXG50eXBlIEludml0YXRpb25FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiYFxuXHRTZW5kZXJJRCAgICBzdHJpbmcgICAgICAgICAgIGBqc29uOlwic2VuZGVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFJlY2VpdmVySUQgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJyZWNlaXZlcl9pZFwiIGdvcm06XCJpbmRleFwiYFxuXHRTdGF0dXMgICAgICBJbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgZ29ybTpcImluZGV4XCJgXG59XG5cbmZ1bmMgKEludml0YXRpb25FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7IHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uaW52aXRhdGlvbnNcIiB9XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGF0aW9uc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9pc19pbnZpdGF0aW9uX2V4aXN0aW5nLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpIHtcblx0dmFyIGNvdW50IGludDY0XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0TW9kZWwoJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e30pLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkID0gPyBBTkQgcmVjZWl2ZXJfaWQgPSA/IEFORCBzdGF0dXMgSU4gP1wiLCBjbGFzc3Jvb21JRCwgcmVjZWl2ZXJJRCwgW11lbnRpdHkuSW52aXRhdGlvblN0YXR1c3tlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWR9KS5cblx0XHRDb3VudCgmY291bnQpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gZmFsc2UsIGVyclxuXHR9XG5cdHJldHVybiBjb3VudCA+IDAsIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnb3JtLmlvL2dvcm0vY2xhdXNlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yIHtcblx0Ly8gU+G7rSBk4bulbmcgY2xhdXNlLk9uQ29uZmxpY3QoKS5Eb05vdGhpbmcoKSDEkeG7gyB0csOhbmggbOG7l2kga2hpIHRow6ptIHRow6BuaCB2acOqbiDEkcOjIHThu5NuIHThuqFpXG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuXG5cdFx0Q2xhdXNlcyhjbGF1c2UuT25Db25mbGljdHtEb05vdGhpbmc6IHRydWV9KS5cblx0XHRDcmVhdGUobWVtYmVyKS5FcnJvclxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvaW52aXRlX21lbWJlci5nb1xuLi4uXG5cbmZ1bmMgKHUgKmludml0ZU1lbWJlclVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvciB7XG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgY2xhc3Nyb29tIGtow7RuZ1xuXHRpc093bmVyLCBlcnIgOj0gdS5SZXBvLklzQ2xhc3Nyb29tT3duZXIoY3R4LCBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELCBpbnZpdGF0aW9uLlNlbmRlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgY2xhc3Nyb29tIG93bmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmICFpc093bmVyIHtcblx0XHRyZXR1cm4gcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyXG5cdH1cblxuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgbsOgbyDEkWFuZyDhu58gdHLhuqFuZyB0aMOhaSBwZW5kaW5nIGhv4bq3YyBhY2NlcHRlZCBjaMawYVxuXHRleGlzdHMsIGVyciA6PSB1LlJlcG8uSXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4LCBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELCBpbnZpdGF0aW9uLlJlY2VpdmVySUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjaGVjayBleGlzdGluZyBpbnZpdGF0aW9uXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmIGV4aXN0cyB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uXG5cdH1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVxXG5cbnR5cGUgSW52aXRlTWVtYmVyUmVxdWVzdCBzdHJ1Y3Qge1xuXHRDbGFzc3Jvb21JRCAqc3RyaW5nIGBqc29uOlwiY2xhc3Nyb29tX2lkXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxuXHRSZWNlaXZlcklEICAqc3RyaW5nIGBqc29uOlwicmVjZWl2ZXJfaWRcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xuLi4uXG5cbnR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcblx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Jcblx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcblx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXG5cdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIHJlcG9zaXRvcnlJbXBsIHN0cnVjdCB7XG5cdFByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlclxufVxuXG5mdW5jIE5ldyhwcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXIpIFJlcG9zaXRvcnkge1xuXHRyZXR1cm4gJnJlcG9zaXRvcnlJbXBse1xuXHRcdFByb3ZpZGVyOiBwcm92aWRlcixcblx0fVxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXFcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21SZXF1ZXN0IHN0cnVjdCB7XG5cdE5hbWUgICAgICAqc3RyaW5nIGBqc29uOlwibmFtZVwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0QXZhdGFyVXJsICpzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCIgdmFsaWRhdGU6XCJyZXF1aXJlZCx1cmxcImBcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdF8gXCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIHtcblx0cmV0dXJuICZjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKGMgKmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRpZiBlcnIgOj0gYy5SZXBvLkNyZWF0ZUNsYXNzcm9vbShjdHgsIGNsYXNzcm9vbSk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2xhc3Nyb29tXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvYWNjZXB0X2ludml0YXRpb24uZ29cbi4uLlxuXG5cdGlmIGVyciA6PSB1LlJlcG8uQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCwgJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0Q2xhc3Nyb29tSUQ6IGludml0YXRpb24uQ2xhc3Nyb29tSUQsXG5cdFx0VXNlcklEOiAgICAgIGludml0YXRpb24uUmVjZWl2ZXJJRCxcblx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50LFxuXHRcdEludml0ZWRCeUlEOiBpbnZpdGF0aW9uLlNlbmRlcklELFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb20gbWVtYmVyXCIsIHphcC5TdHJpbmcoXCJpbnZpdGF0aW9uIGlkXCIsIGludml0YXRpb25JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmIGVyciA6PSB1LlJlcG8uVXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHgsIGludml0YXRpb25JRCwgZW50aXR5Lkludml0YXRpb25TdGF0dXNBY2NlcHRlZCk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byB1cGRhdGUgaW52aXRhdGlvbiBzdGF0dXNcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbi4uLlxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuQ3JlYXRlQ2xhc3Nyb29tUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSByLkNyZWF0ZUMuLi4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE3Tk12QTNjU01NeUFRTm1GVHJibmtzIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTm93IEkgaGF2ZSBhIGdvb2QgdW5kZXJzdGFuZGluZyBvZiB0aGUgY29kZWJhc2UuIExldCBtZSBjcmVhdGUgYSBkZXRhaWxlZCBwbGFuIGZvciBpbXBsZW1lbnRpbmcgdGhlIEFQSSB0byBmaWx0ZXIgY2xhc3Nyb29tcyB3aGVyZSB0aGUgdXNlciBoYXMgcGFydGljaXBhdGVkIHdpdGggdGhlIHJvbGUgb2YgQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQuXG5cbiMjIERldGFpbGVkIFBsYW5cblxuMS4gQ3JlYXRlIGEgbmV3IHJlcXVlc3QgbW9kZWwgZm9yIGZpbHRlcmluZyBqb2luZWQgY2xhc3Nyb29tc1xuMi4gQWRkIGEgbmV3IHJlcG9zaXRvcnkgbWV0aG9kIHRvIGZpbHRlciBjbGFzc3Jvb21zIGJ5IG1lbWJlciByb2xlXG4zLiBDcmVhdGUgYSBuZXcgdXNlIGNhc2UgZm9yIGZpbHRlcmluZyBqb2luZWQgY2xhc3Nyb29tc1xuNC4gQWRkIGEgbmV3IGhhbmRsZXIgbWV0aG9kIGZvciB0aGUgQVBJIGVuZHBvaW50XG41LiBVcGRhdGUgdGhlIGhhbmRsZXIgaW50ZXJmYWNlIGFuZCBpbXBsZW1lbnRhdGlvblxuNi4gUmVnaXN0ZXIgdGhlIG5ldyByb3V0ZSBpbiB0aGUgcm91dGVyXG5cbkxldCdzIHN0YXJ0IGltcGxlbWVudGluZzpcblxuIyMjIDEuIENyZWF0ZSBhIG5ldyByZXF1ZXN0IG1vZGVsIGZvciBmaWx0ZXJpbmcgam9pbmVkIGNsYXNzcm9vbXNcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIxYWI0MDExYi1lZmM4LTRkODMtYTczOS1mODRhMzVkMjQ2NTIiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE0alBzMnlzcE4zRjRCa1Q5UEZudGVFIiwidG9vbF9uYW1lIjoic2F2ZS1maWxlIiwiaW5wdXRfanNvbiI6IntcImZpbGVfcGF0aFwiOiBcInJlcG9zaXRvcnkvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zLmdvXCIsIFwiZmlsZV9jb250ZW50XCI6IFwicGFja2FnZSByZXBvc2l0b3J5XFxuXFxuaW1wb3J0IChcXG5cXHRcXFwiY29udGV4dFxcXCJcXG5cXHRcXFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcXFwiXFxuXFx0XFxcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXFxcIlxcblxcblxcdFxcXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXFxcIlxcblxcdFxcXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcXFwiXFxuXFx0XFxcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXFxcIlxcbilcXG5cXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCByb2xlIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XFxuXFx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XXtcXG5cXHRcXHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxcblxcdFxcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxcblxcdFxcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXFxcImNyZWF0ZWRfYXQgREVTQ1xcXCIpLCAvLyBNXFx1MWViN2MgXFx1MDExMVxcdTFlY2JuaCBzXFx1MWVhZnAgeFxcdTFlYmZwIHRoZW8gbmdcXHUwMGUweSB0XFx1MWVhMW8gbVxcdTFlZGJpIG5oXFx1MWVhNXRcXG5cXHR9XFxuXFxuXFx0dmFyIGNsYXNzcm9vbXMgW11lbnRpdHkuQ2xhc3Nyb29tRW50aXR5XFxuXFx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXFxuXFx0XFx0V2l0aENvbnRleHQoY3R4KS5cXG5cXHRcXHRUYWJsZShcXFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21zXFxcIikuXFxuXFx0XFx0Sm9pbnMoXFxcIkpPSU4gcXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVycyBPTiBxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXMuaWQgPSBxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbV9tZW1iZXJzLmNsYXNzcm9vbV9pZFxcXCIpLlxcblxcdFxcdFdoZXJlKFxcXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbV9tZW1iZXJzLnVzZXJfaWQgPSA/IEFORCBxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbV9tZW1iZXJzLnJvbGUgPSA/XFxcIiwgdXNlcklELCByb2xlKS5cXG5cXHRcXHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxcblxcdFxcdEZpbmQoJmNsYXNzcm9vbXMpLlxcblxcdFxcdEVycm9yOyBlcnIgIT0gbmlsIHtcXG5cXHRcXHRyZXR1cm4gbmlsLCBlcnJcXG5cXHR9XFxuXFxuXFx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tc1xcblxcdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXFxufVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIyMjIDIuIEFkZCBhIG5ldyByZXBvc2l0b3J5IG1ldGhvZCB0byBmaWx0ZXIgY2xhc3Nyb29tcyBieSBtZW1iZXIgcm9sZVxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNEFFRzRGdlBMV3MzclkxU2RNNDNjNiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IiMjIyAyLiBBZGQgYSBuZXcgcmVwb3NpdG9yeSBtZXRob2QgdG8gZmlsdGVyIGNsYXNzcm9vbXMgYnkgbWVtYmVyIHJvbGVcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJmYjAxMzFhMy0yZTM4LTQ2Y2EtOWZlZC1lYzJlZjJlMzA0NWIiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFUV1JwWnpZM00xTFI4RjVBV3J2eXNxIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJTaG93IG1lIHRoZSBmdWxsIHJlcG9zaXRvcnkuZ28gZmlsZSB0byB1cGRhdGUgdGhlIGludGVyZmFjZVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIyMjIDMuIFVwZGF0ZSB0aGUgcmVwb3NpdG9yeSBpbnRlcmZhY2UgdG8gaW5jbHVkZSB0aGUgbmV3IG1ldGhvZFxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNGpQczJ5c3BOM0Y0QmtUOVBGbnRlRSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IiMjIyAzLiBVcGRhdGUgdGhlIHJlcG9zaXRvcnkgaW50ZXJmYWNlIHRvIGluY2x1ZGUgdGhlIG5ldyBtZXRob2RcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJlMmY1YWUwYS1hYzFjLTQxYTAtOWM3OC01ODMzMDUzYjkwMzgiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFNcGlvZWNDcFBieGZocVFRY3ZoQXBoIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1wifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0IG1lIHVwZGF0ZSB0aGUgcmVwb3NpdG9yeSBpbnRlcmZhY2UgdG8gaW5jbHVkZSB0aGUgbmV3IG1ldGhvZDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG5cbnR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcblx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Jcblx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcblx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXG5cdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIHJlcG9zaXRvcnlJbXBsIHN0cnVjdCB7XG5cdFByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlclxufVxuXG5mdW5jIE5ldyhwcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXIpIFJlcG9zaXRvcnkge1xuXHRyZXR1cm4gJnJlcG9zaXRvcnlJbXBse1xuXHRcdFByb3ZpZGVyOiBwcm92aWRlcixcblx0fVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L3VwZGF0ZV9pbnZpdGF0aW9uX3N0YXR1cy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgVXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRNb2RlbCgmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSkuXG5cdFx0V2hlcmUoXCJpZCA9ID9cIiwgaW52aXRhdGlvbklEKS5cblx0XHRVcGRhdGUoXCJzdGF0dXNcIiwgc3RhdHVzKS5cblx0XHRFcnJvclxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHF1ZXJ5IDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInJlY2VpdmVyX2lkID0gP1wiLCByZWNlaXZlcklEKVxuXG5cdC8vIEzhu41jIHRoZW8gc3RhdHVzIG7hur91IGPDs1xuXHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0cXVlcnkgPSBxdWVyeS5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdH1cblxuXHR2YXIgaW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gcXVlcnkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfaW52aXRhdGlvbi5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLkNyZWF0ZShpbnZpdGF0aW9uKS5FcnJvclxufS4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHlde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcImNyZWF0ZWRfYXQgREVTQ1wiKSwgLy8gTeG6t2MgxJHhu4tuaCBz4bqvcCB44bq/cCB0aGVvIG5nw6B5IHThuqFvIG3hu5tpIG5o4bqldFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbXMgW11lbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJ1c2VyX2lkID0gP1wiLCB1c2VySUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tcykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2dldF9pbnZpdGF0aW9uX2J5X2lkLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcikge1xuXHR2YXIgaW52aXRhdGlvbiBlbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiaWQgPSA/XCIsIGludml0YXRpb25JRCkuXG5cdFx0Rmlyc3QoJmludml0YXRpb24pLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gJmludml0YXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCByb2xlIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tcyBbXWVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRUYWJsZShcInF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tc1wiKS5cblx0XHRKb2lucyhcIkpPSU4gcXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVycyBPTiBxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXMuaWQgPSBxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbV9tZW1iZXJzLmNsYXNzcm9vbV9pZFwiKS5cblx0XHRXaGVyZShcInF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tX21lbWJlcnMudXNlcl9pZCA9ID8gQU5EIHF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tX21lbWJlcnMucm9sZSA9ID9cIiwgdXNlcklELCByb2xlKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbXMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbXNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuVHJhbnNhY3Rpb24oZnVuYyh0eCAqZ29ybS5EQikgZXJyb3Ige1xuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoY2xhc3Nyb29tKS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZSgmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShjbGFzc3Jvb20uSUQsIFwiXCIpLFxuXHRcdFx0VXNlcklEOiAgICAgIGNsYXNzcm9vbS5Vc2VySUQsXG5cdFx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyLFxuXHRcdH0pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRyZXR1cm4gbmlsXG5cdH0pXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tTWVtYmVycyBbXWVudGl0eS5DbGFzc3Jvb21NZW1iZXJcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZFwiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21NZW1iZXJzKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21NZW1iZXJzXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvcmVqZWN0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIGVycm9yXG59XG5cbnR5cGUgcmVqZWN0SW52aXRhdGlvblVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3UmVqZWN0SW52aXRhdGlvblVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIFJlamVjdEludml0YXRpb25Vc2VDYXNlIHtcblx0cmV0dXJuICZyZWplY3RJbnZpdGF0aW9uVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0YXRpb25zVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2FjY2VwdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgQWNjZXB0SW52aXRhdGlvblVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSBlcnJvclxufVxuXG50eXBlIGFjY2VwdEludml0YXRpb25Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSB7XG5cdHJldHVybiAmYWNjZXB0SW52aXRhdGlvblVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9pc19pbnZpdGF0aW9uX2V4aXN0aW5nLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpIHtcblx0dmFyIGNvdW50IGludDY0XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0TW9kZWwoJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e30pLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkID0gPyBBTkQgcmVjZWl2ZXJfaWQgPSA/IEFORCBzdGF0dXMgSU4gP1wiLCBjbGFzc3Jvb21JRCwgcmVjZWl2ZXJJRCwgW11lbnRpdHkuSW52aXRhdGlvblN0YXR1c3tlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWR9KS5cblx0XHRDb3VudCgmY291bnQpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gZmFsc2UsIGVyclxuXHR9XG5cdHJldHVybiBjb3VudCA+IDAsIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvc2VydmVyLmdvXG5wYWNrYWdlIHNlcnZlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92Mi9taWRkbGV3YXJlL3JlY292ZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxuZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuXHRhcHAgOj0gZmliZXIuTmV3KGZpYmVyLkNvbmZpZ3tcblx0XHRFbmFibGVQcmludFJvdXRlczogdHJ1ZSxcblx0fSlcblx0YXBwLlVzZShyZWNvdmVyLk5ldygpKVxuXG5cdHByb3ZpZGVyLCBlcnIgOj0gcHJvdmlkZXIuSW5pdChzZXJ2aWNlQ29uZmlnKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gaW5pdCBwcm92aWRlclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuXHRyZXBvc2l0b3J5IDo9IHJlcG9zaXRvcnkuTmV3KHByb3ZpZGVyKVxuXHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgdXNlY2FzZS5OZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICB1c2VjYXNlLk5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlOiAgdXNlY2FzZS5OZXdGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHR9KVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2lzX2NsYXNzcm9vbV9vd25lci5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgSXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY2xhc3Nyb29tIGVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImlkID0gPyBBTkQgdXNlcl9pZCA9ID9cIiwgY2xhc3Nyb29tSUQsIHVzZXJJRCkuXG5cdFx0Rmlyc3QoJmNsYXNzcm9vbSkuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdC8vIE7hur91IGtow7RuZyB0w6xtIHRo4bqleSBi4bqjbiBnaGksIGPDsyBuZ2jEqWEgbMOgIG5nxrDhu51pIGTDuW5nIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3Vcblx0XHRyZXR1cm4gZmFsc2UsIG5pbFxuXHR9XG5cdHJldHVybiB0cnVlLCBuaWxcbn1cbi4uLlxuUGF0aDogcHJvdmlkZXIvcHJvdmlkZXIuZ29cbnBhY2thZ2UgcHJvdmlkZXJcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25lZHBhbHMvc3VwYWJhc2UtZ29cIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcHJvdmlkZXIvZGF0YWJhc2VcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbnR5cGUgUHJvdmlkZXIgc3RydWN0IHtcblx0RGIgICAgICAgICAgICAgKmdvcm0uREJcblx0U3VwYWJhc2VDbGllbnQgKnN1cGFiYXNlLkNsaWVudFxufVxuXG5mdW5jIEluaXQoc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykgKCpQcm92aWRlciwgZXJyb3IpIHtcblx0ZGIsIGVyciA6PSBkYXRhYmFzZS5OZXdQb3N0Z3Jlc0RCKFxuXHRcdHNlcnZpY2VDb25maWcuRGJIb3N0LFxuXHRcdHNlcnZpY2VDb25maWcuRGJQb3J0LFxuXHRcdHNlcnZpY2VDb25maWcuRGJVc2VyLFxuXHRcdHNlcnZpY2VDb25maWcuRGJQYXNzd29yZCxcblx0XHRzZXJ2aWNlQ29uZmlnLkRiTmFtZSxcblx0KVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHN1cGFiYXNlQ2xpZW50IDo9IHN1cGFiYXNlLkNyZWF0ZUNsaWVudChcblx0XHRzZXJ2aWNlQ29uZmlnLlN1cGJhc2VVcmwsXG5cdFx0c2VydmljZUNvbmZpZy5TdXBhYmFzZUFub25LZXksXG5cdClcblxuXHRyZXR1cm4gJlByb3ZpZGVye1xuXHRcdERiOiAgICAgICAgICAgICBkYixcblx0XHRTdXBhYmFzZUNsaWVudDogc3VwYWJhc2VDbGllbnQsXG5cdH0sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnb3JtLmlvL2dvcm0vY2xhdXNlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yIHtcblx0Ly8gU+G7rSBk4bulbmcgY2xhdXNlLk9uQ29uZmxpY3QoKS5Eb05vdGhpbmcoKSDEkeG7gyB0csOhbmggbOG7l2kga2hpIHRow6ptIHRow6BuaCB2acOqbiDEkcOjIHThu5NuIHThuqFpXG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuXG5cdFx0Q2xhdXNlcyhjbGF1c2UuT25Db25mbGljdHtEb05vdGhpbmc6IHRydWV9KS5cblx0XHRDcmVhdGUobWVtYmVyKS5FcnJvclxufVxuLi4uXG5QYXRoOiBjbWQvcm9vdC5nb1xuLypcbkNvcHlyaWdodCDCqSAyMDI1IE5BTUUgSEVSRSA8RU1BSUwgQUREUkVTUz5cbiovXG5wYWNrYWdlIGNtZFxuXG5pbXBvcnQgKFxuXHRcIm9zXCJcblxuXHRcImdpdGh1Yi5jb20vc3BmMTMvY29icmFcIlxuKVxuXG4vLyByb290Q21kIHJlcHJlc2VudHMgdGhlIGJhc2UgY29tbWFuZCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBzdWJjb21tYW5kc1xudmFyIHJvb3RDbWQgPSAmY29icmEuQ29tbWFuZHtcblx0VXNlOiAgIFwicXVpenp5LWNsYXNzcm9vbVwiLFxuXHRTaG9ydDogXCJBIGJyaWVmIGRlc2NyaXB0aW9uIG9mIHlvdXIgYXBwbGljYXRpb25cIixcblx0TG9uZzogYEEgbG9uZ2VyIGRlc2NyaXB0aW9uIHRoYXQgc3BhbnMgbXVsdGlwbGUgbGluZXMgYW5kIGxpa2VseSBjb250YWluc1xuZXhhbXBsZXMgYW5kIHVzYWdlIG9mIHVzaW5nIHlvdXIgYXBwbGljYXRpb24uIEZvciBleGFtcGxlOlxuXG5Db2JyYSBpcyBhIENMSSBsaWJyYXJ5IGZvciBHbyB0aGF0IGVtcG93ZXJzIGFwcGxpY2F0aW9ucy5cblRoaXMgYXBwbGljYXRpb24gaXMgYSB0b29sIHRvIGdlbmVyYXRlIHRoZSBuZWVkZWQgZmlsZXNcbnRvIHF1aWNrbHkgY3JlYXRlIGEgQ29icmEgYXBwbGljYXRpb24uYCxcblx0Ly8gVW5jb21tZW50IHRoZSBmb2xsb3dpbmcgbGluZSBpZiB5b3VyIGJhcmUgYXBwbGljYXRpb25cblx0Ly8gaGFzIGFuIGFjdGlvbiBhc3NvY2lhdGVkIHdpdGggaXQ6XG5cdC8vIFJ1bjogZnVuYyhjbWQgKmNvYnJhLkNvbW1hbmQsIGFyZ3MgW11zdHJpbmcpIHsgfSxcbn1cblxuLy8gRXhlY3V0ZSBhZGRzIGFsbCBjaGlsZCBjb21tYW5kcyB0byB0aGUgcm9vdCBjb21tYW5kIGFuZCBzZXRzIGZsYWdzIGFwcHJvcHJpYXRlbHkuXG4vLyBUaGlzIGlzIGNhbGxlZCBieSBtYWluLm1haW4oKS4gSXQgb25seSBuZWVkcyB0byBoYXBwZW4gb25jZSB0byB0aGUgcm9vdENtZC5cbmZ1bmMgRXhlY3V0ZSgpIHtcblx0ZXJyIDo9IHJvb3RDbWQuRXhlY3V0ZSgpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdG9zLkV4aXQoMSlcblx0fVxufVxuXG5mdW5jIGluaXQoKSB7XG5cdC8vIEhlcmUgeW91IHdpbGwgZGVmaW5lIHlvdXIgZmxhZ3MgYW5kIGNvbmZpZ3VyYXRpb24gc2V0dGluZ3MuXG5cdC8vIENvYnJhIHN1cHBvcnRzIHBlcnNpc3RlbnQgZmxhZ3MsIHdoaWNoLCBpZiBkZWZpbmVkIGhlcmUsXG5cdC8vIHdpbGwgYmUgZ2xvYmFsIGZvciB5b3VyIGFwcGxpY2F0aW9uLlxuXG5cdC8vIHJvb3RDbWQuUGVyc2lzdGVudEZsYWdzKCkuU3RyaW5nVmFyKCZjZmdGaWxlLCBcImNvbmZpZ1wiLCBcIlwiLCBcImNvbmZpZyBmaWxlIChkZWZhdWx0IGlzICRIT01FLy5xdWl6enktY2xhc3Nyb29tLnlhbWwpXCIpXG5cblx0Ly8gQ29icmEgYWxzbyBzdXBwb3J0cyBsb2NhbCBmbGFncywgd2hpY2ggd2lsbCBvbmx5IHJ1blxuXHQvLyB3aGVuIHRoaXMgYWN0aW9uIGlzIGNhbGxlZCBkaXJlY3RseS5cblx0cm9vdENtZC5GbGFncygpLkJvb2xQKFwidG9nZ2xlXCIsIFwidFwiLCBmYWxzZSwgXCJIZWxwIG1lc3NhZ2UgZm9yIHRvZ2dsZVwiKVxufVxuLi4uXG5QYXRoOiBjbWQvc2VydmUuZ29cbi8qXG5Db3B5cmlnaHQgwqkgMjAyNSBOQU1FIEhFUkUgPEVNQUlMIEFERFJFU1M+XG4qL1xucGFja2FnZSBjbWRcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9jb25maWdcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3NlcnZlclwiXG5cblx0XCJnaXRodWIuY29tL3NwZjEzL2NvYnJhXCJcbilcblxuLy8gc2VydmVDbWQgcmVwcmVzZW50cyB0aGUgc2VydmUgY29tbWFuZFxudmFyIHNlcnZlQ21kID0gJmNvYnJhLkNvbW1hbmR7XG5cdFVzZTogICBcInNlcnZlXCIsXG5cdFNob3J0OiBcIkEgYnJpZWYgZGVzY3JpcHRpb24gb2YgeW91ciBjb21tYW5kXCIsXG5cdExvbmc6IGBBIGxvbmdlciBkZXNjcmlwdGlvbiB0aGF0IHNwYW5zIG11bHRpcGxlIGxpbmVzIGFuZCBsaWtlbHkgY29udGFpbnMgZXhhbXBsZXNcbmFuZCB1c2FnZSBvZiB1c2luZyB5b3VyIGNvbW1hbmQuIEZvciBleGFtcGxlOlxuLi4uXG5QYXRoOiBzZXJ2ZXIvcm91dGVyLmdvXG5wYWNrYWdlIHNlcnZlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG4uLi5cblBhdGg6IGhhbmRsZXIvcmVqZWN0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBJRCBj4bunYSBpbnZpdGF0aW9uIHThu6sgVVJMXG5cdGludml0YXRpb25JRCA6PSBjLlBhcmFtcyhcImlkXCIpXG5cdGlmIGludml0YXRpb25JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImlkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG4uLi5cblBhdGg6IHVzZWNhc2UvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRfIFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSB7XG5cdHJldHVybiAmY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jIChjICpjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0aWYgZXJyIDo9IGMuUmVwby5DcmVhdGVDbGFzc3Jvb20oY3R4LCBjbGFzc3Jvb20pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiBnby5tb2Rcbm1vZHVsZSBxdWl6enktY2xhc3Nyb29tXG5cbmdvIDEuMjQuMVxuXG5yZXF1aXJlIChcblx0Z2l0aHViLmNvbS9nby1wbGF5Z3JvdW5kL3ZhbGlkYXRvci92MTAgdjEwLjI2LjBcblx0Z2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyIHYyLjUyLjZcblx0Z2l0aHViLmNvbS9uZWRwYWxzL3N1cGFiYXNlLWdvIHYwLjUuMFxuXHRnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZSB2MC4wLjE5XG5cdGdpdGh1Yi5jb20vc3BmMTMvY29icmEgdjEuOS4xXG5cdGdvLnViZXIub3JnL3phcCB2MS4yNy4wXG5cdGdvcm0uaW8vZ29ybSB2MS4yNS4xMlxuKVxuLi4uXG5QYXRoOiBtaWdyYXRlL21pZ3JhdGUuZ29cbnBhY2thZ2UgbWlncmF0ZVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxuZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuXHRwcm92aWRlciwgZXJyIDo9IHByb3ZpZGVyLkluaXQoc2VydmljZUNvbmZpZylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRpZiBlcnIgOj0gcHJvdmlkZXIuRGIuQXV0b01pZ3JhdGUoXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21FbnRpdHl7fSxcblx0XHQmZW50aXR5LkNsYXNzcm9vbU1lbWJlcnt9LFxuXHRcdCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9LFxuXHQpOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gbWlncmF0ZSBkYXRhYmFzZVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuXG5cdGxvZ2dlci5JbmZvKFwibWlncmF0ZSBkYXRhYmFzZSBzdWNjZXNzXCIpXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlKHJlcG8gcmVwb3NpdG8uLi4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFUV1JwWnpZM00xTFI4RjVBV3J2eXNxIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTGV0IG1lIHVwZGF0ZSB0aGUgcmVwb3NpdG9yeSBpbnRlcmZhY2UgdG8gaW5jbHVkZSB0aGUgbmV3IG1ldGhvZDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJiNGIzNDJiYy1lNDcwLTRmZWYtYWE2Yi0wZjRhMTFkYmI2YzQiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE1U3hETXJVTlVoWHFtZFkzaUJIM0hIIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJyZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwidHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XFxuXFx0Q3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3JcXG5cXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcXG5cXHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxcblxcdElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcXG5cXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxcblxcdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXFxuXFx0R2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpXFxuXFx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXFxuXFx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3JcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcXG5cXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVwiLCBcIm5ld19zdHJcIjogXCJ0eXBlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHtcXG5cXHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxcblxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxcblxcdENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXFxuXFx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxcblxcdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXFxuXFx0RmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcXG5cXHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcXG5cXHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3JcXG5cXHRDcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgbWVtYmVyICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyKSBlcnJvclxcblxcdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxcblxcdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXFxuXFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCByb2xlIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMTIsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMjN9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvOlxuICAgICAxXHRwYWNrYWdlIHJlcG9zaXRvcnlcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCAoXG4gICAgIDRcdFx0XCJjb250ZXh0XCJcbiAgICAgNVx0XHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbiAgICAgNlx0XHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbiAgICAgN1x0XHRcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuICAgICA4XHRcbiAgICAgOVx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4gICAgMTBcdClcbiAgICAxMVx0XG4gICAgMTJcdHR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuICAgIDEzXHRcdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG4gICAgMTRcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG4gICAgMTVcdFx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3JcbiAgICAxNlx0XHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG4gICAgMTdcdFx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcbiAgICAxOFx0XHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuICAgIDE5XHRcdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuICAgIDIwXHRcdFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvclxuICAgIDIxXHRcdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG4gICAgMjJcdFx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG4gICAgMjNcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbiAgICAyNFx0fVxuICAgIDI1XHRcbiAgICAyNlx0dHlwZSByZXBvc2l0b3J5SW1wbCBzdHJ1Y3Qge1xuICAgIDI3XHRcdFByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlclxuICAgIDI4XHR9XG4gICAgMjlcdFxuICAgIDMwXHRmdW5jIE5ldyhwcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXIpIFJlcG9zaXRvcnkge1xuICAgIDMxXHRcdHJldHVybiAmcmVwb3NpdG9yeUltcGx7XG4gICAgMzJcdFx0XHRQcm92aWRlcjogcHJvdmlkZXIsXG4gICAgMzNcdFx0fVxuICAgIDM0XHR9XG4gICAgMzVcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMzVcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMU1waW9lY0NwUGJ4ZmhxUVFjdmhBcGgifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiIiLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InJlcXVlc3RfaWQiOiJjZmEzNDFhNS01NWE0LTRlYzItOTM3Yy1mM2Y4N2YxNDllOWIiLCJzdGF0dXMiOiJjYW5jZWxsZWQiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLXR1cm4tZGVsaW1pdGVyIn0seyJyZXF1ZXN0X2lkIjoiOTI5YjM2N2ItYjRjYS00NmI0LTkzMzYtM2IwOWRiMDc3M2RmIiwidXVpZCI6IjEwYjUyMmY5LTFjOGUtNGVkNi05ODY2LTM0NjI5Y2RkNjNiMyIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtY2hlY2twb2ludC1kZWxpbWl0ZXIiLCJzdGF0dXMiOiJzdWNjZXNzIiwiZnJvbVRpbWVzdGFtcCI6MCwidG9UaW1lc3RhbXAiOjE3NDUyNTM3ODM4NjksInNlZW5fc3RhdGUiOiJzZWVuIn0seyJyZXF1ZXN0X2lkIjoiZjA2NzBhNTQtZjI2Ny00YjdkLThjMzUtNjFiNDNiMmEwMWEwIiwic3RhdHVzIjoiY2FuY2VsbGVkIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy10dXJuLWRlbGltaXRlciJ9LHsicmVxdWVzdF9pZCI6ImRiNWZmYzUyLWQ1ZTctNGY4MS1hMGY5LTgzYjBlOGU1MWQyOCIsInV1aWQiOiI5ZTZlZWVkNC1iYTFiLTQ2NjAtYjUxMS04Zjg3YWI5MmVhMWYiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLWNoZWNrcG9pbnQtZGVsaW1pdGVyIiwic3RhdHVzIjoic3VjY2VzcyIsImZyb21UaW1lc3RhbXAiOjE3NDUyNTM3ODM4NjksInRvVGltZXN0YW1wIjoxNzQ1MjUzOTMzOTMzLCJzZWVuX3N0YXRlIjoic2VlbiJ9LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIwNWRiYjNkYy1jOWI5LTQ0NmItOTZhMS1kMWQxNTg2ZjhlNmIiLCJyZXF1ZXN0X21lc3NhZ2UiOiJ0cmnhu4NuIGtoYWkgdGjDqm0gbuG7mWkgZHVuZyBjaG8gYXBpIG7DoHkiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoidHJp4buDbiBraGFpIHRow6ptIG7hu5lpIGR1bmcgY2hvIGFwaSBuw6B5In1dfV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE1S1ZBZzFYeEMzM3pwOFh2Zm1XWEh6IiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJyZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwidHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XFxuXFx0Q3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3JcXG5cXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcXG5cXHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxcblxcdElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcXG5cXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxcblxcdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXFxuXFx0R2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpXFxuXFx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXFxuXFx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3JcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcXG5cXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVwiLCBcIm5ld19zdHJcIjogXCJ0eXBlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHtcXG5cXHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxcblxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxcblxcdENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXFxuXFx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxcblxcdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXFxuXFx0RmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcXG5cXHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcXG5cXHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3JcXG5cXHRDcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgbWVtYmVyICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyKSBlcnJvclxcblxcdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxcblxcdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXFxuXFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCByb2xlIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMTIsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMjN9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkknbGwgY29udGludWUgaW1wbGVtZW50aW5nIHRoZSBBUEkgdG8gZmlsdGVyIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaGFzIHBhcnRpY2lwYXRlZCB3aXRoIHRoZSByb2xlIG9mIENsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50LiBMZXQgbWUgdXBkYXRlIHRoZSByZXBvc2l0b3J5IGludGVyZmFjZSBmaXJzdCBhbmQgdGhlbiBpbXBsZW1lbnQgdGhlIHJlbWFpbmluZyBjb21wb25lbnRzLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifSx7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxOVRGRldaWGlOY2dZekNTWmNuRk41ciIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwicmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcInR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xcblxcdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXFxuXFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXFxuXFx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3JcXG5cXHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXFxuXFx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcXG5cXHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxcblxcdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxcblxcdFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvclxcblxcdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXFxuXFx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXFxuXFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcIiwgXCJuZXdfc3RyXCI6IFwidHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XFxuXFx0Q3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3JcXG5cXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcXG5cXHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxcblxcdElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcXG5cXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxcblxcdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXFxuXFx0R2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpXFxuXFx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXFxuXFx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3JcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcXG5cXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxcblxcdEZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcm9sZSBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZSwgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDEyLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDIzfV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJJ2xsIGNvbnRpbnVlIGltcGxlbWVudGluZyB0aGUgQVBJIHRvIGZpbHRlciBjbGFzc3Jvb21zIHdoZXJlIHRoZSB1c2VyIGhhcyBwYXJ0aWNpcGF0ZWQgd2l0aCB0aGUgcm9sZSBvZiBDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudC4gTGV0IG1lIHVwZGF0ZSB0aGUgcmVwb3NpdG9yeSBpbnRlcmZhY2UgZmlyc3QgYW5kIHRoZW4gaW1wbGVtZW50IHRoZSByZW1haW5pbmcgY29tcG9uZW50cy5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50IjoidHJp4buDbiBraGFpIHRow6ptIG7hu5lpIGR1bmcgY2hvIGFwaSBuw6B5In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiSSdsbCBjb250aW51ZSBpbXBsZW1lbnRpbmcgdGhlIEFQSSB0byBmaWx0ZXIgY2xhc3Nyb29tcyB3aGVyZSB0aGUgdXNlciBoYXMgcGFydGljaXBhdGVkIHdpdGggdGhlIHJvbGUgb2YgQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQuIExldCBtZSB1cGRhdGUgdGhlIHJlcG9zaXRvcnkgaW50ZXJmYWNlIGZpcnN0IGFuZCB0aGVuIGltcGxlbWVudCB0aGUgcmVtYWluaW5nIGNvbXBvbmVudHMuXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InJlcXVlc3RfaWQiOiJkZWU3YTU1NS04ZmE2LTRmNzYtOGZjYy0xMDBkZTgyMWU4OTIiLCJ1dWlkIjoiMjc0YzJjN2EtNTNlZi00MWFmLTgwYWMtMGFhNTIwNTNmMjIwIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy1jaGVja3BvaW50LWRlbGltaXRlciIsInN0YXR1cyI6InN1Y2Nlc3MiLCJmcm9tVGltZXN0YW1wIjoxNzQ1MjUzOTMzOTMzLCJ0b1RpbWVzdGFtcCI6MTc0NTI1Mzk2MTI0Miwic2Vlbl9zdGF0ZSI6InNlZW4ifSx7InN0YXR1cyI6ImZhaWxlZCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbXSwic2Vlbl9zdGF0ZSI6InVuc2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDhcdFxuICAgICA5XHRcdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcbiAgICAxMFx0KVxuICAgIDExXHRcbiAgICAxMlx0dHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XG4gICAgMTNcdFx0Q3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3JcbiAgICAxNFx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcbiAgICAxNVx0XHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxuICAgIDE2XHRcdElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcbiAgICAxN1x0XHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuICAgIDE4XHRcdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG4gICAgMTlcdFx0R2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpXG4gICAgMjBcdFx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXG4gICAgMjFcdFx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3JcbiAgICAyMlx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbiAgICAyM1x0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuICAgIDI0XHRcdEZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcm9sZSBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZSwgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbiAgICAyNVx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHJvbGUgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG4gICAgMjZcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCByb2xlIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuICAgIDI3XHR9XG4gICAgMjhcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE1S1ZBZzFYeEMzM3pwOFh2Zm1XWEh6In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dfV0sImZlZWRiYWNrU3RhdGVzIjp7InRlbXAtZmUtZjU3ZjM2OTItZTNiOC00OTkwLWFkMDYtM2FjYjE4ODJlNzAwIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS04OGQzNmY2OS1jYTljLTRkNTgtOGYzMy1kODdmYzA4ZmM0YTIiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTMxNjQ4ZGZhLTNjYzctNDNhYi1hNmViLWI0YjNjNTQwMDhiZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNWY0Y2FhNTQtOTM1My00MmU0LTllMjAtYWQzYjYzOGJiYzU5Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0zZDc5MDFiYi0wODQwLTQ1NDUtOTU1ZC05ZWFhMDhkNjEzYTMiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWYwODU3OGRmLWU1YzMtNGUwNS1hZmU1LWViOTczMzEyNDgyYiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMzI4YjVmMzUtNGQ4ZS00ZjIzLTliZTItMzY0MTU1N2U1NjRmIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS01ZmE1OTlhYS0wZTVlLTQxNjEtOGEzNy04NGUzODQ3MTZjOTkiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTNlNDU2NWZkLWY5MzMtNGFjZS05ZWM1LTcxYmY2YTE5NTFiYyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNzZjNDhiNTMtN2IyZi00MWU2LWFjNWUtOWU5NDQ1MjIxOWMzIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1mM2JkZDc3YS1mZGMzLTRmM2UtODZlZC1kYjhhMzIzMTJkM2YiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9fSwidG9vbFVzZVN0YXRlcyI6eyIwOTljN2I4Yy0xMDI3LTQ1MjItYWM0ZS0wNjA5YTU4MmI0Y2E7dG9vbHVfdnJ0eF8wMVBpZHpvQVI1YTl0ZEF0UlBtaTVyWlEiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyUm9sZSBzdHJpbmdcblxuY29uc3QgKFxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlciBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJ0ZWFjaGVyXCJcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwic3R1ZGVudFwiXG4pXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyIHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cdENsYXNzcm9vbUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJjbGFzc3Jvb21faWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFVzZXJJRCAgICAgIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJ1c2VyX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRSb2xlICAgICAgICBDbGFzc3Jvb21NZW1iZXJSb2xlIGBqc29uOlwicm9sZVwiYFxuXHRJbnZpdGVkQnlJRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiaW52aXRlZF9ieV9pZFwiYFxufVxuXG5mdW5jIChjIENsYXNzcm9vbU1lbWJlcikgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVyc1wiXG59XG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tRW50aXR5IHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cblx0VXNlcklEICAgIHN0cmluZyBganNvbjpcInVzZXJfaWRcImBcblx0TmFtZSAgICAgIHN0cmluZyBganNvbjpcIm5hbWVcImBcblx0QXZhdGFyVXJsIHN0cmluZyBganNvbjpcImF2YXRhcl91cmxcImBcbn1cblxuZnVuYyAoYyAqQ2xhc3Nyb29tRW50aXR5KSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXNcIlxufVxuLi4uXG5QYXRoOiBlbnRpdHkvaW52aXRhdGlvbi5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuXG50eXBlIEludml0YXRpb25TdGF0dXMgc3RyaW5nXG5cbmNvbnN0IChcblx0SW52aXRhdGlvblN0YXR1c1BlbmRpbmcgIEludml0YXRpb25TdGF0dXMgPSBcInBlbmRpbmdcIlxuXHRJbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwiYWNjZXB0ZWRcIlxuXHRJbnZpdGF0aW9uU3RhdHVzUmVqZWN0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwicmVqZWN0ZWRcIlxuKVxuXG50eXBlIEludml0YXRpb25FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiYFxuXHRTZW5kZXJJRCAgICBzdHJpbmcgICAgICAgICAgIGBqc29uOlwic2VuZGVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFJlY2VpdmVySUQgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJyZWNlaXZlcl9pZFwiIGdvcm06XCJpbmRleFwiYFxuXHRTdGF0dXMgICAgICBJbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgZ29ybTpcImluZGV4XCJgXG59XG5cbmZ1bmMgKEludml0YXRpb25FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7IHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uaW52aXRhdGlvbnNcIiB9XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdvcm0uaW8vZ29ybS9jbGF1c2VcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Ige1xuXHQvLyBT4butIGThu6VuZyBjbGF1c2UuT25Db25mbGljdCgpLkRvTm90aGluZygpIMSR4buDIHRyw6FuaCBs4buXaSBraGkgdGjDqm0gdGjDoG5oIHZpw6puIMSRw6MgdOG7k24gdOG6oWlcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5cblx0XHRDbGF1c2VzKGNsYXVzZS5PbkNvbmZsaWN0e0RvTm90aGluZzogdHJ1ZX0pLlxuXHRcdENyZWF0ZShtZW1iZXIpLkVycm9yXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbU1lbWJlcnMgW11lbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWRcIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tTWVtYmVycykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tTWVtYmVyc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgcmVxXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tUmVxdWVzdCBzdHJ1Y3Qge1xuXHROYW1lICAgICAgKnN0cmluZyBganNvbjpcIm5hbWVcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdEF2YXRhclVybCAqc3RyaW5nIGBqc29uOlwiYXZhdGFyX3VybFwiIHZhbGlkYXRlOlwicmVxdWlyZWQsdXJsXCJgXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIEludml0ZU1lbWJlclJlcXVlc3Qgc3RydWN0IHtcblx0Q2xhc3Nyb29tSUQgKnN0cmluZyBganNvbjpcImNsYXNzcm9vbV9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0UmVjZWl2ZXJJRCAgKnN0cmluZyBganNvbjpcInJlY2VpdmVyX2lkXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuKVxuXG50eXBlIEZpbHRlckludml0ZWRNZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG5cdFN0YXR1cyAqZW50aXR5Lkludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBxdWVyeTpcInN0YXR1c1wiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tcyBbXWVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInVzZXJfaWQgPSA/XCIsIHVzZXJJRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9pc19jbGFzc3Jvb21fb3duZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpIHtcblx0dmFyIGNsYXNzcm9vbSBlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJpZCA9ID8gQU5EIHVzZXJfaWQgPSA/XCIsIGNsYXNzcm9vbUlELCB1c2VySUQpLlxuXHRcdEZpcnN0KCZjbGFzc3Jvb20pLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBO4bq/dSBraMO0bmcgdMOsbSB0aOG6pXkgYuG6o24gZ2hpLCBjw7MgbmdoxKlhIGzDoCBuZ8aw4budaSBkw7luZyBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691XG5cdFx0cmV0dXJuIGZhbHNlLCBuaWxcblx0fVxuXHRyZXR1cm4gdHJ1ZSwgbmlsXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2V7UmVwbzogcmVwb31cbn1cblxuZnVuYyAoZiAqZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IGYuUmVwby5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBjbGFzc3Jvb20gbWVtYmVyc1wiLCB6YXAuU3RyaW5nKFwiY2xhc3Nyb29tIGlkXCIsIGNsYXNzcm9vbUlEKSwgemFwLkVycm9yKChlcnIpKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9hY2NlcHRfaW52aXRhdGlvbi5nb1xuLi4uXG5cblx0aWYgZXJyIDo9IHUuUmVwby5DcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4LCAmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRDbGFzc3Jvb21JRDogaW52aXRhdGlvbi5DbGFzc3Jvb21JRCxcblx0XHRVc2VySUQ6ICAgICAgaW52aXRhdGlvbi5SZWNlaXZlcklELFxuXHRcdFJvbGU6ICAgICAgICBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQsXG5cdFx0SW52aXRlZEJ5SUQ6IGludml0YXRpb24uU2VuZGVySUQsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbSBtZW1iZXJcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0aWYgZXJyIDo9IHUuUmVwby5VcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCwgaW52aXRhdGlvbklELCBlbnRpdHkuSW52aXRhdGlvblN0YXR1c0FjY2VwdGVkKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIHVwZGF0ZSBpbnZpdGF0aW9uIHN0YXR1c1wiLCB6YXAuU3RyaW5nKFwiaW52aXRhdGlvbiBpZFwiLCBpbnZpdGF0aW9uSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkNyZWF0ZUNsYXNzcm9vbVJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gci5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e1xuXHRcdFVzZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdE5hbWU6ICAgICAgdmFsdWUuR2V0VmFsdWUoYm9keS5OYW1lLCBcIlwiKSxcblx0XHRBdmF0YXJVcmw6IHZhbHVlLkdldFZhbHVlKGJvZHkuQXZhdGFyVXJsLCBcIlwiKSxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IHIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG5cbnR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcblx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Jcblx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcblx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXG5cdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIHJlcG9zaXRvcnlJbXBsIHN0cnVjdCB7XG5cdFByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlclxufVxuXG5mdW5jIE5ldyhwcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXIpIFJlcG9zaXRvcnkge1xuXHRyZXR1cm4gJnJlcG9zaXRvcnlJbXBse1xuXHRcdFByb3ZpZGVyOiBwcm92aWRlcixcblx0fVxufVxuLi4uXG5QYXRoOiBtaWdyYXRlL21pZ3JhdGUuZ29cbnBhY2thZ2UgbWlncmF0ZVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxuZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuXHRwcm92aWRlciwgZXJyIDo9IHByb3ZpZGVyLkluaXQoc2VydmljZUNvbmZpZylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRpZiBlcnIgOj0gcHJvdmlkZXIuRGIuQXV0b01pZ3JhdGUoXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21FbnRpdHl7fSxcblx0XHQmZW50aXR5LkNsYXNzcm9vbU1lbWJlcnt9LFxuXHRcdCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9LFxuXHQpOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gbWlncmF0ZSBkYXRhYmFzZVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuXG5cdGxvZ2dlci5JbmZvKFwibWlncmF0ZSBkYXRhYmFzZSBzdWNjZXNzXCIpXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRfIFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSB7XG5cdHJldHVybiAmY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jIChjICpjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0aWYgZXJyIDo9IGMuUmVwby5DcmVhdGVDbGFzc3Jvb20oY3R4LCBjbGFzc3Jvb20pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBib2R5IHJlcS5JbnZpdGVNZW1iZXJSZXF1ZXN0XG5cblx0aWYgZXJyIDo9IGMuQm9keVBhcnNlcigmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IGguSW52aXRlTWVtYmVyVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5Lkludml0YXRpb25FbnRpdHl7XG5cdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGJvZHkuQ2xhc3Nyb29tSUQsIFwiXCIpLFxuXHRcdFNlbmRlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0UmVjZWl2ZXJJRDogIHZhbHVlLkdldFZhbHVlKGJvZHkuUmVjZWl2ZXJJRCwgXCJcIiksXG5cdFx0U3RhdHVzOiAgICAgIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZyxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRzd2l0Y2gge1xuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyclJlY2VpdmVyQWxyZWFkeUhhc0ludml0YXRpb24pOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgxJFhbmcgY2jhu50geOG7rSBsw70gaG/hurdjIMSRw6MgxJHGsOG7o2MgY2jhuqVwIG5o4bqtblwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBJbnZpdGVNZW1iZXJVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgaW52aXRlTWVtYmVyVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBJbnZpdGVNZW1iZXJVc2VDYXNlIHtcblx0cmV0dXJuICZpbnZpdGVNZW1iZXJVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKmludml0ZU1lbWJlclVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvciB7XG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgY2xhc3Nyb29tIGtow7RuZ1xuXHRpc093bmVyLCBlcnIgOj0gdS5SZXBvLklzQ2xhc3Nyb29tT3duZXIoY3R4LCBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELCBpbnZpdGF0aW9uLlNlbmRlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgY2xhc3Nyb29tIG93bmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmICFpc093bmVyIHtcblx0XHRyZXR1cm4gcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyXG5cdH1cblxuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgbsOgbyDEkWFuZyDhu58gdHLhuqFuZyB0aMOhaSBwZW5kaW5nIGhv4bq3YyBhY2NlcHRlZCBjaMawYVxuXHRleGlzdHMsIGVyciA6PSB1LlJlcG8uSXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4LCBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELCBpbnZpdGF0aW9uLlJlY2VpdmVySUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjaGVjayBleGlzdGluZyBpbnZpdGF0aW9uXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmIGV4aXN0cyB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uXG5cdH1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGNsYXNzcm9vbSBraMO0bmdcblx0aXNPd25lciwgZXJyIDo9IHUuUmVwby5Jc0NsYXNzcm9vbU93bmVyKGN0eCwgY2xhc3Nyb29tSUQsIHVzZXJJRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNoZWNrIGNsYXNzcm9vbSBvd25lclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdGlmICFpc093bmVyIHtcblx0XHRyZXR1cm4gbmlsLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXJcblx0fVxuXG5cdC8vIEzhuqV5IGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgbeG7nWlcblx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckludml0ZWRNZW1iZXJzKGN0eCwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBpbnZpdGVkIG1lbWJlcnNcIiwgemFwLlN0cmluZyhcImNsYXNzcm9vbSBpZFwiLCBjbGFzc3Jvb21JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaGFuZGxlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbnR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTeG7nWkgdGjDoG5oIHZpw6puIHbDoG8gbOG7m3AgaOG7jWNcblx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcblx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG5cdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBDaOG6pXAgbmjhuq1uIGzhu51pIG3hu51pXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3Vcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJPd25lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6cuLi4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCIwMzVjMjg4MC0xMDQ2LTQ3NDktYmJkZC00MGEyMzQ4OGE5OGY7dG9vbHVfdnJ0eF8wMTF3VmF2U2RWbW9GRWluVDgxcnVKRlIiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc2VydmVyL3JvdXRlci5nb1xuLi4uXG5cbmZ1bmMgSW5pdFJvdXRlcihhcHAgKmZpYmVyLkFwcCwgaGFuZGxlciBoYW5kbGVyLkhhbmRsZXIpIHtcblx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvY3JlYXRlXCIsIGhhbmRsZXIuQ3JlYXRlQ2xhc3Nyb29tKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2ludml0ZVwiLCBoYW5kbGVyLkludml0ZU1lbWJlcilcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvb3duZWRcIiwgaGFuZGxlci5GaWx0ZXJPd25lZENsYXNzcm9vbXMpXG5cblx0aW52aXRhdGlvbkdyb3VwIDo9IGFwcC5Hcm91cChcIi9pbnZpdGF0aW9uXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0aW52aXRhdGlvbkdyb3VwLkdldChcIi9maWx0ZXJcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucylcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9yZWplY3QvOmlkXCIsIGhhbmRsZXIuUmVqZWN0SW52aXRhdGlvbilcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9hY2NlcHQvOmlkXCIsIGhhbmRsZXIuQWNjZXB0SW52aXRhdGlvbilcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSByLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbU1lbWJlcnMgW11lbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWRcIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tTWVtYmVycykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tTWVtYmVyc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tcyBbXWVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInVzZXJfaWQgPSA/XCIsIHVzZXJJRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVyT3duZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRnb3JtMiBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgKFxuXHRcdHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHRcdH1cblx0XHRpbnZpdGF0aW9ucyBbXWVudGl0eS5JbnZpdGF0aW9uRW50aXR5XG5cdClcblxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkID0gP1wiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGZ1bmMoZGIgKmdvcm0uREIpICpnb3JtLkRCIHtcblx0XHRcdGlmIHBhcmFtcy5TdGF0dXMgIT0gbmlsIHtcblx0XHRcdFx0cmV0dXJuIGRiLldoZXJlKFwic3RhdHVzID0gP1wiLCAqcGFyYW1zLlN0YXR1cylcblx0XHRcdH1cblx0XHRcdHJldHVybiBkYlxuXHRcdH0sIGdvcm0yLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGludml0YXRpb25zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xuLi4uXG5cbnR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcblx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Jcblx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcblx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXG5cdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIHJlcG9zaXRvcnlJbXBsIHN0cnVjdCB7XG5cdFByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlclxufVxuXG5mdW5jIE5ldyhwcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXIpIFJlcG9zaXRvcnkge1xuXHRyZXR1cm4gJnJlcG9zaXRvcnlJbXBse1xuXHRcdFByb3ZpZGVyOiBwcm92aWRlcixcblx0fVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Ugc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNle1JlcG86IHJlcG99XG59XG5cbmZ1bmMgKGYgKmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHRyZXN1bHQsIGVyciA6PSBmLlJlcG8uRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHgsIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgY2xhc3Nyb29tIG1lbWJlcnNcIiwgemFwLlN0cmluZyhcImNsYXNzcm9vbSBpZFwiLCBjbGFzc3Jvb21JRCksIHphcC5FcnJvcigoZXJyKSkpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgY2xhc3Nyb29tX2lkIHThu6sgVVJMXG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHF1ZXJ5IHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLCBxdWVyeSlcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdGlmIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcikge1xuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0fVxuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cbi4uLlxuUGF0aDogaGFuZGxlci9oYW5kbGVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcblxudHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAvLyBU4bqhbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTOG7jWMgdGjDoG5oIHZpw6puIGPhu6dhIGzhu5twIGjhu41jXG5cdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4budaSBt4budaVxuXHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gVOG7qyBjaOG7kWkgbOG7nWkgbeG7nWlcblx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIEzhu41jIGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgxJHGsOG7o2MgbeG7nWlcblx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3IgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJFhbmcgc+G7nyBo4buvdVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgY2xhc3Nyb29tIGtow7RuZ1xuXHRpc093bmVyLCBlcnIgOj0gdS5SZXBvLklzQ2xhc3Nyb29tT3duZXIoY3R4LCBjbGFzc3Jvb21JRCwgdXNlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgY2xhc3Nyb29tIG93bmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0aWYgIWlzT3duZXIge1xuXHRcdHJldHVybiBuaWwsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lclxuXHR9XG5cblx0Ly8gTOG6pXkgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyBt4budaVxuXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVySW52aXRlZE1lbWJlcnMoY3R4LCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGludml0ZWQgbWVtYmVyc1wiLCB6YXAuU3RyaW5nKFwiY2xhc3Nyb29tIGlkXCIsIGNsYXNzcm9vbUlEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyUm9sZSBzdHJpbmdcblxuY29uc3QgKFxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlciBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJ0ZWFjaGVyXCJcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwic3R1ZGVudFwiXG4pXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyIHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cdENsYXNzcm9vbUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJjbGFzc3Jvb21faWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFVzZXJJRCAgICAgIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJ1c2VyX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRSb2xlICAgICAgICBDbGFzc3Jvb21NZW1iZXJSb2xlIGBqc29uOlwicm9sZVwiYFxuXHRJbnZpdGVkQnlJRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiaW52aXRlZF9ieV9pZFwiYFxufVxuXG5mdW5jIChjIENsYXNzcm9vbU1lbWJlcikgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVyc1wiXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiBlbnRpdHkvY2xhc3Nyb29tLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXG50eXBlIENsYXNzcm9vbUVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXG5cdFVzZXJJRCAgICBzdHJpbmcgYGpzb246XCJ1c2VyX2lkXCJgXG5cdE5hbWUgICAgICBzdHJpbmcgYGpzb246XCJuYW1lXCJgXG5cdEF2YXRhclVybCBzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCJgXG59XG5cbmZ1bmMgKGMgKkNsYXNzcm9vbUVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21zXCJcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfY2xhc3Nyb29tX21lbWJlci5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ29ybS5pby9nb3JtL2NsYXVzZVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBDcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgbWVtYmVyICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyKSBlcnJvciB7XG5cdC8vIFPhu60gZOG7pW5nIGNsYXVzZS5PbkNvbmZsaWN0KCkuRG9Ob3RoaW5nKCkgxJHhu4MgdHLDoW5oIGzhu5dpIGtoaSB0aMOqbSB0aMOgbmggdmnDqm4gxJHDoyB04buTbiB04bqhaVxuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlxuXHRcdENsYXVzZXMoY2xhdXNlLk9uQ29uZmxpY3R7RG9Ob3RoaW5nOiB0cnVlfSkuXG5cdFx0Q3JlYXRlKG1lbWJlcikuRXJyb3Jcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuKVxuXG50eXBlIEZpbHRlckludml0YXRpb25zUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG5cdFN0YXR1cyAqZW50aXR5Lkludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBxdWVyeTpcInN0YXR1c1wiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5UcmFuc2FjdGlvbihmdW5jKHR4ICpnb3JtLkRCKSBlcnJvciB7XG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZShjbGFzc3Jvb20pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKCZlbnRpdHkuQ2xhc3Nyb29tTWVtYmVye1xuXHRcdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGNsYXNzcm9vbS5JRCwgXCJcIiksXG5cdFx0XHRVc2VySUQ6ICAgICAgY2xhc3Nyb29tLlVzZXJJRCxcblx0XHRcdFJvbGU6ICAgICAgICBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVRlYWNoZXIsXG5cdFx0fSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdHJldHVybiBuaWxcblx0fSlcbn1cbi4uLlxuUGF0aDogZW50aXR5L2ludml0YXRpb24uZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCAoXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcbilcblxudHlwZSBJbnZpdGF0aW9uU3RhdHVzIHN0cmluZ1xuXG5jb25zdCAoXG5cdEludml0YXRpb25TdGF0dXNQZW5kaW5nICBJbnZpdGF0aW9uU3RhdHVzID0gXCJwZW5kaW5nXCJcblx0SW52aXRhdGlvblN0YXR1c0FjY2VwdGVkIEludml0YXRpb25TdGF0dXMgPSBcImFjY2VwdGVkXCJcblx0SW52aXRhdGlvblN0YXR1c1JlamVjdGVkIEludml0YXRpb25TdGF0dXMgPSBcInJlamVjdGVkXCJcbilcblxudHlwZSBJbnZpdGF0aW9uRW50aXR5IHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cdENsYXNzcm9vbUlEIHN0cmluZyAgICAgICAgICAgYGpzb246XCJjbGFzc3Jvb21faWRcImBcblx0U2VuZGVySUQgICAgc3RyaW5nICAgICAgICAgICBganNvbjpcInNlbmRlcl9pZFwiIGdvcm06XCJpbmRleFwiYFxuXHRSZWNlaXZlcklEICBzdHJpbmcgICAgICAgICAgIGBqc29uOlwicmVjZWl2ZXJfaWRcIiBnb3JtOlwiaW5kZXhcImBcblx0U3RhdHVzICAgICAgSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIGdvcm06XCJpbmRleFwiYFxufVxuXG5mdW5jIChJbnZpdGF0aW9uRW50aXR5KSBUYWJsZU5hbWUoKSBzdHJpbmcgeyByZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmludml0YXRpb25zXCIgfVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIEludml0ZU1lbWJlclJlcXVlc3Qgc3RydWN0IHtcblx0Q2xhc3Nyb29tSUQgKnN0cmluZyBganNvbjpcImNsYXNzcm9vbV9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0UmVjZWl2ZXJJRCAgKnN0cmluZyBganNvbjpcInJlY2VpdmVyX2lkXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHF1ZXJ5IDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInJlY2VpdmVyX2lkID0gP1wiLCByZWNlaXZlcklEKVxuXG5cdC8vIEzhu41jIHRoZW8gc3RhdHVzIG7hur91IGPDs1xuXHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0cXVlcnkgPSBxdWVyeS5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdH1cblxuXHR2YXIgaW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gcXVlcnkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVJlcXVlc3Qgc3RydWN0IHtcblx0TmFtZSAgICAgICpzdHJpbmcgYGpzb246XCJuYW1lXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxuXHRBdmF0YXJVcmwgKnN0cmluZyBganNvbjpcImF2YXRhcl91cmxcIiB2YWxpZGF0ZTpcInJlcXVpcmVkLHVybFwiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2lzX2NsYXNzcm9vbV9vd25lci5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgSXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY2xhc3Nyb29tIGVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImlkID0gPyBBTkQgdXNlcl9pZCA9ID9cIiwgY2xhc3Nyb29tSUQsIHVzZXJJRCkuXG5cdFx0Rmlyc3QoJmNsYXNzcm9vbSkuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdC8vIE7hur91IGtow7RuZyB0w6xtIHRo4bqleSBi4bqjbiBnaGksIGPDsyBuZ2jEqWEgbMOgIG5nxrDhu51pIGTDuW5nIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3Vcblx0XHRyZXR1cm4gZmFsc2UsIG5pbFxuXHR9XG5cdHJldHVybiB0cnVlLCBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9hY2NlcHRfaW52aXRhdGlvbi5nb1xuLi4uXG5cblx0aWYgZXJyIDo9IHUuUmVwby5DcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4LCAmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRDbGFzc3Jvb21JRDogaW52aXRhdGlvbi5DbGFzc3Jvb21JRCxcblx0XHRVc2VySUQ6ICAgICAgaW52aXRhdGlvbi5SZWNlaXZlcklELFxuXHRcdFJvbGU6ICAgICAgICBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQsXG5cdFx0SW52aXRlZEJ5SUQ6IGludml0YXRpb24uU2VuZGVySUQsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbSBtZW1iZXJcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0aWYgZXJyIDo9IHUuUmVwby5VcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCwgaW52aXRhdGlvbklELCBlbnRpdHkuSW52aXRhdGlvblN0YXR1c0FjY2VwdGVkKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIHVwZGF0ZSBpbnZpdGF0aW9uIHN0YXR1c1wiLCB6YXAuU3RyaW5nKFwiaW52aXRhdGlvbiBpZFwiLCBpbnZpdGF0aW9uSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaW52aXRlX21lbWJlci5nb1xuLi4uXG5cblx0aWYgZXJyIDo9IGguSW52aXRlTWVtYmVyVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5Lkludml0YXRpb25FbnRpdHl7XG5cdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGJvZHkuQ2xhc3Nyb29tSUQsIFwiXCIpLFxuXHRcdFNlbmRlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0UmVjZWl2ZXJJRDogIHZhbHVlLkdldFZhbHVlKGJvZHkuUmVjZWl2ZXJJRCwgXCJcIiksXG5cdFx0U3RhdHVzOiAgICAgIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZyxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRzd2l0Y2gge1xuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyclJlY2VpdmVyQWxyZWFkeUhhc0ludml0YXRpb24pOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgxJFhbmcgY2jhu50geOG7rSBsw70gaG/hurdjIMSRw6MgxJHGsOG7o2MgY2jhuqVwIG5o4bqtblwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ludml0ZV9tZW1iZXIuZ29cbi4uLlxuXG5mdW5jICh1ICppbnZpdGVNZW1iZXJVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Ige1xuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGNsYXNzcm9vbSBraMO0bmdcblx0aXNPd25lciwgZXJyIDo9IHUuUmVwby5Jc0NsYXNzcm9vbU93bmVyKGN0eCwgaW52aXRhdGlvbi5DbGFzc3Jvb21JRCwgaW52aXRhdGlvbi5TZW5kZXJJRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNoZWNrIGNsYXNzcm9vbSBvd25lclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRpZiAhaXNPd25lciB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lclxuXHR9XG5cblx0Ly8gS2nhu4NtIHRyYSB4ZW0gbmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIG7DoG8gxJFhbmcg4bufIHRy4bqhbmcgdGjDoWkgcGVuZGluZyBob+G6t2MgYWNjZXB0ZWQgY2jGsGFcblx0ZXhpc3RzLCBlcnIgOj0gdS5SZXBvLklzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCwgaW52aXRhdGlvbi5DbGFzc3Jvb21JRCwgaW52aXRhdGlvbi5SZWNlaXZlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgZXhpc3RpbmcgaW52aXRhdGlvblwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHRpZiBleGlzdHMge1xuXHRcdHJldHVybiBxZXJyb3IuRXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvblxuXHR9XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKmZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS4uLiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjVlZTVjM2E2LTIzNjEtNDdhNi04MmI1LTY0YWU1ZWJkMDFkODt0b29sdV92cnR4XzAxN05NdkEzY1NNTXlBUU5tRlRyYm5rcyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IHIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21zIFtdZW50aXR5LkNsYXNzcm9vbUVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwidXNlcl9pZCA9ID9cIiwgdXNlcklEKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbXMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbXNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG4uLi5cblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBjbGFzc3Jvb21faWQgdOG7qyBVUkxcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcXVlcnkgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksIHF1ZXJ5KVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0aWYgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKSB7XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHR9XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuLi4uXG5QYXRoOiBzZXJ2ZXIvcm91dGVyLmdvXG4uLi5cblxuZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xuXHRjbGFzc3Jvb21Hcm91cCA6PSBhcHAuR3JvdXAoXCIvY2xhc3Nyb29tXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvaW52aXRlXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycylcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi9vd25lZFwiLCBoYW5kbGVyLkZpbHRlck93bmVkQ2xhc3Nyb29tcylcblxuXHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgY2xhc3Nyb29tIGtow7RuZ1xuXHRpc093bmVyLCBlcnIgOj0gdS5SZXBvLklzQ2xhc3Nyb29tT3duZXIoY3R4LCBjbGFzc3Jvb21JRCwgdXNlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgY2xhc3Nyb29tIG93bmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0aWYgIWlzT3duZXIge1xuXHRcdHJldHVybiBuaWwsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lclxuXHR9XG5cblx0Ly8gTOG6pXkgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyBt4budaVxuXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVySW52aXRlZE1lbWJlcnMoY3R4LCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGludml0ZWQgbWVtYmVyc1wiLCB6YXAuU3RyaW5nKFwiY2xhc3Nyb29tIGlkXCIsIGNsYXNzcm9vbUlEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21NZW1iZXJzIFtdZW50aXR5LkNsYXNzcm9vbU1lbWJlclxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkXCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbU1lbWJlcnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbU1lbWJlcnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBvd25lZCBjbGFzc3Jvb21zXCIsIHphcC5TdHJpbmcoXCJ1c2VyIGlkXCIsIHVzZXJJRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Ugc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNle1JlcG86IHJlcG99XG59XG5cbmZ1bmMgKGYgKmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHRyZXN1bHQsIGVyciA6PSBmLlJlcG8uRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHgsIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgY2xhc3Nyb29tIG1lbWJlcnNcIiwgemFwLlN0cmluZyhcImNsYXNzcm9vbSBpZFwiLCBjbGFzc3Jvb21JRCksIHphcC5FcnJvcigoZXJyKSkpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaGFuZGxlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbnR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTeG7nWkgdGjDoG5oIHZpw6puIHbDoG8gbOG7m3AgaOG7jWNcblx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcblx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG5cdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBDaOG6pXAgbmjhuq1uIGzhu51pIG3hu51pXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3Vcbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyUm9sZSBzdHJpbmdcblxuY29uc3QgKFxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlciBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJ0ZWFjaGVyXCJcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwic3R1ZGVudFwiXG4pXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyIHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cdENsYXNzcm9vbUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJjbGFzc3Jvb21faWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFVzZXJJRCAgICAgIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJ1c2VyX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRSb2xlICAgICAgICBDbGFzc3Jvb21NZW1iZXJSb2xlIGBqc29uOlwicm9sZVwiYFxuXHRJbnZpdGVkQnlJRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiaW52aXRlZF9ieV9pZFwiYFxufVxuXG5mdW5jIChjIENsYXNzcm9vbU1lbWJlcikgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVyc1wiXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2lzX2NsYXNzcm9vbV9vd25lci5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgSXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY2xhc3Nyb29tIGVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImlkID0gPyBBTkQgdXNlcl9pZCA9ID9cIiwgY2xhc3Nyb29tSUQsIHVzZXJJRCkuXG5cdFx0Rmlyc3QoJmNsYXNzcm9vbSkuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdC8vIE7hur91IGtow7RuZyB0w6xtIHRo4bqleSBi4bqjbiBnaGksIGPDsyBuZ2jEqWEgbMOgIG5nxrDhu51pIGTDuW5nIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3Vcblx0XHRyZXR1cm4gZmFsc2UsIG5pbFxuXHR9XG5cdHJldHVybiB0cnVlLCBuaWxcbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbS5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblxudHlwZSBDbGFzc3Jvb21FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblxuXHRVc2VySUQgICAgc3RyaW5nIGBqc29uOlwidXNlcl9pZFwiYFxuXHROYW1lICAgICAgc3RyaW5nIGBqc29uOlwibmFtZVwiYFxuXHRBdmF0YXJVcmwgc3RyaW5nIGBqc29uOlwiYXZhdGFyX3VybFwiYFxufVxuXG5mdW5jIChjICpDbGFzc3Jvb21FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7XG5cdHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tc1wiXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiBlbnRpdHkvaW52aXRhdGlvbi5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuXG50eXBlIEludml0YXRpb25TdGF0dXMgc3RyaW5nXG5cbmNvbnN0IChcblx0SW52aXRhdGlvblN0YXR1c1BlbmRpbmcgIEludml0YXRpb25TdGF0dXMgPSBcInBlbmRpbmdcIlxuXHRJbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwiYWNjZXB0ZWRcIlxuXHRJbnZpdGF0aW9uU3RhdHVzUmVqZWN0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwicmVqZWN0ZWRcIlxuKVxuXG50eXBlIEludml0YXRpb25FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiYFxuXHRTZW5kZXJJRCAgICBzdHJpbmcgICAgICAgICAgIGBqc29uOlwic2VuZGVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFJlY2VpdmVySUQgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJyZWNlaXZlcl9pZFwiIGdvcm06XCJpbmRleFwiYFxuXHRTdGF0dXMgICAgICBJbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgZ29ybTpcImluZGV4XCJgXG59XG5cbmZ1bmMgKEludml0YXRpb25FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7IHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uaW52aXRhdGlvbnNcIiB9XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGF0aW9uc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9pc19pbnZpdGF0aW9uX2V4aXN0aW5nLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpIHtcblx0dmFyIGNvdW50IGludDY0XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0TW9kZWwoJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e30pLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkID0gPyBBTkQgcmVjZWl2ZXJfaWQgPSA/IEFORCBzdGF0dXMgSU4gP1wiLCBjbGFzc3Jvb21JRCwgcmVjZWl2ZXJJRCwgW11lbnRpdHkuSW52aXRhdGlvblN0YXR1c3tlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWR9KS5cblx0XHRDb3VudCgmY291bnQpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gZmFsc2UsIGVyclxuXHR9XG5cdHJldHVybiBjb3VudCA+IDAsIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnb3JtLmlvL2dvcm0vY2xhdXNlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yIHtcblx0Ly8gU+G7rSBk4bulbmcgY2xhdXNlLk9uQ29uZmxpY3QoKS5Eb05vdGhpbmcoKSDEkeG7gyB0csOhbmggbOG7l2kga2hpIHRow6ptIHRow6BuaCB2acOqbiDEkcOjIHThu5NuIHThuqFpXG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuXG5cdFx0Q2xhdXNlcyhjbGF1c2UuT25Db25mbGljdHtEb05vdGhpbmc6IHRydWV9KS5cblx0XHRDcmVhdGUobWVtYmVyKS5FcnJvclxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvaW52aXRlX21lbWJlci5nb1xuLi4uXG5cbmZ1bmMgKHUgKmludml0ZU1lbWJlclVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvciB7XG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgY2xhc3Nyb29tIGtow7RuZ1xuXHRpc093bmVyLCBlcnIgOj0gdS5SZXBvLklzQ2xhc3Nyb29tT3duZXIoY3R4LCBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELCBpbnZpdGF0aW9uLlNlbmRlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgY2xhc3Nyb29tIG93bmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmICFpc093bmVyIHtcblx0XHRyZXR1cm4gcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyXG5cdH1cblxuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgbsOgbyDEkWFuZyDhu58gdHLhuqFuZyB0aMOhaSBwZW5kaW5nIGhv4bq3YyBhY2NlcHRlZCBjaMawYVxuXHRleGlzdHMsIGVyciA6PSB1LlJlcG8uSXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4LCBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELCBpbnZpdGF0aW9uLlJlY2VpdmVySUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjaGVjayBleGlzdGluZyBpbnZpdGF0aW9uXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmIGV4aXN0cyB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uXG5cdH1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVxXG5cbnR5cGUgSW52aXRlTWVtYmVyUmVxdWVzdCBzdHJ1Y3Qge1xuXHRDbGFzc3Jvb21JRCAqc3RyaW5nIGBqc29uOlwiY2xhc3Nyb29tX2lkXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxuXHRSZWNlaXZlcklEICAqc3RyaW5nIGBqc29uOlwicmVjZWl2ZXJfaWRcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xuLi4uXG5cbnR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcblx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Jcblx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcblx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXG5cdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIHJlcG9zaXRvcnlJbXBsIHN0cnVjdCB7XG5cdFByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlclxufVxuXG5mdW5jIE5ldyhwcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXIpIFJlcG9zaXRvcnkge1xuXHRyZXR1cm4gJnJlcG9zaXRvcnlJbXBse1xuXHRcdFByb3ZpZGVyOiBwcm92aWRlcixcblx0fVxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXFcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21SZXF1ZXN0IHN0cnVjdCB7XG5cdE5hbWUgICAgICAqc3RyaW5nIGBqc29uOlwibmFtZVwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0QXZhdGFyVXJsICpzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCIgdmFsaWRhdGU6XCJyZXF1aXJlZCx1cmxcImBcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdF8gXCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIHtcblx0cmV0dXJuICZjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKGMgKmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRpZiBlcnIgOj0gYy5SZXBvLkNyZWF0ZUNsYXNzcm9vbShjdHgsIGNsYXNzcm9vbSk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2xhc3Nyb29tXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvYWNjZXB0X2ludml0YXRpb24uZ29cbi4uLlxuXG5cdGlmIGVyciA6PSB1LlJlcG8uQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCwgJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0Q2xhc3Nyb29tSUQ6IGludml0YXRpb24uQ2xhc3Nyb29tSUQsXG5cdFx0VXNlcklEOiAgICAgIGludml0YXRpb24uUmVjZWl2ZXJJRCxcblx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50LFxuXHRcdEludml0ZWRCeUlEOiBpbnZpdGF0aW9uLlNlbmRlcklELFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb20gbWVtYmVyXCIsIHphcC5TdHJpbmcoXCJpbnZpdGF0aW9uIGlkXCIsIGludml0YXRpb25JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmIGVyciA6PSB1LlJlcG8uVXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHgsIGludml0YXRpb25JRCwgZW50aXR5Lkludml0YXRpb25TdGF0dXNBY2NlcHRlZCk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byB1cGRhdGUgaW52aXRhdGlvbiBzdGF0dXNcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbi4uLlxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuQ3JlYXRlQ2xhc3Nyb29tUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSByLkNyZWF0ZUMuLi4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJiNDBjODkxNS03YmEzLTQ4ZDItYmViOC1jNjVhODNlZmViMTU7dG9vbHVfdnJ0eF8wMTRBRUc0RnZQTFdzM3JZMVNkTTQzYzYiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMWFiNDAxMWItZWZjOC00ZDgzLWE3MzktZjg0YTM1ZDI0NjUyO3Rvb2x1X3ZydHhfMDE0alBzMnlzcE4zRjRCa1Q5UEZudGVFIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImZiMDEzMWEzLTJlMzgtNDZjYS05ZmVkLWVjMmVmMmUzMDQ1Yjt0b29sdV92cnR4XzAxVFdScFp6WTNNMUxSOEY1QVdydnlzcSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuXG50eXBlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG5cdENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG5cdElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcblx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcblx0RmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcblx0R2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpXG5cdFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvclxuXHRDcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgbWVtYmVyICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyKSBlcnJvclxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcblx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSByZXBvc2l0b3J5SW1wbCBzdHJ1Y3Qge1xuXHRQcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXJcbn1cblxuZnVuYyBOZXcocHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyKSBSZXBvc2l0b3J5IHtcblx0cmV0dXJuICZyZXBvc2l0b3J5SW1wbHtcblx0XHRQcm92aWRlcjogcHJvdmlkZXIsXG5cdH1cbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS91cGRhdGVfaW52aXRhdGlvbl9zdGF0dXMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvciB7XG5cdHJldHVybiByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0TW9kZWwoJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e30pLlxuXHRcdFdoZXJlKFwiaWQgPSA/XCIsIGludml0YXRpb25JRCkuXG5cdFx0VXBkYXRlKFwic3RhdHVzXCIsIHN0YXR1cykuXG5cdFx0RXJyb3Jcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHRxdWVyeSA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJyZWNlaXZlcl9pZCA9ID9cIiwgcmVjZWl2ZXJJRClcblxuXHQvLyBM4buNYyB0aGVvIHN0YXR1cyBu4bq/dSBjw7Ncblx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdHF1ZXJ5ID0gcXVlcnkuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHR9XG5cblx0dmFyIGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0aWYgZXJyIDo9IHF1ZXJ5LlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGludml0YXRpb25zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2ludml0YXRpb24uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5DcmVhdGUoaW52aXRhdGlvbikuRXJyb3Jcbn0uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRnb3JtMiBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgKFxuXHRcdHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHRcdH1cblx0XHRpbnZpdGF0aW9ucyBbXWVudGl0eS5JbnZpdGF0aW9uRW50aXR5XG5cdClcblxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkID0gP1wiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGZ1bmMoZGIgKmdvcm0uREIpICpnb3JtLkRCIHtcblx0XHRcdGlmIHBhcmFtcy5TdGF0dXMgIT0gbmlsIHtcblx0XHRcdFx0cmV0dXJuIGRiLldoZXJlKFwic3RhdHVzID0gP1wiLCAqcGFyYW1zLlN0YXR1cylcblx0XHRcdH1cblx0XHRcdHJldHVybiBkYlxuXHRcdH0sIGdvcm0yLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGludml0YXRpb25zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21zIFtdZW50aXR5LkNsYXNzcm9vbUVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwidXNlcl9pZCA9ID9cIiwgdXNlcklEKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbXMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbXNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9nZXRfaW52aXRhdGlvbl9ieV9pZC5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgR2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpIHtcblx0dmFyIGludml0YXRpb24gZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImlkID0gP1wiLCBpbnZpdGF0aW9uSUQpLlxuXHRcdEZpcnN0KCZpbnZpdGF0aW9uKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuICZpbnZpdGF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcm9sZSBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZSwgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHlde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcImNyZWF0ZWRfYXQgREVTQ1wiKSwgLy8gTeG6t2MgxJHhu4tuaCBz4bqvcCB44bq/cCB0aGVvIG5nw6B5IHThuqFvIG3hu5tpIG5o4bqldFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbXMgW11lbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0VGFibGUoXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXNcIikuXG5cdFx0Sm9pbnMoXCJKT0lOIHF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tX21lbWJlcnMgT04gcXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21zLmlkID0gcXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVycy5jbGFzc3Jvb21faWRcIikuXG5cdFx0V2hlcmUoXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbV9tZW1iZXJzLnVzZXJfaWQgPSA/IEFORCBxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbV9tZW1iZXJzLnJvbGUgPSA/XCIsIHVzZXJJRCwgcm9sZSkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbU1lbWJlcnMgW11lbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWRcIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tTWVtYmVycykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tTWVtYmVyc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL3JlamVjdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgUmVqZWN0SW52aXRhdGlvblVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSBlcnJvclxufVxuXG50eXBlIHJlamVjdEludml0YXRpb25Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSB7XG5cdHJldHVybiAmcmVqZWN0SW52aXRhdGlvblVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckludml0YXRpb25zVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRhdGlvbnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9hY2NlcHRfaW52aXRhdGlvbi5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEFjY2VwdEludml0YXRpb25Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgdXNlcklEIHN0cmluZykgZXJyb3Jcbn1cblxudHlwZSBhY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgQWNjZXB0SW52aXRhdGlvblVzZUNhc2Uge1xuXHRyZXR1cm4gJmFjY2VwdEludml0YXRpb25Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvaXNfaW52aXRhdGlvbl9leGlzdGluZy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgSXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKSB7XG5cdHZhciBjb3VudCBpbnQ2NFxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdE1vZGVsKCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZCA9ID8gQU5EIHJlY2VpdmVyX2lkID0gPyBBTkQgc3RhdHVzIElOID9cIiwgY2xhc3Nyb29tSUQsIHJlY2VpdmVySUQsIFtdZW50aXR5Lkludml0YXRpb25TdGF0dXN7ZW50aXR5Lkludml0YXRpb25TdGF0dXNQZW5kaW5nLCBlbnRpdHkuSW52aXRhdGlvblN0YXR1c0FjY2VwdGVkfSkuXG5cdFx0Q291bnQoJmNvdW50KS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIGZhbHNlLCBlcnJcblx0fVxuXHRyZXR1cm4gY291bnQgPiAwLCBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cbi4uLlxuUGF0aDogc2VydmVyL3NlcnZlci5nb1xucGFja2FnZSBzZXJ2ZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2hhbmRsZXJcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWxcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjIvbWlkZGxld2FyZS9yZWNvdmVyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbmZ1bmMgUnVuKHNlcnZpY2VDb25maWcgKm1vZGVsLlNlcnZpY2VDb25maWcpIHtcblx0YXBwIDo9IGZpYmVyLk5ldyhmaWJlci5Db25maWd7XG5cdFx0RW5hYmxlUHJpbnRSb3V0ZXM6IHRydWUsXG5cdH0pXG5cdGFwcC5Vc2UocmVjb3Zlci5OZXcoKSlcblxuXHRwcm92aWRlciwgZXJyIDo9IHByb3ZpZGVyLkluaXQoc2VydmljZUNvbmZpZylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcblx0aGFuZGxlciA6PSBoYW5kbGVyLk5ldygmaGFuZGxlci5JbmplY3R7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIHVzZWNhc2UuTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgdXNlY2FzZS5OZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICB1c2VjYXNlLk5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZTogIHVzZWNhc2UuTmV3RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0fSlcbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9pc19jbGFzc3Jvb21fb3duZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpIHtcblx0dmFyIGNsYXNzcm9vbSBlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJpZCA9ID8gQU5EIHVzZXJfaWQgPSA/XCIsIGNsYXNzcm9vbUlELCB1c2VySUQpLlxuXHRcdEZpcnN0KCZjbGFzc3Jvb20pLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBO4bq/dSBraMO0bmcgdMOsbSB0aOG6pXkgYuG6o24gZ2hpLCBjw7MgbmdoxKlhIGzDoCBuZ8aw4budaSBkw7luZyBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691XG5cdFx0cmV0dXJuIGZhbHNlLCBuaWxcblx0fVxuXHRyZXR1cm4gdHJ1ZSwgbmlsXG59XG4uLi5cblBhdGg6IHByb3ZpZGVyL3Byb3ZpZGVyLmdvXG5wYWNrYWdlIHByb3ZpZGVyXG5cbmltcG9ydCAoXG5cdFwiZ2l0aHViLmNvbS9uZWRwYWxzL3N1cGFiYXNlLWdvXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3Byb3ZpZGVyL2RhdGFiYXNlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG50eXBlIFByb3ZpZGVyIHN0cnVjdCB7XG5cdERiICAgICAgICAgICAgICpnb3JtLkRCXG5cdFN1cGFiYXNlQ2xpZW50ICpzdXBhYmFzZS5DbGllbnRcbn1cblxuZnVuYyBJbml0KHNlcnZpY2VDb25maWcgKm1vZGVsLlNlcnZpY2VDb25maWcpICgqUHJvdmlkZXIsIGVycm9yKSB7XG5cdGRiLCBlcnIgOj0gZGF0YWJhc2UuTmV3UG9zdGdyZXNEQihcblx0XHRzZXJ2aWNlQ29uZmlnLkRiSG9zdCxcblx0XHRzZXJ2aWNlQ29uZmlnLkRiUG9ydCxcblx0XHRzZXJ2aWNlQ29uZmlnLkRiVXNlcixcblx0XHRzZXJ2aWNlQ29uZmlnLkRiUGFzc3dvcmQsXG5cdFx0c2VydmljZUNvbmZpZy5EYk5hbWUsXG5cdClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRzdXBhYmFzZUNsaWVudCA6PSBzdXBhYmFzZS5DcmVhdGVDbGllbnQoXG5cdFx0c2VydmljZUNvbmZpZy5TdXBiYXNlVXJsLFxuXHRcdHNlcnZpY2VDb25maWcuU3VwYWJhc2VBbm9uS2V5LFxuXHQpXG5cblx0cmV0dXJuICZQcm92aWRlcntcblx0XHREYjogICAgICAgICAgICAgZGIsXG5cdFx0U3VwYWJhc2VDbGllbnQ6IHN1cGFiYXNlQ2xpZW50LFxuXHR9LCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfY2xhc3Nyb29tX21lbWJlci5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ29ybS5pby9nb3JtL2NsYXVzZVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBDcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgbWVtYmVyICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyKSBlcnJvciB7XG5cdC8vIFPhu60gZOG7pW5nIGNsYXVzZS5PbkNvbmZsaWN0KCkuRG9Ob3RoaW5nKCkgxJHhu4MgdHLDoW5oIGzhu5dpIGtoaSB0aMOqbSB0aMOgbmggdmnDqm4gxJHDoyB04buTbiB04bqhaVxuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlxuXHRcdENsYXVzZXMoY2xhdXNlLk9uQ29uZmxpY3R7RG9Ob3RoaW5nOiB0cnVlfSkuXG5cdFx0Q3JlYXRlKG1lbWJlcikuRXJyb3Jcbn1cbi4uLlxuUGF0aDogY21kL3Jvb3QuZ29cbi8qXG5Db3B5cmlnaHQgwqkgMjAyNSBOQU1FIEhFUkUgPEVNQUlMIEFERFJFU1M+XG4qL1xucGFja2FnZSBjbWRcblxuaW1wb3J0IChcblx0XCJvc1wiXG5cblx0XCJnaXRodWIuY29tL3NwZjEzL2NvYnJhXCJcbilcblxuLy8gcm9vdENtZCByZXByZXNlbnRzIHRoZSBiYXNlIGNvbW1hbmQgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgc3ViY29tbWFuZHNcbnZhciByb290Q21kID0gJmNvYnJhLkNvbW1hbmR7XG5cdFVzZTogICBcInF1aXp6eS1jbGFzc3Jvb21cIixcblx0U2hvcnQ6IFwiQSBicmllZiBkZXNjcmlwdGlvbiBvZiB5b3VyIGFwcGxpY2F0aW9uXCIsXG5cdExvbmc6IGBBIGxvbmdlciBkZXNjcmlwdGlvbiB0aGF0IHNwYW5zIG11bHRpcGxlIGxpbmVzIGFuZCBsaWtlbHkgY29udGFpbnNcbmV4YW1wbGVzIGFuZCB1c2FnZSBvZiB1c2luZyB5b3VyIGFwcGxpY2F0aW9uLiBGb3IgZXhhbXBsZTpcblxuQ29icmEgaXMgYSBDTEkgbGlicmFyeSBmb3IgR28gdGhhdCBlbXBvd2VycyBhcHBsaWNhdGlvbnMuXG5UaGlzIGFwcGxpY2F0aW9uIGlzIGEgdG9vbCB0byBnZW5lcmF0ZSB0aGUgbmVlZGVkIGZpbGVzXG50byBxdWlja2x5IGNyZWF0ZSBhIENvYnJhIGFwcGxpY2F0aW9uLmAsXG5cdC8vIFVuY29tbWVudCB0aGUgZm9sbG93aW5nIGxpbmUgaWYgeW91ciBiYXJlIGFwcGxpY2F0aW9uXG5cdC8vIGhhcyBhbiBhY3Rpb24gYXNzb2NpYXRlZCB3aXRoIGl0OlxuXHQvLyBSdW46IGZ1bmMoY21kICpjb2JyYS5Db21tYW5kLCBhcmdzIFtdc3RyaW5nKSB7IH0sXG59XG5cbi8vIEV4ZWN1dGUgYWRkcyBhbGwgY2hpbGQgY29tbWFuZHMgdG8gdGhlIHJvb3QgY29tbWFuZCBhbmQgc2V0cyBmbGFncyBhcHByb3ByaWF0ZWx5LlxuLy8gVGhpcyBpcyBjYWxsZWQgYnkgbWFpbi5tYWluKCkuIEl0IG9ubHkgbmVlZHMgdG8gaGFwcGVuIG9uY2UgdG8gdGhlIHJvb3RDbWQuXG5mdW5jIEV4ZWN1dGUoKSB7XG5cdGVyciA6PSByb290Q21kLkV4ZWN1dGUoKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRvcy5FeGl0KDEpXG5cdH1cbn1cblxuZnVuYyBpbml0KCkge1xuXHQvLyBIZXJlIHlvdSB3aWxsIGRlZmluZSB5b3VyIGZsYWdzIGFuZCBjb25maWd1cmF0aW9uIHNldHRpbmdzLlxuXHQvLyBDb2JyYSBzdXBwb3J0cyBwZXJzaXN0ZW50IGZsYWdzLCB3aGljaCwgaWYgZGVmaW5lZCBoZXJlLFxuXHQvLyB3aWxsIGJlIGdsb2JhbCBmb3IgeW91ciBhcHBsaWNhdGlvbi5cblxuXHQvLyByb290Q21kLlBlcnNpc3RlbnRGbGFncygpLlN0cmluZ1ZhcigmY2ZnRmlsZSwgXCJjb25maWdcIiwgXCJcIiwgXCJjb25maWcgZmlsZSAoZGVmYXVsdCBpcyAkSE9NRS8ucXVpenp5LWNsYXNzcm9vbS55YW1sKVwiKVxuXG5cdC8vIENvYnJhIGFsc28gc3VwcG9ydHMgbG9jYWwgZmxhZ3MsIHdoaWNoIHdpbGwgb25seSBydW5cblx0Ly8gd2hlbiB0aGlzIGFjdGlvbiBpcyBjYWxsZWQgZGlyZWN0bHkuXG5cdHJvb3RDbWQuRmxhZ3MoKS5Cb29sUChcInRvZ2dsZVwiLCBcInRcIiwgZmFsc2UsIFwiSGVscCBtZXNzYWdlIGZvciB0b2dnbGVcIilcbn1cbi4uLlxuUGF0aDogY21kL3NlcnZlLmdvXG4vKlxuQ29weXJpZ2h0IMKpIDIwMjUgTkFNRSBIRVJFIDxFTUFJTCBBRERSRVNTPlxuKi9cbnBhY2thZ2UgY21kXG5cbmltcG9ydCAoXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvY29uZmlnXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9zZXJ2ZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9zcGYxMy9jb2JyYVwiXG4pXG5cbi8vIHNlcnZlQ21kIHJlcHJlc2VudHMgdGhlIHNlcnZlIGNvbW1hbmRcbnZhciBzZXJ2ZUNtZCA9ICZjb2JyYS5Db21tYW5ke1xuXHRVc2U6ICAgXCJzZXJ2ZVwiLFxuXHRTaG9ydDogXCJBIGJyaWVmIGRlc2NyaXB0aW9uIG9mIHlvdXIgY29tbWFuZFwiLFxuXHRMb25nOiBgQSBsb25nZXIgZGVzY3JpcHRpb24gdGhhdCBzcGFucyBtdWx0aXBsZSBsaW5lcyBhbmQgbGlrZWx5IGNvbnRhaW5zIGV4YW1wbGVzXG5hbmQgdXNhZ2Ugb2YgdXNpbmcgeW91ciBjb21tYW5kLiBGb3IgZXhhbXBsZTpcbi4uLlxuUGF0aDogc2VydmVyL3JvdXRlci5nb1xucGFja2FnZSBzZXJ2ZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2hhbmRsZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuLi4uXG5QYXRoOiBoYW5kbGVyL3JlamVjdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgUmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgSUQgY+G7p2EgaW52aXRhdGlvbiB04burIFVSTFxuXHRpbnZpdGF0aW9uSUQgOj0gYy5QYXJhbXMoXCJpZFwiKVxuXHRpZiBpbnZpdGF0aW9uSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJpZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuLi4uXG5QYXRoOiB1c2VjYXNlL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XyBcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcbn1cblxudHlwZSBjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2Uge1xuXHRyZXR1cm4gJmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAoYyAqY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdGlmIGVyciA6PSBjLlJlcG8uQ3JlYXRlQ2xhc3Nyb29tKGN0eCwgY2xhc3Nyb29tKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb21cIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cdHJldHVybiBuaWxcbn1cbi4uLlxuUGF0aDogZ28ubW9kXG5tb2R1bGUgcXVpenp5LWNsYXNzcm9vbVxuXG5nbyAxLjI0LjFcblxucmVxdWlyZSAoXG5cdGdpdGh1Yi5jb20vZ28tcGxheWdyb3VuZC92YWxpZGF0b3IvdjEwIHYxMC4yNi4wXG5cdGdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MiB2Mi41Mi42XG5cdGdpdGh1Yi5jb20vbmVkcGFscy9zdXBhYmFzZS1nbyB2MC41LjBcblx0Z2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUgdjAuMC4xOVxuXHRnaXRodWIuY29tL3NwZjEzL2NvYnJhIHYxLjkuMVxuXHRnby51YmVyLm9yZy96YXAgdjEuMjcuMFxuXHRnb3JtLmlvL2dvcm0gdjEuMjUuMTJcbilcbi4uLlxuUGF0aDogbWlncmF0ZS9taWdyYXRlLmdvXG5wYWNrYWdlIG1pZ3JhdGVcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbmZ1bmMgUnVuKHNlcnZpY2VDb25maWcgKm1vZGVsLlNlcnZpY2VDb25maWcpIHtcblx0cHJvdmlkZXIsIGVyciA6PSBwcm92aWRlci5Jbml0KHNlcnZpY2VDb25maWcpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBpbml0IHByb3ZpZGVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG5cblx0aWYgZXJyIDo9IHByb3ZpZGVyLkRiLkF1dG9NaWdyYXRlKFxuXHRcdCZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e30sXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7fSxcblx0XHQmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSxcblx0KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIG1pZ3JhdGUgZGF0YWJhc2VcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRsb2dnZXIuSW5mbyhcIm1pZ3JhdGUgZGF0YWJhc2Ugc3VjY2Vzc1wiKVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZShyZXBvIHJlcG9zaXRvLi4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiZTJmNWFlMGEtYWMxYy00MWEwLTljNzgtNTgzMzA1M2I5MDM4O3Rvb2x1X3ZydHhfMDFNcGlvZWNDcFBieGZocVFRY3ZoQXBoIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvOlxuICAgICAxXHRwYWNrYWdlIHJlcG9zaXRvcnlcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCAoXG4gICAgIDRcdFx0XCJjb250ZXh0XCJcbiAgICAgNVx0XHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbiAgICAgNlx0XHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbiAgICAgN1x0XHRcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuICAgICA4XHRcbiAgICAgOVx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4gICAgMTBcdClcbiAgICAxMVx0XG4gICAgMTJcdHR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuICAgIDEzXHRcdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG4gICAgMTRcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG4gICAgMTVcdFx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3JcbiAgICAxNlx0XHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG4gICAgMTdcdFx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcbiAgICAxOFx0XHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuICAgIDE5XHRcdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuICAgIDIwXHRcdFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvclxuICAgIDIxXHRcdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG4gICAgMjJcdFx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG4gICAgMjNcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbiAgICAyNFx0fVxuICAgIDI1XHRcbiAgICAyNlx0dHlwZSByZXBvc2l0b3J5SW1wbCBzdHJ1Y3Qge1xuICAgIDI3XHRcdFByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlclxuICAgIDI4XHR9XG4gICAgMjlcdFxuICAgIDMwXHRmdW5jIE5ldyhwcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXIpIFJlcG9zaXRvcnkge1xuICAgIDMxXHRcdHJldHVybiAmcmVwb3NpdG9yeUltcGx7XG4gICAgMzJcdFx0XHRQcm92aWRlcjogcHJvdmlkZXIsXG4gICAgMzNcdFx0fVxuICAgIDM0XHR9XG4gICAgMzVcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMzVcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sImI0YjM0MmJjLWU0NzAtNGZlZi1hYTZiLTBmNGExMWRiYjZjNDt0b29sdV92cnR4XzAxNVN4RE1yVU5VaFhxbWRZM2lCSDNISCI6eyJwaGFzZSI6OH0sIjI3MWFmY2IzLTNmMDMtNGY5Ni04YmRkLTM5ZDk0YWUzODJkNDt0b29sdV92cnR4XzAxNUtWQWcxWHhDMzN6cDhYdmZtV1hIeiI6eyJwaGFzZSI6OCwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nby5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgICA4XHRcbiAgICAgOVx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4gICAgMTBcdClcbiAgICAxMVx0XG4gICAgMTJcdHR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuICAgIDEzXHRcdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG4gICAgMTRcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG4gICAgMTVcdFx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3JcbiAgICAxNlx0XHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG4gICAgMTdcdFx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcbiAgICAxOFx0XHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuICAgIDE5XHRcdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuICAgIDIwXHRcdFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvclxuICAgIDIxXHRcdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG4gICAgMjJcdFx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG4gICAgMjNcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbiAgICAyNFx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHJvbGUgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG4gICAgMjVcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCByb2xlIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuICAgIDI2XHR9XG4gICAgMjdcdFxuICAgIDI4XHR0eXBlIHJlcG9zaXRvcnlJbXBsIHN0cnVjdCB7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjA1ZGJiM2RjLWM5YjktNDQ2Yi05NmExLWQxZDE1ODZmOGU2Yjt0b29sdV92cnR4XzAxNUtWQWcxWHhDMzN6cDhYdmZtV1hIeiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nby5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgICA4XHRcbiAgICAgOVx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4gICAgMTBcdClcbiAgICAxMVx0XG4gICAgMTJcdHR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuICAgIDEzXHRcdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG4gICAgMTRcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG4gICAgMTVcdFx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3JcbiAgICAxNlx0XHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG4gICAgMTdcdFx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcbiAgICAxOFx0XHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuICAgIDE5XHRcdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuICAgIDIwXHRcdFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvclxuICAgIDIxXHRcdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG4gICAgMjJcdFx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG4gICAgMjNcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbiAgICAyNFx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHJvbGUgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG4gICAgMjVcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCByb2xlIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuICAgIDI2XHRcdEZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcm9sZSBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZSwgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbiAgICAyN1x0fVxuICAgIDI4XHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMDVkYmIzZGMtYzliOS00NDZiLTk2YTEtZDFkMTU4NmY4ZTZiO3Rvb2x1X3ZydHhfMDE5VEZGV1pYaU5jZ1l6Q1NaY25GTjVyIjp7InBoYXNlIjo4fX0sImRyYWZ0RXhjaGFuZ2UiOnsicmVxdWVzdF9tZXNzYWdlIjoiIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCJ9XX0sInN0YXR1cyI6ImRyYWZ0In0sImRyYWZ0QWN0aXZlQ29udGV4dElkcyI6WyIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5L2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tcy5nbyIsIi9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tZmFsc2VmYWxzZSIsImFnZW50TWVtb3JpZXMiXSwicmVxdWVzdElkcyI6W10sImlzUGlubmVkIjpmYWxzZSwiaXNTaGFyZWFibGUiOnRydWUsImV4dHJhRGF0YSI6eyJpc0FnZW50Q29udmVyc2F0aW9uIjp0cnVlLCJoYXNEaXJ0eUVkaXRzIjp0cnVlfX0sIjQ0NTJiNWZiLWI3MDctNGQ2My1hOTgxLTk3ZjNiMGM0MTQ0YyI6eyJpZCI6IjQ0NTJiNWZiLWI3MDctNGQ2My1hOTgxLTk3ZjNiMGM0MTQ0YyIsImNyZWF0ZWRBdElzbyI6IjIwMjUtMDQtMjFUMTY6NDY6MTIuODg0WiIsImxhc3RJbnRlcmFjdGVkQXRJc28iOiIyMDI1LTA0LTIxVDE2OjQ3OjAzLjYwMloiLCJjaGF0SGlzdG9yeSI6W3sic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJjZTcxODhhMC05YWI3LTQ1NjAtYjdmNS1jNDk2NGJiOTQyZTUiLCJyZXF1ZXN0X21lc3NhZ2UiOiJUaMOqbSBhcGkgbOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkcOjIHRoYW0gZ2lhIHbhu5tpIHZhaSB0csOyIGzDoCBDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJUaMOqbSBhcGkgbOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkcOjIHRoYW0gZ2lhIHbhu5tpIHZhaSB0csOyIGzDoCBDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxSDRFYnM0QXdjendQZFhQUFRMTmZUbSIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiU2hvdyBtZSB0aGUgZmlsZSByZXBvc2l0b3J5L2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tcy5nbyB0byB1bmRlcnN0YW5kIGl0cyBjdXJyZW50IGltcGxlbWVudGF0aW9uXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJJ2xsIGhlbHAgeW91IGFkZCBhbiBBUEkgdG8gZmlsdGVyIHRoZSBsaXN0IG9mIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaGFzIGpvaW5lZCBhcyBhIHN0dWRlbnQgKENsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50KS4gTGV0IG1lIGZpcnN0IGdhdGhlciBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXhpc3RpbmcgY29kZSB0byB1bmRlcnN0YW5kIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uLlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MCwidGV4dF9ub2RlIjp7ImNvbnRlbnQiOiJUaMOqbSBhcGkgbOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkcOjIHRoYW0gZ2lhIHbhu5tpIHZhaSB0csOyIGzDoCBDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkknbGwgaGVscCB5b3UgYWRkIGFuIEFQSSB0byBmaWx0ZXIgdGhlIGxpc3Qgb2YgY2xhc3Nyb29tcyB3aGVyZSB0aGUgdXNlciBoYXMgam9pbmVkIGFzIGEgc3R1ZGVudCAoQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQpLiBMZXQgbWUgZmlyc3QgZ2F0aGVyIGluZm9ybWF0aW9uIGFib3V0IHRoZSBleGlzdGluZyBjb2RlIHRvIHVuZGVyc3RhbmQgdGhlIGN1cnJlbnQgaW1wbGVtZW50YXRpb24uXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNGNiZjhlNTQtZTBmYy00NjhjLTg3YTgtMTBkZjU5MDNkYTM5IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxVDhueThoQlVBcFRIcUpWZ2hVeGJEMSIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiU2hvdyBtZSB0aGUgZW50aXR5LkNsYXNzcm9vbUVudGl0eSBzdHJ1Y3R1cmUgYW5kIGFueSBleGlzdGluZyB1c2VjYXNlIGZvciBmaWx0ZXJpbmcgam9pbmVkIGNsYXNzcm9vbXNcIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSBnYXRoZXIgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZW50aXR5IGFuZCBtb2RlbCBzdHJ1Y3R1cmVzIHRvIHVuZGVyc3RhbmQgaG93IHRvIGltcGxlbWVudCB0aGUgbmV3IEFQSS5cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHJvbGUgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21zIFtdZW50aXR5LkNsYXNzcm9vbUVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFRhYmxlKFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21zIEFTIGNcIikuXG5cdFx0Sm9pbnMoXCJKT0lOIHF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tX21lbWJlcnMgQVMgbSBPTiBjLmlkID0gbS5jbGFzc3Jvb21faWRcIikuXG5cdFx0V2hlcmUoXCJtLnVzZXJfaWQgPSA/IEFORCBtLnJvbGUgPSA/XCIsIHVzZXJJRCwgcm9sZSkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21zIFtdZW50aXR5LkNsYXNzcm9vbUVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwidXNlcl9pZCA9ID9cIiwgdXNlcklEKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbXMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbXNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21NZW1iZXJzIFtdZW50aXR5LkNsYXNzcm9vbU1lbWJlclxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkXCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbU1lbWJlcnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbU1lbWJlcnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRnb3JtMiBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgKFxuXHRcdHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHRcdH1cblx0XHRpbnZpdGF0aW9ucyBbXWVudGl0eS5JbnZpdGF0aW9uRW50aXR5XG5cdClcblxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkID0gP1wiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGZ1bmMoZGIgKmdvcm0uREIpICpnb3JtLkRCIHtcblx0XHRcdGlmIHBhcmFtcy5TdGF0dXMgIT0gbmlsIHtcblx0XHRcdFx0cmV0dXJuIGRiLldoZXJlKFwic3RhdHVzID0gP1wiLCAqcGFyYW1zLlN0YXR1cylcblx0XHRcdH1cblx0XHRcdHJldHVybiBkYlxuXHRcdH0sIGdvcm0yLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGludml0YXRpb25zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVyT3duZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKmZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgb3duZWQgY2xhc3Nyb29tc1wiLCB6YXAuU3RyaW5nKFwidXNlciBpZFwiLCB1c2VySUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvXG4uLi5cblxudHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxuXHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxuXHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuXHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Jcblx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Jcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG5cdEZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcm9sZSBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZSwgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSByZXBvc2l0b3J5SW1wbCBzdHJ1Y3Qge1xuXHRQcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXJcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZXtSZXBvOiByZXBvfVxufVxuXG5mdW5jIChmICpmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0cmVzdWx0LCBlcnIgOj0gZi5SZXBvLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4LCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGNsYXNzcm9vbSBtZW1iZXJzXCIsIHphcC5TdHJpbmcoXCJjbGFzc3Jvb20gaWRcIiwgY2xhc3Nyb29tSUQpLCB6YXAuRXJyb3IoKGVycikpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IHIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0Ly8gS2nhu4NtIHRyYSB4ZW0gbmfGsOG7nWkgZMO5bmcgY8OzIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBjbGFzc3Jvb20ga2jDtG5nXG5cdGlzT3duZXIsIGVyciA6PSB1LlJlcG8uSXNDbGFzc3Jvb21Pd25lcihjdHgsIGNsYXNzcm9vbUlELCB1c2VySUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjaGVjayBjbGFzc3Jvb20gb3duZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRpZiAhaXNPd25lciB7XG5cdFx0cmV0dXJuIG5pbCwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyXG5cdH1cblxuXHQvLyBM4bqleSBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIG3hu51pXG5cdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHgsIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgaW52aXRlZCBtZW1iZXJzXCIsIHphcC5TdHJpbmcoXCJjbGFzc3Jvb20gaWRcIiwgY2xhc3Nyb29tSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHF1ZXJ5IDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInJlY2VpdmVyX2lkID0gP1wiLCByZWNlaXZlcklEKVxuXG5cdC8vIEzhu41jIHRoZW8gc3RhdHVzIG7hur91IGPDs1xuXHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0cXVlcnkgPSBxdWVyeS5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdH1cblxuXHR2YXIgaW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gcXVlcnkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IGNsYXNzcm9vbV9pZCB04burIFVSTFxuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBxdWVyeSByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSwgcXVlcnkpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRpZiBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpIHtcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdvcm0uaW8vZ29ybS9jbGF1c2VcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Ige1xuXHQvLyBT4butIGThu6VuZyBjbGF1c2UuT25Db25mbGljdCgpLkRvTm90aGluZygpIMSR4buDIHRyw6FuaCBs4buXaSBraGkgdGjDqm0gdGjDoG5oIHZpw6puIMSRw6MgdOG7k24gdOG6oWlcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5cblx0XHRDbGF1c2VzKGNsYXVzZS5PbkNvbmZsaWN0e0RvTm90aGluZzogdHJ1ZX0pLlxuXHRcdENyZWF0ZShtZW1iZXIpLkVycm9yXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvcm91dGVyLmdvXG4uLi5cblxuZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xuXHRjbGFzc3Jvb21Hcm91cCA6PSBhcHAuR3JvdXAoXCIvY2xhc3Nyb29tXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvaW52aXRlXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycylcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi9vd25lZFwiLCBoYW5kbGVyLkZpbHRlck93bmVkQ2xhc3Nyb29tcylcblxuXHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0YXRpb25zVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckludml0YXRpb25zKGN0eCwgcmVjZWl2ZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGludml0YXRpb25zXCIsIHphcC5TdHJpbmcoXCJyZWNlaXZlciBpZFwiLCByZWNlaXZlcklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXG50eXBlIENsYXNzcm9vbU1lbWJlclJvbGUgc3RyaW5nXG5cbmNvbnN0IChcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVRlYWNoZXIgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwidGVhY2hlclwiXG5cdENsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50IENsYXNzcm9vbU1lbWJlclJvbGUgPSBcInN0dWRlbnRcIlxuKVxuXG50eXBlIENsYXNzcm9vbU1lbWJlciBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXHRDbGFzc3Jvb21JRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiY2xhc3Nyb29tX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRVc2VySUQgICAgICBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwidXNlcl9pZFwiIGdvcm06XCJ1bmlxdWVJbmRleDppZHhfY2xhc3Nyb29tX3VzZXJcImBcblx0Um9sZSAgICAgICAgQ2xhc3Nyb29tTWVtYmVyUm9sZSBganNvbjpcInJvbGVcImBcblx0SW52aXRlZEJ5SUQgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcImludml0ZWRfYnlfaWRcImBcbn1cblxuZnVuYyAoYyBDbGFzc3Jvb21NZW1iZXIpIFRhYmxlTmFtZSgpIHN0cmluZyB7XG5cdHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tX21lbWJlcnNcIlxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2lzX2NsYXNzcm9vbV9vd25lci5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgSXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY2xhc3Nyb29tIGVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImlkID0gPyBBTkQgdXNlcl9pZCA9ID9cIiwgY2xhc3Nyb29tSUQsIHVzZXJJRCkuXG5cdFx0Rmlyc3QoJmNsYXNzcm9vbSkuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdC8vIE7hur91IGtow7RuZyB0w6xtIHRo4bqleSBi4bqjbiBnaGksIGPDsyBuZ2jEqWEgbMOgIG5nxrDhu51pIGTDuW5nIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3Vcblx0XHRyZXR1cm4gZmFsc2UsIG5pbFxuXHR9XG5cdHJldHVybiB0cnVlLCBuaWxcbn1cbi4uLlxuUGF0aDogc2VydmVyL3NlcnZlci5nb1xuLi4uXG5cdHJlcG9zaXRvcnkgOj0gcmVwb3NpdG9yeS5OZXcocHJvdmlkZXIpXG5cdGhhbmRsZXIgOj0gaGFuZGxlci5OZXcoJmhhbmRsZXIuSW5qZWN0e1xuXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICB1c2VjYXNlLk5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IHVzZWNhc2UuTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIHVzZWNhc2UuTmV3SW52aXRlTWVtYmVyVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIHVzZWNhc2UuTmV3UmVqZWN0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIHVzZWNhc2UuTmV3QWNjZXB0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2U6ICB1c2VjYXNlLk5ld0ZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdH0pXG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvaXNfaW52aXRhdGlvbl9leGlzdGluZy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgSXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKSB7XG5cdHZhciBjb3VudCBpbnQ2NFxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdE1vZGVsKCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZCA9ID8gQU5EIHJlY2VpdmVyX2lkID0gPyBBTkQgc3RhdHVzIElOID9cIiwgY2xhc3Nyb29tSUQsIHJlY2VpdmVySUQsIFtdZW50aXR5Li4uIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxSDRFYnM0QXdjendQZFhQUFRMTmZUbSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkxldCBtZSBnYXRoZXIgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZW50aXR5IGFuZCBtb2RlbCBzdHJ1Y3R1cmVzIHRvIHVuZGVyc3RhbmQgaG93IHRvIGltcGxlbWVudCB0aGUgbmV3IEFQSS5cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIzZjZkMGE3My1mZjI3LTQ5ZWUtOTViZS0zNzhmYTM2NGY3MTEiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFTZnJZNG5nVmlma2tvS0g1U1RpQjNFIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJTaG93IG1lIHRoZSBoYW5kbGVyLkluamVjdCBzdHJ1Y3R1cmUgYW5kIHRoZSBzZXJ2ZXIgaW5pdGlhbGl6YXRpb24gY29kZSB3aGVyZSB1c2VjYXNlcyBhcmUgcmVnaXN0ZXJlZFwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0IG1lIGNoZWNrIHRoZSBoYW5kbGVyIGFuZCB1c2VjYXNlIHN0cnVjdHVyZSB0byB1bmRlcnN0YW5kIGhvdyB0byBpbXBsZW1lbnQgdGhlIG5ldyBBUEkuXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBlbnRpdHkvY2xhc3Nyb29tLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXG50eXBlIENsYXNzcm9vbUVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXG5cdFVzZXJJRCAgICBzdHJpbmcgYGpzb246XCJ1c2VyX2lkXCJgXG5cdE5hbWUgICAgICBzdHJpbmcgYGpzb246XCJuYW1lXCJgXG5cdEF2YXRhclVybCBzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCJgXG59XG5cbmZ1bmMgKGMgKkNsYXNzcm9vbUVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21zXCJcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcm9sZSBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZSwgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHlde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcImNyZWF0ZWRfYXQgREVTQ1wiKSwgLy8gTeG6t2MgxJHhu4tuaCBz4bqvcCB44bq/cCB0aGVvIG5nw6B5IHThuqFvIG3hu5tpIG5o4bqldFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbXMgW11lbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0VGFibGUoXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXMgQVMgY1wiKS5cblx0XHRKb2lucyhcIkpPSU4gcXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVycyBBUyBtIE9OIGMuaWQgPSBtLmNsYXNzcm9vbV9pZFwiKS5cblx0XHRXaGVyZShcIm0udXNlcl9pZCA9ID8gQU5EIG0ucm9sZSA9ID9cIiwgdXNlcklELCByb2xlKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbXMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbXNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyUm9sZSBzdHJpbmdcblxuY29uc3QgKFxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlciBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJ0ZWFjaGVyXCJcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwic3R1ZGVudFwiXG4pXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyIHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cdENsYXNzcm9vbUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJjbGFzc3Jvb21faWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFVzZXJJRCAgICAgIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJ1c2VyX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRSb2xlICAgICAgICBDbGFzc3Jvb21NZW1iZXJSb2xlIGBqc29uOlwicm9sZVwiYFxuXHRJbnZpdGVkQnlJRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiaW52aXRlZF9ieV9pZFwiYFxufVxuXG5mdW5jIChjIENsYXNzcm9vbU1lbWJlcikgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVyc1wiXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21zIFtdZW50aXR5LkNsYXNzcm9vbUVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwidXNlcl9pZCA9ID9cIiwgdXNlcklEKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbXMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbXNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tTWVtYmVycyBbXWVudGl0eS5DbGFzc3Jvb21NZW1iZXJcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZFwiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21NZW1iZXJzKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21NZW1iZXJzXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IGVudGl0eS9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvblN0YXR1cyBzdHJpbmdcblxuY29uc3QgKFxuXHRJbnZpdGF0aW9uU3RhdHVzUGVuZGluZyAgSW52aXRhdGlvblN0YXR1cyA9IFwicGVuZGluZ1wiXG5cdEludml0YXRpb25TdGF0dXNBY2NlcHRlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJhY2NlcHRlZFwiXG5cdEludml0YXRpb25TdGF0dXNSZWplY3RlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJyZWplY3RlZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvbkVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXHRDbGFzc3Jvb21JRCBzdHJpbmcgICAgICAgICAgIGBqc29uOlwiY2xhc3Nyb29tX2lkXCJgXG5cdFNlbmRlcklEICAgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJzZW5kZXJfaWRcIiBnb3JtOlwiaW5kZXhcImBcblx0UmVjZWl2ZXJJRCAgc3RyaW5nICAgICAgICAgICBganNvbjpcInJlY2VpdmVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFN0YXR1cyAgICAgIEludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBnb3JtOlwiaW5kZXhcImBcbn1cblxuZnVuYyAoSW52aXRhdGlvbkVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHsgcmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5pbnZpdGF0aW9uc1wiIH1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJPd25lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBvd25lZCBjbGFzc3Jvb21zXCIsIHphcC5TdHJpbmcoXCJ1c2VyIGlkXCIsIHVzZXJJRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Ugc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNle1JlcG86IHJlcG99XG59XG5cbmZ1bmMgKGYgKmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHRyZXN1bHQsIGVyciA6PSBmLlJlcG8uRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHgsIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgY2xhc3Nyb29tIG1lbWJlcnNcIiwgemFwLlN0cmluZyhcImNsYXNzcm9vbSBpZFwiLCBjbGFzc3Jvb21JRCksIHphcC5FcnJvcigoZXJyKSkpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG5cbnR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcblx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Jcblx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcblx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXG5cdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuXHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHJvbGUgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcblx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG59XG5cbmZ1bmMgTmV3KHByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlcikgUmVwb3NpdG9yeSB7XG5cdHJldHVybiAmcmVwb3NpdG9yeUltcGx7XG5cdFx0UHJvdmlkZXI6IHByb3ZpZGVyLFxuXHR9XG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0Ly8gS2nhu4NtIHRyYSB4ZW0gbmfGsOG7nWkgZMO5bmcgY8OzIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBjbGFzc3Jvb20ga2jDtG5nXG5cdGlzT3duZXIsIGVyciA6PSB1LlJlcG8uSXNDbGFzc3Jvb21Pd25lcihjdHgsIGNsYXNzcm9vbUlELCB1c2VySUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjaGVjayBjbGFzc3Jvb20gb3duZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRpZiAhaXNPd25lciB7XG5cdFx0cmV0dXJuIG5pbCwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyXG5cdH1cblxuXHQvLyBM4bqleSBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIG3hu51pXG5cdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHgsIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgaW52aXRlZCBtZW1iZXJzXCIsIHphcC5TdHJpbmcoXCJjbGFzc3Jvb20gaWRcIiwgY2xhc3Nyb29tSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbi4uLlxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IGNsYXNzcm9vbV9pZCB04burIFVSTFxuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBxdWVyeSByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSwgcXVlcnkpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRpZiBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpIHtcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvciB7XG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuQ3JlYXRlKGludml0YXRpb24pLkVycm9yXG59Li4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHF1ZXJ5IDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInJlY2VpdmVyX2lkID0gP1wiLCByZWNlaXZlcklEKVxuXG5cdC8vIEzhu41jIHRoZW8gc3RhdHVzIG7hur91IGPDs1xuXHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0cXVlcnkgPSBxdWVyeS5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdH1cblxuXHR2YXIgaW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gcXVlcnkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG4uLi5cblBhdGg6IGhhbmRsZXIvaGFuZGxlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbnR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTeG7nWkgdGjDoG5oIHZpw6puIHbDoG8gbOG7m3AgaOG7jWNcblx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcblx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG5cdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBDaOG6pXAgbmjhuq1uIGzhu51pIG3hu51pXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3Vcbn1cblxudHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xuXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2Vcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2Vcblx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Vcblx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxuXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG5cdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgIHVzZWNhc2UuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZVxufVxuLi4uXG5cbmZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcblx0cmV0dXJuICZoYW5kbGVySW1wbHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXG5cdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcblx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgaW5qZWN0Lkludml0ZU1lbWJlclVzZUNhc2UsXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIGluamVjdC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UsXG5cdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LkFjY2VwdEludml0YXRpb25Vc2VDYXNlLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICBpbmplY3QuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLFxuXHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2U6ICBpbmplY3QuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSxcblx0fVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2dldF9pbnZpdGF0aW9uX2J5X2lkLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcikge1xuXHR2YXIgaW52aXRhdGlvbiBlbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiaWQgPSA/XCIsIGludml0YXRpb25JRCkuXG5cdFx0Rmlyc3QoJmludml0YXRpb24pLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gJmludml0YXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvcm91dGVyLmdvXG4uLi5cblxuZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xuXHRjbGFzc3Jvb21Hcm91cCA6PSBhcHAuR3JvdXAoXCIvY2xhc3Nyb29tXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvaW52aXRlXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyby4uLiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVQ4bnk4aEJVQXBUSHFKVmdoVXhiRDEifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJMZXQgbWUgY2hlY2sgdGhlIGhhbmRsZXIgYW5kIHVzZWNhc2Ugc3RydWN0dXJlIHRvIHVuZGVyc3RhbmQgaG93IHRvIGltcGxlbWVudCB0aGUgbmV3IEFQSS5cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIwZDE2NGY2Zi1mYmQ3LTRkYmEtODI1YS05M2QwNDk1Y2NmNmQiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFWN05zZWVZdXJxbTdRTWFkS2hGTVB3IiwidG9vbF9uYW1lIjoic2F2ZS1maWxlIiwiaW5wdXRfanNvbiI6IntcImZpbGVfcGF0aFwiOiBcInVzZWNhc2UvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zX2FzX3N0dWRlbnQuZ29cIiwgXCJmaWxlX2NvbnRlbnRcIjogXCJwYWNrYWdlIHVzZWNhc2VcXG5cXG5pbXBvcnQgKFxcblxcdFxcXCJjb250ZXh0XFxcIlxcblxcdFxcXCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVxcXCJcXG5cXHRcXFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcXFwiXFxuXFx0XFxcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVxcXCJcXG5cXG5cXHRcXFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXFxcIlxcblxcdFxcXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcXFwiXFxuXFx0XFxcImdvLnViZXIub3JnL3phcFxcXCJcXG4pXFxuXFxudHlwZSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSBpbnRlcmZhY2Uge1xcblxcdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcXG59XFxuXFxudHlwZSBmaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZUltcGwgc3RydWN0IHtcXG5cXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxcbn1cXG5cXG5mdW5jIE5ld0ZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSB7XFxuXFx0cmV0dXJuICZmaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZUltcGx7XFxuXFx0XFx0UmVwbzogcmVwbyxcXG5cXHR9XFxufVxcblxcbmZ1bmMgKHUgKmZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XFxuXFx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCwgcGFyYW1zKVxcblxcdGlmIGVyciAhPSBuaWwge1xcblxcdFxcdGxvZ2dlci5FcnJvcihcXFwiZmFpbGVkIHRvIGZpbHRlciBqb2luZWQgY2xhc3Nyb29tcyBhcyBzdHVkZW50XFxcIiwgemFwLlN0cmluZyhcXFwidXNlciBpZFxcXCIsIHVzZXJJRCksIHphcC5FcnJvcihlcnIpKVxcblxcdFxcdHJldHVybiBuaWwsIGVyclxcblxcdH1cXG5cXHRyZXR1cm4gcmVzdWx0LCBuaWxcXG59XCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3cgSSBoYXZlIGEgZ29vZCB1bmRlcnN0YW5kaW5nIG9mIHRoZSBjb2RlYmFzZS4gTGV0IG1lIGNyZWF0ZSBhIHBsYW4gdG8gaW1wbGVtZW50IHRoZSBBUEkgZm9yIGZpbHRlcmluZyBjbGFzc3Jvb21zIHdoZXJlIHRoZSB1c2VyIGhhcyBqb2luZWQgYXMgYSBzdHVkZW50LlxuXG4jIyBQbGFuIGZvciBJbXBsZW1lbnRhdGlvblxuXG4xLiBDcmVhdGUgYSBuZXcgaGFuZGxlciBtZXRob2QgYEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRgIGluIHRoZSBoYW5kbGVyIGludGVyZmFjZSBhbmQgaW1wbGVtZW50YXRpb25cbjIuIENyZWF0ZSBhIG5ldyB1c2VjYXNlIGBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZWAgdG8gaGFuZGxlIHRoZSBidXNpbmVzcyBsb2dpY1xuMy4gVXBkYXRlIHRoZSBoYW5kbGVyLkluamVjdCBzdHJ1Y3QgdG8gaW5jbHVkZSB0aGUgbmV3IHVzZWNhc2VcbjQuIFVwZGF0ZSB0aGUgc2VydmVyIGluaXRpYWxpemF0aW9uIHRvIHJlZ2lzdGVyIHRoZSBuZXcgdXNlY2FzZVxuNS4gQWRkIGEgbmV3IHJvdXRlIGluIHRoZSByb3V0ZXIuZ28gZmlsZVxuNi4gSW1wbGVtZW50IHRoZSBoYW5kbGVyIGFuZCB1c2VjYXNlIGxvZ2ljIHRvIHVzZSB0aGUgZXhpc3RpbmcgcmVwb3NpdG9yeSBtZXRob2QgYEZpbHRlckpvaW5lZENsYXNzcm9vbXNgIHdpdGggdGhlIHJvbGUgYENsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50YFxuXG5MZXQncyBzdGFydCBpbXBsZW1lbnRpbmc6XG5cbiMjIyAxLiBGaXJzdCwgbGV0J3MgY3JlYXRlIHRoZSB1c2VjYXNlIGZvciBmaWx0ZXJpbmcgam9pbmVkIGNsYXNzcm9vbXMgYXMgc3R1ZGVudDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHNlcnZlci9zZXJ2ZXIuZ29cbnBhY2thZ2Ugc2VydmVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyL21pZGRsZXdhcmUvcmVjb3ZlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG5mdW5jIFJ1bihzZXJ2aWNlQ29uZmlnICptb2RlbC5TZXJ2aWNlQ29uZmlnKSB7XG5cdGFwcCA6PSBmaWJlci5OZXcoZmliZXIuQ29uZmlne1xuXHRcdEVuYWJsZVByaW50Um91dGVzOiB0cnVlLFxuXHR9KVxuXHRhcHAuVXNlKHJlY292ZXIuTmV3KCkpXG5cblx0cHJvdmlkZXIsIGVyciA6PSBwcm92aWRlci5Jbml0KHNlcnZpY2VDb25maWcpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBpbml0IHByb3ZpZGVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG5cdHJlcG9zaXRvcnkgOj0gcmVwb3NpdG9yeS5OZXcocHJvdmlkZXIpXG5cdGhhbmRsZXIgOj0gaGFuZGxlci5OZXcoJmhhbmRsZXIuSW5qZWN0e1xuXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICB1c2VjYXNlLk5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IHVzZWNhc2UuTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIHVzZWNhc2UuTmV3SW52aXRlTWVtYmVyVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIHVzZWNhc2UuTmV3UmVqZWN0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIHVzZWNhc2UuTmV3QWNjZXB0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2U6ICB1c2VjYXNlLk5ld0ZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdH0pXG5cblx0SW5pdFJvdXRlcihhcHAsIGhhbmRsZXIpXG5cdHV0aWwuSW5pdFZhbGlkYXRlKClcblxuXHRpZiBlcnIgOj0gYXBwLkxpc3RlbihcIjpcIiArIHNlcnZpY2VDb25maWcuUG9ydCk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBzdGFydCBzZXJ2ZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cbn1cbi4uLlxuUGF0aDogaGFuZGxlci9oYW5kbGVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcblxudHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAvLyBU4bqhbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTOG7jWMgdGjDoG5oIHZpw6puIGPhu6dhIGzhu5twIGjhu41jXG5cdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4budaSBt4budaVxuXHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gVOG7qyBjaOG7kWkgbOG7nWkgbeG7nWlcblx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIEzhu41jIGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgxJHGsOG7o2MgbeG7nWlcblx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3IgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJFhbmcgc+G7nyBo4buvdVxufVxuXG50eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Vcblx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXG59XG5cbnR5cGUgSW5qZWN0IHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Vcblx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXG59XG5cbmZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcblx0cmV0dXJuICZoYW5kbGVySW1wbHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXG5cdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcblx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgaW5qZWN0Lkludml0ZU1lbWJlclVzZUNhc2UsXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIGluamVjdC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UsXG5cdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LkFjY2VwdEludml0YXRpb25Vc2VDYXNlLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICBpbmplY3QuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLFxuXHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2U6ICBpbmplY3QuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSxcblx0fVxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvcm91dGVyLmdvXG5wYWNrYWdlIHNlcnZlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbmZ1bmMgSW5pdFJvdXRlcihhcHAgKmZpYmVyLkFwcCwgaGFuZGxlciBoYW5kbGVyLkhhbmRsZXIpIHtcblx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvY3JlYXRlXCIsIGhhbmRsZXIuQ3JlYXRlQ2xhc3Nyb29tKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2ludml0ZVwiLCBoYW5kbGVyLkludml0ZU1lbWJlcilcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvb3duZWRcIiwgaGFuZGxlci5GaWx0ZXJPd25lZENsYXNzcm9vbXMpXG5cblx0aW52aXRhdGlvbkdyb3VwIDo9IGFwcC5Hcm91cChcIi9pbnZpdGF0aW9uXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0aW52aXRhdGlvbkdyb3VwLkdldChcIi9maWx0ZXJcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucylcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9yZWplY3QvOmlkXCIsIGhhbmRsZXIuUmVqZWN0SW52aXRhdGlvbilcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9hY2NlcHQvOmlkXCIsIGhhbmRsZXIuQWNjZXB0SW52aXRhdGlvbilcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdF8gXCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIHtcblx0cmV0dXJuICZjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKGMgKmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRpZiBlcnIgOj0gYy5SZXBvLkNyZWF0ZUNsYXNzcm9vbShjdHgsIGNsYXNzcm9vbSk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2xhc3Nyb29tXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBib2R5IHJlcS5DcmVhdGVDbGFzc3Jvb21SZXF1ZXN0XG5cblx0aWYgZXJyIDo9IGMuQm9keVBhcnNlcigmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHIuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5LkNsYXNzcm9vbUVudGl0eXtcblx0XHRVc2VySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHROYW1lOiAgICAgIHZhbHVlLkdldFZhbHVlKGJvZHkuTmFtZSwgXCJcIiksXG5cdFx0QXZhdGFyVXJsOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkF2YXRhclVybCwgXCJcIiksXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogY21kL3NlcnZlLmdvXG4vKlxuQ29weXJpZ2h0IMKpIDIwMjUgTkFNRSBIRVJFIDxFTUFJTCBBRERSRVNTPlxuKi9cbnBhY2thZ2UgY21kXG5cbmltcG9ydCAoXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvY29uZmlnXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9zZXJ2ZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9zcGYxMy9jb2JyYVwiXG4pXG5cbi8vIHNlcnZlQ21kIHJlcHJlc2VudHMgdGhlIHNlcnZlIGNvbW1hbmRcbnZhciBzZXJ2ZUNtZCA9ICZjb2JyYS5Db21tYW5ke1xuXHRVc2U6ICAgXCJzZXJ2ZVwiLFxuXHRTaG9ydDogXCJBIGJyaWVmIGRlc2NyaXB0aW9uIG9mIHlvdXIgY29tbWFuZFwiLFxuXHRMb25nOiBgQSBsb25nZXIgZGVzY3JpcHRpb24gdGhhdCBzcGFucyBtdWx0aXBsZSBsaW5lcyBhbmQgbGlrZWx5IGNvbnRhaW5zIGV4YW1wbGVzXG5hbmQgdXNhZ2Ugb2YgdXNpbmcgeW91ciBjb21tYW5kLiBGb3IgZXhhbXBsZTpcblxuQ29icmEgaXMgYSBDTEkgbGlicmFyeSBmb3IgR28gdGhhdCBlbXBvd2VycyBhcHBsaWNhdGlvbnMuXG5UaGlzIGFwcGxpY2F0aW9uIGlzIGEgdG9vbCB0byBnZW5lcmF0ZSB0aGUgbmVlZGVkIGZpbGVzXG50byBxdWlja2x5IGNyZWF0ZSBhIENvYnJhIGFwcGxpY2F0aW9uLmAsXG5cdFJ1bjogZnVuYyhjbWQgKmNvYnJhLkNvbW1hbmQsIGFyZ3MgW11zdHJpbmcpIHtcblx0XHR2YXIgc2VydmljZUNvbmZpZyBtb2RlbC5TZXJ2aWNlQ29uZmlnXG5cdFx0ZW52UGF0aCwgXyA6PSBjbWQuRmxhZ3MoKS5HZXRTdHJpbmcoXCJlbnYtcGF0aFwiKVxuXG5cdFx0aWYgZXJyIDo9IGNvbmZpZy5Mb2FkQ29uZmlnKGVudlBhdGgsICZzZXJ2aWNlQ29uZmlnKTsgZXJyICE9IG5pbCB7XG5cdFx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBjb25maWdcIiwgemFwLkVycm9yKGVycikpXG5cdFx0XHRyZXR1cm5cblx0XHR9XG5cblx0XHRzZXJ2ZXIuUnVuKCZzZXJ2aWNlQ29uZmlnKVxuXHR9LFxufVxuXG5mdW5jIGluaXQoKSB7XG5cdHJvb3RDbWQuQWRkQ29tbWFuZChzZXJ2ZUNtZClcblxuXHQvLyBIZXJlIHlvdSB3aWxsIGRlZmluZSB5b3VyIGZsYWdzIGFuZCBjb25maWd1cmF0aW9uIHNldHRpbmdzLlxuXG5cdC8vIENvYnJhIHN1cHBvcnRzIFBlcnNpc3RlbnQgRmxhZ3Mgd2hpY2ggd2lsbCB3b3JrIGZvciB0aGlzIGNvbW1hbmRcblx0Ly8gYW5kIGFsbCBzdWJjb21tYW5kcywgZS5nLjpcblx0Ly8gc2VydmVDbWQuUGVyc2lzdGVudEZsYWdzKCkuU3RyaW5nKFwiZm9vXCIsIFwiXCIsIFwiQSBoZWxwIGZvciBmb29cIilcblxuXHQvLyBDb2JyYSBzdXBwb3J0cyBsb2NhbCBmbGFncyB3aGljaCB3aWxsIG9ubHkgcnVuIHdoZW4gdGhpcyBjb21tYW5kXG5cdC8vIGlzIGNhbGxlZCBkaXJlY3RseSwgZS5nLjpcblx0c2VydmVDbWQuRmxhZ3MoKS5TdHJpbmdQKFwiZW52LXBhdGhcIiwgXCJlXCIsIFwiLmVudlwiLCBcIlBhdGggdG8gZW52aXJvbm1lbnQgZmlsZVwiKVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0YXRpb25zVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuLi4uXG5QYXRoOiBtaWdyYXRlL21pZ3JhdGUuZ29cbnBhY2thZ2UgbWlncmF0ZVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxuZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuXHRwcm92aWRlciwgZXJyIDo9IHByb3ZpZGVyLkluaXQoc2VydmljZUNvbmZpZylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRpZiBlcnIgOj0gcHJvdmlkZXIuRGIuQXV0b01pZ3JhdGUoXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21FbnRpdHl7fSxcblx0XHQmZW50aXR5LkNsYXNzcm9vbU1lbWJlcnt9LFxuXHRcdCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9LFxuXHQpOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gbWlncmF0ZSBkYXRhYmFzZVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuXG5cdGxvZ2dlci5JbmZvKFwibWlncmF0ZSBkYXRhYmFzZSBzdWNjZXNzXCIpXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEludml0ZU1lbWJlclVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Jcbn1cblxudHlwZSBpbnZpdGVNZW1iZXJVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEludml0ZU1lbWJlclVzZUNhc2Uge1xuXHRyZXR1cm4gJmludml0ZU1lbWJlclVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cbi4uLlxuUGF0aDogaGFuZGxlci9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgSW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuSW52aXRlTWVtYmVyUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSBoLkludml0ZU1lbWJlclVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e1xuXHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkNsYXNzcm9vbUlELCBcIlwiKSxcblx0XHRTZW5kZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdFJlY2VpdmVySUQ6ICB2YWx1ZS5HZXRWYWx1ZShib2R5LlJlY2VpdmVySUQsIFwiXCIpLFxuXHRcdFN0YXR1czogICAgICBlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIMSRYW5nIGNo4budIHjhu60gbMO9IGhv4bq3YyDEkcOjIMSRxrDhu6NjIGNo4bqlcCBuaOG6rW5cIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9hY2NlcHRfaW52aXRhdGlvbi5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEFjY2VwdEludml0YXRpb25Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgdXNlcklEIHN0cmluZykgZXJyb3Jcbn1cblxudHlwZSBhY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgQWNjZXB0SW52aXRhdGlvblVzZUNhc2Uge1xuXHRyZXR1cm4gJmFjY2VwdEludml0YXRpb25Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG4uLi5cblBhdGg6IHByb3ZpZGVyL3Byb3ZpZGVyLmdvXG5wYWNrYWdlIHByb3ZpZGVyXG5cbmltcG9ydCAoXG5cdFwiZ2l0aHViLmNvbS9uZWRwYWxzL3N1cGFiYXNlLWdvXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3Byb3ZpZGVyL2RhdGFiYXNlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG50eXBlIFByb3ZpZGVyIHN0cnVjdCB7XG5cdERiICAgICAgICAgICAgICpnb3JtLkRCXG5cdFN1cGFiYXNlQ2xpZW50ICpzdXBhYmFzZS5DbGllbnRcbn1cblxuZnVuYyBJbml0KHNlcnZpY2VDb25maWcgKm1vZGVsLlNlcnZpY2VDb25maWcpICgqUHJvdmlkZXIsIGVycm9yKSB7XG5cdGRiLCBlcnIgOj0gZGF0YWJhc2UuTmV3UG9zdGdyZXNEQihcblx0XHRzZXJ2aWNlQ29uZmlnLkRiSG9zdCxcblx0XHRzZXJ2aWNlQ29uZmlnLkRiUG9ydCxcblx0XHRzZXJ2aWNlQ29uZmlnLkRiVXNlcixcblx0XHRzZXJ2aWNlQ29uZmlnLkRiUGFzc3dvcmQsXG5cdFx0c2VydmljZUNvbmZpZy5EYk5hbWUsXG5cdClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRzdXBhYmFzZUNsaWVudCA6PSBzdXBhYmFzZS5DcmVhdGVDbGllbnQoXG5cdFx0c2VydmljZUNvbmZpZy5TdXBiYXNlVXJsLFxuXHRcdHNlcnZpY2VDb25maWcuU3VwYWJhc2VBbm9uS2V5LFxuXHQpXG5cblx0cmV0dXJuICZQcm92aWRlcntcblx0XHREYjogICAgICAgICAgICAgZGIsXG5cdFx0U3VwYWJhc2VDbGllbnQ6IHN1cGFiYXNlQ2xpZW50LFxuXHR9LCBuaWxcbn1cbi4uLlxuUGF0aDogY21kL3Jvb3QuZ29cbi8qXG5Db3B5cmlnaHQgwqkgMjAyNSBOQU1FIEhFUkUgPEVNQUlMIEFERFJFU1M+XG4qL1xucGFja2FnZSBjbWRcblxuaW1wb3J0IChcblx0XCJvc1wiXG5cblx0XCJnaXRodWIuY29tL3NwZjEzL2NvYnJhXCJcbilcblxuLy8gcm9vdENtZCByZXByZXNlbnRzIHRoZSBiYXNlIGNvbW1hbmQgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgc3ViY29tbWFuZHNcbnZhciByb290Q21kID0gJmNvYnJhLkNvbW1hbmR7XG5cdFVzZTogICBcInF1aXp6eS1jbGFzc3Jvb21cIixcblx0U2hvcnQ6IFwiQSBicmllZiBkZXNjcmlwdGlvbiBvZiB5b3VyIGFwcGxpY2F0aW9uXCIsXG5cdExvbmc6IGBBIGxvbmdlciBkZXNjcmlwdGlvbiB0aGF0IHNwYW5zIG11bHRpcGxlIGxpbmVzIGFuZCBsaWtlbHkgY29udGFpbnNcbmV4YW1wbGVzIGFuZCB1c2FnZSBvZiB1c2luZyB5b3VyIGFwcGxpY2F0aW9uLiBGb3IgZXhhbXBsZTpcblxuQ29icmEgaXMgYSBDTEkgbGlicmFyeSBmb3IgR28gdGhhdCBlbXBvd2VycyBhcHBsaWNhdGlvbnMuXG5UaGlzIGFwcGxpY2F0aW9uIGlzIGEgdG9vbCB0byBnZW5lcmF0ZSB0aGUgbmVlZGVkIGZpbGVzXG50byBxdWlja2x5IGNyZWF0ZSBhIENvYnJhIGFwcGxpY2F0aW9uLmAsXG5cdC8vIFVuY29tbWVudCB0aGUgZm9sbG93aW5nIGxpbmUgaWYgeW91ciBiYXJlIGFwcGxpY2F0aW9uXG5cdC8vIGhhcyBhbiBhY3Rpb24gYXNzb2NpYXRlZCB3aXRoIGl0OlxuXHQvLyBSdW46IGZ1bmMoY21kICpjb2JyYS5Db21tYW5kLCBhcmdzIFtdc3RyaW5nKSB7IH0sXG59XG5cbi8vIEV4ZWN1dGUgYWRkcyBhbGwgY2hpbGQgY29tbWFuZHMgdG8gdGhlIHJvb3QgY29tbWFuZCBhbmQgc2V0cyBmbGFncyBhcHByb3ByaWF0ZWx5LlxuLy8gVGhpcyBpcyBjYWxsZWQgYnkgbWFpbi5tYWluKCkuIEl0IG9ubHkgbmVlZHMgdG8gaGFwcGVuIG9uY2UgdG8gdGhlIHJvb3RDbWQuXG5mdW5jIEV4ZWN1dGUoKSB7XG5cdGVyciA6PSByb290Q21kLkV4ZWN1dGUoKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRvcy5FeGl0KDEpXG5cdH1cbn1cblxuZnVuYyBpbml0KCkge1xuXHQvLyBIZXJlIHlvdSB3aWxsIGRlZmluZSB5b3VyIGZsYWdzIGFuZCBjb25maWd1cmF0aW9uIHNldHRpbmdzLlxuXHQvLyBDb2JyYSBzdXBwb3J0cyBwZXJzaXN0ZW50IGZsYWdzLCB3aGljaCwgaWYgZGVmaW5lZCBoZXJlLFxuXHQvLyB3aWxsIGJlIGdsb2JhbCBmb3IgeW91ciBhcHBsaWNhdGlvbi5cblxuXHQvLyByb290Q21kLlBlcnNpc3RlbnRGbGFncygpLlN0cmluZ1ZhcigmY2ZnRmlsZSwgXCJjb25maWdcIiwgXCJcIiwgXCJjb25maWcgZmlsZSAoZGVmYXVsdCBpcyAkSE9NRS8ucXVpenp5LWNsYXNzcm9vbS55YW1sKVwiKVxuXG5cdC8vIENvYnJhIGFsc28gc3VwcG9ydHMgbG9jYWwgZmxhZ3MsIHdoaWNoIHdpbGwgb25seSBydW5cblx0Ly8gd2hlbiB0aGlzIGFjdGlvbiBpcyBjYWxsZWQgZGlyZWN0bHkuXG5cdHJvb3RDbWQuRmxhZ3MoKS5Cb29sUChcInRvZ2dsZVwiLCBcInRcIiwgZmFsc2UsIFwiSGVscCBtZXNzYWdlIGZvciB0b2dnbGVcIilcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSByLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBjbWQvbWlncmF0ZS5nb1xuLypcbkNvcHlyaWdodCDCqSAyMDI1IE5BTUUgSEVSRSA8RU1BSUwgQUREUkVTUz5cbiovXG5wYWNrYWdlIGNtZFxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2NvbmZpZ1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbWlncmF0ZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cblx0XCJnaXRodWIuY29tL3NwZjEzL2NvYnJhXCJcbilcblxuLy8gbWlncmF0ZUNtZCByZXByZXNlbnRzIHRoZSBtaWdyYXRlIGNvbW1hbmRcbnZhciBtaWdyYXRlQ21kID0gJmNvYnJhLkNvbW1hbmR7XG5cdFVzZTogICBcIm1pZ3JhdGVcIixcblx0U2hvcnQ6IFwiQSBicmllZiBkZXNjcmlwdGlvbiBvZiB5b3VyIGNvbW1hbmRcIixcblx0TG9uZzogYEEgbG9uZ2VyIGRlc2NyaXB0aW9uIHRoYXQgc3BhbnMgbXVsdGlwbGUgbGluZXMgYW5kIGxpa2VseSBjb250YWlucyBleGFtcGxlc1xuYW5kIHVzYWdlIG9mIHVzaW5nIHlvdXIgY29tbWFuZC4gRm9yIGV4YW1wbGU6XG5cbkNvYnJhIGlzIGEgQ0xJIGxpYnJhcnkgZm9yIEdvIHRoYXQgZW1wb3dlcnMgYXBwbGljYXRpb25zLlxuVGhpcyBhcHBsaWNhdGlvbiBpcyBhIHRvb2wgdG8gZ2VuZXJhdGUgdGhlIG5lZWRlZCBmaWxlc1xudG8gcXVpY2tseSBjcmVhdGUgYSBDb2JyYSBhcHBsaWNhdGlvbi5gLFxuXHRSdW46IGZ1bmMoY21kICpjb2JyYS5Db21tYW5kLCBhcmdzIFtdc3RyaW5nKSB7XG5cdFx0dmFyIHNlcnZpY2VDb25maWcgbW9kZWwuU2VydmljZUNvbmZpZ1xuXHRcdGVudlBhdGgsIF8gOj0gY21kLkZsYWdzKCkuR2V0U3RyaW5nKFwiZW52LXBhdGhcIilcblxuXHRcdGlmIGVyciA6PSBjb25maWcuTG9hZENvbmZpZyhlbnZQYXRoLCAmc2VydmljZUNvbmZpZyk7IGVyciAhPSBuaWwge1xuXHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGxvYWQgY29uZmlnXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdFx0cmV0dXJuXG5cdFx0fVxuXG5cdFx0bWlncmF0ZS5SdW4oJnNlcnZpY2VDb25maWcpXG5cdH0sXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xuLi4uXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgY2xhc3Nyb29tX2lkIHThu6sgVVJMXG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHF1ZXJ5IHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLCBxdWVyeSlcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdGlmIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcikge1xuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0fVxuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cbi4uLlxuUGF0aDogaGFuZGxlci9hY2NlcHRfaW52aXRhdGlvbi5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IElEIGPhu6dhIGludml0YXRpb24gdOG7qyBVUkxcblx0aW52aXRhdGlvbklEIDo9IGMuUGFyYW1zKFwiaWRcIilcblx0aWYgaW52aXRhdGlvbklEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiaWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdGlmIGVyciA6PSBoLkFjY2VwdEludml0YXRpb25Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGludml0YXRpb25JRCwgdXNlcklEKTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBnb3JtLkVyclJlY29yZE5vdEZvdW5kKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwia2jDtG5nIHTDrG0gdGjhuqV5IGzhu51pIG3hu51pXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdEludml0YXRpb25SZWNlaXZlcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBuw6B5XCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyckludml0YXRpb25Ob3RQZW5kaW5nKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibOG7nWkgbeG7nWkga2jDtG5nIOG7nyB0cuG6oW5nIHRow6FpIGNo4budIHjhu60gbMO9XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IG1haW4uZ29cbnBhY2thZ2UgbWFpblxuXG5pbXBvcnQgXCJxdWl6enktY2xhc3Nyb29tL2NtZFwiXG5cbmZ1bmMgbWFpbigpIHtcblx0Y21kLkV4ZWN1dGUoKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL3JlamVjdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgUmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgSUQgY+G7p2EgaW52aXRhdGlvbiB04burIFVSTFxuXHRpbnZpdGF0aW9uSUQgOj0gYy5QYXJhbXMoXCJpZFwiKVxuXHRpZiBpbnZpdGF0aW9uSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJpZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0aWYgZXJyIDo9IGguUmVqZWN0SW52aXRhdGlvblVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgaW52aXRhdGlvbklELCB1c2VySUQpOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGhhbmRsZSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBnb3JtLkVyclJlY29yZE5vdEZvdW5kKTpcblx0XHRcdHJldHVybiByZXMuTm90Rm91bmQoYywgZXJyb3JzLk5ldyhcImtow7RuZyB0w6xtIHRo4bqleSBs4budaSBt4budaVwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RJbnZpdGF0aW9uUmVjZWl2ZXIpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBuZ8aw4budaSBuaOG6rW4gbOG7nWkgbeG7nWkgbsOgeVwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJJbnZpdGF0aW9uTm90UGVuZGluZyk6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImzhu51pIG3hu51pIGtow7RuZyDhu58gdHLhuqFuZyB0aMOhaSBjaOG7nSB44butIGzDvVwiKSlcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyLi4uIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxU2ZyWTRuZ1ZpZmtrb0tINVNUaUIzRSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6Ik5vdyBJIGhhdmUgYSBnb29kIHVuZGVyc3RhbmRpbmcgb2YgdGhlIGNvZGViYXNlLiBMZXQgbWUgY3JlYXRlIGEgcGxhbiB0byBpbXBsZW1lbnQgdGhlIEFQSSBmb3IgZmlsdGVyaW5nIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaGFzIGpvaW5lZCBhcyBhIHN0dWRlbnQuXG5cbiMjIFBsYW4gZm9yIEltcGxlbWVudGF0aW9uXG5cbjEuIENyZWF0ZSBhIG5ldyBoYW5kbGVyIG1ldGhvZCBgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudGAgaW4gdGhlIGhhbmRsZXIgaW50ZXJmYWNlIGFuZCBpbXBsZW1lbnRhdGlvblxuMi4gQ3JlYXRlIGEgbmV3IHVzZWNhc2UgYEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlYCB0byBoYW5kbGUgdGhlIGJ1c2luZXNzIGxvZ2ljXG4zLiBVcGRhdGUgdGhlIGhhbmRsZXIuSW5qZWN0IHN0cnVjdCB0byBpbmNsdWRlIHRoZSBuZXcgdXNlY2FzZVxuNC4gVXBkYXRlIHRoZSBzZXJ2ZXIgaW5pdGlhbGl6YXRpb24gdG8gcmVnaXN0ZXIgdGhlIG5ldyB1c2VjYXNlXG41LiBBZGQgYSBuZXcgcm91dGUgaW4gdGhlIHJvdXRlci5nbyBmaWxlXG42LiBJbXBsZW1lbnQgdGhlIGhhbmRsZXIgYW5kIHVzZWNhc2UgbG9naWMgdG8gdXNlIHRoZSBleGlzdGluZyByZXBvc2l0b3J5IG1ldGhvZCBgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc2Agd2l0aCB0aGUgcm9sZSBgQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnRgXG5cbkxldCdzIHN0YXJ0IGltcGxlbWVudGluZzpcblxuIyMjIDEuIEZpcnN0LCBsZXQncyBjcmVhdGUgdGhlIHVzZWNhc2UgZm9yIGZpbHRlcmluZyBqb2luZWQgY2xhc3Nyb29tcyBhcyBzdHVkZW50OlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImYzMmJjMzhkLWY1OTMtNGYyNy04OTU5LTIyMWE3Nzg2MTJjNCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTRQVmd4SFFialpieDI4UVNWSE4yaTgiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwiaGFuZGxlci9oYW5kbGVyLmdvXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIjIyMgMi4gTm93LCBsZXQncyB1cGRhdGUgdGhlIGhhbmRsZXIgaW50ZXJmYWNlIGFuZCBpbXBsZW1lbnRhdGlvbjpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVY3TnNlZVl1cnFtN1FNYWRLaEZNUHcifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiIjIyMgMi4gTm93LCBsZXQncyB1cGRhdGUgdGhlIGhhbmRsZXIgaW50ZXJmYWNlIGFuZCBpbXBsZW1lbnRhdGlvbjpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIxZGQxZTRmYy02ZWVmLTQxNDMtYWJhMy01ODhjMTY3Y2E2YTIiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFDeU1UaWVoZzNEYmRnMzhjZnNhNlBhIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJoYW5kbGVyL2hhbmRsZXIuZ29cIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwidHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XFxuXFx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFRcXHUxZWExbyBsXFx1MWVkYnAgaFxcdTFlY2RjXFxuXFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIExcXHUxZWNkYyB0aFxcdTAwZTBuaCB2aVxcdTAwZWFuIGNcXHUxZWU3YSBsXFx1MWVkYnAgaFxcdTFlY2RjXFxuXFx0SW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgIC8vIE1cXHUxZWRkaSB0aFxcdTAwZTBuaCB2aVxcdTAwZWFuIHZcXHUwMGUwbyBsXFx1MWVkYnAgaFxcdTFlY2RjXFxuXFx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgIC8vIExcXHUxZWNkYyBkYW5oIHNcXHUwMGUxY2ggbFxcdTFlZGRpIG1cXHUxZWRkaVxcblxcdFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBUXFx1MWVlYiBjaFxcdTFlZDFpIGxcXHUxZWRkaSBtXFx1MWVkZGlcXG5cXHRBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gQ2hcXHUxZWE1cCBuaFxcdTFlYWRuIGxcXHUxZWRkaSBtXFx1MWVkZGlcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTFxcdTFlY2RjIGRhbmggc1xcdTAwZTFjaCB0aFxcdTAwZTBuaCB2aVxcdTAwZWFuIFxcdTAxMTFcXHUwMGUzIFxcdTAxMTFcXHUwMWIwXFx1MWVlM2MgbVxcdTFlZGRpXFxuXFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3IgIC8vIExcXHUxZWNkYyBkYW5oIHNcXHUwMGUxY2ggbFxcdTFlZGJwIGhcXHUxZWNkYyBcXHUwMTExYW5nIHNcXHUxZWRmIGhcXHUxZWVmdVxcbn1cIiwgXCJuZXdfc3RyXCI6IFwidHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XFxuXFx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFRcXHUxZWExbyBsXFx1MWVkYnAgaFxcdTFlY2RjXFxuXFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIExcXHUxZWNkYyB0aFxcdTAwZTBuaCB2aVxcdTAwZWFuIGNcXHUxZWU3YSBsXFx1MWVkYnAgaFxcdTFlY2RjXFxuXFx0SW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgIC8vIE1cXHUxZWRkaSB0aFxcdTAwZTBuaCB2aVxcdTAwZWFuIHZcXHUwMGUwbyBsXFx1MWVkYnAgaFxcdTFlY2RjXFxuXFx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgIC8vIExcXHUxZWNkYyBkYW5oIHNcXHUwMGUxY2ggbFxcdTFlZGRpIG1cXHUxZWRkaVxcblxcdFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBUXFx1MWVlYiBjaFxcdTFlZDFpIGxcXHUxZWRkaSBtXFx1MWVkZGlcXG5cXHRBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gQ2hcXHUxZWE1cCBuaFxcdTFlYWRuIGxcXHUxZWRkaSBtXFx1MWVkZGlcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTFxcdTFlY2RjIGRhbmggc1xcdTAwZTFjaCB0aFxcdTAwZTBuaCB2aVxcdTAwZWFuIFxcdTAxMTFcXHUwMGUzIFxcdTAxMTFcXHUwMWIwXFx1MWVlM2MgbVxcdTFlZGRpXFxuXFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3IgIC8vIExcXHUxZWNkYyBkYW5oIHNcXHUwMGUxY2ggbFxcdTFlZGJwIGhcXHUxZWNkYyBcXHUwMTExYW5nIHNcXHUxZWRmIGhcXHUxZWVmdVxcblxcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnQoYyAqZmliZXIuQ3R4KSBlcnJvciAvLyBMXFx1MWVjZGMgZGFuaCBzXFx1MDBlMWNoIGxcXHUxZWRicCBoXFx1MWVjZGMgXFx1MDExMVxcdTAwZTMgdGhhbSBnaWEgdlxcdTFlZGJpIHZhaSB0clxcdTAwZjIgaFxcdTFlY2RjIHNpbmhcXG59XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA5LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDE4fSwge1wib2xkX3N0clwiOiBcInR5cGUgaGFuZGxlckltcGwgc3RydWN0IHtcXG5cXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VcXG5cXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXFxuXFx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXFxuXFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VcXG5cXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXFxuXFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxcblxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXFxuXFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXFxufVwiLCBcIm5ld19zdHJcIjogXCJ0eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XFxuXFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXFxuXFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgICAgICAgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxcblxcdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxcblxcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgICAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXFxuXFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxcblxcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2VcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICAgICAgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxcblxcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgICAgICAgIHVzZWNhc2UuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZVxcblxcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlIHVzZWNhc2UuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2VcXG59XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAyMCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAyOX0sIHtcIm9sZF9zdHJcIjogXCJ0eXBlIEluamVjdCBzdHJ1Y3Qge1xcblxcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxcblxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcXG5cXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2VcXG5cXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxcblxcdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2VcXG5cXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXFxuXFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VcXG5cXHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VcXG59XCIsIFwibmV3X3N0clwiOiBcInR5cGUgSW5qZWN0IHN0cnVjdCB7XFxuXFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXFxuXFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgICAgICAgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxcblxcdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxcblxcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgICAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXFxuXFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxcblxcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2VcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICAgICAgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxcblxcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgICAgICAgIHVzZWNhc2UuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZVxcblxcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlIHVzZWNhc2UuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2VcXG59XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAzMSwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA0MH0sIHtcIm9sZF9zdHJcIjogXCJmdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XFxuXFx0cmV0dXJuICZoYW5kbGVySW1wbHtcXG5cXHRcXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXFxuXFx0XFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcXG5cXHRcXHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgaW5qZWN0Lkludml0ZU1lbWJlclVzZUNhc2UsXFxuXFx0XFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIGluamVjdC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UsXFxuXFx0XFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcXG5cXHRcXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LkFjY2VwdEludml0YXRpb25Vc2VDYXNlLFxcblxcdFxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICBpbmplY3QuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLFxcblxcdFxcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2U6ICBpbmplY3QuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSxcXG5cXHR9XFxufVwiLCBcIm5ld19zdHJcIjogXCJmdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XFxuXFx0cmV0dXJuICZoYW5kbGVySW1wbHtcXG5cXHRcXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXFxuXFx0XFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6ICAgICAgIGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcXG5cXHRcXHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgICAgICAgaW5qZWN0Lkludml0ZU1lbWJlclVzZUNhc2UsXFxuXFx0XFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgICAgICAgIGluamVjdC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UsXFxuXFx0XFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcXG5cXHRcXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgICAgICAgaW5qZWN0LkFjY2VwdEludml0YXRpb25Vc2VDYXNlLFxcblxcdFxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICAgICAgICBpbmplY3QuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLFxcblxcdFxcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2U6ICAgICAgICBpbmplY3QuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSxcXG5cXHRcXHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZTogaW5qZWN0LkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlLFxcblxcdH1cXG59XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA0MiwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA1M31dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBoYW5kbGVyL2hhbmRsZXIuZ286XG4gICAgIDFcdHBhY2thZ2UgaGFuZGxlclxuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IChcbiAgICAgNFx0XHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG4gICAgIDVcdFxuICAgICA2XHRcdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbiAgICAgN1x0KVxuICAgICA4XHRcbiAgICAgOVx0dHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG4gICAgMTBcdFx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG4gICAgMTFcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuICAgIDEyXHRcdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuICAgIDEzXHRcdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG4gICAgMTRcdFx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG4gICAgMTVcdFx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcbiAgICAxNlx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxuICAgIDE3XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3VcbiAgICAxOFx0fVxuICAgIDE5XHRcbiAgICAyMFx0dHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xuICAgIDIxXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuICAgIDIyXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcbiAgICAyM1x0XHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2VcbiAgICAyNFx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuICAgIDI1XHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2VcbiAgICAyNlx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG4gICAgMjdcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VcbiAgICAyOFx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VcbiAgICAyOVx0fVxuICAgIDMwXHRcbiAgICAzMVx0dHlwZSBJbmplY3Qgc3RydWN0IHtcbiAgICAzMlx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VcbiAgICAzM1x0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG4gICAgMzRcdFx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG4gICAgMzVcdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VcbiAgICAzNlx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG4gICAgMzdcdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuICAgIDM4XHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG4gICAgMzlcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXG4gICAgNDBcdH1cbiAgICA0MVx0XG4gICAgNDJcdGZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcbiAgICA0M1x0XHRyZXR1cm4gJmhhbmRsZXJJbXBse1xuICAgIDQ0XHRcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuICAgIDQ1XHRcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcbiAgICA0Nlx0XHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICBpbmplY3QuSW52aXRlTWVtYmVyVXNlQ2FzZSxcbiAgICA0N1x0XHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxuICAgIDQ4XHRcdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcbiAgICA0OVx0XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuQWNjZXB0SW52aXRhdGlvblVzZUNhc2UsXG4gICAgNTBcdFx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcbiAgICA1MVx0XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2U6ICBpbmplY3QuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSxcbiAgICA1Mlx0XHR9XG4gICAgNTNcdH1cbiAgICA1NFx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA1NFxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNFBWZ3hIUWJqWmJ4MjhRU1ZITjJpOCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsicmVxdWVzdF9pZCI6ImY4M2I3MGYzLWY2OTUtNGE3Zi05YjNiLTE4YTE1NzZmZDhkNyIsInN0YXR1cyI6ImNhbmNlbGxlZCIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtdHVybi1kZWxpbWl0ZXIifSx7InJlcXVlc3RfaWQiOiI5OTQzYTM5Zi0wMGRiLTQzNDItYWEwNS05ZDVjODNjNWMwM2YiLCJ1dWlkIjoiNDFmOGVmMzctYTU4ZS00MzVlLWEwMWMtNjBiZDhlZDU5OTlhIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy1jaGVja3BvaW50LWRlbGltaXRlciIsInN0YXR1cyI6InN1Y2Nlc3MiLCJmcm9tVGltZXN0YW1wIjowLCJ0b1RpbWVzdGFtcCI6MTc0NTI1NDI1MjExMCwic2Vlbl9zdGF0ZSI6InNlZW4ifV0sImZlZWRiYWNrU3RhdGVzIjp7InRlbXAtZmUtYTMxMDkyOTQtNGZiNC00OGZkLTllZTQtYjlkYjk3MDc5ZWJiIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0xMjVjNjVjYi00NWQ2LTQwMTktYTg0OC0xZDIyYjMxN2I4ZjkiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTUxZDJlMzdmLTc4NTYtNGJkMy1iNDU4LTUzMzk5NzA2OGI1YSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYjc1YTk4MWMtNDBhZC00YjE0LWE0ZmEtMzJkOTMzMjhhOTVjIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS02OTAwMjkzMC1kNWQxLTQzMzQtOGFmMy1iZWYxZjQwZjUzNjAiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWFlYjFjODRlLTNjMWYtNDU3NC1hMDI1LTc5Y2I0MDAwZGFkYiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn19LCJ0b29sVXNlU3RhdGVzIjp7ImNlNzE4OGEwLTlhYjctNDU2MC1iN2Y1LWM0OTY0YmI5NDJlNTt0b29sdV92cnR4XzAxSDRFYnM0QXdjendQZFhQUFRMTmZUbSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCByb2xlIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tcyBbXWVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRUYWJsZShcInF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tcyBBUyBjXCIpLlxuXHRcdEpvaW5zKFwiSk9JTiBxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbV9tZW1iZXJzIEFTIG0gT04gYy5pZCA9IG0uY2xhc3Nyb29tX2lkXCIpLlxuXHRcdFdoZXJlKFwibS51c2VyX2lkID0gPyBBTkQgbS5yb2xlID0gP1wiLCB1c2VySUQsIHJvbGUpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tcykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tcyBbXWVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInVzZXJfaWQgPSA/XCIsIHVzZXJJRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tTWVtYmVycyBbXWVudGl0eS5DbGFzc3Jvb21NZW1iZXJcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZFwiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21NZW1iZXJzKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21NZW1iZXJzXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0Z29ybTIgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIChcblx0XHRwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHlde1xuXHRcdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0XHR9XG5cdFx0aW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHQpXG5cblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZCA9ID9cIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3BlcyhmdW5jKGRiICpnb3JtLkRCKSAqZ29ybS5EQiB7XG5cdFx0XHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0XHRcdHJldHVybiBkYi5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZGJcblx0XHR9LCBnb3JtMi5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmludml0YXRpb25zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBpbnZpdGF0aW9uc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpmaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcblx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHgsIHVzZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIG93bmVkIGNsYXNzcm9vbXNcIiwgemFwLlN0cmluZyhcInVzZXIgaWRcIiwgdXNlcklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xuLi4uXG5cbnR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcblx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Jcblx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcblx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXG5cdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuXHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHJvbGUgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcblx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2V7UmVwbzogcmVwb31cbn1cblxuZnVuYyAoZiAqZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IGYuUmVwby5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBjbGFzc3Jvb20gbWVtYmVyc1wiLCB6YXAuU3RyaW5nKFwiY2xhc3Nyb29tIGlkXCIsIGNsYXNzcm9vbUlEKSwgemFwLkVycm9yKChlcnIpKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSByLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgY2xhc3Nyb29tIGtow7RuZ1xuXHRpc093bmVyLCBlcnIgOj0gdS5SZXBvLklzQ2xhc3Nyb29tT3duZXIoY3R4LCBjbGFzc3Jvb21JRCwgdXNlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgY2xhc3Nyb29tIG93bmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0aWYgIWlzT3duZXIge1xuXHRcdHJldHVybiBuaWwsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lclxuXHR9XG5cblx0Ly8gTOG6pXkgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyBt4budaVxuXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVySW52aXRlZE1lbWJlcnMoY3R4LCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGludml0ZWQgbWVtYmVyc1wiLCB6YXAuU3RyaW5nKFwiY2xhc3Nyb29tIGlkXCIsIGNsYXNzcm9vbUlEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHRxdWVyeSA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJyZWNlaXZlcl9pZCA9ID9cIiwgcmVjZWl2ZXJJRClcblxuXHQvLyBM4buNYyB0aGVvIHN0YXR1cyBu4bq/dSBjw7Ncblx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdHF1ZXJ5ID0gcXVlcnkuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHR9XG5cblx0dmFyIGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0aWYgZXJyIDo9IHF1ZXJ5LlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuKVxuXG50eXBlIEZpbHRlckludml0ZWRNZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG5cdFN0YXR1cyAqZW50aXR5Lkludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBxdWVyeTpcInN0YXR1c1wiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5UcmFuc2FjdGlvbihmdW5jKHR4ICpnb3JtLkRCKSBlcnJvciB7XG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZShjbGFzc3Jvb20pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKCZlbnRpdHkuQ2xhc3Nyb29tTWVtYmVye1xuXHRcdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGNsYXNzcm9vbS5JRCwgXCJcIiksXG5cdFx0XHRVc2VySUQ6ICAgICAgY2xhc3Nyb29tLlVzZXJJRCxcblx0XHRcdFJvbGU6ICAgICAgICBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVRlYWNoZXIsXG5cdFx0fSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdHJldHVybiBuaWxcblx0fSlcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBjbGFzc3Jvb21faWQgdOG7qyBVUkxcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcXVlcnkgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksIHF1ZXJ5KVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0aWYgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKSB7XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHR9XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnb3JtLmlvL2dvcm0vY2xhdXNlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yIHtcblx0Ly8gU+G7rSBk4bulbmcgY2xhdXNlLk9uQ29uZmxpY3QoKS5Eb05vdGhpbmcoKSDEkeG7gyB0csOhbmggbOG7l2kga2hpIHRow6ptIHRow6BuaCB2acOqbiDEkcOjIHThu5NuIHThuqFpXG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuXG5cdFx0Q2xhdXNlcyhjbGF1c2UuT25Db25mbGljdHtEb05vdGhpbmc6IHRydWV9KS5cblx0XHRDcmVhdGUobWVtYmVyKS5FcnJvclxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogc2VydmVyL3JvdXRlci5nb1xuLi4uXG5cbmZ1bmMgSW5pdFJvdXRlcihhcHAgKmZpYmVyLkFwcCwgaGFuZGxlciBoYW5kbGVyLkhhbmRsZXIpIHtcblx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvY3JlYXRlXCIsIGhhbmRsZXIuQ3JlYXRlQ2xhc3Nyb29tKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2ludml0ZVwiLCBoYW5kbGVyLkludml0ZU1lbWJlcilcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvb3duZWRcIiwgaGFuZGxlci5GaWx0ZXJPd25lZENsYXNzcm9vbXMpXG5cblx0aW52aXRhdGlvbkdyb3VwIDo9IGFwcC5Hcm91cChcIi9pbnZpdGF0aW9uXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0aW52aXRhdGlvbkdyb3VwLkdldChcIi9maWx0ZXJcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucylcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9yZWplY3QvOmlkXCIsIGhhbmRsZXIuUmVqZWN0SW52aXRhdGlvbilcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9hY2NlcHQvOmlkXCIsIGhhbmRsZXIuQWNjZXB0SW52aXRhdGlvbilcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckludml0YXRpb25zVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRhdGlvbnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVySW52aXRhdGlvbnNVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJJbnZpdGF0aW9ucyhjdHgsIHJlY2VpdmVySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBpbnZpdGF0aW9uc1wiLCB6YXAuU3RyaW5nKFwicmVjZWl2ZXIgaWRcIiwgcmVjZWl2ZXJJRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiBlbnRpdHkvY2xhc3Nyb29tX21lbWJlci5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblxudHlwZSBDbGFzc3Jvb21NZW1iZXJSb2xlIHN0cmluZ1xuXG5jb25zdCAoXG5cdENsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyIENsYXNzcm9vbU1lbWJlclJvbGUgPSBcInRlYWNoZXJcIlxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJzdHVkZW50XCJcbilcblxudHlwZSBDbGFzc3Jvb21NZW1iZXIgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiIGdvcm06XCJ1bmlxdWVJbmRleDppZHhfY2xhc3Nyb29tX3VzZXJcImBcblx0VXNlcklEICAgICAgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcInVzZXJfaWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFJvbGUgICAgICAgIENsYXNzcm9vbU1lbWJlclJvbGUgYGpzb246XCJyb2xlXCJgXG5cdEludml0ZWRCeUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJpbnZpdGVkX2J5X2lkXCJgXG59XG5cbmZ1bmMgKGMgQ2xhc3Nyb29tTWVtYmVyKSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbV9tZW1iZXJzXCJcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9pc19jbGFzc3Jvb21fb3duZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpIHtcblx0dmFyIGNsYXNzcm9vbSBlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJpZCA9ID8gQU5EIHVzZXJfaWQgPSA/XCIsIGNsYXNzcm9vbUlELCB1c2VySUQpLlxuXHRcdEZpcnN0KCZjbGFzc3Jvb20pLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBO4bq/dSBraMO0bmcgdMOsbSB0aOG6pXkgYuG6o24gZ2hpLCBjw7MgbmdoxKlhIGzDoCBuZ8aw4budaSBkw7luZyBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691XG5cdFx0cmV0dXJuIGZhbHNlLCBuaWxcblx0fVxuXHRyZXR1cm4gdHJ1ZSwgbmlsXG59XG4uLi5cblBhdGg6IHNlcnZlci9zZXJ2ZXIuZ29cbi4uLlxuXHRyZXBvc2l0b3J5IDo9IHJlcG9zaXRvcnkuTmV3KHByb3ZpZGVyKVxuXHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgdXNlY2FzZS5OZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICB1c2VjYXNlLk5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlOiAgdXNlY2FzZS5OZXdGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHR9KVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2lzX2ludml0YXRpb25fZXhpc3RpbmcuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcikge1xuXHR2YXIgY291bnQgaW50NjRcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRNb2RlbCgmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/IEFORCByZWNlaXZlcl9pZCA9ID8gQU5EIHN0YXR1cyBJTiA/XCIsIGNsYXNzcm9vbUlELCByZWNlaXZlcklELCBbXWVudGl0eS4uLiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjRjYmY4ZTU0LWUwZmMtNDY4Yy04N2E4LTEwZGY1OTAzZGEzOTt0b29sdV92cnR4XzAxVDhueThoQlVBcFRIcUpWZ2hVeGJEMSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBlbnRpdHkvY2xhc3Nyb29tLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXG50eXBlIENsYXNzcm9vbUVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXG5cdFVzZXJJRCAgICBzdHJpbmcgYGpzb246XCJ1c2VyX2lkXCJgXG5cdE5hbWUgICAgICBzdHJpbmcgYGpzb246XCJuYW1lXCJgXG5cdEF2YXRhclVybCBzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCJgXG59XG5cbmZ1bmMgKGMgKkNsYXNzcm9vbUVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21zXCJcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcm9sZSBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZSwgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHlde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcImNyZWF0ZWRfYXQgREVTQ1wiKSwgLy8gTeG6t2MgxJHhu4tuaCBz4bqvcCB44bq/cCB0aGVvIG5nw6B5IHThuqFvIG3hu5tpIG5o4bqldFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbXMgW11lbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0VGFibGUoXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXMgQVMgY1wiKS5cblx0XHRKb2lucyhcIkpPSU4gcXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVycyBBUyBtIE9OIGMuaWQgPSBtLmNsYXNzcm9vbV9pZFwiKS5cblx0XHRXaGVyZShcIm0udXNlcl9pZCA9ID8gQU5EIG0ucm9sZSA9ID9cIiwgdXNlcklELCByb2xlKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbXMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbXNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyUm9sZSBzdHJpbmdcblxuY29uc3QgKFxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlciBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJ0ZWFjaGVyXCJcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwic3R1ZGVudFwiXG4pXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyIHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cdENsYXNzcm9vbUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJjbGFzc3Jvb21faWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFVzZXJJRCAgICAgIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJ1c2VyX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRSb2xlICAgICAgICBDbGFzc3Jvb21NZW1iZXJSb2xlIGBqc29uOlwicm9sZVwiYFxuXHRJbnZpdGVkQnlJRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiaW52aXRlZF9ieV9pZFwiYFxufVxuXG5mdW5jIChjIENsYXNzcm9vbU1lbWJlcikgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVyc1wiXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21zIFtdZW50aXR5LkNsYXNzcm9vbUVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwidXNlcl9pZCA9ID9cIiwgdXNlcklEKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbXMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbXNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tTWVtYmVycyBbXWVudGl0eS5DbGFzc3Jvb21NZW1iZXJcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZFwiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21NZW1iZXJzKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21NZW1iZXJzXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IGVudGl0eS9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvblN0YXR1cyBzdHJpbmdcblxuY29uc3QgKFxuXHRJbnZpdGF0aW9uU3RhdHVzUGVuZGluZyAgSW52aXRhdGlvblN0YXR1cyA9IFwicGVuZGluZ1wiXG5cdEludml0YXRpb25TdGF0dXNBY2NlcHRlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJhY2NlcHRlZFwiXG5cdEludml0YXRpb25TdGF0dXNSZWplY3RlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJyZWplY3RlZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvbkVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXHRDbGFzc3Jvb21JRCBzdHJpbmcgICAgICAgICAgIGBqc29uOlwiY2xhc3Nyb29tX2lkXCJgXG5cdFNlbmRlcklEICAgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJzZW5kZXJfaWRcIiBnb3JtOlwiaW5kZXhcImBcblx0UmVjZWl2ZXJJRCAgc3RyaW5nICAgICAgICAgICBganNvbjpcInJlY2VpdmVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFN0YXR1cyAgICAgIEludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBnb3JtOlwiaW5kZXhcImBcbn1cblxuZnVuYyAoSW52aXRhdGlvbkVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHsgcmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5pbnZpdGF0aW9uc1wiIH1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJPd25lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBvd25lZCBjbGFzc3Jvb21zXCIsIHphcC5TdHJpbmcoXCJ1c2VyIGlkXCIsIHVzZXJJRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Ugc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNle1JlcG86IHJlcG99XG59XG5cbmZ1bmMgKGYgKmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHRyZXN1bHQsIGVyciA6PSBmLlJlcG8uRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHgsIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgY2xhc3Nyb29tIG1lbWJlcnNcIiwgemFwLlN0cmluZyhcImNsYXNzcm9vbSBpZFwiLCBjbGFzc3Jvb21JRCksIHphcC5FcnJvcigoZXJyKSkpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG5cbnR5cGUgUmVwb3NpdG9yeSBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcblx0Q3JlYXRlSW52aXRhdGlvbihjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Jcblx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcblx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXG5cdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuXHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHJvbGUgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcblx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG59XG5cbmZ1bmMgTmV3KHByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlcikgUmVwb3NpdG9yeSB7XG5cdHJldHVybiAmcmVwb3NpdG9yeUltcGx7XG5cdFx0UHJvdmlkZXI6IHByb3ZpZGVyLFxuXHR9XG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0Ly8gS2nhu4NtIHRyYSB4ZW0gbmfGsOG7nWkgZMO5bmcgY8OzIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBjbGFzc3Jvb20ga2jDtG5nXG5cdGlzT3duZXIsIGVyciA6PSB1LlJlcG8uSXNDbGFzc3Jvb21Pd25lcihjdHgsIGNsYXNzcm9vbUlELCB1c2VySUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjaGVjayBjbGFzc3Jvb20gb3duZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRpZiAhaXNPd25lciB7XG5cdFx0cmV0dXJuIG5pbCwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyXG5cdH1cblxuXHQvLyBM4bqleSBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIG3hu51pXG5cdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHgsIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgaW52aXRlZCBtZW1iZXJzXCIsIHphcC5TdHJpbmcoXCJjbGFzc3Jvb20gaWRcIiwgY2xhc3Nyb29tSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbi4uLlxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IGNsYXNzcm9vbV9pZCB04burIFVSTFxuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBxdWVyeSByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSwgcXVlcnkpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRpZiBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpIHtcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvciB7XG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuQ3JlYXRlKGludml0YXRpb24pLkVycm9yXG59Li4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHF1ZXJ5IDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInJlY2VpdmVyX2lkID0gP1wiLCByZWNlaXZlcklEKVxuXG5cdC8vIEzhu41jIHRoZW8gc3RhdHVzIG7hur91IGPDs1xuXHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0cXVlcnkgPSBxdWVyeS5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdH1cblxuXHR2YXIgaW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gcXVlcnkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG4uLi5cblBhdGg6IGhhbmRsZXIvaGFuZGxlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbnR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTeG7nWkgdGjDoG5oIHZpw6puIHbDoG8gbOG7m3AgaOG7jWNcblx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcblx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG5cdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBDaOG6pXAgbmjhuq1uIGzhu51pIG3hu51pXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3Vcbn1cblxudHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xuXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2Vcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2Vcblx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Vcblx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxuXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG5cdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgIHVzZWNhc2UuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZVxufVxuLi4uXG5cbmZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcblx0cmV0dXJuICZoYW5kbGVySW1wbHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXG5cdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcblx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgaW5qZWN0Lkludml0ZU1lbWJlclVzZUNhc2UsXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIGluamVjdC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UsXG5cdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LkFjY2VwdEludml0YXRpb25Vc2VDYXNlLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICBpbmplY3QuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLFxuXHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2U6ICBpbmplY3QuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSxcblx0fVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2dldF9pbnZpdGF0aW9uX2J5X2lkLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcikge1xuXHR2YXIgaW52aXRhdGlvbiBlbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiaWQgPSA/XCIsIGludml0YXRpb25JRCkuXG5cdFx0Rmlyc3QoJmludml0YXRpb24pLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gJmludml0YXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvcm91dGVyLmdvXG4uLi5cblxuZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xuXHRjbGFzc3Jvb21Hcm91cCA6PSBhcHAuR3JvdXAoXCIvY2xhc3Nyb29tXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvaW52aXRlXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyby4uLiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjNmNmQwYTczLWZmMjctNDllZS05NWJlLTM3OGZhMzY0ZjcxMTt0b29sdV92cnR4XzAxU2ZyWTRuZ1ZpZmtrb0tINVNUaUIzRSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBzZXJ2ZXIvc2VydmVyLmdvXG5wYWNrYWdlIHNlcnZlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92Mi9taWRkbGV3YXJlL3JlY292ZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxuZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuXHRhcHAgOj0gZmliZXIuTmV3KGZpYmVyLkNvbmZpZ3tcblx0XHRFbmFibGVQcmludFJvdXRlczogdHJ1ZSxcblx0fSlcblx0YXBwLlVzZShyZWNvdmVyLk5ldygpKVxuXG5cdHByb3ZpZGVyLCBlcnIgOj0gcHJvdmlkZXIuSW5pdChzZXJ2aWNlQ29uZmlnKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gaW5pdCBwcm92aWRlclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuXHRyZXBvc2l0b3J5IDo9IHJlcG9zaXRvcnkuTmV3KHByb3ZpZGVyKVxuXHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgdXNlY2FzZS5OZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICB1c2VjYXNlLk5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlOiAgdXNlY2FzZS5OZXdGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHR9KVxuXG5cdEluaXRSb3V0ZXIoYXBwLCBoYW5kbGVyKVxuXHR1dGlsLkluaXRWYWxpZGF0ZSgpXG5cblx0aWYgZXJyIDo9IGFwcC5MaXN0ZW4oXCI6XCIgKyBzZXJ2aWNlQ29uZmlnLlBvcnQpOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gc3RhcnQgc2VydmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaGFuZGxlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbnR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTeG7nWkgdGjDoG5oIHZpw6puIHbDoG8gbOG7m3AgaOG7jWNcblx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcblx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG5cdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBDaOG6pXAgbmjhuq1uIGzhu51pIG3hu51pXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3Vcbn1cblxudHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xuXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2Vcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2Vcblx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Vcblx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxuXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG5cdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgIHVzZWNhc2UuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZVxufVxuXG50eXBlIEluamVjdCBzdHJ1Y3Qge1xuXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2Vcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2Vcblx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Vcblx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxuXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG5cdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgIHVzZWNhc2UuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZVxufVxuXG5mdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XG5cdHJldHVybiAmaGFuZGxlckltcGx7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiBpbmplY3QuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UsXG5cdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIGluamVjdC5JbnZpdGVNZW1iZXJVc2VDYXNlLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuUmVqZWN0SW52aXRhdGlvblVzZUNhc2UsXG5cdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcblx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlOiAgaW5qZWN0LkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UsXG5cdH1cbn1cbi4uLlxuUGF0aDogc2VydmVyL3JvdXRlci5nb1xucGFja2FnZSBzZXJ2ZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2hhbmRsZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG5mdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG5cdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcIi9jbGFzc3Jvb21cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2NyZWF0ZVwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiL293bmVkXCIsIGhhbmRsZXIuRmlsdGVyT3duZWRDbGFzc3Jvb21zKVxuXG5cdGludml0YXRpb25Hcm91cCA6PSBhcHAuR3JvdXAoXCIvaW52aXRhdGlvblwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGludml0YXRpb25Hcm91cC5HZXQoXCIvZmlsdGVyXCIsIGhhbmRsZXIuRmlsdGVySW52aXRhdGlvbnMpXG5cdGludml0YXRpb25Hcm91cC5QdXQoXCIvcmVqZWN0LzppZFwiLCBoYW5kbGVyLlJlamVjdEludml0YXRpb24pXG5cdGludml0YXRpb25Hcm91cC5QdXQoXCIvYWNjZXB0LzppZFwiLCBoYW5kbGVyLkFjY2VwdEludml0YXRpb24pXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRfIFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxufVxuXG50eXBlIGNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSB7XG5cdHJldHVybiAmY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jIChjICpjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0aWYgZXJyIDo9IGMuUmVwby5DcmVhdGVDbGFzc3Jvb20oY3R4LCBjbGFzc3Jvb20pOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY3JlYXRlIGNsYXNzcm9vbVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuQ3JlYXRlQ2xhc3Nyb29tUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSByLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5DbGFzc3Jvb21FbnRpdHl7XG5cdFx0VXNlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0TmFtZTogICAgICB2YWx1ZS5HZXRWYWx1ZShib2R5Lk5hbWUsIFwiXCIpLFxuXHRcdEF2YXRhclVybDogdmFsdWUuR2V0VmFsdWUoYm9keS5BdmF0YXJVcmwsIFwiXCIpLFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IGNtZC9zZXJ2ZS5nb1xuLypcbkNvcHlyaWdodCDCqSAyMDI1IE5BTUUgSEVSRSA8RU1BSUwgQUREUkVTUz5cbiovXG5wYWNrYWdlIGNtZFxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2NvbmZpZ1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWxcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vc2VydmVyXCJcblxuXHRcImdpdGh1Yi5jb20vc3BmMTMvY29icmFcIlxuKVxuXG4vLyBzZXJ2ZUNtZCByZXByZXNlbnRzIHRoZSBzZXJ2ZSBjb21tYW5kXG52YXIgc2VydmVDbWQgPSAmY29icmEuQ29tbWFuZHtcblx0VXNlOiAgIFwic2VydmVcIixcblx0U2hvcnQ6IFwiQSBicmllZiBkZXNjcmlwdGlvbiBvZiB5b3VyIGNvbW1hbmRcIixcblx0TG9uZzogYEEgbG9uZ2VyIGRlc2NyaXB0aW9uIHRoYXQgc3BhbnMgbXVsdGlwbGUgbGluZXMgYW5kIGxpa2VseSBjb250YWlucyBleGFtcGxlc1xuYW5kIHVzYWdlIG9mIHVzaW5nIHlvdXIgY29tbWFuZC4gRm9yIGV4YW1wbGU6XG5cbkNvYnJhIGlzIGEgQ0xJIGxpYnJhcnkgZm9yIEdvIHRoYXQgZW1wb3dlcnMgYXBwbGljYXRpb25zLlxuVGhpcyBhcHBsaWNhdGlvbiBpcyBhIHRvb2wgdG8gZ2VuZXJhdGUgdGhlIG5lZWRlZCBmaWxlc1xudG8gcXVpY2tseSBjcmVhdGUgYSBDb2JyYSBhcHBsaWNhdGlvbi5gLFxuXHRSdW46IGZ1bmMoY21kICpjb2JyYS5Db21tYW5kLCBhcmdzIFtdc3RyaW5nKSB7XG5cdFx0dmFyIHNlcnZpY2VDb25maWcgbW9kZWwuU2VydmljZUNvbmZpZ1xuXHRcdGVudlBhdGgsIF8gOj0gY21kLkZsYWdzKCkuR2V0U3RyaW5nKFwiZW52LXBhdGhcIilcblxuXHRcdGlmIGVyciA6PSBjb25maWcuTG9hZENvbmZpZyhlbnZQYXRoLCAmc2VydmljZUNvbmZpZyk7IGVyciAhPSBuaWwge1xuXHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGxvYWQgY29uZmlnXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdFx0cmV0dXJuXG5cdFx0fVxuXG5cdFx0c2VydmVyLlJ1bigmc2VydmljZUNvbmZpZylcblx0fSxcbn1cblxuZnVuYyBpbml0KCkge1xuXHRyb290Q21kLkFkZENvbW1hbmQoc2VydmVDbWQpXG5cblx0Ly8gSGVyZSB5b3Ugd2lsbCBkZWZpbmUgeW91ciBmbGFncyBhbmQgY29uZmlndXJhdGlvbiBzZXR0aW5ncy5cblxuXHQvLyBDb2JyYSBzdXBwb3J0cyBQZXJzaXN0ZW50IEZsYWdzIHdoaWNoIHdpbGwgd29yayBmb3IgdGhpcyBjb21tYW5kXG5cdC8vIGFuZCBhbGwgc3ViY29tbWFuZHMsIGUuZy46XG5cdC8vIHNlcnZlQ21kLlBlcnNpc3RlbnRGbGFncygpLlN0cmluZyhcImZvb1wiLCBcIlwiLCBcIkEgaGVscCBmb3IgZm9vXCIpXG5cblx0Ly8gQ29icmEgc3VwcG9ydHMgbG9jYWwgZmxhZ3Mgd2hpY2ggd2lsbCBvbmx5IHJ1biB3aGVuIHRoaXMgY29tbWFuZFxuXHQvLyBpcyBjYWxsZWQgZGlyZWN0bHksIGUuZy46XG5cdHNlcnZlQ21kLkZsYWdzKCkuU3RyaW5nUChcImVudi1wYXRoXCIsIFwiZVwiLCBcIi5lbnZcIiwgXCJQYXRoIHRvIGVudmlyb25tZW50IGZpbGVcIilcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckludml0YXRpb25zVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRhdGlvbnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cbi4uLlxuUGF0aDogbWlncmF0ZS9taWdyYXRlLmdvXG5wYWNrYWdlIG1pZ3JhdGVcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbmZ1bmMgUnVuKHNlcnZpY2VDb25maWcgKm1vZGVsLlNlcnZpY2VDb25maWcpIHtcblx0cHJvdmlkZXIsIGVyciA6PSBwcm92aWRlci5Jbml0KHNlcnZpY2VDb25maWcpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBpbml0IHByb3ZpZGVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG5cblx0aWYgZXJyIDo9IHByb3ZpZGVyLkRiLkF1dG9NaWdyYXRlKFxuXHRcdCZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e30sXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7fSxcblx0XHQmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSxcblx0KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIG1pZ3JhdGUgZGF0YWJhc2VcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRsb2dnZXIuSW5mbyhcIm1pZ3JhdGUgZGF0YWJhc2Ugc3VjY2Vzc1wiKVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBJbnZpdGVNZW1iZXJVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgaW52aXRlTWVtYmVyVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBJbnZpdGVNZW1iZXJVc2VDYXNlIHtcblx0cmV0dXJuICZpbnZpdGVNZW1iZXJVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkludml0ZU1lbWJlclJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gaC5JbnZpdGVNZW1iZXJVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXtcblx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoYm9keS5DbGFzc3Jvb21JRCwgXCJcIiksXG5cdFx0U2VuZGVySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHRSZWNlaXZlcklEOiAgdmFsdWUuR2V0VmFsdWUoYm9keS5SZWNlaXZlcklELCBcIlwiKSxcblx0XHRTdGF0dXM6ICAgICAgZW50aXR5Lkludml0YXRpb25TdGF0dXNQZW5kaW5nLFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvbik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcIm5nxrDhu51pIG5o4bqtbiDEkcOjIGPDsyBs4budaSBt4budaSDEkWFuZyBjaOG7nSB44butIGzDvSBob+G6t2MgxJHDoyDEkcaw4bujYyBjaOG6pXAgbmjhuq1uXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvYWNjZXB0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIGVycm9yXG59XG5cbnR5cGUgYWNjZXB0SW52aXRhdGlvblVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3QWNjZXB0SW52aXRhdGlvblVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEFjY2VwdEludml0YXRpb25Vc2VDYXNlIHtcblx0cmV0dXJuICZhY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuLi4uXG5QYXRoOiBwcm92aWRlci9wcm92aWRlci5nb1xucGFja2FnZSBwcm92aWRlclxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbmVkcGFscy9zdXBhYmFzZS1nb1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9wcm92aWRlci9kYXRhYmFzZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxudHlwZSBQcm92aWRlciBzdHJ1Y3Qge1xuXHREYiAgICAgICAgICAgICAqZ29ybS5EQlxuXHRTdXBhYmFzZUNsaWVudCAqc3VwYWJhc2UuQ2xpZW50XG59XG5cbmZ1bmMgSW5pdChzZXJ2aWNlQ29uZmlnICptb2RlbC5TZXJ2aWNlQ29uZmlnKSAoKlByb3ZpZGVyLCBlcnJvcikge1xuXHRkYiwgZXJyIDo9IGRhdGFiYXNlLk5ld1Bvc3RncmVzREIoXG5cdFx0c2VydmljZUNvbmZpZy5EYkhvc3QsXG5cdFx0c2VydmljZUNvbmZpZy5EYlBvcnQsXG5cdFx0c2VydmljZUNvbmZpZy5EYlVzZXIsXG5cdFx0c2VydmljZUNvbmZpZy5EYlBhc3N3b3JkLFxuXHRcdHNlcnZpY2VDb25maWcuRGJOYW1lLFxuXHQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0c3VwYWJhc2VDbGllbnQgOj0gc3VwYWJhc2UuQ3JlYXRlQ2xpZW50KFxuXHRcdHNlcnZpY2VDb25maWcuU3VwYmFzZVVybCxcblx0XHRzZXJ2aWNlQ29uZmlnLlN1cGFiYXNlQW5vbktleSxcblx0KVxuXG5cdHJldHVybiAmUHJvdmlkZXJ7XG5cdFx0RGI6ICAgICAgICAgICAgIGRiLFxuXHRcdFN1cGFiYXNlQ2xpZW50OiBzdXBhYmFzZUNsaWVudCxcblx0fSwgbmlsXG59XG4uLi5cblBhdGg6IGNtZC9yb290LmdvXG4vKlxuQ29weXJpZ2h0IMKpIDIwMjUgTkFNRSBIRVJFIDxFTUFJTCBBRERSRVNTPlxuKi9cbnBhY2thZ2UgY21kXG5cbmltcG9ydCAoXG5cdFwib3NcIlxuXG5cdFwiZ2l0aHViLmNvbS9zcGYxMy9jb2JyYVwiXG4pXG5cbi8vIHJvb3RDbWQgcmVwcmVzZW50cyB0aGUgYmFzZSBjb21tYW5kIHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHN1YmNvbW1hbmRzXG52YXIgcm9vdENtZCA9ICZjb2JyYS5Db21tYW5ke1xuXHRVc2U6ICAgXCJxdWl6enktY2xhc3Nyb29tXCIsXG5cdFNob3J0OiBcIkEgYnJpZWYgZGVzY3JpcHRpb24gb2YgeW91ciBhcHBsaWNhdGlvblwiLFxuXHRMb25nOiBgQSBsb25nZXIgZGVzY3JpcHRpb24gdGhhdCBzcGFucyBtdWx0aXBsZSBsaW5lcyBhbmQgbGlrZWx5IGNvbnRhaW5zXG5leGFtcGxlcyBhbmQgdXNhZ2Ugb2YgdXNpbmcgeW91ciBhcHBsaWNhdGlvbi4gRm9yIGV4YW1wbGU6XG5cbkNvYnJhIGlzIGEgQ0xJIGxpYnJhcnkgZm9yIEdvIHRoYXQgZW1wb3dlcnMgYXBwbGljYXRpb25zLlxuVGhpcyBhcHBsaWNhdGlvbiBpcyBhIHRvb2wgdG8gZ2VuZXJhdGUgdGhlIG5lZWRlZCBmaWxlc1xudG8gcXVpY2tseSBjcmVhdGUgYSBDb2JyYSBhcHBsaWNhdGlvbi5gLFxuXHQvLyBVbmNvbW1lbnQgdGhlIGZvbGxvd2luZyBsaW5lIGlmIHlvdXIgYmFyZSBhcHBsaWNhdGlvblxuXHQvLyBoYXMgYW4gYWN0aW9uIGFzc29jaWF0ZWQgd2l0aCBpdDpcblx0Ly8gUnVuOiBmdW5jKGNtZCAqY29icmEuQ29tbWFuZCwgYXJncyBbXXN0cmluZykgeyB9LFxufVxuXG4vLyBFeGVjdXRlIGFkZHMgYWxsIGNoaWxkIGNvbW1hbmRzIHRvIHRoZSByb290IGNvbW1hbmQgYW5kIHNldHMgZmxhZ3MgYXBwcm9wcmlhdGVseS5cbi8vIFRoaXMgaXMgY2FsbGVkIGJ5IG1haW4ubWFpbigpLiBJdCBvbmx5IG5lZWRzIHRvIGhhcHBlbiBvbmNlIHRvIHRoZSByb290Q21kLlxuZnVuYyBFeGVjdXRlKCkge1xuXHRlcnIgOj0gcm9vdENtZC5FeGVjdXRlKClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0b3MuRXhpdCgxKVxuXHR9XG59XG5cbmZ1bmMgaW5pdCgpIHtcblx0Ly8gSGVyZSB5b3Ugd2lsbCBkZWZpbmUgeW91ciBmbGFncyBhbmQgY29uZmlndXJhdGlvbiBzZXR0aW5ncy5cblx0Ly8gQ29icmEgc3VwcG9ydHMgcGVyc2lzdGVudCBmbGFncywgd2hpY2gsIGlmIGRlZmluZWQgaGVyZSxcblx0Ly8gd2lsbCBiZSBnbG9iYWwgZm9yIHlvdXIgYXBwbGljYXRpb24uXG5cblx0Ly8gcm9vdENtZC5QZXJzaXN0ZW50RmxhZ3MoKS5TdHJpbmdWYXIoJmNmZ0ZpbGUsIFwiY29uZmlnXCIsIFwiXCIsIFwiY29uZmlnIGZpbGUgKGRlZmF1bHQgaXMgJEhPTUUvLnF1aXp6eS1jbGFzc3Jvb20ueWFtbClcIilcblxuXHQvLyBDb2JyYSBhbHNvIHN1cHBvcnRzIGxvY2FsIGZsYWdzLCB3aGljaCB3aWxsIG9ubHkgcnVuXG5cdC8vIHdoZW4gdGhpcyBhY3Rpb24gaXMgY2FsbGVkIGRpcmVjdGx5LlxuXHRyb290Q21kLkZsYWdzKCkuQm9vbFAoXCJ0b2dnbGVcIiwgXCJ0XCIsIGZhbHNlLCBcIkhlbHAgbWVzc2FnZSBmb3IgdG9nZ2xlXCIpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogY21kL21pZ3JhdGUuZ29cbi8qXG5Db3B5cmlnaHQgwqkgMjAyNSBOQU1FIEhFUkUgPEVNQUlMIEFERFJFU1M+XG4qL1xucGFja2FnZSBjbWRcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9jb25maWdcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21pZ3JhdGVcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9zcGYxMy9jb2JyYVwiXG4pXG5cbi8vIG1pZ3JhdGVDbWQgcmVwcmVzZW50cyB0aGUgbWlncmF0ZSBjb21tYW5kXG52YXIgbWlncmF0ZUNtZCA9ICZjb2JyYS5Db21tYW5ke1xuXHRVc2U6ICAgXCJtaWdyYXRlXCIsXG5cdFNob3J0OiBcIkEgYnJpZWYgZGVzY3JpcHRpb24gb2YgeW91ciBjb21tYW5kXCIsXG5cdExvbmc6IGBBIGxvbmdlciBkZXNjcmlwdGlvbiB0aGF0IHNwYW5zIG11bHRpcGxlIGxpbmVzIGFuZCBsaWtlbHkgY29udGFpbnMgZXhhbXBsZXNcbmFuZCB1c2FnZSBvZiB1c2luZyB5b3VyIGNvbW1hbmQuIEZvciBleGFtcGxlOlxuXG5Db2JyYSBpcyBhIENMSSBsaWJyYXJ5IGZvciBHbyB0aGF0IGVtcG93ZXJzIGFwcGxpY2F0aW9ucy5cblRoaXMgYXBwbGljYXRpb24gaXMgYSB0b29sIHRvIGdlbmVyYXRlIHRoZSBuZWVkZWQgZmlsZXNcbnRvIHF1aWNrbHkgY3JlYXRlIGEgQ29icmEgYXBwbGljYXRpb24uYCxcblx0UnVuOiBmdW5jKGNtZCAqY29icmEuQ29tbWFuZCwgYXJncyBbXXN0cmluZykge1xuXHRcdHZhciBzZXJ2aWNlQ29uZmlnIG1vZGVsLlNlcnZpY2VDb25maWdcblx0XHRlbnZQYXRoLCBfIDo9IGNtZC5GbGFncygpLkdldFN0cmluZyhcImVudi1wYXRoXCIpXG5cblx0XHRpZiBlcnIgOj0gY29uZmlnLkxvYWRDb25maWcoZW52UGF0aCwgJnNlcnZpY2VDb25maWcpOyBlcnIgIT0gbmlsIHtcblx0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBsb2FkIGNvbmZpZ1wiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRcdHJldHVyblxuXHRcdH1cblxuXHRcdG1pZ3JhdGUuUnVuKCZzZXJ2aWNlQ29uZmlnKVxuXHR9LFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbi4uLlxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IGNsYXNzcm9vbV9pZCB04burIFVSTFxuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBxdWVyeSByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSwgcXVlcnkpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRpZiBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpIHtcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG4uLi5cblBhdGg6IGhhbmRsZXIvYWNjZXB0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBJRCBj4bunYSBpbnZpdGF0aW9uIHThu6sgVVJMXG5cdGludml0YXRpb25JRCA6PSBjLlBhcmFtcyhcImlkXCIpXG5cdGlmIGludml0YXRpb25JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImlkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRpZiBlcnIgOj0gaC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBpbnZpdGF0aW9uSUQsIHVzZXJJRCk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRzd2l0Y2gge1xuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgZ29ybS5FcnJSZWNvcmROb3RGb3VuZCk6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImtow7RuZyB0w6xtIHRo4bqleSBs4budaSBt4budaVwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RJbnZpdGF0aW9uUmVjZWl2ZXIpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBuZ8aw4budaSBuaOG6rW4gbOG7nWkgbeG7nWkgbsOgeVwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJJbnZpdGF0aW9uTm90UGVuZGluZyk6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImzhu51pIG3hu51pIGtow7RuZyDhu58gdHLhuqFuZyB0aMOhaSBjaOG7nSB44butIGzDvVwiKSlcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBtYWluLmdvXG5wYWNrYWdlIG1haW5cblxuaW1wb3J0IFwicXVpenp5LWNsYXNzcm9vbS9jbWRcIlxuXG5mdW5jIG1haW4oKSB7XG5cdGNtZC5FeGVjdXRlKClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9yZWplY3RfaW52aXRhdGlvbi5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IElEIGPhu6dhIGludml0YXRpb24gdOG7qyBVUkxcblx0aW52aXRhdGlvbklEIDo9IGMuUGFyYW1zKFwiaWRcIilcblx0aWYgaW52aXRhdGlvbklEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiaWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdGlmIGVyciA6PSBoLlJlamVjdEludml0YXRpb25Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGludml0YXRpb25JRCwgdXNlcklEKTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBoYW5kbGUgbOG7l2lcblx0XHRzd2l0Y2gge1xuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgZ29ybS5FcnJSZWNvcmROb3RGb3VuZCk6XG5cdFx0XHRyZXR1cm4gcmVzLk5vdEZvdW5kKGMsIGVycm9ycy5OZXcoXCJraMO0bmcgdMOsbSB0aOG6pXkgbOG7nWkgbeG7nWlcIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90SW52aXRhdGlvblJlY2VpdmVyKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgbmfGsOG7nWkgbmjhuq1uIGzhu51pIG3hu51pIG7DoHlcIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJySW52aXRhdGlvbk5vdFBlbmRpbmcpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJs4budaSBt4budaSBraMO0bmcg4bufIHRy4bqhbmcgdGjDoWkgY2jhu50geOG7rSBsw71cIikpXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJPd25lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlci4uLiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifX0sIjBkMTY0ZjZmLWZiZDctNGRiYS04MjVhLTkzZDA0OTVjY2Y2ZDt0b29sdV92cnR4XzAxVjdOc2VlWXVycW03UU1hZEtoRk1QdyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn19LCJmMzJiYzM4ZC1mNTkzLTRmMjctODk1OS0yMjFhNzc4NjEyYzQ7dG9vbHVfdnJ0eF8wMTRQVmd4SFFialpieDI4UVNWSE4yaTgiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBoYW5kbGVyL2hhbmRsZXIuZ286XG4gICAgIDFcdHBhY2thZ2UgaGFuZGxlclxuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IChcbiAgICAgNFx0XHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG4gICAgIDVcdFxuICAgICA2XHRcdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbiAgICAgN1x0KVxuICAgICA4XHRcbiAgICAgOVx0dHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG4gICAgMTBcdFx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG4gICAgMTFcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuICAgIDEyXHRcdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuICAgIDEzXHRcdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG4gICAgMTRcdFx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG4gICAgMTVcdFx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcbiAgICAxNlx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxuICAgIDE3XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3VcbiAgICAxOFx0fVxuICAgIDE5XHRcbiAgICAyMFx0dHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xuICAgIDIxXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuICAgIDIyXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcbiAgICAyM1x0XHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2VcbiAgICAyNFx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuICAgIDI1XHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2VcbiAgICAyNlx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG4gICAgMjdcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VcbiAgICAyOFx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VcbiAgICAyOVx0fVxuICAgIDMwXHRcbiAgICAzMVx0dHlwZSBJbmplY3Qgc3RydWN0IHtcbiAgICAzMlx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VcbiAgICAzM1x0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG4gICAgMzRcdFx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG4gICAgMzVcdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VcbiAgICAzNlx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG4gICAgMzdcdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuICAgIDM4XHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG4gICAgMzlcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXG4gICAgNDBcdH1cbiAgICA0MVx0XG4gICAgNDJcdGZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcbiAgICA0M1x0XHRyZXR1cm4gJmhhbmRsZXJJbXBse1xuICAgIDQ0XHRcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuICAgIDQ1XHRcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcbiAgICA0Nlx0XHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICBpbmplY3QuSW52aXRlTWVtYmVyVXNlQ2FzZSxcbiAgICA0N1x0XHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxuICAgIDQ4XHRcdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcbiAgICA0OVx0XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuQWNjZXB0SW52aXRhdGlvblVzZUNhc2UsXG4gICAgNTBcdFx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcbiAgICA1MVx0XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2U6ICBpbmplY3QuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSxcbiAgICA1Mlx0XHR9XG4gICAgNTNcdH1cbiAgICA1NFx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA1NFxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiMWRkMWU0ZmMtNmVlZi00MTQzLWFiYTMtNTg4YzE2N2NhNmEyO3Rvb2x1X3ZydHhfMDFDeU1UaWVoZzNEYmRnMzhjZnNhNlBhIjp7InBoYXNlIjo3fX0sImRyYWZ0RXhjaGFuZ2UiOnsicmVxdWVzdF9tZXNzYWdlIjoiIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCJ9XX0sInN0YXR1cyI6ImRyYWZ0In0sImRyYWZ0QWN0aXZlQ29udGV4dElkcyI6WyIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbS91c2VjYXNlL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tc19hc19zdHVkZW50LmdvIiwiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb21mYWxzZWZhbHNlIiwiYWdlbnRNZW1vcmllcyJdLCJyZXF1ZXN0SWRzIjpbXSwiaXNQaW5uZWQiOmZhbHNlLCJpc1NoYXJlYWJsZSI6dHJ1ZSwiZXh0cmFEYXRhIjp7ImlzQWdlbnRDb252ZXJzYXRpb24iOnRydWUsImhhc0RpcnR5RWRpdHMiOmZhbHNlfX0sIjQ5MmY0NDExLTM4ZjEtNDRjMS1hODQ3LWI1ZWQwYWExZmY1ZCI6eyJpZCI6IjQ5MmY0NDExLTM4ZjEtNDRjMS1hODQ3LWI1ZWQwYWExZmY1ZCIsImNyZWF0ZWRBdElzbyI6IjIwMjUtMDQtMjFUMTY6NTE6MjUuMzg3WiIsImxhc3RJbnRlcmFjdGVkQXRJc28iOiIyMDI1LTA0LTIxVDE2OjUxOjQ5LjE4NloiLCJjaGF0SGlzdG9yeSI6W3sicmVxdWVzdF9pZCI6ImE2ZmMzMmQ4LWY4ZTgtNDRmYy05NjE3LTIxYmI3NDY3ODA3MiIsInV1aWQiOiI0NjIyMDM1Yi1mNDkxLTQ5NmItYjc0OS0zOTcwZTE1YjdiNDUiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLWNoZWNrcG9pbnQtZGVsaW1pdGVyIiwic3RhdHVzIjoic3VjY2VzcyIsImZyb21UaW1lc3RhbXAiOjAsInRvVGltZXN0YW1wIjoxNzQ1MjU0Mjg1Mzg3LCJzZWVuX3N0YXRlIjoic2VlbiJ9LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJjN2NkYzhmMS1hN2ZiLTRkNzAtOTZiYi02ZTkzZmI3MzY3NmEiLCJyZXF1ZXN0X21lc3NhZ2UiOiJUaMOqbSBhcGkgbOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkcOjIHRoYW0gZ2lhIHbhu5tpIHZhaSB0csOyIGzDoCBDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJUaMOqbSBhcGkgbOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkcOjIHRoYW0gZ2lhIHbhu5tpIHZhaSB0csOyIGzDoCBDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxUlFnZVhZcEhrbXJhbmhFeXBkQmdzMSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJ1c2VjYXNlL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tc19hc19zdHVkZW50LmdvXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJJ2xsIGhlbHAgeW91IGFkZCBhbiBBUEkgdG8gZmlsdGVyIHRoZSBsaXN0IG9mIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaGFzIGpvaW5lZCBhcyBhIHN0dWRlbnQgKENsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50KS4gTGV0IG1lIGZpcnN0IGdhdGhlciBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXhpc3RpbmcgY29kZWJhc2UgdG8gdW5kZXJzdGFuZCBob3cgdG8gaW1wbGVtZW50IHRoaXMgcHJvcGVybHkuXG5cbiMjIEluZm9ybWF0aW9uIEdhdGhlcmluZ1xuXG5MZXQgbWUgZmlyc3QgbG9vayBhdCB0aGUgZmlsZSB5b3UgaGF2ZSBvcGVuIHRvIHVuZGVyc3RhbmQgaXRzIGN1cnJlbnQgc3RhdGU6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9LHsiaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDExRWZoQ3NnVnpLV0ZuVXNuaGRqa2Y4IiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInVzZWNhc2UvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zX2FzX3N0dWRlbnQuZ29cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkknbGwgaGVscCB5b3UgYWRkIGFuIEFQSSB0byBmaWx0ZXIgdGhlIGxpc3Qgb2YgY2xhc3Nyb29tcyB3aGVyZSB0aGUgdXNlciBoYXMgam9pbmVkIGFzIGEgc3R1ZGVudCAoQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQpLiBMZXQgbWUgZmlyc3QgZ2F0aGVyIGluZm9ybWF0aW9uIGFib3V0IHRoZSBleGlzdGluZyBjb2RlYmFzZSB0byB1bmRlcnN0YW5kIGhvdyB0byBpbXBsZW1lbnQgdGhpcyBwcm9wZXJseS5cblxuIyMgSW5mb3JtYXRpb24gR2F0aGVyaW5nXG5cbkxldCBtZSBmaXJzdCBsb29rIGF0IHRoZSBmaWxlIHlvdSBoYXZlIG9wZW4gdG8gdW5kZXJzdGFuZCBpdHMgY3VycmVudCBzdGF0ZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50IjoiVGjDqm0gYXBpIGzhu41jIGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJHDoyB0aGFtIGdpYSB24bubaSB2YWkgdHLDsiBsw6AgQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJJJ2xsIGhlbHAgeW91IGFkZCBhbiBBUEkgdG8gZmlsdGVyIHRoZSBsaXN0IG9mIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaGFzIGpvaW5lZCBhcyBhIHN0dWRlbnQgKENsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50KS4gTGV0IG1lIGZpcnN0IGdhdGhlciBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXhpc3RpbmcgY29kZWJhc2UgdG8gdW5kZXJzdGFuZCBob3cgdG8gaW1wbGVtZW50IHRoaXMgcHJvcGVybHkuXG5cbiMjIEluZm9ybWF0aW9uIEdhdGhlcmluZ1xuXG5MZXQgbWUgZmlyc3QgbG9vayBhdCB0aGUgZmlsZSB5b3UgaGF2ZSBvcGVuIHRvIHVuZGVyc3RhbmQgaXRzIGN1cnJlbnQgc3RhdGU6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6ImZhaWxlZCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbXSwic2Vlbl9zdGF0ZSI6InVuc2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gdXNlY2FzZS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfYXNfc3R1ZGVudC5nbzpcbiAgICAgMVx0cGFja2FnZSB1c2VjYXNlXG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgKFxuICAgICA0XHRcdFwiY29udGV4dFwiXG4gICAgIDVcdFx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4gICAgIDZcdFx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG4gICAgIDdcdFx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuICAgICA4XHRcbiAgICAgOVx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG4gICAgMTBcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuICAgIDExXHRcdFwiZ28udWJlci5vcmcvemFwXCJcbiAgICAxMlx0KVxuICAgIDEzXHRcbiAgICAxNFx0dHlwZSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSBpbnRlcmZhY2Uge1xuICAgIDE1XHRcdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbiAgICAxNlx0fVxuICAgIDE3XHRcbiAgICAxOFx0dHlwZSBmaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZUltcGwgc3RydWN0IHtcbiAgICAxOVx0XHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxuICAgIDIwXHR9XG4gICAgMjFcdFxuICAgIDIyXHRmdW5jIE5ld0ZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSB7XG4gICAgMjNcdFx0cmV0dXJuICZmaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZUltcGx7XG4gICAgMjRcdFx0XHRSZXBvOiByZXBvLFxuICAgIDI1XHRcdH1cbiAgICAyNlx0fVxuICAgIDI3XHRcbiAgICAyOFx0ZnVuYyAodSAqZmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcbiAgICAyOVx0XHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHgsIHVzZXJJRCwgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50LCBwYXJhbXMpXG4gICAgMzBcdFx0aWYgZXJyICE9IG5pbCB7XG4gICAgMzFcdFx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGpvaW5lZCBjbGFzc3Jvb21zIGFzIHN0dWRlbnRcIiwgemFwLlN0cmluZyhcInVzZXIgaWRcIiwgdXNlcklEKSwgemFwLkVycm9yKGVycikpXG4gICAgMzJcdFx0XHRyZXR1cm4gbmlsLCBlcnJcbiAgICAzM1x0XHR9XG4gICAgMzRcdFx0cmV0dXJuIHJlc3VsdCwgbmlsXG4gICAgMzVcdH1cbiAgICAzNlx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAzNlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxUlFnZVhZcEhrbXJhbmhFeXBkQmdzMSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XX1dLCJmZWVkYmFja1N0YXRlcyI6eyJ0ZW1wLWZlLThlZTU4MDg4LWEzNzgtNDY3My04ZDYyLTZhOWJiY2UyMGNlOCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZDUzZmVhMjctM2I2Mi00ZGVhLWI5ZWYtZTM4YWM4YmRiYjdhIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS00YWIxNWMxNi04MTAyLTQ4NmEtYWMwNy05NDgwNzBjOTM0NjgiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTlhODIwNDBhLTRhNWQtNDhiYy1hM2Q4LTA1NzRlMGVlMTdlOSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMzQyZWY4YjYtNmRlMC00YThiLWFlYmQtNTE3OTAwNTg4OGE1Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifX0sInRvb2xVc2VTdGF0ZXMiOnsiODBmZjg2YmItMzU4MC00MjNhLWI4OTgtZjE0OGVlZmMwN2RmO3Rvb2x1X3ZydHhfMDFSUWdlWFlwSGttcmFuaEV5cGRCZ3MxIjp7InBoYXNlIjo4LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gdXNlY2FzZS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfYXNfc3R1ZGVudC5nbzpcbiAgICAgMVx0cGFja2FnZSB1c2VjYXNlXG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgKFxuICAgICA0XHRcdFwiY29udGV4dFwiXG4gICAgIDVcdFx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4gICAgIDZcdFx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG4gICAgIDdcdFx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuICAgICA4XHRcbiAgICAgOVx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG4gICAgMTBcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuICAgIDExXHRcdFwiZ28udWJlci5vcmcvemFwXCJcbiAgICAxMlx0KVxuICAgIDEzXHRcbiAgICAxNFx0dHlwZSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSBpbnRlcmZhY2Uge1xuICAgIDE1XHRcdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbiAgICAxNlx0fVxuICAgIDE3XHRcbiAgICAxOFx0dHlwZSBmaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZUltcGwgc3RydWN0IHtcbiAgICAxOVx0XHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxuICAgIDIwXHR9XG4gICAgMjFcdFxuICAgIDIyXHRmdW5jIE5ld0ZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSB7XG4gICAgMjNcdFx0cmV0dXJuICZmaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZUltcGx7XG4gICAgMjRcdFx0XHRSZXBvOiByZXBvLFxuICAgIDI1XHRcdH1cbiAgICAyNlx0fVxuICAgIDI3XHRcbiAgICAyOFx0ZnVuYyAodSAqZmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcbiAgICAyOVx0XHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHgsIHVzZXJJRCwgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50LCBwYXJhbXMpXG4gICAgMzBcdFx0aWYgZXJyICE9IG5pbCB7XG4gICAgMzFcdFx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGpvaW5lZCBjbGFzc3Jvb21zIGFzIHN0dWRlbnRcIiwgemFwLlN0cmluZyhcInVzZXIgaWRcIiwgdXNlcklEKSwgemFwLkVycm9yKGVycikpXG4gICAgMzJcdFx0XHRyZXR1cm4gbmlsLCBlcnJcbiAgICAzM1x0XHR9XG4gICAgMzRcdFx0cmV0dXJuIHJlc3VsdCwgbmlsXG4gICAgMzVcdH1cbiAgICAzNlx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAzNlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiYzdjZGM4ZjEtYTdmYi00ZDcwLTk2YmItNmU5M2ZiNzM2NzZhO3Rvb2x1X3ZydHhfMDFSUWdlWFlwSGttcmFuaEV5cGRCZ3MxIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gdXNlY2FzZS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfYXNfc3R1ZGVudC5nbzpcbiAgICAgMVx0cGFja2FnZSB1c2VjYXNlXG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgKFxuICAgICA0XHRcdFwiY29udGV4dFwiXG4gICAgIDVcdFx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4gICAgIDZcdFx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG4gICAgIDdcdFx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuICAgICA4XHRcbiAgICAgOVx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG4gICAgMTBcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuICAgIDExXHRcdFwiZ28udWJlci5vcmcvemFwXCJcbiAgICAxMlx0KVxuICAgIDEzXHRcbiAgICAxNFx0dHlwZSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSBpbnRlcmZhY2Uge1xuICAgIDE1XHRcdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbiAgICAxNlx0fVxuICAgIDE3XHRcbiAgICAxOFx0dHlwZSBmaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZUltcGwgc3RydWN0IHtcbiAgICAxOVx0XHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxuICAgIDIwXHR9XG4gICAgMjFcdFxuICAgIDIyXHRmdW5jIE5ld0ZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSB7XG4gICAgMjNcdFx0cmV0dXJuICZmaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZUltcGx7XG4gICAgMjRcdFx0XHRSZXBvOiByZXBvLFxuICAgIDI1XHRcdH1cbiAgICAyNlx0fVxuICAgIDI3XHRcbiAgICAyOFx0ZnVuYyAodSAqZmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcbiAgICAyOVx0XHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHgsIHVzZXJJRCwgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50LCBwYXJhbXMpXG4gICAgMzBcdFx0aWYgZXJyICE9IG5pbCB7XG4gICAgMzFcdFx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGpvaW5lZCBjbGFzc3Jvb21zIGFzIHN0dWRlbnRcIiwgemFwLlN0cmluZyhcInVzZXIgaWRcIiwgdXNlcklEKSwgemFwLkVycm9yKGVycikpXG4gICAgMzJcdFx0XHRyZXR1cm4gbmlsLCBlcnJcbiAgICAzM1x0XHR9XG4gICAgMzRcdFx0cmV0dXJuIHJlc3VsdCwgbmlsXG4gICAgMzVcdH1cbiAgICAzNlx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAzNlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9fSwiYzdjZGM4ZjEtYTdmYi00ZDcwLTk2YmItNmU5M2ZiNzM2NzZhO3Rvb2x1X3ZydHhfMDExRWZoQ3NnVnpLV0ZuVXNuaGRqa2Y4Ijp7InBoYXNlIjo4fX0sImRyYWZ0RXhjaGFuZ2UiOnsicmVxdWVzdF9tZXNzYWdlIjoiIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCJ9XX0sInN0YXR1cyI6ImRyYWZ0In0sImRyYWZ0QWN0aXZlQ29udGV4dElkcyI6WyIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbS91c2VjYXNlL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tc19hc19zdHVkZW50LmdvIiwiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb21mYWxzZWZhbHNlIiwiYWdlbnRNZW1vcmllcyJdLCJyZXF1ZXN0SWRzIjpbXSwiaXNQaW5uZWQiOmZhbHNlLCJpc1NoYXJlYWJsZSI6dHJ1ZSwiZXh0cmFEYXRhIjp7ImlzQWdlbnRDb252ZXJzYXRpb24iOnRydWUsImhhc0RpcnR5RWRpdHMiOmZhbHNlfX0sImQ5Y2RiNzU4LThjYTgtNGM0My05OWM2LWM2MjUzZTFkZDNjMCI6eyJpZCI6ImQ5Y2RiNzU4LThjYTgtNGM0My05OWM2LWM2MjUzZTFkZDNjMCIsImNyZWF0ZWRBdElzbyI6IjIwMjUtMDQtMjFUMTY6NTE6NTEuNzg3WiIsImxhc3RJbnRlcmFjdGVkQXRJc28iOiIyMDI1LTA1LTA5VDE0OjM5OjE5LjkwNFoiLCJjaGF0SGlzdG9yeSI6W3sic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJhYzAzMjc5Yy0wOTc2LTRmOTMtOGM4Yi03ODMzMDExM2MzMTciLCJyZXF1ZXN0X21lc3NhZ2UiOiJcbkknbGwgaGVscCB5b3UgYWRkIGFuIEFQSSB0byBmaWx0ZXIgdGhlIGxpc3Qgb2YgY2xhc3Nyb29tcyB3aGVyZSB0aGUgdXNlciBoYXMgam9pbmVkIGFzIGEgc3R1ZGVudCAoQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQpLiBMZXQgbWUgZmlyc3QgZ2F0aGVyIGluZm9ybWF0aW9uIGFib3V0IHRoZSBleGlzdGluZyBjb2RlYmFzZSB0byB1bmRlcnN0YW5kIGhvdyB0byBpbXBsZW1lbnQgdGhpcyBwcm9wZXJseS5cbkknbGwgaGVscCB5b3UgYWRkIGFuIEFQSSB0byBmaWx0ZXIgdGhlIGxpc3Qgb2YgY2xhc3Nyb29tcyB3aGVyZSB0aGUgdXNlciBoYXMgam9pbmVkIGFzIGEgc3R1ZGVudCAoQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQpLiBMZXQgbWUgZmlyc3QgZ2F0aGVyIGluZm9ybWF0aW9uIGFib3V0IHRoZSBleGlzdGluZyBjb2RlYmFzZSB0byB1bmRlcnN0YW5kIGhvdyB0byBpbXBsZW1lbnQgdGhpcyBwcm9wZXJseS4iLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiSSdsbCBoZWxwIHlvdSBhZGQgYW4gQVBJIHRvIGZpbHRlciB0aGUgbGlzdCBvZiBjbGFzc3Jvb21zIHdoZXJlIHRoZSB1c2VyIGhhcyBqb2luZWQgYXMgYSBzdHVkZW50IChDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCkuIExldCBtZSBmaXJzdCBnYXRoZXIgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV4aXN0aW5nIGNvZGViYXNlIHRvIHVuZGVyc3RhbmQgaG93IHRvIGltcGxlbWVudCB0aGlzIHByb3Blcmx5LiJ9LHsidHlwZSI6ImhhcmRCcmVhayJ9LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiSSdsbCBoZWxwIHlvdSBhZGQgYW4gQVBJIHRvIGZpbHRlciB0aGUgbGlzdCBvZiBjbGFzc3Jvb21zIHdoZXJlIHRoZSB1c2VyIGhhcyBqb2luZWQgYXMgYSBzdHVkZW50IChDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCkuIExldCBtZSBmaXJzdCBnYXRoZXIgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV4aXN0aW5nIGNvZGViYXNlIHRvIHVuZGVyc3RhbmQgaG93IHRvIGltcGxlbWVudCB0aGlzIHByb3Blcmx5LiJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxSGZ5ZEhvaWZKNkFoNUJmOFBzS1FUQSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJ1c2VjYXNlL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tc19hc19zdHVkZW50LmdvXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJJ2xsIGhlbHAgeW91IGFkZCBhbiBBUEkgdG8gZmlsdGVyIHRoZSBsaXN0IG9mIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaGFzIGpvaW5lZCBhcyBhIHN0dWRlbnQgKENsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50KS4gTGV0IG1lIGdhdGhlciBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZXhpc3RpbmcgY29kZWJhc2UgdG8gdW5kZXJzdGFuZCBob3cgdG8gaW1wbGVtZW50IHRoaXMgcHJvcGVybHkuXG5cbiMjIFByZWxpbWluYXJ5IEluZm9ybWF0aW9uIEdhdGhlcmluZ1xuXG5MZXQgbWUgZmlyc3QgbG9vayBhdCB0aGUgZmlsZSB5b3UgaGF2ZSBvcGVuIHRvIHVuZGVyc3RhbmQgaXRzIGN1cnJlbnQgc3RhdGU6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjowLCJ0ZXh0X25vZGUiOnsiY29udGVudCI6IlxuSSdsbCBoZWxwIHlvdSBhZGQgYW4gQVBJIHRvIGZpbHRlciB0aGUgbGlzdCBvZiBjbGFzc3Jvb21zIHdoZXJlIHRoZSB1c2VyIGhhcyBqb2luZWQgYXMgYSBzdHVkZW50IChDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCkuIExldCBtZSBmaXJzdCBnYXRoZXIgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV4aXN0aW5nIGNvZGViYXNlIHRvIHVuZGVyc3RhbmQgaG93IHRvIGltcGxlbWVudCB0aGlzIHByb3Blcmx5LlxuSSdsbCBoZWxwIHlvdSBhZGQgYW4gQVBJIHRvIGZpbHRlciB0aGUgbGlzdCBvZiBjbGFzc3Jvb21zIHdoZXJlIHRoZSB1c2VyIGhhcyBqb2luZWQgYXMgYSBzdHVkZW50IChDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCkuIExldCBtZSBmaXJzdCBnYXRoZXIgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGV4aXN0aW5nIGNvZGViYXNlIHRvIHVuZGVyc3RhbmQgaG93IHRvIGltcGxlbWVudCB0aGlzIHByb3Blcmx5LiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IkknbGwgaGVscCB5b3UgYWRkIGFuIEFQSSB0byBmaWx0ZXIgdGhlIGxpc3Qgb2YgY2xhc3Nyb29tcyB3aGVyZSB0aGUgdXNlciBoYXMgam9pbmVkIGFzIGEgc3R1ZGVudCAoQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQpLiBMZXQgbWUgZ2F0aGVyIGluZm9ybWF0aW9uIGFib3V0IHRoZSBleGlzdGluZyBjb2RlYmFzZSB0byB1bmRlcnN0YW5kIGhvdyB0byBpbXBsZW1lbnQgdGhpcyBwcm9wZXJseS5cblxuIyMgUHJlbGltaW5hcnkgSW5mb3JtYXRpb24gR2F0aGVyaW5nXG5cbkxldCBtZSBmaXJzdCBsb29rIGF0IHRoZSBmaWxlIHlvdSBoYXZlIG9wZW4gdG8gdW5kZXJzdGFuZCBpdHMgY3VycmVudCBzdGF0ZTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIxZmY4Y2ZkYy02NDIwLTQwYTktYTVmMi0wMDM1NGI4ODRhMmUiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE1M2RUZ2hjdlZkUU5KTjFMOXNZeDFUIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJTaG93IG1lIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgcmVwb3NpdG9yeS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zIG1ldGhvZCB0aGF0IGlzIHVzZWQgaW4gdGhlIHVzZWNhc2UuIEFsc28gc2hvdyBtZSB0aGUgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50IGNvbnN0YW50IGRlZmluaXRpb24uXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJOb3csIGxldCBtZSBjaGVjayB0aGUgcmVwb3NpdG9yeSBpbXBsZW1lbnRhdGlvbiB0byB1bmRlcnN0YW5kIGhvdyB0aGUgZmlsdGVyaW5nIGlzIGN1cnJlbnRseSBkb25lOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiB1c2VjYXNlL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tc19hc19zdHVkZW50LmdvOlxuICAgICAxXHRwYWNrYWdlIHVzZWNhc2VcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCAoXG4gICAgIDRcdFx0XCJjb250ZXh0XCJcbiAgICAgNVx0XHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbiAgICAgNlx0XHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbiAgICAgN1x0XHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG4gICAgIDhcdFxuICAgICA5XHRcdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcbiAgICAxMFx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4gICAgMTFcdFx0XCJnby51YmVyLm9yZy96YXBcIlxuICAgIDEyXHQpXG4gICAgMTNcdFxuICAgIDE0XHR0eXBlIEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlIGludGVyZmFjZSB7XG4gICAgMTVcdFx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuICAgIDE2XHR9XG4gICAgMTdcdFxuICAgIDE4XHR0eXBlIGZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuICAgIDE5XHRcdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG4gICAgMjBcdH1cbiAgICAyMVx0XG4gICAgMjJcdGZ1bmMgTmV3RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlIHtcbiAgICAyM1x0XHRyZXR1cm4gJmZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlSW1wbHtcbiAgICAyNFx0XHRcdFJlcG86IHJlcG8sXG4gICAgMjVcdFx0fVxuICAgIDI2XHR9XG4gICAgMjdcdFxuICAgIDI4XHRmdW5jICh1ICpmaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuICAgIDI5XHRcdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCwgdXNlcklELCBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQsIHBhcmFtcylcbiAgICAzMFx0XHRpZiBlcnIgIT0gbmlsIHtcbiAgICAzMVx0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgam9pbmVkIGNsYXNzcm9vbXMgYXMgc3R1ZGVudFwiLCB6YXAuU3RyaW5nKFwidXNlciBpZFwiLCB1c2VySUQpLCB6YXAuRXJyb3IoZXJyKSlcbiAgICAzMlx0XHRcdHJldHVybiBuaWwsIGVyclxuICAgIDMzXHRcdH1cbiAgICAzNFx0XHRyZXR1cm4gcmVzdWx0LCBuaWxcbiAgICAzNVx0fVxuICAgIDM2XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDM2XG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFIZnlkSG9pZko2QWg1QmY4UHNLUVRBIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiTm93LCBsZXQgbWUgY2hlY2sgdGhlIHJlcG9zaXRvcnkgaW1wbGVtZW50YXRpb24gdG8gdW5kZXJzdGFuZCBob3cgdGhlIGZpbHRlcmluZyBpcyBjdXJyZW50bHkgZG9uZTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI3OGUyZTkyNC1mNTM5LTRmYTUtODc4ZS05ZWI0M2VmNTEwYTAiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFWdmE1dVZEY2I4V3ozcjlaR2hIRml2IiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcIm1vZGVsL3JlcS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXMuZ29cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSBjaGVjayB0aGUgcmVxdWVzdCBtb2RlbCBmb3IgZmlsdGVyaW5nIGpvaW5lZCBjbGFzc3Jvb21zOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfYXNfc3R1ZGVudC5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcblx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGpvaW5lZCBjbGFzc3Jvb21zIGFzIHN0dWRlbnRcIiwgemFwLlN0cmluZyhcInVzZXIgaWRcIiwgdXNlcklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHJvbGUgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21zIFtdZW50aXR5LkNsYXNzcm9vbUVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFRhYmxlKFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21zIEFTIGNcIikuXG5cdFx0Sm9pbnMoXCJKT0lOIHF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tX21lbWJlcnMgQVMgbSBPTiBjLmlkID0gbS5jbGFzc3Jvb21faWRcIikuXG5cdFx0V2hlcmUoXCJtLnVzZXJfaWQgPSA/IEFORCBtLnJvbGUgPSA/XCIsIHVzZXJJRCwgcm9sZSkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2V7UmVwbzogcmVwb31cbn1cblxuZnVuYyAoZiAqZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IGYuUmVwby5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBjbGFzc3Jvb20gbWVtYmVyc1wiLCB6YXAuU3RyaW5nKFwiY2xhc3Nyb29tIGlkXCIsIGNsYXNzcm9vbUlEKSwgemFwLkVycm9yKChlcnIpKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBvd25lZCBjbGFzc3Jvb21zXCIsIHphcC5TdHJpbmcoXCJ1c2VyIGlkXCIsIHVzZXJJRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgY2xhc3Nyb29tIGtow7RuZ1xuXHRpc093bmVyLCBlcnIgOj0gdS5SZXBvLklzQ2xhc3Nyb29tT3duZXIoY3R4LCBjbGFzc3Jvb21JRCwgdXNlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgY2xhc3Nyb29tIG93bmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0aWYgIWlzT3duZXIge1xuXHRcdHJldHVybiBuaWwsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lclxuXHR9XG5cblx0Ly8gTOG6pXkgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyBt4budaVxuXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVySW52aXRlZE1lbWJlcnMoY3R4LCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGludml0ZWQgbWVtYmVyc1wiLCB6YXAuU3RyaW5nKFwiY2xhc3Nyb29tIGlkXCIsIGNsYXNzcm9vbUlEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHlde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcImNyZWF0ZWRfYXQgREVTQ1wiKSwgLy8gTeG6t2MgxJHhu4tuaCBz4bqvcCB44bq/cCB0aGVvIG5nw6B5IHThuqFvIG3hu5tpIG5o4bqldFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbXMgW11lbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJ1c2VyX2lkID0gP1wiLCB1c2VySUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tcykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbU1lbWJlcnMgW11lbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWRcIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tTWVtYmVycykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tTWVtYmVyc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBlbnRpdHkvY2xhc3Nyb29tX21lbWJlci5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblxudHlwZSBDbGFzc3Jvb21NZW1iZXJSb2xlIHN0cmluZ1xuXG5jb25zdCAoXG5cdENsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyIENsYXNzcm9vbU1lbWJlclJvbGUgPSBcInRlYWNoZXJcIlxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJzdHVkZW50XCJcbilcblxudHlwZSBDbGFzc3Jvb21NZW1iZXIgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiIGdvcm06XCJ1bmlxdWVJbmRleDppZHhfY2xhc3Nyb29tX3VzZXJcImBcblx0VXNlcklEICAgICAgc3RyaW5nICAgICAgICAgICAgICBganNvbjpcInVzZXJfaWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFJvbGUgICAgICAgIENsYXNzcm9vbU1lbWJlclJvbGUgYGpzb246XCJyb2xlXCJgXG5cdEludml0ZWRCeUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJpbnZpdGVkX2J5X2lkXCJgXG59XG5cbmZ1bmMgKGMgQ2xhc3Nyb29tTWVtYmVyKSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbV9tZW1iZXJzXCJcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSByLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuXG50eXBlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG5cdENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG5cdElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcblx0SXNDbGFzc3Jvb21Pd25lcihjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcblx0RmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcblx0R2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpXG5cdFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvclxuXHRDcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgbWVtYmVyICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyKSBlcnJvclxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcblx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcblx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCByb2xlIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuXHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHJvbGUgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG5cdEZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcm9sZSBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZSwgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSByZXBvc2l0b3J5SW1wbCBzdHJ1Y3Qge1xuXHRQcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXJcbn1cblxuZnVuYyBOZXcocHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyKSBSZXBvc2l0b3J5IHtcblx0cmV0dXJuICZyZXBvc2l0b3J5SW1wbHtcblx0XHRQcm92aWRlcjogcHJvdmlkZXIsXG5cdH1cbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbS5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblxudHlwZSBDbGFzc3Jvb21FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblxuXHRVc2VySUQgICAgc3RyaW5nIGBqc29uOlwidXNlcl9pZFwiYFxuXHROYW1lICAgICAgc3RyaW5nIGBqc29uOlwibmFtZVwiYFxuXHRBdmF0YXJVcmwgc3RyaW5nIGBqc29uOlwiYXZhdGFyX3VybFwiYFxufVxuXG5mdW5jIChjICpDbGFzc3Jvb21FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7XG5cdHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tc1wiXG59XG4uLi5cblBhdGg6IGVudGl0eS9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGVudGl0eVxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvblN0YXR1cyBzdHJpbmdcblxuY29uc3QgKFxuXHRJbnZpdGF0aW9uU3RhdHVzUGVuZGluZyAgSW52aXRhdGlvblN0YXR1cyA9IFwicGVuZGluZ1wiXG5cdEludml0YXRpb25TdGF0dXNBY2NlcHRlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJhY2NlcHRlZFwiXG5cdEludml0YXRpb25TdGF0dXNSZWplY3RlZCBJbnZpdGF0aW9uU3RhdHVzID0gXCJyZWplY3RlZFwiXG4pXG5cbnR5cGUgSW52aXRhdGlvbkVudGl0eSBzdHJ1Y3Qge1xuXHRyZWNvcmQuQmFzZUVudGl0eVxuXHRDbGFzc3Jvb21JRCBzdHJpbmcgICAgICAgICAgIGBqc29uOlwiY2xhc3Nyb29tX2lkXCJgXG5cdFNlbmRlcklEICAgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJzZW5kZXJfaWRcIiBnb3JtOlwiaW5kZXhcImBcblx0UmVjZWl2ZXJJRCAgc3RyaW5nICAgICAgICAgICBganNvbjpcInJlY2VpdmVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFN0YXR1cyAgICAgIEludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBnb3JtOlwiaW5kZXhcImBcbn1cblxuZnVuYyAoSW52aXRhdGlvbkVudGl0eSkgVGFibGVOYW1lKCkgc3RyaW5nIHsgcmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5pbnZpdGF0aW9uc1wiIH1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuVHJhbnNhY3Rpb24oZnVuYyh0eCAqZ29ybS5EQikgZXJyb3Ige1xuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoY2xhc3Nyb29tKS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZSgmZW50aXR5LkNsYXNzcm9vbU1lbWJlcntcblx0XHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShjbGFzc3Jvb20uSUQsIFwiXCIpLFxuXHRcdFx0VXNlcklEOiAgICAgIGNsYXNzcm9vbS5Vc2VySUQsXG5cdFx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyLFxuXHRcdH0pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRyZXR1cm4gbmlsXG5cdH0pXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdvcm0uaW8vZ29ybS9jbGF1c2VcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Ige1xuXHQvLyBT4butIGThu6VuZyBjbGF1c2UuT25Db25mbGljdCgpLkRvTm90aGluZygpIMSR4buDIHRyw6FuaCBs4buXaSBraGkgdGjDqm0gdGjDoG5oIHZpw6puIMSRw6MgdOG7k24gdOG6oWlcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5cblx0XHRDbGF1c2VzKGNsYXVzZS5PbkNvbmZsaWN0e0RvTm90aGluZzogdHJ1ZX0pLlxuXHRcdENyZWF0ZShtZW1iZXIpLkVycm9yXG59XG4uLi5cblBhdGg6IGVycm9yL2Vycm9yLmdvXG5wYWNrYWdlIHFlcnJvclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG4pXG5cbi8vIMSQ4buLbmggbmdoxKlhIGPDoWMgY29uc3RhbnRzIGVycm9yXG52YXIgKFxuXHQvLyBJbnZpdGF0aW9uIGVycm9yc1xuXHRFcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uID0gZXJyb3JzLk5ldyhcInJlY2VpdmVyIGFscmVhZHkgaGFzIGEgcGVuZGluZyBvciBhY2NlcHRlZCBpbnZpdGF0aW9uXCIpXG5cdEVyck5vdENsYXNzcm9vbU93bmVyICAgICAgICAgICAgPSBlcnJvcnMuTmV3KFwidXNlciBpcyBub3QgdGhlIG93bmVyIG9mIHRoZSBjbGFzc3Jvb21cIilcblx0RXJySW52aXRhdGlvbk5vdEZvdW5kICAgICAgICAgICA9IGVycm9ycy5OZXcoXCJpbnZpdGF0aW9uIG5vdCBmb3VuZFwiKVxuXHRFcnJJbnZpdGF0aW9uTm90UGVuZGluZyAgICAgICAgID0gZXJyb3JzLk5ldyhcImludml0YXRpb24gaXMgbm90IGluIHBlbmRpbmcgc3RhdHVzXCIpXG5cdEVyck5vdEludml0YXRpb25SZWNlaXZlciAgICAgICAgPSBlcnJvcnMuTmV3KFwidXNlciBpcyBub3QgdGhlIHJlY2VpdmVyIG9mIHRoaXMgaW52aXRhdGlvblwiKVxuXHRFcnJVc2VyQWxyZWFkeUNsYXNzcm9vbU1lbWJlciAgID0gZXJyb3JzLk5ldyhcInVzZXIgaXMgYWxyZWFkeSBhIG1lbWJlciBvZiB0aGlzIGNsYXNzcm9vbVwiKVxuKVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0Z29ybTIgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIChcblx0XHRwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHlde1xuXHRcdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0XHR9XG5cdFx0aW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHQpXG5cblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZCA9ID9cIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3BlcyhmdW5jKGRiICpnb3JtLkRCKSAqZ29ybS5EQiB7XG5cdFx0XHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0XHRcdHJldHVybiBkYi5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZGJcblx0XHR9LCBnb3JtMi5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmludml0YXRpb25zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBpbnZpdGF0aW9uc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9pc19jbGFzc3Jvb21fb3duZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpIHtcblx0dmFyIGNsYXNzcm9vbSBlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJpZCA9ID8gQU5EIHVzZXJfaWQgPSA/XCIsIGNsYXNzcm9vbUlELCB1c2VySUQpLlxuXHRcdEZpcnN0KCZjbGFzc3Jvb20pLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBO4bq/dSBraMO0bmcgdMOsbSB0aOG6pXkgYuG6o24gZ2hpLCBjw7MgbmdoxKlhIGzDoCBuZ8aw4budaSBkw7luZyBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691XG5cdFx0cmV0dXJuIGZhbHNlLCBuaWxcblx0fVxuXHRyZXR1cm4gdHJ1ZSwgbmlsXG59XG4uLi5cblBhdGg6IHNlcnZlci9yb3V0ZXIuZ29cbi4uLlxuXG5mdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG5cdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcIi9jbGFzc3Jvb21cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2NyZWF0ZVwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiL293bmVkXCIsIGhhbmRsZXIuRmlsdGVyT3duZWRDbGFzc3Jvb21zKVxuXG5cdGludml0YXRpb25Hcm91cCA6PSBhcHAuR3JvdXAoXCIvaW52aXRhdGlvblwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGludml0YXRpb25Hcm91cC5HZXQoXCIvZmlsdGVyXCIsIGhhbmRsZXIuRmlsdGVySW52aXRhdGlvbnMpXG5cdGludml0YXRpb25Hcm91cC5QdXQoXCIvcmVqZWN0LzppZFwiLCBoYW5kbGVyLlJlamVjdEludml0YXRpb24pXG5cdGludml0YXRpb25Hcm91cC5QdXQoXCIvYWNjZXB0LzppZFwiLCBoYW5kbGVyLkFjY2VwdEludml0YXRpb24pXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVJlcXVlc3Qgc3RydWN0IHtcblx0TmFtZSAgICAgICpzdHJpbmcgYGpzb246XCJuYW1lXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxuXHRBdmF0YXJVcmwgKnN0cmluZyBganNvbjpcImF2YXRhcl91cmxcIiB2YWxpZGF0ZTpcInJlcXVpcmVkLHVybFwiYFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHF1ZXJ5IDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInJlY2VpdmVyX2lkID0gP1wiLCByZWNlaXZlcklEKVxuXG5cdC8vIEzhu41jIHRoZW8gc3RhdHVzIG7hur91IGPDs1xuXHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0cXVlcnkgPSBxdWVyeS5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdH1cblxuXHR2YXIgaW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gcXVlcnkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG4uLi5cblBhdGg6IGhhbmRsZXIvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogZ28ubW9kXG5tb2R1bGUgcXVpenp5LWNsYXNzcm9vbVxuXG5nbyAxLjI0LjFcblxucmVxdWlyZSAoXG5cdGdpdGh1Yi5jb20vZ28tcGxheWdyb3VuZC92YWxpZGF0b3IvdjEwIHYxMC4yNi4wXG5cdGdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MiB2Mi41Mi42XG5cdGdpdGh1Yi5jb20vbmVkcGFscy9zdXBhYmFzZS1nbyB2MC41LjBcblx0Z2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUgdjAuMC4xOVxuXHRnaXRodWIuY29tL3NwZjEzL2NvYnJhIHYxLjkuMVxuXHRnby51YmVyLm9yZy96YXAgdjEuMjcuMFxuXHRnb3JtLmlvL2dvcm0gdjEuMjUuMTJcbilcbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC4uLiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTUzZFRnaGN2VmRRTkpOMUw5c1l4MVQifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJMZXQgbWUgY2hlY2sgdGhlIHJlcXVlc3QgbW9kZWwgZm9yIGZpbHRlcmluZyBqb2luZWQgY2xhc3Nyb29tczpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI0N2U0MzY3Yi0yNWY4LTQ5OTQtOTA1OC0xOWMwMGZkODNkNzgiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE0NlRYa0w3VFVjVndxZG04cXNiZm5wIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJTaG93IG1lIGFueSBoYW5kbGVyIGltcGxlbWVudGF0aW9uIHJlbGF0ZWQgdG8gZmlsdGVyaW5nIGpvaW5lZCBjbGFzc3Jvb21zIGFzIGEgc3R1ZGVudC4gQWxzbyBzaG93IG1lIHRoZSBoYW5kbGVyIGludGVyZmFjZSBkZWZpbml0aW9uLlwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93LCBsZXQgbWUgY2hlY2sgaWYgdGhlcmUncyBhIGhhbmRsZXIgZm9yIHRoZSBqb2luZWQgY2xhc3Nyb29tcyBBUEk6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIG1vZGVsL3JlcS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXMuZ286XG4gICAgIDFcdHBhY2thZ2UgcmVxXG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuICAgICA0XHRcbiAgICAgNVx0dHlwZSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxIHN0cnVjdCB7XG4gICAgIDZcdFx0cmVxLlBhZ2luYXRpb25SZXFcbiAgICAgN1x0fVxuICAgICA4XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDhcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVZ2YTV1VkRjYjhXejNyOVpHaEhGaXYifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJOb3csIGxldCBtZSBjaGVjayBpZiB0aGVyZSdzIGEgaGFuZGxlciBmb3IgdGhlIGpvaW5lZCBjbGFzc3Jvb21zIEFQSTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIxYmFiOWM5OS1iYmQwLTRiYmItYWIxMS01NjU3NGRjN2MyMGEiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE5d1dkY3QycDVaN1NFelJEVlZGcFc4IiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJTaG93IG1lIHRoZSBzZXJ2ZXIgaW5pdGlhbGl6YXRpb24gY29kZSB3aGVyZSBoYW5kbGVycyBhcmUgcmVnaXN0ZXJlZCwgYW5kIGhvdyB0aGUgcm91dGVyIGlzIHNldCB1cC5cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkxldCBtZSBjaGVjayB0aGUgc2VydmVyIGluaXRpYWxpemF0aW9uIHRvIHNlZSBob3cgdG8gYWRkIGEgbmV3IGhhbmRsZXI6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tc19hc19zdHVkZW50LmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpmaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHgsIHVzZXJJRCwgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50LCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgam9pbmVkIGNsYXNzcm9vbXMgYXMgc3R1ZGVudFwiLCB6YXAuU3RyaW5nKFwidXNlciBpZFwiLCB1c2VySUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9oYW5kbGVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcblxudHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAvLyBU4bqhbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTOG7jWMgdGjDoG5oIHZpw6puIGPhu6dhIGzhu5twIGjhu41jXG5cdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4budaSBt4budaVxuXHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gVOG7qyBjaOG7kWkgbOG7nWkgbeG7nWlcblx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIEzhu41jIGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgxJHGsOG7o2MgbeG7nWlcblx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3IgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJFhbmcgc+G7nyBo4buvdVxufVxuXG50eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Vcblx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXG59XG5cbnR5cGUgSW5qZWN0IHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Vcblx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXG59XG5cbmZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcblx0cmV0dXJuICZoYW5kbGVySW1wbHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXG5cdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcblx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgaW5qZWN0Lkludml0ZU1lbWJlclVzZUNhc2UsXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIGluamVjdC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UsXG5cdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LkFjY2VwdEludml0YXRpb25Vc2VDYXNlLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICBpbmplY3QuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLFxuXHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2U6ICBpbmplY3QuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSxcblx0fVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IGNsYXNzcm9vbV9pZCB04burIFVSTFxuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBxdWVyeSByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSwgcXVlcnkpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRpZiBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpIHtcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSByLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcm9sZSBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZSwgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHlde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcImNyZWF0ZWRfYXQgREVTQ1wiKSwgLy8gTeG6t2MgxJHhu4tuaCBz4bqvcCB44bq/cCB0aGVvIG5nw6B5IHThuqFvIG3hu5tpIG5o4bqldFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbXMgW11lbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0VGFibGUoXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXMgQVMgY1wiKS5cblx0XHRKb2lucyhcIkpPSU4gcXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVycyBBUyBtIE9OIGMuaWQgPSBtLmNsYXNzcm9vbV9pZFwiKS5cblx0XHRXaGVyZShcIm0udXNlcl9pZCA9ID8gQU5EIG0ucm9sZSA9ID9cIiwgdXNlcklELCByb2xlKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbXMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbXNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IHNlcnZlci9yb3V0ZXIuZ29cbi4uLlxuXG5mdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG5cdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcIi9jbGFzc3Jvb21cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2NyZWF0ZVwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiL293bmVkXCIsIGhhbmRsZXIuRmlsdGVyT3duZWRDbGFzc3Jvb21zKVxuXG5cdGludml0YXRpb25Hcm91cCA6PSBhcHAuR3JvdXAoXCIvaW52aXRhdGlvblwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGludml0YXRpb25Hcm91cC5HZXQoXCIvZmlsdGVyXCIsIGhhbmRsZXIuRmlsdGVySW52aXRhdGlvbnMpXG5cdGludml0YXRpb25Hcm91cC5QdXQoXCIvcmVqZWN0LzppZFwiLCBoYW5kbGVyLlJlamVjdEludml0YXRpb24pXG5cdGludml0YXRpb25Hcm91cC5QdXQoXCIvYWNjZXB0LzppZFwiLCBoYW5kbGVyLkFjY2VwdEludml0YXRpb24pXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0Ly8gS2nhu4NtIHRyYSB4ZW0gbmfGsOG7nWkgZMO5bmcgY8OzIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBjbGFzc3Jvb20ga2jDtG5nXG5cdGlzT3duZXIsIGVyciA6PSB1LlJlcG8uSXNDbGFzc3Jvb21Pd25lcihjdHgsIGNsYXNzcm9vbUlELCB1c2VySUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjaGVjayBjbGFzc3Jvb20gb3duZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRpZiAhaXNPd25lciB7XG5cdFx0cmV0dXJuIG5pbCwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyXG5cdH1cblxuXHQvLyBM4bqleSBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIG3hu51pXG5cdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHgsIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgaW52aXRlZCBtZW1iZXJzXCIsIHphcC5TdHJpbmcoXCJjbGFzc3Jvb20gaWRcIiwgY2xhc3Nyb29tSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpmaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcblx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHgsIHVzZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIG93bmVkIGNsYXNzcm9vbXNcIiwgemFwLlN0cmluZyhcInVzZXIgaWRcIiwgdXNlcklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkludml0ZU1lbWJlclJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gaC5JbnZpdGVNZW1iZXJVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXtcblx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoYm9keS5DbGFzc3Jvb21JRCwgXCJcIiksXG5cdFx0U2VuZGVySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHRSZWNlaXZlcklEOiAgdmFsdWUuR2V0VmFsdWUoYm9keS5SZWNlaXZlcklELCBcIlwiKSxcblx0XHRTdGF0dXM6ICAgICAgZW50aXR5Lkludml0YXRpb25TdGF0dXNQZW5kaW5nLFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvbik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcIm5nxrDhu51pIG5o4bqtbiDEkcOjIGPDsyBs4budaSBt4budaSDEkWFuZyBjaOG7nSB44butIGzDvSBob+G6t2MgxJHDoyDEkcaw4bujYyBjaOG6pXAgbmjhuq1uXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkNyZWF0ZUNsYXNzcm9vbVJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gci5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e1xuXHRcdFVzZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdE5hbWU6ICAgICAgdmFsdWUuR2V0VmFsdWUoYm9keS5OYW1lLCBcIlwiKSxcblx0XHRBdmF0YXJVcmw6IHZhbHVlLkdldFZhbHVlKGJvZHkuQXZhdGFyVXJsLCBcIlwiKSxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL3JlamVjdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgUmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgSUQgY+G7p2EgaW52aXRhdGlvbiB04burIFVSTFxuXHRpbnZpdGF0aW9uSUQgOj0gYy5QYXJhbXMoXCJpZFwiKVxuXHRpZiBpbnZpdGF0aW9uSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJpZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0aWYgZXJyIDo9IGguUmVqZWN0SW52aXRhdGlvblVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgaW52aXRhdGlvbklELCB1c2VySUQpOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGhhbmRsZSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBnb3JtLkVyclJlY29yZE5vdEZvdW5kKTpcblx0XHRcdHJldHVybiByZXMuTm90Rm91bmQoYywgZXJyb3JzLk5ldyhcImtow7RuZyB0w6xtIHRo4bqleSBs4budaSBt4budaVwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RJbnZpdGF0aW9uUmVjZWl2ZXIpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBuZ8aw4budaSBuaOG6rW4gbOG7nWkgbeG7nWkgbsOgeVwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJJbnZpdGF0aW9uTm90UGVuZGluZyk6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImzhu51pIG3hu51pIGtow7RuZyDhu58gdHLhuqFuZyB0aMOhaSBjaOG7nSB44butIGzDvVwiKSlcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Ugc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNle1JlcG86IHJlcG99XG59XG5cbmZ1bmMgKGYgKmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHRyZXN1bHQsIGVyciA6PSBmLlJlcG8uRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHgsIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgY2xhc3Nyb29tIG1lbWJlcnNcIiwgemFwLlN0cmluZyhcImNsYXNzcm9vbSBpZFwiLCBjbGFzc3Jvb21JRCksIHphcC5FcnJvcigoZXJyKSkpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvYWNjZXB0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBJRCBj4bunYSBpbnZpdGF0aW9uIHThu6sgVVJMXG5cdGludml0YXRpb25JRCA6PSBjLlBhcmFtcyhcImlkXCIpXG5cdGlmIGludml0YXRpb25JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImlkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRpZiBlcnIgOj0gaC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBpbnZpdGF0aW9uSUQsIHVzZXJJRCk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRzd2l0Y2gge1xuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgZ29ybS5FcnJSZWNvcmROb3RGb3VuZCk6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImtow7RuZyB0w6xtIHRo4bqleSBs4budaSBt4budaVwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RJbnZpdGF0aW9uUmVjZWl2ZXIpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBuZ8aw4budaSBuaOG6rW4gbOG7nWkgbeG7nWkgbsOgeVwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJJbnZpdGF0aW9uTm90UGVuZGluZyk6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImzhu51pIG3hu51pIGtow7RuZyDhu58gdHLhuqFuZyB0aMOhaSBjaOG7nSB44butIGzDvVwiKSlcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvc2VydmVyLmdvXG4uLi5cblx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcblx0aGFuZGxlciA6PSBoYW5kbGVyLk5ldygmaGFuZGxlci5JbmplY3R7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIHVzZWNhc2UuTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgdXNlY2FzZS5OZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICB1c2VjYXNlLk5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZTogIHVzZWNhc2UuTmV3RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0fSlcbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbi4uLlxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHlde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcImNyZWF0ZWRfYXQgREVTQ1wiKSwgLy8gTeG6t2MgxJHhu4tuaCBz4bqvcCB44bq/cCB0aGVvIG5nw6B5IHThuqFvIG3hu5tpIG5o4bqldFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbXMgW11lbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJ1c2VyX2lkID0gP1wiLCB1c2VySUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tcykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbi4uLlxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIChcblx0XHRwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHlde1xuXHRcdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0XHR9XG5cdFx0aW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHQpXG5cblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZCA9ID9cIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3BlcyhmdW5jKGRiICpnb3JtLkRCKSAqZ29ybS5EQiB7XG5cdFx0XHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0XHRcdHJldHVybiBkYi5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZGJcblx0XHR9LCBnb3JtMi5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmludml0YXRpb25zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBpbnZpdGF0aW9ucy4uLiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTQ2VFhrTDdUVWNWd3FkbThxc2JmbnAifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiJMZXQgbWUgY2hlY2sgdGhlIHNlcnZlciBpbml0aWFsaXphdGlvbiB0byBzZWUgaG93IHRvIGFkZCBhIG5ldyBoYW5kbGVyOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImVhMDZiYmI3LTczNDMtNDJiNC1iNjU5LTQ0NTBhMTgwZWFiMyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUFTaGJUV25UQkQzVWRHdkNMbW5wY00iLCJ0b29sX25hbWUiOiJzYXZlLWZpbGUiLCJpbnB1dF9qc29uIjoie1wiZmlsZV9wYXRoXCI6IFwiaGFuZGxlci9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfYXNfc3R1ZGVudC5nb1wiLCBcImZpbGVfY29udGVudFwiOiBcInBhY2thZ2UgaGFuZGxlclxcblxcbmltcG9ydCAoXFxuXFx0XFxcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXFxcIlxcblxcdFxcXCJxdWl6enktY2xhc3Nyb29tL3V0aWxcXFwiXFxuXFxuXFx0XFxcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlxcXCJcXG5cXHRcXFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXFxcIlxcbilcXG5cXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudChjICpmaWJlci5DdHgpIGVycm9yIHtcXG5cXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxXFxuXFx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xcblxcdFxcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXFxuXFx0fVxcblxcblxcdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XFxuXFx0XFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcXG5cXHR9XFxuXFxuXFx0Ly8gTFxcdTFlYTV5IElEIGNcXHUxZWU3YSBuZ1xcdTAxYjBcXHUxZWRkaSBkXFx1MDBmOW5nIGhpXFx1MWVjN24gdFxcdTFlYTFpIHRcXHUxZWViIEpXVCB0b2tlblxcblxcdHVzZXJJRCA6PSBjLkxvY2FscyhcXFwidXNlcl9pZFxcXCIpLihzdHJpbmcpXFxuXFxuXFx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcXG5cXHRpZiBlcnIgIT0gbmlsIHtcXG5cXHRcXHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxcblxcdH1cXG5cXG5cXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxcbn1cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiMjIFBsYW5uaW5nXG5cbkJhc2VkIG9uIHRoZSBpbmZvcm1hdGlvbiBnYXRoZXJlZCwgSSBuZWVkIHRvIGltcGxlbWVudCBhbiBBUEkgdG8gZmlsdGVyIHRoZSBsaXN0IG9mIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaGFzIGpvaW5lZCBhcyBhIHN0dWRlbnQuIFRoZSB1c2VjYXNlIGltcGxlbWVudGF0aW9uIGFscmVhZHkgZXhpc3RzIGluIGB1c2VjYXNlL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tc19hc19zdHVkZW50LmdvYCwgYnV0IHdlIG5lZWQgdG86XG5cbjEuIENyZWF0ZSBhIGhhbmRsZXIgZnVuY3Rpb24gZm9yIHRoaXMgQVBJXG4yLiBVcGRhdGUgdGhlIGhhbmRsZXIgaW50ZXJmYWNlIHRvIGluY2x1ZGUgdGhlIG5ldyBmdW5jdGlvblxuMy4gVXBkYXRlIHRoZSBoYW5kbGVyIGltcGxlbWVudGF0aW9uIHN0cnVjdCB0byBpbmNsdWRlIHRoZSBuZXcgdXNlY2FzZVxuNC4gVXBkYXRlIHRoZSBoYW5kbGVyIGluamVjdGlvbiBzdHJ1Y3QgdG8gaW5jbHVkZSB0aGUgbmV3IHVzZWNhc2VcbjUuIFJlZ2lzdGVyIHRoZSBuZXcgaGFuZGxlciBpbiB0aGUgcm91dGVyXG42LiBVcGRhdGUgdGhlIHNlcnZlciBpbml0aWFsaXphdGlvbiB0byBpbmNsdWRlIHRoZSBuZXcgdXNlY2FzZVxuXG5IZXJlJ3MgbXkgZGV0YWlsZWQgcGxhbjpcblxuKiAqKkNyZWF0ZSBhIGhhbmRsZXIgZnVuY3Rpb24qKjogQ3JlYXRlIGEgbmV3IGZpbGUgYGhhbmRsZXIvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zX2FzX3N0dWRlbnQuZ29gIHdpdGggdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoZSBoYW5kbGVyIGZ1bmN0aW9uXG4qICoqVXBkYXRlIGhhbmRsZXIgaW50ZXJmYWNlKio6IEFkZCB0aGUgbmV3IGZ1bmN0aW9uIHRvIHRoZSBgSGFuZGxlcmAgaW50ZXJmYWNlIGluIGBoYW5kbGVyL2hhbmRsZXIuZ29gXG4qICoqVXBkYXRlIGhhbmRsZXIgaW1wbGVtZW50YXRpb24qKjogQWRkIHRoZSBuZXcgdXNlY2FzZSBmaWVsZCB0byB0aGUgYGhhbmRsZXJJbXBsYCBzdHJ1Y3QgaW4gYGhhbmRsZXIvaGFuZGxlci5nb2BcbiogKipVcGRhdGUgaGFuZGxlciBpbmplY3Rpb24qKjogQWRkIHRoZSBuZXcgdXNlY2FzZSBmaWVsZCB0byB0aGUgYEluamVjdGAgc3RydWN0IGluIGBoYW5kbGVyL2hhbmRsZXIuZ29gXG4qICoqVXBkYXRlIHNlcnZlciBpbml0aWFsaXphdGlvbioqOiBBZGQgdGhlIG5ldyB1c2VjYXNlIHRvIHRoZSBoYW5kbGVyIGluaXRpYWxpemF0aW9uIGluIGBzZXJ2ZXIvc2VydmVyLmdvYFxuKiAqKlJlZ2lzdGVyIHRoZSBoYW5kbGVyKio6IEFkZCB0aGUgbmV3IHJvdXRlIHRvIHRoZSByb3V0ZXIgaW4gYHNlcnZlci9yb3V0ZXIuZ29gXG5cbkxldCdzIHN0YXJ0IGltcGxlbWVudGluZyB0aGVzZSBjaGFuZ2VzOlxuXG4jIyBJbXBsZW1lbnRhdGlvblxuXG4jIyMgMS4gQ3JlYXRlIHRoZSBoYW5kbGVyIGZ1bmN0aW9uXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBzZXJ2ZXIvc2VydmVyLmdvXG5wYWNrYWdlIHNlcnZlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92Mi9taWRkbGV3YXJlL3JlY292ZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxuZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuXHRhcHAgOj0gZmliZXIuTmV3KGZpYmVyLkNvbmZpZ3tcblx0XHRFbmFibGVQcmludFJvdXRlczogdHJ1ZSxcblx0fSlcblx0YXBwLlVzZShyZWNvdmVyLk5ldygpKVxuXG5cdHByb3ZpZGVyLCBlcnIgOj0gcHJvdmlkZXIuSW5pdChzZXJ2aWNlQ29uZmlnKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gaW5pdCBwcm92aWRlclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuXHRyZXBvc2l0b3J5IDo9IHJlcG9zaXRvcnkuTmV3KHByb3ZpZGVyKVxuXHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgdXNlY2FzZS5OZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICB1c2VjYXNlLk5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlOiAgdXNlY2FzZS5OZXdGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHR9KVxuXG5cdEluaXRSb3V0ZXIoYXBwLCBoYW5kbGVyKVxuXHR1dGlsLkluaXRWYWxpZGF0ZSgpXG5cblx0aWYgZXJyIDo9IGFwcC5MaXN0ZW4oXCI6XCIgKyBzZXJ2aWNlQ29uZmlnLlBvcnQpOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gc3RhcnQgc2VydmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG59XG4uLi5cblBhdGg6IHNlcnZlci9yb3V0ZXIuZ29cbnBhY2thZ2Ugc2VydmVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmVcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcblxuZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xuXHRjbGFzc3Jvb21Hcm91cCA6PSBhcHAuR3JvdXAoXCIvY2xhc3Nyb29tXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvaW52aXRlXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycylcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi9vd25lZFwiLCBoYW5kbGVyLkZpbHRlck93bmVkQ2xhc3Nyb29tcylcblxuXHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxufVxuLi4uXG5QYXRoOiBjbWQvc2VydmUuZ29cbi8qXG5Db3B5cmlnaHQgwqkgMjAyNSBOQU1FIEhFUkUgPEVNQUlMIEFERFJFU1M+XG4qL1xucGFja2FnZSBjbWRcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9jb25maWdcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3NlcnZlclwiXG5cblx0XCJnaXRodWIuY29tL3NwZjEzL2NvYnJhXCJcbilcblxuLy8gc2VydmVDbWQgcmVwcmVzZW50cyB0aGUgc2VydmUgY29tbWFuZFxudmFyIHNlcnZlQ21kID0gJmNvYnJhLkNvbW1hbmR7XG5cdFVzZTogICBcInNlcnZlXCIsXG5cdFNob3J0OiBcIkEgYnJpZWYgZGVzY3JpcHRpb24gb2YgeW91ciBjb21tYW5kXCIsXG5cdExvbmc6IGBBIGxvbmdlciBkZXNjcmlwdGlvbiB0aGF0IHNwYW5zIG11bHRpcGxlIGxpbmVzIGFuZCBsaWtlbHkgY29udGFpbnMgZXhhbXBsZXNcbmFuZCB1c2FnZSBvZiB1c2luZyB5b3VyIGNvbW1hbmQuIEZvciBleGFtcGxlOlxuXG5Db2JyYSBpcyBhIENMSSBsaWJyYXJ5IGZvciBHbyB0aGF0IGVtcG93ZXJzIGFwcGxpY2F0aW9ucy5cblRoaXMgYXBwbGljYXRpb24gaXMgYSB0b29sIHRvIGdlbmVyYXRlIHRoZSBuZWVkZWQgZmlsZXNcbnRvIHF1aWNrbHkgY3JlYXRlIGEgQ29icmEgYXBwbGljYXRpb24uYCxcblx0UnVuOiBmdW5jKGNtZCAqY29icmEuQ29tbWFuZCwgYXJncyBbXXN0cmluZykge1xuXHRcdHZhciBzZXJ2aWNlQ29uZmlnIG1vZGVsLlNlcnZpY2VDb25maWdcblx0XHRlbnZQYXRoLCBfIDo9IGNtZC5GbGFncygpLkdldFN0cmluZyhcImVudi1wYXRoXCIpXG5cblx0XHRpZiBlcnIgOj0gY29uZmlnLkxvYWRDb25maWcoZW52UGF0aCwgJnNlcnZpY2VDb25maWcpOyBlcnIgIT0gbmlsIHtcblx0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBsb2FkIGNvbmZpZ1wiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRcdHJldHVyblxuXHRcdH1cblxuXHRcdHNlcnZlci5SdW4oJnNlcnZpY2VDb25maWcpXG5cdH0sXG59XG5cbmZ1bmMgaW5pdCgpIHtcblx0cm9vdENtZC5BZGRDb21tYW5kKHNlcnZlQ21kKVxuXG5cdC8vIEhlcmUgeW91IHdpbGwgZGVmaW5lIHlvdXIgZmxhZ3MgYW5kIGNvbmZpZ3VyYXRpb24gc2V0dGluZ3MuXG5cblx0Ly8gQ29icmEgc3VwcG9ydHMgUGVyc2lzdGVudCBGbGFncyB3aGljaCB3aWxsIHdvcmsgZm9yIHRoaXMgY29tbWFuZFxuXHQvLyBhbmQgYWxsIHN1YmNvbW1hbmRzLCBlLmcuOlxuXHQvLyBzZXJ2ZUNtZC5QZXJzaXN0ZW50RmxhZ3MoKS5TdHJpbmcoXCJmb29cIiwgXCJcIiwgXCJBIGhlbHAgZm9yIGZvb1wiKVxuXG5cdC8vIENvYnJhIHN1cHBvcnRzIGxvY2FsIGZsYWdzIHdoaWNoIHdpbGwgb25seSBydW4gd2hlbiB0aGlzIGNvbW1hbmRcblx0Ly8gaXMgY2FsbGVkIGRpcmVjdGx5LCBlLmcuOlxuXHRzZXJ2ZUNtZC5GbGFncygpLlN0cmluZ1AoXCJlbnYtcGF0aFwiLCBcImVcIiwgXCIuZW52XCIsIFwiUGF0aCB0byBlbnZpcm9ubWVudCBmaWxlXCIpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaGFuZGxlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbnR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xuXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTeG7nWkgdGjDoG5oIHZpw6puIHbDoG8gbOG7m3AgaOG7jWNcblx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcblx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG5cdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBDaOG6pXAgbmjhuq1uIGzhu51pIG3hu51pXG5cdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRYW5nIHPhu58gaOG7r3Vcbn1cblxudHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xuXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2Vcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2Vcblx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Vcblx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxuXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG5cdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgIHVzZWNhc2UuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZVxufVxuXG50eXBlIEluamVjdCBzdHJ1Y3Qge1xuXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2Vcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2Vcblx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Vcblx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxuXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG5cdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgIHVzZWNhc2UuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZVxufVxuXG5mdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XG5cdHJldHVybiAmaGFuZGxlckltcGx7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiBpbmplY3QuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UsXG5cdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIGluamVjdC5JbnZpdGVNZW1iZXJVc2VDYXNlLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuUmVqZWN0SW52aXRhdGlvblVzZUNhc2UsXG5cdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcblx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlOiAgaW5qZWN0LkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UsXG5cdH1cbn1cbi4uLlxuUGF0aDogcHJvdmlkZXIvcHJvdmlkZXIuZ29cbnBhY2thZ2UgcHJvdmlkZXJcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25lZHBhbHMvc3VwYWJhc2UtZ29cIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcHJvdmlkZXIvZGF0YWJhc2VcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbnR5cGUgUHJvdmlkZXIgc3RydWN0IHtcblx0RGIgICAgICAgICAgICAgKmdvcm0uREJcblx0U3VwYWJhc2VDbGllbnQgKnN1cGFiYXNlLkNsaWVudFxufVxuXG5mdW5jIEluaXQoc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykgKCpQcm92aWRlciwgZXJyb3IpIHtcblx0ZGIsIGVyciA6PSBkYXRhYmFzZS5OZXdQb3N0Z3Jlc0RCKFxuXHRcdHNlcnZpY2VDb25maWcuRGJIb3N0LFxuXHRcdHNlcnZpY2VDb25maWcuRGJQb3J0LFxuXHRcdHNlcnZpY2VDb25maWcuRGJVc2VyLFxuXHRcdHNlcnZpY2VDb25maWcuRGJQYXNzd29yZCxcblx0XHRzZXJ2aWNlQ29uZmlnLkRiTmFtZSxcblx0KVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHN1cGFiYXNlQ2xpZW50IDo9IHN1cGFiYXNlLkNyZWF0ZUNsaWVudChcblx0XHRzZXJ2aWNlQ29uZmlnLlN1cGJhc2VVcmwsXG5cdFx0c2VydmljZUNvbmZpZy5TdXBhYmFzZUFub25LZXksXG5cdClcblxuXHRyZXR1cm4gJlByb3ZpZGVye1xuXHRcdERiOiAgICAgICAgICAgICBkYixcblx0XHRTdXBhYmFzZUNsaWVudDogc3VwYWJhc2VDbGllbnQsXG5cdH0sIG5pbFxufVxuLi4uXG5QYXRoOiBtaWdyYXRlL21pZ3JhdGUuZ29cbnBhY2thZ2UgbWlncmF0ZVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxuZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuXHRwcm92aWRlciwgZXJyIDo9IHByb3ZpZGVyLkluaXQoc2VydmljZUNvbmZpZylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRpZiBlcnIgOj0gcHJvdmlkZXIuRGIuQXV0b01pZ3JhdGUoXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21FbnRpdHl7fSxcblx0XHQmZW50aXR5LkNsYXNzcm9vbU1lbWJlcnt9LFxuXHRcdCZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXt9LFxuXHQpOyBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gbWlncmF0ZSBkYXRhYmFzZVwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuXG5cdGxvZ2dlci5JbmZvKFwibWlncmF0ZSBkYXRhYmFzZSBzdWNjZXNzXCIpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkNyZWF0ZUNsYXNzcm9vbVJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gci5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e1xuXHRcdFVzZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdE5hbWU6ICAgICAgdmFsdWUuR2V0VmFsdWUoYm9keS5OYW1lLCBcIlwiKSxcblx0XHRBdmF0YXJVcmw6IHZhbHVlLkdldFZhbHVlKGJvZHkuQXZhdGFyVXJsLCBcIlwiKSxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBjbWQvcm9vdC5nb1xuLypcbkNvcHlyaWdodCDCqSAyMDI1IE5BTUUgSEVSRSA8RU1BSUwgQUREUkVTUz5cbiovXG5wYWNrYWdlIGNtZFxuXG5pbXBvcnQgKFxuXHRcIm9zXCJcblxuXHRcImdpdGh1Yi5jb20vc3BmMTMvY29icmFcIlxuKVxuXG4vLyByb290Q21kIHJlcHJlc2VudHMgdGhlIGJhc2UgY29tbWFuZCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBzdWJjb21tYW5kc1xudmFyIHJvb3RDbWQgPSAmY29icmEuQ29tbWFuZHtcblx0VXNlOiAgIFwicXVpenp5LWNsYXNzcm9vbVwiLFxuXHRTaG9ydDogXCJBIGJyaWVmIGRlc2NyaXB0aW9uIG9mIHlvdXIgYXBwbGljYXRpb25cIixcblx0TG9uZzogYEEgbG9uZ2VyIGRlc2NyaXB0aW9uIHRoYXQgc3BhbnMgbXVsdGlwbGUgbGluZXMgYW5kIGxpa2VseSBjb250YWluc1xuZXhhbXBsZXMgYW5kIHVzYWdlIG9mIHVzaW5nIHlvdXIgYXBwbGljYXRpb24uIEZvciBleGFtcGxlOlxuXG5Db2JyYSBpcyBhIENMSSBsaWJyYXJ5IGZvciBHbyB0aGF0IGVtcG93ZXJzIGFwcGxpY2F0aW9ucy5cblRoaXMgYXBwbGljYXRpb24gaXMgYSB0b29sIHRvIGdlbmVyYXRlIHRoZSBuZWVkZWQgZmlsZXNcbnRvIHF1aWNrbHkgY3JlYXRlIGEgQ29icmEgYXBwbGljYXRpb24uYCxcblx0Ly8gVW5jb21tZW50IHRoZSBmb2xsb3dpbmcgbGluZSBpZiB5b3VyIGJhcmUgYXBwbGljYXRpb25cblx0Ly8gaGFzIGFuIGFjdGlvbiBhc3NvY2lhdGVkIHdpdGggaXQ6XG5cdC8vIFJ1bjogZnVuYyhjbWQgKmNvYnJhLkNvbW1hbmQsIGFyZ3MgW11zdHJpbmcpIHsgfSxcbn1cblxuLy8gRXhlY3V0ZSBhZGRzIGFsbCBjaGlsZCBjb21tYW5kcyB0byB0aGUgcm9vdCBjb21tYW5kIGFuZCBzZXRzIGZsYWdzIGFwcHJvcHJpYXRlbHkuXG4vLyBUaGlzIGlzIGNhbGxlZCBieSBtYWluLm1haW4oKS4gSXQgb25seSBuZWVkcyB0byBoYXBwZW4gb25jZSB0byB0aGUgcm9vdENtZC5cbmZ1bmMgRXhlY3V0ZSgpIHtcblx0ZXJyIDo9IHJvb3RDbWQuRXhlY3V0ZSgpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdG9zLkV4aXQoMSlcblx0fVxufVxuXG5mdW5jIGluaXQoKSB7XG5cdC8vIEhlcmUgeW91IHdpbGwgZGVmaW5lIHlvdXIgZmxhZ3MgYW5kIGNvbmZpZ3VyYXRpb24gc2V0dGluZ3MuXG5cdC8vIENvYnJhIHN1cHBvcnRzIHBlcnNpc3RlbnQgZmxhZ3MsIHdoaWNoLCBpZiBkZWZpbmVkIGhlcmUsXG5cdC8vIHdpbGwgYmUgZ2xvYmFsIGZvciB5b3VyIGFwcGxpY2F0aW9uLlxuXG5cdC8vIHJvb3RDbWQuUGVyc2lzdGVudEZsYWdzKCkuU3RyaW5nVmFyKCZjZmdGaWxlLCBcImNvbmZpZ1wiLCBcIlwiLCBcImNvbmZpZyBmaWxlIChkZWZhdWx0IGlzICRIT01FLy5xdWl6enktY2xhc3Nyb29tLnlhbWwpXCIpXG5cblx0Ly8gQ29icmEgYWxzbyBzdXBwb3J0cyBsb2NhbCBmbGFncywgd2hpY2ggd2lsbCBvbmx5IHJ1blxuXHQvLyB3aGVuIHRoaXMgYWN0aW9uIGlzIGNhbGxlZCBkaXJlY3RseS5cblx0cm9vdENtZC5GbGFncygpLkJvb2xQKFwidG9nZ2xlXCIsIFwidFwiLCBmYWxzZSwgXCJIZWxwIG1lc3NhZ2UgZm9yIHRvZ2dsZVwiKVxufVxuLi4uXG5QYXRoOiBjbWQvbWlncmF0ZS5nb1xuLypcbkNvcHlyaWdodCDCqSAyMDI1IE5BTUUgSEVSRSA8RU1BSUwgQUREUkVTUz5cbiovXG5wYWNrYWdlIGNtZFxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2NvbmZpZ1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbWlncmF0ZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cblx0XCJnaXRodWIuY29tL3NwZjEzL2NvYnJhXCJcbilcblxuLy8gbWlncmF0ZUNtZCByZXByZXNlbnRzIHRoZSBtaWdyYXRlIGNvbW1hbmRcbnZhciBtaWdyYXRlQ21kID0gJmNvYnJhLkNvbW1hbmR7XG5cdFVzZTogICBcIm1pZ3JhdGVcIixcblx0U2hvcnQ6IFwiQSBicmllZiBkZXNjcmlwdGlvbiBvZiB5b3VyIGNvbW1hbmRcIixcblx0TG9uZzogYEEgbG9uZ2VyIGRlc2NyaXB0aW9uIHRoYXQgc3BhbnMgbXVsdGlwbGUgbGluZXMgYW5kIGxpa2VseSBjb250YWlucyBleGFtcGxlc1xuYW5kIHVzYWdlIG9mIHVzaW5nIHlvdXIgY29tbWFuZC4gRm9yIGV4YW1wbGU6XG5cbkNvYnJhIGlzIGEgQ0xJIGxpYnJhcnkgZm9yIEdvIHRoYXQgZW1wb3dlcnMgYXBwbGljYXRpb25zLlxuVGhpcyBhcHBsaWNhdGlvbiBpcyBhIHRvb2wgdG8gZ2VuZXJhdGUgdGhlIG5lZWRlZCBmaWxlc1xudG8gcXVpY2tseSBjcmVhdGUgYSBDb2JyYSBhcHBsaWNhdGlvbi5gLFxuXHRSdW46IGZ1bmMoY21kICpjb2JyYS5Db21tYW5kLCBhcmdzIFtdc3RyaW5nKSB7XG5cdFx0dmFyIHNlcnZpY2VDb25maWcgbW9kZWwuU2VydmljZUNvbmZpZ1xuXHRcdGVudlBhdGgsIF8gOj0gY21kLkZsYWdzKCkuR2V0U3RyaW5nKFwiZW52LXBhdGhcIilcblxuXHRcdGlmIGVyciA6PSBjb25maWcuTG9hZENvbmZpZyhlbnZQYXRoLCAmc2VydmljZUNvbmZpZyk7IGVyciAhPSBuaWwge1xuXHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGxvYWQgY29uZmlnXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdFx0cmV0dXJuXG5cdFx0fVxuXG5cdFx0bWlncmF0ZS5SdW4oJnNlcnZpY2VDb25maWcpXG5cdH0sXG59XG5cbmZ1bmMgaW5pdCgpIHtcblx0cm9vdENtZC5BZGRDb21tYW5kKG1pZ3JhdGVDbWQpXG5cblx0Ly8gSGVyZSB5b3Ugd2lsbCBkZWZpbmUgeW91ciBmbGFncyBhbmQgY29uZmlndXJhdGlvbiBzZXR0aW5ncy5cblxuXHQvLyBDb2JyYSBzdXBwb3J0cyBQZXJzaXN0ZW50IEZsYWdzIHdoaWNoIHdpbGwgd29yayBmb3IgdGhpcyBjb21tYW5kXG5cdC8vIGFuZCBhbGwgc3ViY29tbWFuZHMsIGUuZy46XG5cdC8vIG1pZ3JhdGVDbWQuUGVyc2lzdGVudEZsYWdzKCkuU3RyaW5nKFwiZm9vXCIsIFwiXCIsIFwiQSBoZWxwIGZvciBmb29cIilcblxuXHQvLyBDb2JyYSBzdXBwb3J0cyBsb2NhbCBmbGFncyB3aGljaCB3aWxsIG9ubHkgcnVuIHdoZW4gdGhpcyBjb21tYW5kXG5cdC8vIGlzIGNhbGxlZCBkaXJlY3RseSwgZS5nLjpcblx0bWlncmF0ZUNtZC5GbGFncygpLlN0cmluZ1AoXCJlbnYtcGF0aFwiLCBcImVcIiwgXCIuZW52XCIsIFwiUGF0aCB0byBlbnZpcm9ubWVudCBmaWxlXCIpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBNYWtlZmlsZVxuLlBIT05ZOiBtaWdyYXRlXG5cbmRlYjpcblx0Z28gZ2V0IC11IC4vLi4uICYmIGdvIG1vZCB0aWR5XG5cbnJ1bjpcblx0Z28gcnVuIG1haW4uZ28gc2VydmUgLWUgLi9kZXBsb3kvbG9jYWwuZW52XG5cbm1pZ3JhdGU6XG5cdGdvIHJ1biBtYWluLmdvIG1pZ3JhdGUgLWUgLi9kZXBsb3kvbG9jYWwuZW52XG4uLi5cblBhdGg6IG1haW4uZ29cbnBhY2thZ2UgbWFpblxuXG5pbXBvcnQgXCJxdWl6enktY2xhc3Nyb29tL2NtZFwiXG5cbmZ1bmMgbWFpbigpIHtcblx0Y21kLkV4ZWN1dGUoKVxufVxuLi4uXG5QYXRoOiBtb2RlbC9zZXJ2aWNlX2NvbmZpZy5nb1xucGFja2FnZSBtb2RlbFxuXG50eXBlIFNlcnZpY2VDb25maWcgc3RydWN0IHtcblx0RW52ICBzdHJpbmcgYG1hcHN0cnVjdHVyZTpcIkVOVlwiYFxuXHRQb3J0IHN0cmluZyBgbWFwc3RydWN0dXJlOlwiUE9SVFwiYFxuXG5cdERiSG9zdCAgICAgc3RyaW5nIGBtYXBzdHJ1Y3R1cmU6XCJEQl9IT1NUXCJgXG5cdERiUG9ydCAgICAgc3RyaW5nIGBtYXBzdHJ1Y3R1cmU6XCJEQl9QT1JUXCJgXG5cdERiVXNlciAgICAgc3RyaW5nIGBtYXBzdHJ1Y3R1cmU6XCJEQl9VU0VSXCJgXG5cdERiUGFzc3dvcmQgc3RyaW5nIGBtYXBzdHJ1Y3R1cmU6XCJEQl9QQVNTV09SRFwiYFxuXHREYk5hbWUgICAgIHN0cmluZyBgbWFwc3RydWN0dXJlOlwiREJfTkFNRVwiYFxuXG5cdFN1cGJhc2VVcmwgICAgICAgc3RyaW5nIGBtYXBzdHJ1Y3R1cmU6XCJTVVBBQkFTRV9VUkxcImBcblx0U3VwYWJhc2VBbm9uS2V5ICBzdHJpbmcgYG1hcHN0cnVjdHVyZTpcIlNVUEFCQVNFX0FOT05fS0VZXCJgXG5cdFN1cGJhc2VKd3RTZWNyZXQgc3RyaW5nIGBtYXBzdHJ1Y3R1cmU6XCJTVVBBQkFTRV9KV1RfU0VDUkVUXCJgXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVyT3duZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuKVxuXG50eXBlIEZpbHRlckludml0YXRpb25zUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG5cdFN0YXR1cyAqZW50aXR5Lkludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBxdWVyeTpcInN0YXR1c1wiYFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBib2R5IHJlcS5JbnZpdGVNZW1iZXJSZXF1ZXN0XG5cblx0aWYgZXJyIDo9IGMuQm9keVBhcnNlcigmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IGguSW52aXRlTWVtYmVyVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5Lkludml0YXRpb25FbnRpdHl7XG5cdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGJvZHkuQ2xhc3Nyb29tSUQsIFwiXCIpLFxuXHRcdFNlbmRlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0UmVjZWl2ZXJJRDogIHZhbHVlLkdldFZhbHVlKGJvZHkuUmVjZWl2ZXJJRCwgXCJcIiksXG5cdFx0U3RhdHVzOiAgICAgIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZyxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRzd2l0Y2gge1xuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyclJlY2VpdmVyQWxyZWFkeUhhc0ludml0YXRpb24pOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgxJFhbmcgY2jhu50geOG7rSBsw70gaG/hurdjIMSRw6MgxJHGsOG7o2MgY2jhuqVwIG5o4bqtblwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuKVxuXG50eXBlIEZpbHRlckludml0ZWRNZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG5cdFN0YXR1cyAqZW50aXR5Lkludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBxdWVyeTpcInN0YXR1c1wiYFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IGNsYXNzcm9vbV9pZCB04burIFVSTFxuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBxdWVyeSByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSwgcXVlcnkpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRpZiBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpIHtcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVJlcXVlc3Qgc3RydWN0IHtcblx0TmFtZSAgICAgICpzdHJpbmcgYGpzb246XCJuYW1lXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxuXHRBdmF0YXJVcmwgKnN0cmluZyBganNvbjpcImF2YXRhcl91cmxcIiB2YWxpZGF0ZTpcInJlcXVpcmVkLHVybFwiYFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2FjY2VwdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgQWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgSUQgY+G7p2EgaW52aXRhdGlvbiB04burIFVSTFxuXHRpbnZpdGF0aW9uSUQgOj0gYy5QYXJhbXMoXCJpZFwiKVxuXHRpZiBpbnZpdGF0aW9uSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJpZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0aWYgZXJyIDo9IGguQWNjZXB0SW52aXRhdGlvblVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgaW52aXRhdGlvbklELCB1c2VySUQpOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIGdvcm0uRXJyUmVjb3JkTm90Rm91bmQpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJraMO0bmcgdMOsbSB0aOG6pXkgbOG7nWkgbeG7nWlcIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90SW52aXRhdGlvblJlY2VpdmVyKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgbmfGsOG7nWkgbmjhuq1uIGzhu51pIG3hu51pIG7DoHlcIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJySW52aXRhdGlvbk5vdFBlbmRpbmcpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJs4budaSBt4budaSBraMO0bmcg4bufIHRy4bqhbmcgdGjDoWkgY2jhu50geOG7rSBsw71cIikpXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9yZWplY3RfaW52aXRhdGlvbi5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IElEIGPhu6dhIGludml0YXRpb24gdOG7qyBVUkxcblx0aW52aXRhdGlvbklEIDo9IGMuUGFyYW1zKFwiaWRcIilcblx0aWYgaW52aXRhdGlvbklEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiaWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cbi4uLlxuUGF0aDogZGVwbG95L2xvY2FsLmVudlxuRU5WPWxvY2FsXG5QT1JUPTUwMDFcblxuREJfSE9TVD1hd3MtMC1hcC1zb3V0aGVhc3QtMS5wb29sZXIuc3VwYWJhc2UuY29tXG5EQl9QT1JUPTU0MzJcbkRCX1VTRVI9cG9zdGdyZXMuenNtdnpsYW5tdndodWVzYXd3bXFcbkRCX1BBU1NXT1JEPVlKYnowdXV2RHc2S0hrVDlcbkRCX05BTUU9cG9zdGdyZXNcblxuU1VQQUJBU0VfVVJMPWh0dHBzOi8venNtdnpsYW5tdndodWVzYXd3bXEuc3VwYWJhc2UuY29cblNVUEFCQVNFX0FOT05fS0VZPWV5SmhiR2NpT2lKSVV6STFOaUlzSW5SNWNDSTZJa3BYVkNKOS5leUpwYzNNaU9pSnpkWEJoWW1GelpTSXNJbkpsWmlJNklucHpiWFo2YkdGdWJYWjNhSFZsYzJGM2QyMXhJaXdpY205c1pTSTZJbUZ1YjI0aUxDSnBZWFFpT2pFM05ETXpNREl4TnpZc0kuLi4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE5d1dkY3QycDVaN1NFelJEVlZGcFc4In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiIyMgUGxhbm5pbmdcblxuQmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIGdhdGhlcmVkLCBJIG5lZWQgdG8gaW1wbGVtZW50IGFuIEFQSSB0byBmaWx0ZXIgdGhlIGxpc3Qgb2YgY2xhc3Nyb29tcyB3aGVyZSB0aGUgdXNlciBoYXMgam9pbmVkIGFzIGEgc3R1ZGVudC4gVGhlIHVzZWNhc2UgaW1wbGVtZW50YXRpb24gYWxyZWFkeSBleGlzdHMgaW4gYHVzZWNhc2UvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zX2FzX3N0dWRlbnQuZ29gLCBidXQgd2UgbmVlZCB0bzpcblxuMS4gQ3JlYXRlIGEgaGFuZGxlciBmdW5jdGlvbiBmb3IgdGhpcyBBUElcbjIuIFVwZGF0ZSB0aGUgaGFuZGxlciBpbnRlcmZhY2UgdG8gaW5jbHVkZSB0aGUgbmV3IGZ1bmN0aW9uXG4zLiBVcGRhdGUgdGhlIGhhbmRsZXIgaW1wbGVtZW50YXRpb24gc3RydWN0IHRvIGluY2x1ZGUgdGhlIG5ldyB1c2VjYXNlXG40LiBVcGRhdGUgdGhlIGhhbmRsZXIgaW5qZWN0aW9uIHN0cnVjdCB0byBpbmNsdWRlIHRoZSBuZXcgdXNlY2FzZVxuNS4gUmVnaXN0ZXIgdGhlIG5ldyBoYW5kbGVyIGluIHRoZSByb3V0ZXJcbjYuIFVwZGF0ZSB0aGUgc2VydmVyIGluaXRpYWxpemF0aW9uIHRvIGluY2x1ZGUgdGhlIG5ldyB1c2VjYXNlXG5cbkhlcmUncyBteSBkZXRhaWxlZCBwbGFuOlxuXG4qICoqQ3JlYXRlIGEgaGFuZGxlciBmdW5jdGlvbioqOiBDcmVhdGUgYSBuZXcgZmlsZSBgaGFuZGxlci9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfYXNfc3R1ZGVudC5nb2Agd2l0aCB0aGUgaW1wbGVtZW50YXRpb24gb2YgdGhlIGhhbmRsZXIgZnVuY3Rpb25cbiogKipVcGRhdGUgaGFuZGxlciBpbnRlcmZhY2UqKjogQWRkIHRoZSBuZXcgZnVuY3Rpb24gdG8gdGhlIGBIYW5kbGVyYCBpbnRlcmZhY2UgaW4gYGhhbmRsZXIvaGFuZGxlci5nb2BcbiogKipVcGRhdGUgaGFuZGxlciBpbXBsZW1lbnRhdGlvbioqOiBBZGQgdGhlIG5ldyB1c2VjYXNlIGZpZWxkIHRvIHRoZSBgaGFuZGxlckltcGxgIHN0cnVjdCBpbiBgaGFuZGxlci9oYW5kbGVyLmdvYFxuKiAqKlVwZGF0ZSBoYW5kbGVyIGluamVjdGlvbioqOiBBZGQgdGhlIG5ldyB1c2VjYXNlIGZpZWxkIHRvIHRoZSBgSW5qZWN0YCBzdHJ1Y3QgaW4gYGhhbmRsZXIvaGFuZGxlci5nb2BcbiogKipVcGRhdGUgc2VydmVyIGluaXRpYWxpemF0aW9uKio6IEFkZCB0aGUgbmV3IHVzZWNhc2UgdG8gdGhlIGhhbmRsZXIgaW5pdGlhbGl6YXRpb24gaW4gYHNlcnZlci9zZXJ2ZXIuZ29gXG4qICoqUmVnaXN0ZXIgdGhlIGhhbmRsZXIqKjogQWRkIHRoZSBuZXcgcm91dGUgdG8gdGhlIHJvdXRlciBpbiBgc2VydmVyL3JvdXRlci5nb2BcblxuTGV0J3Mgc3RhcnQgaW1wbGVtZW50aW5nIHRoZXNlIGNoYW5nZXM6XG5cbiMjIEltcGxlbWVudGF0aW9uXG5cbiMjIyAxLiBDcmVhdGUgdGhlIGhhbmRsZXIgZnVuY3Rpb25cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJmNzc4YTUxYS05Nzk1LTRkNWYtYmYzZC1hZTk3NmJmZmFjYTgiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFVWnNjclYxSGJVbUp2TDZybWtTWnVmIiwidG9vbF9uYW1lIjoiY29kZWJhc2UtcmV0cmlldmFsIiwiaW5wdXRfanNvbiI6IntcImluZm9ybWF0aW9uX3JlcXVlc3RcIjogXCJTaG93IG1lIHRoZSBleGFjdCBjb250ZW50IG9mIGhhbmRsZXIvaGFuZGxlci5nbyBzbyBJIGNhbiB1cGRhdGUgaXQgY29ycmVjdGx5XCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIjIyMgMi4gVXBkYXRlIHRoZSBoYW5kbGVyIGludGVyZmFjZVxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQVNoYlRXblRCRDNVZEd2Q0xtbnBjTSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6IiMjIyAyLiBVcGRhdGUgdGhlIGhhbmRsZXIgaW50ZXJmYWNlXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiOTliNTMxZGItZjc3NC00NjkxLWI0MmUtMjdmMmY5MzZmNmUwIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxM1pFd1lxQ2RBMWJyaWY0QWpFQmVmQyIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwiaGFuZGxlci9oYW5kbGVyLmdvXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcInR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xcblxcdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAvLyBUXFx1MWVhMW8gbFxcdTFlZGJwIGhcXHUxZWNkY1xcblxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAvLyBMXFx1MWVjZGMgdGhcXHUwMGUwbmggdmlcXHUwMGVhbiBjXFx1MWVlN2EgbFxcdTFlZGJwIGhcXHUxZWNkY1xcblxcdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBNXFx1MWVkZGkgdGhcXHUwMGUwbmggdmlcXHUwMGVhbiB2XFx1MDBlMG8gbFxcdTFlZGJwIGhcXHUxZWNkY1xcblxcdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBMXFx1MWVjZGMgZGFuaCBzXFx1MDBlMWNoIGxcXHUxZWRkaSBtXFx1MWVkZGlcXG5cXHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gVFxcdTFlZWIgY2hcXHUxZWQxaSBsXFx1MWVkZGkgbVxcdTFlZGRpXFxuXFx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENoXFx1MWVhNXAgbmhcXHUxZWFkbiBsXFx1MWVkZGkgbVxcdTFlZGRpXFxuXFx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIExcXHUxZWNkYyBkYW5oIHNcXHUwMGUxY2ggdGhcXHUwMGUwbmggdmlcXHUwMGVhbiBcXHUwMTExXFx1MDBlMyBcXHUwMTExXFx1MDFiMFxcdTFlZTNjIG1cXHUxZWRkaVxcblxcdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yICAvLyBMXFx1MWVjZGMgZGFuaCBzXFx1MDBlMWNoIGxcXHUxZWRicCBoXFx1MWVjZGMgXFx1MDExMWFuZyBzXFx1MWVkZiBoXFx1MWVlZnVcXG59XCIsIFwibmV3X3N0clwiOiBcInR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xcblxcdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAgICAgIC8vIFRcXHUxZWExbyBsXFx1MWVkYnAgaFxcdTFlY2RjXFxuXFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgLy8gTFxcdTFlY2RjIHRoXFx1MDBlMG5oIHZpXFx1MDBlYW4gY1xcdTFlZTdhIGxcXHUxZWRicCBoXFx1MWVjZGNcXG5cXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgICAgICAgICAvLyBNXFx1MWVkZGkgdGhcXHUwMGUwbmggdmlcXHUwMGVhbiB2XFx1MDBlMG8gbFxcdTFlZGJwIGhcXHUxZWNkY1xcblxcdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgICAgIC8vIExcXHUxZWNkYyBkYW5oIHNcXHUwMGUxY2ggbFxcdTFlZGRpIG1cXHUxZWRkaVxcblxcdFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgICAgIC8vIFRcXHUxZWViIGNoXFx1MWVkMWkgbFxcdTFlZGRpIG1cXHUxZWRkaVxcblxcdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgICAgIC8vIENoXFx1MWVhNXAgbmhcXHUxZWFkbiBsXFx1MWVkZGkgbVxcdTFlZGRpXFxuXFx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTFxcdTFlY2RjIGRhbmggc1xcdTAwZTFjaCB0aFxcdTAwZTBuaCB2aVxcdTAwZWFuIFxcdTAxMTFcXHUwMGUzIFxcdTAxMTFcXHUwMWIwXFx1MWVlM2MgbVxcdTFlZGRpXFxuXFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgLy8gTFxcdTFlY2RjIGRhbmggc1xcdTAwZTFjaCBsXFx1MWVkYnAgaFxcdTFlY2RjIFxcdTAxMTFhbmcgc1xcdTFlZGYgaFxcdTFlZWZ1XFxuXFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudChjICpmaWJlci5DdHgpIGVycm9yIC8vIExcXHUxZWNkYyBkYW5oIHNcXHUwMGUxY2ggbFxcdTFlZGJwIGhcXHUxZWNkYyBcXHUwMTExXFx1MDBlMyB0aGFtIGdpYSB2XFx1MWVkYmkgdmFpIHRyXFx1MDBmMiBoXFx1MWVjZGMgc2luaFxcbn1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDEzLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDIyfSwge1wib2xkX3N0clwiOiBcInR5cGUgaGFuZGxlckltcGwgc3RydWN0IHtcXG5cXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VcXG5cXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXFxuXFx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXFxuXFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VcXG5cXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXFxuXFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxcblxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXFxuXFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXFxufVwiLCBcIm5ld19zdHJcIjogXCJ0eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XFxuXFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxcblxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlICAgICB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXFxuXFx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxcblxcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxcblxcdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXFxuXFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2VcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VcXG5cXHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXFxuXFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2UgdXNlY2FzZS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZVxcbn1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDI0LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDMzfSwge1wib2xkX3N0clwiOiBcInR5cGUgSW5qZWN0IHN0cnVjdCB7XFxuXFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXFxuXFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxcblxcdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxcblxcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXFxuXFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxcblxcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2VcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxcblxcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgIHVzZWNhc2UuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZVxcbn1cIiwgXCJuZXdfc3RyXCI6IFwidHlwZSBJbmplY3Qgc3RydWN0IHtcXG5cXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXFxuXFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgICAgIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcXG5cXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXFxuXFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXFxuXFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2VcXG5cXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxcblxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgICAgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxcblxcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VcXG5cXHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSB1c2VjYXNlLkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlXFxufVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMzUsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogNDR9LCB7XCJvbGRfc3RyXCI6IFwiZnVuYyBOZXcoaW5qZWN0ICpJbmplY3QpIEhhbmRsZXIge1xcblxcdHJldHVybiAmaGFuZGxlckltcGx7XFxuXFx0XFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxcblxcdFxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiBpbmplY3QuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UsXFxuXFx0XFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIGluamVjdC5JbnZpdGVNZW1iZXJVc2VDYXNlLFxcblxcdFxcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxcblxcdFxcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuUmVqZWN0SW52aXRhdGlvblVzZUNhc2UsXFxuXFx0XFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSxcXG5cXHRcXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcXG5cXHRcXHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlOiAgaW5qZWN0LkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UsXFxuXFx0fVxcbn1cIiwgXCJuZXdfc3RyXCI6IFwiZnVuYyBOZXcoaW5qZWN0ICpJbmplY3QpIEhhbmRsZXIge1xcblxcdHJldHVybiAmaGFuZGxlckltcGx7XFxuXFx0XFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgICAgICBpbmplY3QuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSxcXG5cXHRcXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogICAgIGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcXG5cXHRcXHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgICAgIGluamVjdC5JbnZpdGVNZW1iZXJVc2VDYXNlLFxcblxcdFxcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICAgICAgaW5qZWN0LkZpbHRlckludml0YXRpb25zVXNlQ2FzZSxcXG5cXHRcXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcXG5cXHRcXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgICAgIGluamVjdC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSxcXG5cXHRcXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgICAgIGluamVjdC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UsXFxuXFx0XFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSxcXG5cXHRcXHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZTogaW5qZWN0LkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlLFxcblxcdH1cXG59XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA0NiwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA1N31dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IEknbGwgdXBkYXRlIHRoZSBoYW5kbGVyIGludGVyZmFjZSBhbmQgaW1wbGVtZW50YXRpb246XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJUaGUgZm9sbG93aW5nIGNvZGUgc2VjdGlvbnMgd2VyZSByZXRyaWV2ZWQ6XG5QYXRoOiBoYW5kbGVyL2hhbmRsZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG50eXBlIEhhbmRsZXIgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAvLyBM4buNYyB0aMOgbmggdmnDqm4gY+G7p2EgbOG7m3AgaOG7jWNcblx0SW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgIC8vIE3hu51pIHRow6BuaCB2acOqbiB2w6BvIGzhu5twIGjhu41jXG5cdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG5cdFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBU4burIGNo4buRaSBs4budaSBt4budaVxuXHRBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gQ2jhuqVwIG5o4bqtbiBs4budaSBt4budaVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxuXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691XG59XG5cbnR5cGUgaGFuZGxlckltcGwgc3RydWN0IHtcblx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG5cdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxuXHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2Vcbn1cblxudHlwZSBJbmplY3Qgc3RydWN0IHtcblx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG5cdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxuXHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2Vcbn1cblxuZnVuYyBOZXcoaW5qZWN0ICpJbmplY3QpIEhhbmRsZXIge1xuXHRyZXR1cm4gJmhhbmRsZXJJbXBse1xuXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICBpbmplY3QuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSxcblx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogaW5qZWN0LkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLFxuXHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICBpbmplY3QuSW52aXRlTWVtYmVyVXNlQ2FzZSxcblx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgaW5qZWN0LkZpbHRlckludml0YXRpb25zVXNlQ2FzZSxcblx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LlJlamVjdEludml0YXRpb25Vc2VDYXNlLFxuXHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuQWNjZXB0SW52aXRhdGlvblVzZUNhc2UsXG5cdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIGluamVjdC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UsXG5cdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZTogIGluamVjdC5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlLFxuXHR9XG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2FjY2VwdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgQWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgSUQgY+G7p2EgaW52aXRhdGlvbiB04burIFVSTFxuXHRpbnZpdGF0aW9uSUQgOj0gYy5QYXJhbXMoXCJpZFwiKVxuXHRpZiBpbnZpdGF0aW9uSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJpZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0aWYgZXJyIDo9IGguQWNjZXB0SW52aXRhdGlvblVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgaW52aXRhdGlvbklELCB1c2VySUQpOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIGdvcm0uRXJyUmVjb3JkTm90Rm91bmQpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJraMO0bmcgdMOsbSB0aOG6pXkgbOG7nWkgbeG7nWlcIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90SW52aXRhdGlvblJlY2VpdmVyKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgbmfGsOG7nWkgbmjhuq1uIGzhu51pIG3hu51pIG7DoHlcIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJySW52aXRhdGlvbk5vdFBlbmRpbmcpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJs4budaSBt4budaSBraMO0bmcg4bufIHRy4bqhbmcgdGjDoWkgY2jhu50geOG7rSBsw71cIikpXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgSW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuSW52aXRlTWVtYmVyUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSBoLkludml0ZU1lbWJlclVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e1xuXHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkNsYXNzcm9vbUlELCBcIlwiKSxcblx0XHRTZW5kZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdFJlY2VpdmVySUQ6ICB2YWx1ZS5HZXRWYWx1ZShib2R5LlJlY2VpdmVySUQsIFwiXCIpLFxuXHRcdFN0YXR1czogICAgICBlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIMSRYW5nIGNo4budIHjhu60gbMO9IGhv4bq3YyDEkcOjIMSRxrDhu6NjIGNo4bqlcCBuaOG6rW5cIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSByLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBib2R5IHJlcS5DcmVhdGVDbGFzc3Jvb21SZXF1ZXN0XG5cblx0aWYgZXJyIDo9IGMuQm9keVBhcnNlcigmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHIuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5LkNsYXNzcm9vbUVudGl0eXtcblx0XHRVc2VySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHROYW1lOiAgICAgIHZhbHVlLkdldFZhbHVlKGJvZHkuTmFtZSwgXCJcIiksXG5cdFx0QXZhdGFyVXJsOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkF2YXRhclVybCwgXCJcIiksXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9yZWplY3RfaW52aXRhdGlvbi5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IElEIGPhu6dhIGludml0YXRpb24gdOG7qyBVUkxcblx0aW52aXRhdGlvbklEIDo9IGMuUGFyYW1zKFwiaWRcIilcblx0aWYgaW52aXRhdGlvbklEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiaWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdGlmIGVyciA6PSBoLlJlamVjdEludml0YXRpb25Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGludml0YXRpb25JRCwgdXNlcklEKTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBoYW5kbGUgbOG7l2lcblx0XHRzd2l0Y2gge1xuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgZ29ybS5FcnJSZWNvcmROb3RGb3VuZCk6XG5cdFx0XHRyZXR1cm4gcmVzLk5vdEZvdW5kKGMsIGVycm9ycy5OZXcoXCJraMO0bmcgdMOsbSB0aOG6pXkgbOG7nWkgbeG7nWlcIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90SW52aXRhdGlvblJlY2VpdmVyKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgbmfGsOG7nWkgbmjhuq1uIGzhu51pIG3hu51pIG7DoHlcIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJySW52aXRhdGlvbk5vdFBlbmRpbmcpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJs4budaSBt4budaSBraMO0bmcg4bufIHRy4bqhbmcgdGjDoWkgY2jhu50geOG7rSBsw71cIikpXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfYXNfc3R1ZGVudC5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50KGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJPd25lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBjbGFzc3Jvb21faWQgdOG7qyBVUkxcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcXVlcnkgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksIHF1ZXJ5KVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0aWYgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKSB7XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHR9XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHNlcnZlci9yb3V0ZXIuZ29cbnBhY2thZ2Ugc2VydmVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmVcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcblxuZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xuXHRjbGFzc3Jvb21Hcm91cCA6PSBhcHAuR3JvdXAoXCIvY2xhc3Nyb29tXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvaW52aXRlXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycylcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi9vd25lZFwiLCBoYW5kbGVyLkZpbHRlck93bmVkQ2xhc3Nyb29tcylcblxuXHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvc2VydmVyLmdvXG5wYWNrYWdlIHNlcnZlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92Mi9taWRkbGV3YXJlL3JlY292ZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxuZnVuYyBSdW4oc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykge1xuXHRhcHAgOj0gZmliZXIuTmV3KGZpYmVyLkNvbmZpZ3tcblx0XHRFbmFibGVQcmludFJvdXRlczogdHJ1ZSxcblx0fSlcblx0YXBwLlVzZShyZWNvdmVyLk5ldygpKVxuXG5cdHByb3ZpZGVyLCBlcnIgOj0gcHJvdmlkZXIuSW5pdChzZXJ2aWNlQ29uZmlnKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gaW5pdCBwcm92aWRlclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuXHRyZXBvc2l0b3J5IDo9IHJlcG9zaXRvcnkuTmV3KHByb3ZpZGVyKVxuXHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgdXNlY2FzZS5OZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICB1c2VjYXNlLk5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlOiAgdXNlY2FzZS5OZXdGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHR9KVxuLi4uXG5QYXRoOiBwcm92aWRlci9wcm92aWRlci5nb1xucGFja2FnZSBwcm92aWRlclxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbmVkcGFscy9zdXBhYmFzZS1nb1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9wcm92aWRlci9kYXRhYmFzZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxudHlwZSBQcm92aWRlciBzdHJ1Y3Qge1xuXHREYiAgICAgICAgICAgICAqZ29ybS5EQlxuXHRTdXBhYmFzZUNsaWVudCAqc3VwYWJhc2UuQ2xpZW50XG59XG5cbmZ1bmMgSW5pdChzZXJ2aWNlQ29uZmlnICptb2RlbC5TZXJ2aWNlQ29uZmlnKSAoKlByb3ZpZGVyLCBlcnJvcikge1xuXHRkYiwgZXJyIDo9IGRhdGFiYXNlLk5ld1Bvc3RncmVzREIoXG5cdFx0c2VydmljZUNvbmZpZy5EYkhvc3QsXG5cdFx0c2VydmljZUNvbmZpZy5EYlBvcnQsXG5cdFx0c2VydmljZUNvbmZpZy5EYlVzZXIsXG5cdFx0c2VydmljZUNvbmZpZy5EYlBhc3N3b3JkLFxuXHRcdHNlcnZpY2VDb25maWcuRGJOYW1lLFxuXHQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0c3VwYWJhc2VDbGllbnQgOj0gc3VwYWJhc2UuQ3JlYXRlQ2xpZW50KFxuXHRcdHNlcnZpY2VDb25maWcuU3VwYmFzZVVybCxcblx0XHRzZXJ2aWNlQ29uZmlnLlN1cGFiYXNlQW5vbktleSxcblx0KVxuXG5cdHJldHVybiAmUHJvdmlkZXJ7XG5cdFx0RGI6ICAgICAgICAgICAgIGRiLFxuXHRcdFN1cGFiYXNlQ2xpZW50OiBzdXBhYmFzZUNsaWVudCxcblx0fSwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4pXG4uLi5cblBhdGg6IGNtZC9zZXJ2ZS5nb1xuLypcbkNvcHlyaWdodCDCqSAyMDI1IE5BTUUgSEVSRSA8RU1BSUwgQUREUkVTUz5cbiovXG5wYWNrYWdlIGNtZFxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2NvbmZpZ1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWxcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vc2VydmVyXCJcblxuXHRcImdpdGh1Yi5jb20vc3BmMTMvY29icmFcIlxuKVxuXG4vLyBzZXJ2ZUNtZCByZXByZXNlbnRzIHRoZSBzZXJ2ZSBjb21tYW5kXG52YXIgc2VydmVDbWQgPSAmY29icmEuQ29tbWFuZHtcblx0VXNlOiAgIFwic2VydmVcIixcblx0U2hvcnQ6IFwiQSBicmllZiBkZXNjcmlwdGlvbiBvZiB5b3VyIGNvbW1hbmRcIixcblx0TG9uZzogYEEgbG9uZ2VyIGRlc2NyaXB0aW9uIHRoYXQgc3BhbnMgbXVsdGlwbGUgbGluZXMgYW5kIGxpa2VseSBjb250YWlucyBleGFtcGxlc1xuYW5kIHVzYWdlIG9mIHVzaW5nIHlvdXIgY29tbWFuZC4gRm9yIGV4YW1wbGU6XG5cbkNvYnJhIGlzIGEgQ0xJIGxpYnJhcnkgZm9yIEdvIHRoYXQgZW1wb3dlcnMgYXBwbGljYXRpb25zLlxuVGhpcyBhcHBsaWNhdGlvbiBpcyBhIHRvb2wgdG8gZ2VuZXJhdGUgdGhlIG5lZWRlZCBmaWxlc1xudG8gcXVpY2tseSBjcmVhdGUgYSBDb2JyYSBhcHBsaWNhdGlvbi5gLFxuXHRSdW46IGZ1bmMoY21kICpjb2JyYS5Db21tYW5kLCBhcmdzIFtdc3RyaW5nKSB7XG5cdFx0dmFyIHNlcnZpY2VDb25maWcgbW9kZWwuU2VydmljZUNvbmZpZ1xuXHRcdGVudlBhdGgsIF8gOj0gY21kLkZsYWdzKCkuR2V0U3RyaW5nKFwiZW52LXBhdGhcIilcblxuXHRcdGlmIGVyciA6PSBjb25maWcuTG9hZENvbmZpZyhlbnZQYXRoLCAmc2VydmljZUNvbmZpZyk7IGVyciAhPSBuaWwge1xuXHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGxvYWQgY29uZmlnXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdFx0cmV0dXJuXG5cdFx0fVxuXG5cdFx0c2VydmVyLlJ1bigmc2VydmljZUNvbmZpZylcblx0fSxcbn1cbi4uLlxuUGF0aDogY21kL3Jvb3QuZ29cbi8qXG5Db3B5cmlnaHQgwqkgMjAyNSBOQU1FIEhFUkUgPEVNQUlMIEFERFJFU1M+XG4qL1xucGFja2FnZSBjbWRcblxuaW1wb3J0IChcblx0XCJvc1wiXG5cblx0XCJnaXRodWIuY29tL3NwZjEzL2NvYnJhXCJcbilcblxuLy8gcm9vdENtZCByZXByZXNlbnRzIHRoZSBiYXNlIGNvbW1hbmQgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgc3ViY29tbWFuZHNcbnZhciByb290Q21kID0gJmNvYnJhLkNvbW1hbmR7XG5cdFVzZTogICBcInF1aXp6eS1jbGFzc3Jvb21cIixcblx0U2hvcnQ6IFwiQSBicmllZiBkZXNjcmlwdGlvbiBvZiB5b3VyIGFwcGxpY2F0aW9uXCIsXG5cdExvbmc6IGBBIGxvbmdlciBkZXNjcmlwdGlvbiB0aGF0IHNwYW5zIG11bHRpcGxlIGxpbmVzIGFuZCBsaWtlbHkgY29udGFpbnNcbmV4YW1wbGVzIGFuZCB1c2FnZSBvZiB1c2luZyB5b3VyIGFwcGxpY2F0aW9uLiBGb3IgZXhhbXBsZTpcblxuQ29icmEgaXMgYSBDTEkgbGlicmFyeSBmb3IgR28gdGhhdCBlbXBvd2VycyBhcHBsaWNhdGlvbnMuXG5UaGlzIGFwcGxpY2F0aW9uIGlzIGEgdG9vbCB0byBnZW5lcmF0ZSB0aGUgbmVlZGVkIGZpbGVzXG50byBxdWlja2x5IGNyZWF0ZSBhIENvYnJhIGFwcGxpY2F0aW9uLmAsXG5cdC8vIFVuY29tbWVudCB0aGUgZm9sbG93aW5nIGxpbmUgaWYgeW91ciBiYXJlIGFwcGxpY2F0aW9uXG5cdC8vIGhhcyBhbiBhY3Rpb24gYXNzb2NpYXRlZCB3aXRoIGl0OlxuXHQvLyBSdW46IGZ1bmMoY21kICpjb2JyYS5Db21tYW5kLCBhcmdzIFtdc3RyaW5nKSB7IH0sXG59XG5cbi8vIEV4ZWN1dGUgYWRkcyBhbGwgY2hpbGQgY29tbWFuZHMgdG8gdGhlIHJvb3QgY29tbWFuZCBhbmQgc2V0cyBmbGFncyBhcHByb3ByaWF0ZWx5LlxuLy8gVGhpcyBpcyBjYWxsZWQgYnkgbWFpbi5tYWluKCkuIEl0IG9ubHkgbmVlZHMgdG8gaGFwcGVuIG9uY2UgdG8gdGhlIHJvb3RDbWQuXG5mdW5jIEV4ZWN1dGUoKSB7XG5cdGVyciA6PSByb290Q21kLkV4ZWN1dGUoKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRvcy5FeGl0KDEpXG5cdH1cbn1cblxuZnVuYyBpbml0KCkge1xuXHQvLyBIZXJlIHlvdSB3aWxsIGRlZmluZSB5b3VyIGZsYWdzIGFuZCBjb25maWd1cmF0aW9uIHNldHRpbmdzLlxuXHQvLyBDb2JyYSBzdXBwb3J0cyBwZXJzaXN0ZW50IGZsYWdzLCB3aGljaCwgaWYgZGVmaW5lZCBoZXJlLFxuXHQvLyB3aWxsIGJlIGdsb2JhbCBmb3IgeW91ciBhcHBsaWNhdGlvbi5cblxuXHQvLyByb290Q21kLlBlcnNpc3RlbnRGbGFncygpLlN0cmluZ1ZhcigmY2ZnRmlsZSwgXCJjb25maWdcIiwgXCJcIiwgXCJjb25maWcgZmlsZSAoZGVmYXVsdCBpcyAkSE9NRS8ucXVpenp5LWNsYXNzcm9vbS55YW1sKVwiKVxuXG5cdC8vIENvYnJhIGFsc28gc3VwcG9ydHMgbG9jYWwgZmxhZ3MsIHdoaWNoIHdpbGwgb25seSBydW5cblx0Ly8gd2hlbiB0aGlzIGFjdGlvbiBpcyBjYWxsZWQgZGlyZWN0bHkuXG5cdHJvb3RDbWQuRmxhZ3MoKS5Cb29sUChcInRvZ2dsZVwiLCBcInRcIiwgZmFsc2UsIFwiSGVscCBtZXNzYWdlIGZvciB0b2dnbGVcIilcbn1cbi4uLlxuUGF0aDogbWlncmF0ZS9taWdyYXRlLmdvXG5wYWNrYWdlIG1pZ3JhdGVcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbmZ1bmMgUnVuKHNlcnZpY2VDb25maWcgKm1vZGVsLlNlcnZpY2VDb25maWcpIHtcblx0cHJvdmlkZXIsIGVyciA6PSBwcm92aWRlci5Jbml0KHNlcnZpY2VDb25maWcpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBpbml0IHByb3ZpZGVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG5cblx0aWYgZXJyIDo9IHByb3ZpZGVyLkRiLkF1dG9NaWdyYXRlKFxuXHRcdCZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e30sXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7fSxcblx0XHQmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSxcblx0KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIG1pZ3JhdGUgZGF0YWJhc2VcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRsb2dnZXIuSW5mbyhcIm1pZ3JhdGUgZGF0YWJhc2Ugc3VjY2Vzc1wiKVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0YXRpb25zVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuLi4uXG5QYXRoOiBjbWQvbWlncmF0ZS5nb1xuLypcbkNvcHlyaWdodCDCqSAyMDI1IE5BTUUgSEVSRSA8RU1BSUwgQUREUkVTUz5cbiovXG5wYWNrYWdlIGNtZFxuXG5pbXBvcnQgKFxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2NvbmZpZ1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbWlncmF0ZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cblx0XCJnaXRodWIuY29tL3NwZjEzL2NvYnJhXCJcbilcblxuLy8gbWlncmF0ZUNtZCByZXByZXNlbnRzIHRoZSBtaWdyYXRlIGNvbW1hbmRcbnZhciBtaWdyYXRlQ21kID0gJmNvYnJhLkNvbW1hbmR7XG5cdFVzZTogICBcIm1pZ3JhdGVcIixcblx0U2hvcnQ6IFwiQSBicmllZiBkZXNjcmlwdGlvbiBvZiB5b3VyIGNvbW1hbmRcIixcblx0TG9uZzogYEEgbG9uZ2VyIGRlc2NyaXB0aW9uIHRoYXQgc3BhbnMgbXVsdGlwbGUgbGluZXMgYW5kIGxpa2VseSBjb250YWlucyBleGFtcGxlc1xuYW5kIHVzYWdlIG9mIHVzaW5nIHlvdXIgY29tbWFuZC4gRm9yIGV4YW1wbGU6XG5cbkNvYnJhIGlzIGEgQ0xJIGxpYnJhcnkgZm9yIEdvIHRoYXQgZW1wb3dlcnMgYXBwbGljYXRpb25zLlxuVGhpcyBhcHBsaWNhdGlvbiBpcyBhIHRvb2wgdG8gZ2VuZXJhdGUgdGhlIG5lZWRlZCBmaWxlc1xudG8gcXVpY2tseSBjcmVhdGUgYSBDb2JyYSBhcHBsaWNhdGlvbi5gLFxuXHRSdW46IGZ1bmMoY21kICpjb2JyYS5Db21tYW5kLCBhcmdzIFtdc3RyaW5nKSB7XG5cdFx0dmFyIHNlcnZpY2VDb25maWcgbW9kZWwuU2VydmljZUNvbmZpZ1xuXHRcdGVudlBhdGgsIF8gOj0gY21kLkZsYWdzKCkuR2V0U3RyaW5nKFwiZW52LXBhdGhcIilcblxuXHRcdGlmIGVyciA6PSBjb25maWcuTG9hZENvbmZpZyhlbnZQYXRoLCAmc2VydmljZUNvbmZpZyk7IGVyciAhPSBuaWwge1xuXHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGxvYWQgY29uZmlnXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdFx0cmV0dXJuXG5cdFx0fVxuXG5cdFx0bWlncmF0ZS5SdW4oJnNlcnZpY2VDb25maWcpXG5cdH0sXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvYWNjZXB0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIGVycm9yXG59XG5cbnR5cGUgYWNjZXB0SW52aXRhdGlvblVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3QWNjZXB0SW52aXRhdGlvblVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEFjY2VwdEludml0YXRpb25Vc2VDYXNlIHtcblx0cmV0dXJuICZhY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICphY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgdXNlcklEIHN0cmluZykgZXJyb3Ige1xuXHQvLyBM4bqleSB0aMO0bmcgdGluIGludml0YXRpb25cblx0aW52aXRhdGlvbiwgZXJyIDo9IHUuUmVwby5HZXRJbnZpdGF0aW9uQnlJRChjdHgsIGludml0YXRpb25JRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGdldCBpbnZpdGF0aW9uXCIsIHphcC5TdHJpbmcoXCJpbnZpdGF0aW9uIGlkXCIsIGludml0YXRpb25JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBraMO0bmdcblx0aWYgaW52aXRhdGlvbi5SZWNlaXZlcklEICE9IHVzZXJJRCB7XG5cdFx0cmV0dXJuLi4uIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxVVpzY3JWMUhiVW1Kdkw2cm1rU1p1ZiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwicmVzcG9uc2VfdGV4dCI6Ik5vdyBJJ2xsIHVwZGF0ZSB0aGUgaGFuZGxlciBpbnRlcmZhY2UgYW5kIGltcGxlbWVudGF0aW9uOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImQ0OWUyOGZiLTMxYmQtNGRiMi04ZmM0LTVkYmZmYzkyMTE0YSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMU1IOXVkcDIyQjl0QkVXRVpNc3J3VW4iLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNlcnZlci9zZXJ2ZXIuZ29cIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiXFx0aGFuZGxlciA6PSBoYW5kbGVyLk5ldygmaGFuZGxlci5JbmplY3R7XFxuXFx0XFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIHVzZWNhc2UuTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHRcXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHRcXHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgdXNlY2FzZS5OZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICB1c2VjYXNlLk5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHRcXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHRcXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHRcXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZTogIHVzZWNhc2UuTmV3RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHR9KVwiLCBcIm5ld19zdHJcIjogXCJcXHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcXG5cXHRcXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgICAgIHVzZWNhc2UuTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHRcXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogICAgIHVzZWNhc2UuTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgICAgICB1c2VjYXNlLk5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHRcXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgICAgIHVzZWNhc2UuTmV3UmVqZWN0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZTogICAgICB1c2VjYXNlLk5ld0ZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2U6IHVzZWNhc2UuTmV3RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0fSlcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDI3LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDM2fV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIjIyMgMy4gVXBkYXRlIHRoZSBzZXJ2ZXIgaW5pdGlhbGl6YXRpb25cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgaGFuZGxlci9oYW5kbGVyLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDVcdFxuICAgICA2XHRcdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbiAgICAgN1x0KVxuICAgICA4XHRcbiAgICAgOVx0dHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG4gICAgMTBcdFx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcbiAgICAxMVx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAvLyBM4buNYyB0aMOgbmggdmnDqm4gY+G7p2EgbOG7m3AgaOG7jWNcbiAgICAxMlx0XHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuICAgIDEzXHRcdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcbiAgICAxNFx0XHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgICAgICAvLyBU4burIGNo4buRaSBs4budaSBt4budaVxuICAgIDE1XHRcdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcbiAgICAxNlx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG4gICAgMTdcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691XG4gICAgMThcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudChjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJHDoyB0aGFtIGdpYSB24bubaSB2YWkgdHLDsiBo4buNYyBzaW5oXG4gICAgMTlcdH1cbiAgICAyMFx0XG4gICAgMjFcdHR5cGUgaGFuZGxlckltcGwgc3RydWN0IHtcbiAgICAyMlx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG4gICAgMjNcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgICAgIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcblxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzFdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgMTdcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691XG4gICAgMThcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudChjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJHDoyB0aGFtIGdpYSB24bubaSB2YWkgdHLDsiBo4buNYyBzaW5oXG4gICAgMTlcdH1cbiAgICAyMFx0XG4gICAgMjFcdHR5cGUgaGFuZGxlckltcGwgc3RydWN0IHtcbiAgICAyMlx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG4gICAgMjNcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgICAgIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcbiAgICAyNFx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG4gICAgMjVcdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG4gICAgMjZcdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2VcbiAgICAyN1x0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuICAgIDI4XHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgICAgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxuICAgIDI5XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VcbiAgICAzMFx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSB1c2VjYXNlLkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlXG4gICAgMzFcdH1cbiAgICAzMlx0XG4gICAgMzNcdHR5cGUgSW5qZWN0IHN0cnVjdCB7XG4gICAgMzRcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuICAgIDM1XHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlICAgICB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1syXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDI5XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VcbiAgICAzMFx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSB1c2VjYXNlLkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlXG4gICAgMzFcdH1cbiAgICAzMlx0XG4gICAgMzNcdHR5cGUgSW5qZWN0IHN0cnVjdCB7XG4gICAgMzRcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuICAgIDM1XHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlICAgICB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG4gICAgMzZcdFx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuICAgIDM3XHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuICAgIDM4XHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG4gICAgMzlcdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2VcbiAgICA0MFx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VcbiAgICA0MVx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXG4gICAgNDJcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2UgdXNlY2FzZS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZVxuICAgIDQzXHR9XG4gICAgNDRcdFxuICAgIDQ1XHRmdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XG4gICAgNDZcdFx0cmV0dXJuICZoYW5kbGVySW1wbHtcbiAgICA0N1x0XHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1szXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDQxXHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VcbiAgICA0Mlx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSB1c2VjYXNlLkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlXG4gICAgNDNcdH1cbiAgICA0NFx0XG4gICAgNDVcdGZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcbiAgICA0Nlx0XHRyZXR1cm4gJmhhbmRsZXJJbXBse1xuICAgIDQ3XHRcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgICAgICBpbmplY3QuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSxcbiAgICA0OFx0XHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiAgICAgaW5qZWN0LkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLFxuICAgIDQ5XHRcdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgICAgICBpbmplY3QuSW52aXRlTWVtYmVyVXNlQ2FzZSxcbiAgICA1MFx0XHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICAgICAgaW5qZWN0LkZpbHRlckludml0YXRpb25zVXNlQ2FzZSxcbiAgICA1MVx0XHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICAgICAgaW5qZWN0LlJlamVjdEludml0YXRpb25Vc2VDYXNlLFxuICAgIDUyXHRcdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgICAgICBpbmplY3QuQWNjZXB0SW52aXRhdGlvblVzZUNhc2UsXG4gICAgNTNcdFx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgICAgIGluamVjdC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UsXG4gICAgNTRcdFx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlOiAgICAgIGluamVjdC5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlLFxuICAgIDU1XHRcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2U6IGluamVjdC5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSxcbiAgICA1Nlx0XHR9XG4gICAgNTdcdH1cbiAgICA1OFx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTNaRXdZcUNkQTFicmlmNEFqRUJlZkMifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiIjIyMgMy4gVXBkYXRlIHRoZSBzZXJ2ZXIgaW5pdGlhbGl6YXRpb25cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJmMjVjM2Y4OS0xNTY3LTRmYzItOGI1Ny1lNzVjMTRiYjljNGUiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFHTDlpSk1maVQzMWZqamVYUDc5RVE1IiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzZXJ2ZXIvcm91dGVyLmdvXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIlxcdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcXFwiL2NsYXNzcm9vbVxcXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcXG5cXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFxcXCIvY3JlYXRlXFxcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXFxuXFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcXFwiL2ludml0ZVxcXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxcblxcdGNsYXNzcm9vbUdyb3VwLkdldChcXFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1xcXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycylcXG5cXHRjbGFzc3Jvb21Hcm91cC5HZXQoXFxcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1xcXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXFxuXFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFxcXCIvb3duZWRcXFwiLCBoYW5kbGVyLkZpbHRlck93bmVkQ2xhc3Nyb29tcylcIiwgXCJuZXdfc3RyXCI6IFwiXFx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFxcXCIvY2xhc3Nyb29tXFxcIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxcblxcdGNsYXNzcm9vbUdyb3VwLlBvc3QoXFxcIi9jcmVhdGVcXFwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcXG5cXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFxcXCIvaW52aXRlXFxcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXFxuXFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFxcXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXFxcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxcblxcdGNsYXNzcm9vbUdyb3VwLkdldChcXFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXFxcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcXG5cXHRjbGFzc3Jvb21Hcm91cC5HZXQoXFxcIi9vd25lZFxcXCIsIGhhbmRsZXIuRmlsdGVyT3duZWRDbGFzc3Jvb21zKVxcblxcdGNsYXNzcm9vbUdyb3VwLkdldChcXFwiL2pvaW5lZC1hcy1zdHVkZW50XFxcIiwgaGFuZGxlci5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50KVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMTIsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMTd9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiMjIyA0LiBSZWdpc3RlciB0aGUgaGFuZGxlciBpbiB0aGUgcm91dGVyXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNlcnZlci9zZXJ2ZXIuZ28uXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAyNVx0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBpbml0IHByb3ZpZGVyXCIsIHphcC5FcnJvcihlcnIpKVxuICAgIDI2XHRcdFx0cmV0dXJuXG4gICAgMjdcdFx0fVxuICAgIDI4XHRcdHJlcG9zaXRvcnkgOj0gcmVwb3NpdG9yeS5OZXcocHJvdmlkZXIpXG4gICAgMjlcdFx0aGFuZGxlciA6PSBoYW5kbGVyLk5ldygmaGFuZGxlci5JbmplY3R7XG4gICAgMzBcdFx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgICAgIHVzZWNhc2UuTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzMVx0XHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiAgICAgdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzMlx0XHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICAgICAgdXNlY2FzZS5OZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDMzXHRcdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgICAgICB1c2VjYXNlLk5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzNFx0XHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzNVx0XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICAgICAgdXNlY2FzZS5OZXdBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzNlx0XHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzdcdFx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlOiAgICAgIHVzZWNhc2UuTmV3RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzOFx0XHRcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM5XHRcdH0pXG4gICAgNDBcdFxuICAgIDQxXHRcdEluaXRSb3V0ZXIoYXBwLCBoYW5kbGVyKVxuICAgIDQyXHRcdHV0aWwuSW5pdFZhbGlkYXRlKClcbiAgICA0M1x0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMU1IOXVkcDIyQjl0QkVXRVpNc3J3VW4ifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2V9fV0sInJlc3BvbnNlX3RleHQiOiIjIyMgNC4gUmVnaXN0ZXIgdGhlIGhhbmRsZXIgaW4gdGhlIHJvdXRlclxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6Ijc1ZTU2MGQ2LWNjNTEtNDk1MS1hZWU1LTdjMTVjNzRhYTA0NSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUpBNVJoaUpVMmpKRWlXaUdZR0ZWc2QiLCJ0b29sX25hbWUiOiJsYXVuY2gtcHJvY2VzcyIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwiZ28gcnVuIG1haW4uZ28gc2VydmUgLWUgLi9kZXBsb3kvbG9jYWwuZW52XCIsIFwid2FpdFwiOiB0cnVlLCBcIndhaXRfc2Vjb25kc1wiOiAxMH0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiMjIFRlc3RpbmdcblxuTGV0J3MgdmVyaWZ5IHRoYXQgb3VyIGltcGxlbWVudGF0aW9uIGlzIGNvcnJlY3QgYnkgcnVubmluZyB0aGUgc2VydmVyOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzZXJ2ZXIvcm91dGVyLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDhcdFx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuICAgICA5XHQpXG4gICAgMTBcdFxuICAgIDExXHRmdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG4gICAgMTJcdFx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG4gICAgMTNcdFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG4gICAgMTRcdFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG4gICAgMTVcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG4gICAgMTZcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG4gICAgMTdcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiL293bmVkXCIsIGhhbmRsZXIuRmlsdGVyT3duZWRDbGFzc3Jvb21zKVxuICAgIDE4XHRcdGNsYXNzcm9vbUdyb3VwLkdldChcIi9qb2luZWQtYXMtc3R1ZGVudFwiLCBoYW5kbGVyLkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnQpXG4gICAgMTlcdFxuICAgIDIwXHRcdGludml0YXRpb25Hcm91cCA6PSBhcHAuR3JvdXAoXCIvaW52aXRhdGlvblwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG4gICAgMjFcdFx0aW52aXRhdGlvbkdyb3VwLkdldChcIi9maWx0ZXJcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucylcbiAgICAyMlx0XHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFHTDlpSk1maVQzMWZqamVYUDc5RVE1In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlfX1dLCJyZXNwb25zZV90ZXh0IjoiIyMgVGVzdGluZ1xuXG5MZXQncyB2ZXJpZnkgdGhhdCBvdXIgaW1wbGVtZW50YXRpb24gaXMgY29ycmVjdCBieSBydW5uaW5nIHRoZSBzZXJ2ZXI6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNThmNWNkZmEtYWQyOS00YjhjLTlkMWUtYjdiYzg0ZDBhNWI0IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSXQgbG9va3MgbGlrZSB0aGUgc2VydmVyIGlzIGFscmVhZHkgcnVubmluZyBvbiBwb3J0IDUwMDEuIExldCdzIHN1bW1hcml6ZSB3aGF0IHdlJ3ZlIGRvbmUgdG8gaW1wbGVtZW50IHRoZSBBUEkgZm9yIGZpbHRlcmluZyBjbGFzc3Jvb21zIHdoZXJlIHRoZSB1c2VyIGhhcyBqb2luZWQgYXMgYSBzdHVkZW50LlxuXG4jIyBJbXBsZW1lbnRhdGlvbiBTdW1tYXJ5XG5cbkkndmUgc3VjY2Vzc2Z1bGx5IGFkZGVkIHRoZSBBUEkgdG8gZmlsdGVyIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaGFzIGpvaW5lZCBhcyBhIHN0dWRlbnQgKENsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50KS4gSGVyZSdzIHdoYXQgSSBkaWQ6XG5cbjEuIENyZWF0ZWQgYSBoYW5kbGVyIGZ1bmN0aW9uIGluIGBoYW5kbGVyL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tc19hc19zdHVkZW50LmdvYCB0aGF0OlxuICAgLSBQYXJzZXMgcXVlcnkgcGFyYW1ldGVycyBmb3IgcGFnaW5hdGlvblxuICAgLSBHZXRzIHRoZSB1c2VyIElEIGZyb20gdGhlIEpXVCB0b2tlblxuICAgLSBDYWxscyB0aGUgZXhpc3RpbmcgdXNlY2FzZSB0byBmaWx0ZXIgY2xhc3Nyb29tcyB3aGVyZSB0aGUgdXNlciBpcyBhIHN0dWRlbnRcblxuMi4gVXBkYXRlZCB0aGUgaGFuZGxlciBpbnRlcmZhY2UgYW5kIGltcGxlbWVudGF0aW9uIGluIGBoYW5kbGVyL2hhbmRsZXIuZ29gIHRvOlxuICAgLSBBZGQgdGhlIG5ldyBoYW5kbGVyIGZ1bmN0aW9uIHRvIHRoZSBpbnRlcmZhY2VcbiAgIC0gQWRkIHRoZSB1c2VjYXNlIGZpZWxkIHRvIHRoZSBoYW5kbGVyIGltcGxlbWVudGF0aW9uIHN0cnVjdFxuICAgLSBBZGQgdGhlIHVzZWNhc2UgZmllbGQgdG8gdGhlIGluamVjdGlvbiBzdHJ1Y3RcbiAgIC0gVXBkYXRlIHRoZSBOZXcgZnVuY3Rpb24gdG8gaW5pdGlhbGl6ZSB0aGUgbmV3IHVzZWNhc2VcblxuMy4gVXBkYXRlZCB0aGUgc2VydmVyIGluaXRpYWxpemF0aW9uIGluIGBzZXJ2ZXIvc2VydmVyLmdvYCB0bzpcbiAgIC0gSW5jbHVkZSB0aGUgbmV3IHVzZWNhc2Ugd2hlbiBjcmVhdGluZyB0aGUgaGFuZGxlclxuXG40LiBSZWdpc3RlcmVkIHRoZSBuZXcgcm91dGUgaW4gYHNlcnZlci9yb3V0ZXIuZ29gOlxuICAgLSBBZGRlZCBhIG5ldyBHRVQgZW5kcG9pbnQgYXQgYC9jbGFzc3Jvb20vam9pbmVkLWFzLXN0dWRlbnRgXG5cbiMjIEFQSSBVc2FnZVxuXG5UaGUgbmV3IEFQSSBlbmRwb2ludCBpcyBub3cgYXZhaWxhYmxlIGF0OlxuYGBgXG5HRVQgL2NsYXNzcm9vbS9qb2luZWQtYXMtc3R1ZGVudFxuYGBgXG5cbkl0IHN1cHBvcnRzIHRoZSBzdGFuZGFyZCBwYWdpbmF0aW9uIHBhcmFtZXRlcnMgZnJvbSB0aGUgYHJlcS5QYWdpbmF0aW9uUmVxYCBzdHJ1Y3Q6XG4tIGBwYWdlYDogUGFnZSBudW1iZXIgKG9wdGlvbmFsKVxuLSBgbGltaXRgOiBOdW1iZXIgb2YgaXRlbXMgcGVyIHBhZ2UgKG9wdGlvbmFsKVxuLSBgc29ydGA6IFNvcnRpbmcgY3JpdGVyaWEgKG9wdGlvbmFsLCBkZWZhdWx0cyB0byBcImNyZWF0ZWRfYXQgREVTQ1wiKVxuXG5UaGUgQVBJIHJlcXVpcmVzIGF1dGhlbnRpY2F0aW9uIHZpYSBKV1QgdG9rZW4sIHdoaWNoIHByb3ZpZGVzIHRoZSB1c2VyIElELlxuXG4jIyBUZXN0aW5nXG5cbllvdSBjYW4gdGVzdCB0aGlzIEFQSSBieSBtYWtpbmcgYSBHRVQgcmVxdWVzdCB0byBgL2NsYXNzcm9vbS9qb2luZWQtYXMtc3R1ZGVudGAgd2l0aCBhIHZhbGlkIEpXVCB0b2tlbi4gVGhlIHJlc3BvbnNlIHdpbGwgYmUgYSBwYWdpbmF0ZWQgbGlzdCBvZiBjbGFzc3Jvb21zIHdoZXJlIHRoZSB1c2VyIGhhcyBqb2luZWQgYXMgYSBzdHVkZW50LlxuXG5Xb3VsZCB5b3UgbGlrZSBtZSB0byBtYWtlIGFueSBhZGRpdGlvbmFsIGNoYW5nZXMgb3IgaW1wcm92ZW1lbnRzIHRvIHRoZSBpbXBsZW1lbnRhdGlvbj9cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUgYXJlIHRoZSByZXN1bHRzIGZyb20gZXhlY3V0aW5nIHRoZSBjb21tYW5kLlxuICAgICAgICA8cmV0dXJuLWNvZGU+XG4gICAgICAgIDBcbiAgICAgICAgPC9yZXR1cm4tY29kZT5cbiAgICAgICAgPHN0ZG91dD5cbiAgICAgICAgMjAyNS8wNC8yMSAyMzo1NDowNyBTdWNjZXNzZnVsbHkgY29ubmVjdGVkIHRvIFBvc3RncmVTUUwgZGF0YWJhc2VcbjIwMjUtMDQtMjFUMjM6NTQ6MDcrMDc6MDBcdEVSUk9SXHRsb2dnZXIvbG9nZ2VyLmdvOjE0Mlx0ZmFpbGVkIHRvIHN0YXJ0IHNlcnZlclx0e1wiZXJyb3JcIjogXCJmYWlsZWQgdG8gbGlzdGVuOiBsaXN0ZW4gdGNwNCA6NTAwMTogYmluZDogYWRkcmVzcyBhbHJlYWR5IGluIHVzZVwifVxuZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyLkVycm9yXG5cdC9Vc2Vycy9ubmVlL2dvL3BrZy9tb2QvZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmVAdjAuMC4xOS9sb2dnZXIvbG9nZ2VyLmdvOjE0MlxucXVpenp5LWNsYXNzcm9vbS9zZXJ2ZXIuUnVuXG5cdC9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tL3NlcnZlci9zZXJ2ZXIuZ286NDVcbnF1aXp6eS1jbGFzc3Jvb20vY21kLmluaXQuZnVuYzJcblx0L1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20vY21kL3NlcnZlLmdvOjM1XG5naXRodWIuY29tL3NwZjEzL2NvYnJhLigqQ29tbWFuZCkuZXhlY3V0ZVxuXHQvVXNlcnMvbm5lZS9nby9wa2cvbW9kL2dpdGh1Yi5jb20vc3BmMTMvY29icmFAdjEuOS4xL2NvbW1hbmQuZ286MTAxOVxuZ2l0aHViLmNvbS9zcGYxMy9jb2JyYS4oKkNvbW1hbmQpLkV4ZWN1dGVDXG5cdC9Vc2Vycy9ubmVlL2dvL3BrZy9tb2QvZ2l0aHViLmNvbS9zcGYxMy9jb2JyYUB2MS45LjEvY29tbWFuZC5nbzoxMTQ4XG5naXRodWIuY29tL3NwZjEzL2NvYnJhLigqQ29tbWFuZCkuRXhlY3V0ZVxuXHQvVXNlcnMvbm5lZS9nby9wa2cvbW9kL2dpdGh1Yi5jb20vc3BmMTMvY29icmFAdjEuOS4xL2NvbW1hbmQuZ286MTA3MVxucXVpenp5LWNsYXNzcm9vbS9jbWQuRXhlY3V0ZVxuXHQvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbS9jbWQvcm9vdC5nbzozMFxubWFpbi5tYWluXG5cdC9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tL21haW4uZ286NlxucnVudGltZS5tYWluXG5cdC9vcHQvaG9tZWJyZXcvQ2VsbGFyL2dvLzEuMjQuMS9saWJleGVjL3NyYy9ydW50aW1lL3Byb2MuZ286MjgzXG5cbiAgICAgICAgPC9zdGRvdXQ+XG4gICAgICAgIDxzdGRlcnI+XG4gICAgICAgIFxuICAgICAgICA8L3N0ZGVycj4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFKQTVSaGlKVTJqSkVpV2lHWUdGVnNkIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NSwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9fX1dLCJyZXNwb25zZV90ZXh0IjoiSXQgbG9va3MgbGlrZSB0aGUgc2VydmVyIGlzIGFscmVhZHkgcnVubmluZyBvbiBwb3J0IDUwMDEuIExldCdzIHN1bW1hcml6ZSB3aGF0IHdlJ3ZlIGRvbmUgdG8gaW1wbGVtZW50IHRoZSBBUEkgZm9yIGZpbHRlcmluZyBjbGFzc3Jvb21zIHdoZXJlIHRoZSB1c2VyIGhhcyBqb2luZWQgYXMgYSBzdHVkZW50LlxuXG4jIyBJbXBsZW1lbnRhdGlvbiBTdW1tYXJ5XG5cbkkndmUgc3VjY2Vzc2Z1bGx5IGFkZGVkIHRoZSBBUEkgdG8gZmlsdGVyIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaGFzIGpvaW5lZCBhcyBhIHN0dWRlbnQgKENsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50KS4gSGVyZSdzIHdoYXQgSSBkaWQ6XG5cbjEuIENyZWF0ZWQgYSBoYW5kbGVyIGZ1bmN0aW9uIGluIGBoYW5kbGVyL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tc19hc19zdHVkZW50LmdvYCB0aGF0OlxuICAgLSBQYXJzZXMgcXVlcnkgcGFyYW1ldGVycyBmb3IgcGFnaW5hdGlvblxuICAgLSBHZXRzIHRoZSB1c2VyIElEIGZyb20gdGhlIEpXVCB0b2tlblxuICAgLSBDYWxscyB0aGUgZXhpc3RpbmcgdXNlY2FzZSB0byBmaWx0ZXIgY2xhc3Nyb29tcyB3aGVyZSB0aGUgdXNlciBpcyBhIHN0dWRlbnRcblxuMi4gVXBkYXRlZCB0aGUgaGFuZGxlciBpbnRlcmZhY2UgYW5kIGltcGxlbWVudGF0aW9uIGluIGBoYW5kbGVyL2hhbmRsZXIuZ29gIHRvOlxuICAgLSBBZGQgdGhlIG5ldyBoYW5kbGVyIGZ1bmN0aW9uIHRvIHRoZSBpbnRlcmZhY2VcbiAgIC0gQWRkIHRoZSB1c2VjYXNlIGZpZWxkIHRvIHRoZSBoYW5kbGVyIGltcGxlbWVudGF0aW9uIHN0cnVjdFxuICAgLSBBZGQgdGhlIHVzZWNhc2UgZmllbGQgdG8gdGhlIGluamVjdGlvbiBzdHJ1Y3RcbiAgIC0gVXBkYXRlIHRoZSBOZXcgZnVuY3Rpb24gdG8gaW5pdGlhbGl6ZSB0aGUgbmV3IHVzZWNhc2VcblxuMy4gVXBkYXRlZCB0aGUgc2VydmVyIGluaXRpYWxpemF0aW9uIGluIGBzZXJ2ZXIvc2VydmVyLmdvYCB0bzpcbiAgIC0gSW5jbHVkZSB0aGUgbmV3IHVzZWNhc2Ugd2hlbiBjcmVhdGluZyB0aGUgaGFuZGxlclxuXG40LiBSZWdpc3RlcmVkIHRoZSBuZXcgcm91dGUgaW4gYHNlcnZlci9yb3V0ZXIuZ29gOlxuICAgLSBBZGRlZCBhIG5ldyBHRVQgZW5kcG9pbnQgYXQgYC9jbGFzc3Jvb20vam9pbmVkLWFzLXN0dWRlbnRgXG5cbiMjIEFQSSBVc2FnZVxuXG5UaGUgbmV3IEFQSSBlbmRwb2ludCBpcyBub3cgYXZhaWxhYmxlIGF0OlxuYGBgXG5HRVQgL2NsYXNzcm9vbS9qb2luZWQtYXMtc3R1ZGVudFxuYGBgXG5cbkl0IHN1cHBvcnRzIHRoZSBzdGFuZGFyZCBwYWdpbmF0aW9uIHBhcmFtZXRlcnMgZnJvbSB0aGUgYHJlcS5QYWdpbmF0aW9uUmVxYCBzdHJ1Y3Q6XG4tIGBwYWdlYDogUGFnZSBudW1iZXIgKG9wdGlvbmFsKVxuLSBgbGltaXRgOiBOdW1iZXIgb2YgaXRlbXMgcGVyIHBhZ2UgKG9wdGlvbmFsKVxuLSBgc29ydGA6IFNvcnRpbmcgY3JpdGVyaWEgKG9wdGlvbmFsLCBkZWZhdWx0cyB0byBcImNyZWF0ZWRfYXQgREVTQ1wiKVxuXG5UaGUgQVBJIHJlcXVpcmVzIGF1dGhlbnRpY2F0aW9uIHZpYSBKV1QgdG9rZW4sIHdoaWNoIHByb3ZpZGVzIHRoZSB1c2VyIElELlxuXG4jIyBUZXN0aW5nXG5cbllvdSBjYW4gdGVzdCB0aGlzIEFQSSBieSBtYWtpbmcgYSBHRVQgcmVxdWVzdCB0byBgL2NsYXNzcm9vbS9qb2luZWQtYXMtc3R1ZGVudGAgd2l0aCBhIHZhbGlkIEpXVCB0b2tlbi4gVGhlIHJlc3BvbnNlIHdpbGwgYmUgYSBwYWdpbmF0ZWQgbGlzdCBvZiBjbGFzc3Jvb21zIHdoZXJlIHRoZSB1c2VyIGhhcyBqb2luZWQgYXMgYSBzdHVkZW50LlxuXG5Xb3VsZCB5b3UgbGlrZSBtZSB0byBtYWtlIGFueSBhZGRpdGlvbmFsIGNoYW5nZXMgb3IgaW1wcm92ZW1lbnRzIHRvIHRoZSBpbXBsZW1lbnRhdGlvbj9cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsicmVxdWVzdF9pZCI6ImRlMTVlZmY5LTJjNDgtNGYwNi1hYjg5LTNiODBjNjJjMWIxMiIsInN0YXR1cyI6ImNhbmNlbGxlZCIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtdHVybi1kZWxpbWl0ZXIifSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZmY5ZGQ0ZDEtZDNhZS00NWNhLTgwNmEtZDY4YTRmZGNiMTQwIiwicmVxdWVzdF9tZXNzYWdlIjoiZ+G7mXAgMiBhcGkgZmlsdGVyIG93bmVkIGNsYXNzcm9vbSB2w6AgZmlsdGVyIGpvaW5lZCBjbGFzc3Jvb20gdsOgbyBsw6BtIDEsIHbDoCDEkeG6t3QgdMOqbiBhcGkgbMOgIGzhu41jIGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJHDoyB0aGFtIGdpYSAoY8OzIHRo4buDIGzhu41jIHRoZW8gcm9sZSkiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoiZ+G7mXAgMiBhcGkgZmlsdGVyIG93bmVkIGNsYXNzcm9vbSB2w6AgZmlsdGVyIGpvaW5lZCBjbGFzc3Jvb20gdsOgbyBsw6BtIDEsIHbDoCDEkeG6t3QgdMOqbiBhcGkgbMOgIGzhu41jIGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJHDoyB0aGFtIGdpYSAoY8OzIHRo4buDIGzhu41jIHRoZW8gcm9sZSkifV19XX0sIm1lbnRpb25lZF9pdGVtcyI6W10sInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTZQOWpFaG13ZDNRRTJ1M2ZSR29iaE0iLCJ0b29sX25hbWUiOiJjb2RlYmFzZS1yZXRyaWV2YWwiLCJpbnB1dF9qc29uIjoie1wiaW5mb3JtYXRpb25fcmVxdWVzdFwiOiBcIlNob3cgbWUgdGhlIGltcGxlbWVudGF0aW9uIG9mIEZpbHRlck93bmVkQ2xhc3Nyb29tcyBoYW5kbGVyIGFuZCB1c2VjYXNlLCBhbmQgdGhlIEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnQgaGFuZGxlciBhbmQgdXNlY2FzZS4gQWxzbyBzaG93IG1lIHRoZSByZXF1ZXN0IG1vZGVscyBmb3IgYm90aC5cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IkknbGwgaGVscCB5b3UgbWVyZ2UgdGhlIHR3byBBUElzIChmaWx0ZXIgb3duZWQgY2xhc3Nyb29tcyBhbmQgZmlsdGVyIGpvaW5lZCBjbGFzc3Jvb21zKSBpbnRvIGEgc2luZ2xlIEFQSSB0aGF0IGNhbiBmaWx0ZXIgY2xhc3Nyb29tcyBieSByb2xlLiBMZXQgbWUgZ2F0aGVyIGluZm9ybWF0aW9uIGFuZCBtYWtlIHRoZSBuZWNlc3NhcnkgY2hhbmdlcy5cblxuIyMgUHJlbGltaW5hcnkgSW5mb3JtYXRpb24gR2F0aGVyaW5nXG5cbkxldCBtZSBmaXJzdCB1bmRlcnN0YW5kIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIGJvdGggQVBJczpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50IjoiZ+G7mXAgMiBhcGkgZmlsdGVyIG93bmVkIGNsYXNzcm9vbSB2w6AgZmlsdGVyIGpvaW5lZCBjbGFzc3Jvb20gdsOgbyBsw6BtIDEsIHbDoCDEkeG6t3QgdMOqbiBhcGkgbMOgIGzhu41jIGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJHDoyB0aGFtIGdpYSAoY8OzIHRo4buDIGzhu41jIHRoZW8gcm9sZSkifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo1LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn19fV0sInJlc3BvbnNlX3RleHQiOiJJJ2xsIGhlbHAgeW91IG1lcmdlIHRoZSB0d28gQVBJcyAoZmlsdGVyIG93bmVkIGNsYXNzcm9vbXMgYW5kIGZpbHRlciBqb2luZWQgY2xhc3Nyb29tcykgaW50byBhIHNpbmdsZSBBUEkgdGhhdCBjYW4gZmlsdGVyIGNsYXNzcm9vbXMgYnkgcm9sZS4gTGV0IG1lIGdhdGhlciBpbmZvcm1hdGlvbiBhbmQgbWFrZSB0aGUgbmVjZXNzYXJ5IGNoYW5nZXMuXG5cbiMjIFByZWxpbWluYXJ5IEluZm9ybWF0aW9uIEdhdGhlcmluZ1xuXG5MZXQgbWUgZmlyc3QgdW5kZXJzdGFuZCB0aGUgY3VycmVudCBpbXBsZW1lbnRhdGlvbiBvZiBib3RoIEFQSXM6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNmY3NmE5YTEtZTE3ZS00ZjVkLWJmZjMtZmMwMTQyYWM1NWM2IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxRHdBaUFtZ3pROVA1cFM1QVRiYTdhMyIsInRvb2xfbmFtZSI6ImNvZGViYXNlLXJldHJpZXZhbCIsImlucHV0X2pzb24iOiJ7XCJpbmZvcm1hdGlvbl9yZXF1ZXN0XCI6IFwiU2hvdyBtZSB0aGUgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUgZGVmaW5pdGlvbiBhbmQgYW55IGNvbnN0YW50cyByZWxhdGVkIHRvIGl0LlwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0IG1lIGFsc28gY2hlY2sgdGhlIGVudGl0eSBkZWZpbml0aW9ucyBmb3IgY2xhc3Nyb29tIG1lbWJlciByb2xlczpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IGhhbmRsZXIvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVyT3duZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zX2FzX3N0dWRlbnQuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudChjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKmZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgb3duZWQgY2xhc3Nyb29tc1wiLCB6YXAuU3RyaW5nKFwidXNlciBpZFwiLCB1c2VySUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfYXNfc3R1ZGVudC5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcblx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGpvaW5lZCBjbGFzc3Jvb21zIGFzIHN0dWRlbnRcIiwgemFwLlN0cmluZyhcInVzZXIgaWRcIiwgdXNlcklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcm9sZSBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZSwgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHlde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcImNyZWF0ZWRfYXQgREVTQ1wiKSwgLy8gTeG6t2MgxJHhu4tuaCBz4bqvcCB44bq/cCB0aGVvIG5nw6B5IHThuqFvIG3hu5tpIG5o4bqldFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbXMgW11lbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0VGFibGUoXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXMgQVMgY1wiKS5cblx0XHRKb2lucyhcIkpPSU4gcXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVycyBBUyBtIE9OIGMuaWQgPSBtLmNsYXNzcm9vbV9pZFwiKS5cblx0XHRXaGVyZShcIm0udXNlcl9pZCA9ID8gQU5EIG0ucm9sZSA9ID9cIiwgdXNlcklELCByb2xlKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbXMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbXNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHlde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcImNyZWF0ZWRfYXQgREVTQ1wiKSwgLy8gTeG6t2MgxJHhu4tuaCBz4bqvcCB44bq/cCB0aGVvIG5nw6B5IHThuqFvIG3hu5tpIG5o4bqldFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbXMgW11lbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJ1c2VyX2lkID0gP1wiLCB1c2VySUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tcykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Ugc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNle1JlcG86IHJlcG99XG59XG5cbmZ1bmMgKGYgKmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHRyZXN1bHQsIGVyciA6PSBmLlJlcG8uRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHgsIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgY2xhc3Nyb29tIG1lbWJlcnNcIiwgemFwLlN0cmluZyhcImNsYXNzcm9vbSBpZFwiLCBjbGFzc3Jvb21JRCksIHphcC5FcnJvcigoZXJyKSkpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuKVxuXG50eXBlIEZpbHRlckludml0ZWRNZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG5cdFN0YXR1cyAqZW50aXR5Lkludml0YXRpb25TdGF0dXMgYGpzb246XCJzdGF0dXNcIiBxdWVyeTpcInN0YXR1c1wiYFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgY2xhc3Nyb29tIGtow7RuZ1xuXHRpc093bmVyLCBlcnIgOj0gdS5SZXBvLklzQ2xhc3Nyb29tT3duZXIoY3R4LCBjbGFzc3Jvb21JRCwgdXNlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgY2xhc3Nyb29tIG93bmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0aWYgIWlzT3duZXIge1xuXHRcdHJldHVybiBuaWwsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lclxuXHR9XG5cblx0Ly8gTOG6pXkgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyBt4budaVxuXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVySW52aXRlZE1lbWJlcnMoY3R4LCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGludml0ZWQgbWVtYmVyc1wiLCB6YXAuU3RyaW5nKFwiY2xhc3Nyb29tIGlkXCIsIGNsYXNzcm9vbUlEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9oYW5kbGVyLmdvXG4uLi5cblxudHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xuXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlICAgICB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2Vcblx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG5cdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgICAgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxuXHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXG5cdEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlIHVzZWNhc2UuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2Vcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG4uLi5cblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBjbGFzc3Jvb21faWQgdOG7qyBVUkxcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcXVlcnkgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksIHF1ZXJ5KVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0aWYgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKSB7XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHR9XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbU1lbWJlcnMgW11lbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWRcIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tTWVtYmVycykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tTWVtYmVyc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0Z29ybTIgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIChcblx0XHRwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHlde1xuXHRcdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0XHR9XG5cdFx0aW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHQpXG5cblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZCA9ID9cIiwgY2xhc3Nyb29tSUQpLlxuXHRcdFNjb3BlcyhmdW5jKGRiICpnb3JtLkRCKSAqZ29ybS5EQiB7XG5cdFx0XHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0XHRcdHJldHVybiBkYi5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZGJcblx0XHR9LCBnb3JtMi5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmludml0YXRpb25zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBpbnZpdGF0aW9uc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cbi4uLlxuXHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Jcblx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Jcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG5cdEZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcm9sZSBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZSwgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcblx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCByb2xlIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuXHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHJvbGUgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcblx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG59XG5cbmZ1bmMgTmV3KHByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlcikgUmVwb3NpdG9yeSB7XG5cdHJldHVybiAmcmVwb3NpdG9yeUltcGx7XG5cdFx0UHJvdmlkZXI6IHByb3ZpZGVyLFxuXHR9XG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvaXNfY2xhc3Nyb29tX293bmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKSB7XG5cdHZhciBjbGFzc3Jvb20gZW50aXR5LkNsYXNzcm9vbUVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiaWQgPSA/IEFORCB1c2VyX2lkID0gP1wiLCBjbGFzc3Jvb21JRCwgdXNlcklEKS5cblx0XHRGaXJzdCgmY2xhc3Nyb29tKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gTuG6v3Uga2jDtG5nIHTDrG0gdGjhuqV5IGLhuqNuIGdoaSwgY8OzIG5naMSpYSBsw6AgbmfGsOG7nWkgZMO5bmcga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdVxuXHRcdHJldHVybiBmYWxzZSwgbmlsXG5cdH1cblx0cmV0dXJuIHRydWUsIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckludml0YXRpb25zVXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckludml0YXRpb25zKGN0eCwgcmVjZWl2ZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGludml0YXRpb25zXCIsIHphcC5TdHJpbmcoXCJyZWNlaXZlciBpZFwiLCByZWNlaXZlcklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2ludml0YXRpb25zLmdvXG4uLi5cblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHRxdWVyeSA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJyZWNlaXZlcl9pZCA9ID9cIiwgcmVjZWl2ZXJJRClcblxuXHQvLyBM4buNYyB0aGVvIHN0YXR1cyBu4bq/dSBjw7Ncblx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdHF1ZXJ5ID0gcXVlcnkuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHR9XG5cblx0dmFyIGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0aWYgZXJyIDo9IHF1ZXJ5LlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yIHtcblx0cmV0dXJuIHIuUHJvdmlkZXIuRGIuV2l0aENvbnRleHQoY3R4KS5UcmFuc2FjdGlvbihmdW5jKHR4ICpnb3JtLkRCKSBlcnJvciB7XG5cdFx0aWYgZXJyIDo9IHR4LkNyZWF0ZShjbGFzc3Jvb20pLkVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRcdHJldHVybiBlcnJcblx0XHR9XG5cblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKCZlbnRpdHkuQ2xhc3Nyb29tTWVtYmVye1xuXHRcdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGNsYXNzcm9vbS5JRCwgXCJcIiksXG5cdFx0XHRVc2VySUQ6ICAgICAgY2xhc3Nyb29tLlVzZXJJRCxcblx0XHRcdFJvbGU6ICAgICAgICBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVRlYWNoZXIsXG5cdFx0fSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdHJldHVybiBuaWxcblx0fSlcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdF8gXCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlIHtcblx0cmV0dXJuICZjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKGMgKmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRpZiBlcnIgOj0gYy5SZXBvLkNyZWF0ZUNsYXNzcm9vbShjdHgsIGNsYXNzcm9vbSk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjcmVhdGUgY2xhc3Nyb29tXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXHRyZXR1cm4gbmlsXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ludml0ZV9tZW1iZXIuZ29cbi4uLlxuXG5mdW5jICh1ICppbnZpdGVNZW1iZXJVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uICplbnRpdHkuSW52aXRhdGlvbkVudGl0eSkgZXJyb3Ige1xuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGNsYXNzcm9vbSBraMO0bmdcblx0aXNPd25lciwgZXJyIDo9IHUuUmVwby5Jc0NsYXNzcm9vbU93bmVyKGN0eCwgaW52aXRhdGlvbi5DbGFzc3Jvb21JRCwgaW52aXRhdC4uLiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTZQOWpFaG13ZDNRRTJ1M2ZSR29iaE0ifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo1LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn19fV0sInJlc3BvbnNlX3RleHQiOiJMZXQgbWUgYWxzbyBjaGVjayB0aGUgZW50aXR5IGRlZmluaXRpb25zIGZvciBjbGFzc3Jvb20gbWVtYmVyIHJvbGVzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImU5NGQwN2YxLWM3Y2EtNDA0MS04ZDgyLWY5NWU2YWU2MmI3NyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTFVa0ZKUFRWOEIyM0daRHcySm9NV3kiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwic2VydmVyL3JvdXRlci5nb1wifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTm93IEknbGwgY2hlY2sgdGhlIHJvdXRlciBjb25maWd1cmF0aW9uOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyUm9sZSBzdHJpbmdcblxuY29uc3QgKFxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlciBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJ0ZWFjaGVyXCJcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwic3R1ZGVudFwiXG4pXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyIHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cdENsYXNzcm9vbUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJjbGFzc3Jvb21faWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFVzZXJJRCAgICAgIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJ1c2VyX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRSb2xlICAgICAgICBDbGFzc3Jvb21NZW1iZXJSb2xlIGBqc29uOlwicm9sZVwiYFxuXHRJbnZpdGVkQnlJRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiaW52aXRlZF9ieV9pZFwiYFxufVxuXG5mdW5jIChjIENsYXNzcm9vbU1lbWJlcikgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVyc1wiXG59XG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tRW50aXR5IHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cblx0VXNlcklEICAgIHN0cmluZyBganNvbjpcInVzZXJfaWRcImBcblx0TmFtZSAgICAgIHN0cmluZyBganNvbjpcIm5hbWVcImBcblx0QXZhdGFyVXJsIHN0cmluZyBganNvbjpcImF2YXRhcl91cmxcImBcbn1cblxuZnVuYyAoYyAqQ2xhc3Nyb29tRW50aXR5KSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXNcIlxufVxuLi4uXG5QYXRoOiBlbnRpdHkvaW52aXRhdGlvbi5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuXG50eXBlIEludml0YXRpb25TdGF0dXMgc3RyaW5nXG5cbmNvbnN0IChcblx0SW52aXRhdGlvblN0YXR1c1BlbmRpbmcgIEludml0YXRpb25TdGF0dXMgPSBcInBlbmRpbmdcIlxuXHRJbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwiYWNjZXB0ZWRcIlxuXHRJbnZpdGF0aW9uU3RhdHVzUmVqZWN0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwicmVqZWN0ZWRcIlxuKVxuXG50eXBlIEludml0YXRpb25FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiYFxuXHRTZW5kZXJJRCAgICBzdHJpbmcgICAgICAgICAgIGBqc29uOlwic2VuZGVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFJlY2VpdmVySUQgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJyZWNlaXZlcl9pZFwiIGdvcm06XCJpbmRleFwiYFxuXHRTdGF0dXMgICAgICBJbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgZ29ybTpcImluZGV4XCJgXG59XG5cbmZ1bmMgKEludml0YXRpb25FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7IHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uaW52aXRhdGlvbnNcIiB9XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHJvbGUgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21zIFtdZW50aXR5LkNsYXNzcm9vbUVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFRhYmxlKFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21zIEFTIGNcIikuXG5cdFx0Sm9pbnMoXCJKT0lOIHF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tX21lbWJlcnMgQVMgbSBPTiBjLmlkID0gbS5jbGFzc3Jvb21faWRcIikuXG5cdFx0V2hlcmUoXCJtLnVzZXJfaWQgPSA/IEFORCBtLnJvbGUgPSA/XCIsIHVzZXJJRCwgcm9sZSkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnb3JtLmlvL2dvcm0vY2xhdXNlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yIHtcblx0Ly8gU+G7rSBk4bulbmcgY2xhdXNlLk9uQ29uZmxpY3QoKS5Eb05vdGhpbmcoKSDEkeG7gyB0csOhbmggbOG7l2kga2hpIHRow6ptIHRow6BuaCB2acOqbiDEkcOjIHThu5NuIHThuqFpXG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuXG5cdFx0Q2xhdXNlcyhjbGF1c2UuT25Db25mbGljdHtEb05vdGhpbmc6IHRydWV9KS5cblx0XHRDcmVhdGUobWVtYmVyKS5FcnJvclxufVxuLi4uXG5QYXRoOiBlcnJvci9lcnJvci5nb1xucGFja2FnZSBxZXJyb3JcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuKVxuXG4vLyDEkOG7i25oIG5naMSpYSBjw6FjIGNvbnN0YW50cyBlcnJvclxudmFyIChcblx0Ly8gSW52aXRhdGlvbiBlcnJvcnNcblx0RXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvbiA9IGVycm9ycy5OZXcoXCJyZWNlaXZlciBhbHJlYWR5IGhhcyBhIHBlbmRpbmcgb3IgYWNjZXB0ZWQgaW52aXRhdGlvblwiKVxuXHRFcnJOb3RDbGFzc3Jvb21Pd25lciAgICAgICAgICAgID0gZXJyb3JzLk5ldyhcInVzZXIgaXMgbm90IHRoZSBvd25lciBvZiB0aGUgY2xhc3Nyb29tXCIpXG5cdEVyckludml0YXRpb25Ob3RGb3VuZCAgICAgICAgICAgPSBlcnJvcnMuTmV3KFwiaW52aXRhdGlvbiBub3QgZm91bmRcIilcblx0RXJySW52aXRhdGlvbk5vdFBlbmRpbmcgICAgICAgICA9IGVycm9ycy5OZXcoXCJpbnZpdGF0aW9uIGlzIG5vdCBpbiBwZW5kaW5nIHN0YXR1c1wiKVxuXHRFcnJOb3RJbnZpdGF0aW9uUmVjZWl2ZXIgICAgICAgID0gZXJyb3JzLk5ldyhcInVzZXIgaXMgbm90IHRoZSByZWNlaXZlciBvZiB0aGlzIGludml0YXRpb25cIilcblx0RXJyVXNlckFscmVhZHlDbGFzc3Jvb21NZW1iZXIgICA9IGVycm9ycy5OZXcoXCJ1c2VyIGlzIGFscmVhZHkgYSBtZW1iZXIgb2YgdGhpcyBjbGFzc3Jvb21cIilcbilcbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21NZW1iZXJzIFtdZW50aXR5LkNsYXNzcm9vbU1lbWJlclxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkXCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbU1lbWJlcnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbU1lbWJlcnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVJlcXVlc3Qgc3RydWN0IHtcblx0TmFtZSAgICAgICpzdHJpbmcgYGpzb246XCJuYW1lXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxuXHRBdmF0YXJVcmwgKnN0cmluZyBganNvbjpcImF2YXRhcl91cmxcIiB2YWxpZGF0ZTpcInJlcXVpcmVkLHVybFwiYFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSByZXFcblxudHlwZSBJbnZpdGVNZW1iZXJSZXF1ZXN0IHN0cnVjdCB7XG5cdENsYXNzcm9vbUlEICpzdHJpbmcgYGpzb246XCJjbGFzc3Jvb21faWRcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdFJlY2VpdmVySUQgICpzdHJpbmcgYGpzb246XCJyZWNlaXZlcl9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHlde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcImNyZWF0ZWRfYXQgREVTQ1wiKSwgLy8gTeG6t2MgxJHhu4tuaCBz4bqvcCB44bq/cCB0aGVvIG5nw6B5IHThuqFvIG3hu5tpIG5o4bqldFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbXMgW11lbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJ1c2VyX2lkID0gP1wiLCB1c2VySUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tcykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Ugc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNle1JlcG86IHJlcG99XG59XG5cbmZ1bmMgKGYgKmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHRyZXN1bHQsIGVyciA6PSBmLlJlcG8uRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHgsIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgY2xhc3Nyb29tIG1lbWJlcnNcIiwgemFwLlN0cmluZyhcImNsYXNzcm9vbSBpZFwiLCBjbGFzc3Jvb21JRCksIHphcC5FcnJvcigoZXJyKSkpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogbWlncmF0ZS9taWdyYXRlLmdvXG5wYWNrYWdlIG1pZ3JhdGVcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbmZ1bmMgUnVuKHNlcnZpY2VDb25maWcgKm1vZGVsLlNlcnZpY2VDb25maWcpIHtcblx0cHJvdmlkZXIsIGVyciA6PSBwcm92aWRlci5Jbml0KHNlcnZpY2VDb25maWcpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBpbml0IHByb3ZpZGVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG5cblx0aWYgZXJyIDo9IHByb3ZpZGVyLkRiLkF1dG9NaWdyYXRlKFxuXHRcdCZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e30sXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7fSxcblx0XHQmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSxcblx0KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIG1pZ3JhdGUgZGF0YWJhc2VcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRsb2dnZXIuSW5mbyhcIm1pZ3JhdGUgZGF0YWJhc2Ugc3VjY2Vzc1wiKVxufVxuLi4uXG5QYXRoOiBnby5tb2Rcbm1vZHVsZSBxdWl6enktY2xhc3Nyb29tXG5cbmdvIDEuMjQuMVxuXG5yZXF1aXJlIChcblx0Z2l0aHViLmNvbS9nby1wbGF5Z3JvdW5kL3ZhbGlkYXRvci92MTAgdjEwLjI2LjBcblx0Z2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyIHYyLjUyLjZcblx0Z2l0aHViLmNvbS9uZWRwYWxzL3N1cGFiYXNlLWdvIHYwLjUuMFxuXHRnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZSB2MC4wLjE5XG5cdGdpdGh1Yi5jb20vc3BmMTMvY29icmEgdjEuOS4xXG5cdGdvLnViZXIub3JnL3phcCB2MS4yNy4wXG5cdGdvcm0uaW8vZ29ybSB2MS4yNS4xMlxuKVxuLi4uXG5QYXRoOiB1c2VjYXNlL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XyBcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcbn1cblxudHlwZSBjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2Uge1xuXHRyZXR1cm4gJmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAoYyAqY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdGlmIGVyciA6PSBjLlJlcG8uQ3JlYXRlQ2xhc3Nyb29tKGN0eCwgY2xhc3Nyb29tKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb21cIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cdHJldHVybiBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9pc19jbGFzc3Jvb21fb3duZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpIHtcblx0dmFyIGNsYXNzcm9vbSBlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJpZCA9ID8gQU5EIHVzZXJfaWQgPSA/XCIsIGNsYXNzcm9vbUlELCB1c2VySUQpLlxuXHRcdEZpcnN0KCZjbGFzc3Jvb20pLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBO4bq/dSBraMO0bmcgdMOsbSB0aOG6pXkgYuG6o24gZ2hpLCBjw7MgbmdoxKlhIGzDoCBuZ8aw4budaSBkw7luZyBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691XG5cdFx0cmV0dXJuIGZhbHNlLCBuaWxcblx0fVxuXHRyZXR1cm4gdHJ1ZSwgbmlsXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkNyZWF0ZUNsYXNzcm9vbVJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gci5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e1xuXHRcdFVzZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdE5hbWU6ICAgICAgdmFsdWUuR2V0VmFsdWUoYm9keS5OYW1lLCBcIlwiKSxcblx0XHRBdmF0YXJVcmw6IHZhbHVlLkdldFZhbHVlKGJvZHkuQXZhdGFyVXJsLCBcIlwiKSxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogc2VydmVyL3JvdXRlci5nb1xucGFja2FnZSBzZXJ2ZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2hhbmRsZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG5mdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG5cdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcIi9jbGFzc3Jvb21cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2NyZWF0ZVwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiL293bmVkXCIsIGhhbmRsZXIuRmlsdGVyT3duZWRDbGFzc3Jvb21zKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvam9pbmVkLWFzLXN0dWRlbnRcIiwgaGFuZGxlci5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50KVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IHIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvYWNjZXB0X2ludml0YXRpb24uZ29cbi4uLlxuXG5cdGlmIGVyciA6PSB1LlJlcG8uQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCwgJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0Q2xhc3Nyb29tSUQ6IGludml0YXRpb24uQ2xhc3Nyb29tSUQsXG5cdFx0VXNlcklEOiAgICAgIGludml0YXRpb24uUmVjZWl2ZXJJRCxcblx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50LFxuXHRcdEludml0ZWRCeUlEOiBpbnZpdGF0aW9uLlNlbmRlcklELFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb20gbWVtYmVyXCIsIHphcC5TdHJpbmcoXCJpbnZpdGF0aW9uIGlkXCIsIGludml0YXRpb25JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmIGVyciA6PSB1LlJlcG8uVXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHgsIGludml0YXRpb25JRCwgZW50aXR5Lkludml0YXRpb25TdGF0dXNBY2NlcHRlZCk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byB1cGRhdGUgaW52aXRhdGlvbiBzdGF0dXNcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBib2R5IHJlcS5JbnZpdGVNZW1iZXJSZXF1ZXN0XG5cblx0aWYgZXJyIDo9IGMuQm9keVBhcnNlcigmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IGguSW52aXRlTWVtYmVyVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5Lkludml0YXRpb25FbnRpdHl7XG5cdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGJvZHkuQ2xhc3Nyb29tSUQsIFwiXCIpLFxuXHRcdFNlbmRlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0UmVjZWl2ZXJJRDogIHZhbHVlLkdldFZhbHVlKGJvZHkuUmVjZWl2ZXJJRCwgXCJcIiksXG5cdFx0U3RhdHVzOiAgICAgIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZyxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRzd2l0Y2gge1xuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyclJlY2VpdmVyQWxyZWFkeUhhc0ludml0YXRpb24pOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgxJFhbmcgY2jhu50geOG7rSBsw70gaG/hurdjIMSRw6MgxJHGsOG7o2MgY2jhuqVwIG5o4bqtblwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBJbnZpdGVNZW1iZXJVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgaW52aXRlTWVtYmVyVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBJbnZpdGVNZW1iZXJVc2VDYXNlIHtcblx0cmV0dXJuICZpbnZpdGVNZW1iZXJVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKmludml0ZU1lbWJlclVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvciB7XG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgY2xhc3Nyb29tIGtow7RuZ1xuXHRpc093bmVyLCBlcnIgOj0gdS5SZXBvLklzQ2xhc3Nyb29tT3duZXIoY3R4LCBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELCBpbnZpdGF0aW9uLlNlbmRlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgY2xhc3Nyb29tIG93bmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmICFpc093bmVyIHtcblx0XHRyZXR1cm4gcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyXG5cdH1cblxuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgbsOgbyDEkWFuZyDhu58gdHLhuqFuZyB0aMOhaSBwZW5kaW5nIGhv4bq3YyBhY2NlcHRlZCBjaMawYVxuXHRleGlzdHMsIGVyciA6PSB1LlJlcG8uSXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4LCBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELCBpbnZpdGF0aW9uLlJlY2VpdmVySUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjaGVjayBleGlzdGluZyBpbnZpdGF0aW9uXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmIGV4aXN0cyB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uXG5cdH1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvXG4uLi5cblxudHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxuXHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxuXHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuXHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Jcblx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Jcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG5cdEZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcm9sZSBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZSwgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwLi4uIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxRHdBaUFtZ3pROVA1cFM1QVRiYTdhMyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjUsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifX19XSwicmVzcG9uc2VfdGV4dCI6Ik5vdyBJJ2xsIGNoZWNrIHRoZSByb3V0ZXIgY29uZmlndXJhdGlvbjpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJhYjM3YzRiMS04NmNlLTRjZDUtYTU0Ny1mNWUwMzY3YWIyNzkiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE2UzV4NllnQ3ZUUmpzTmZkeXVSWjdlIiwidG9vbF9uYW1lIjoic2F2ZS1maWxlIiwiaW5wdXRfanNvbiI6IntcImZpbGVfcGF0aFwiOiBcIm1vZGVsL3JlcS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfd2l0aF9yb2xlLmdvXCIsIFwiZmlsZV9jb250ZW50XCI6IFwicGFja2FnZSByZXFcXG5cXG5pbXBvcnQgKFxcblxcdFxcXCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVxcXCJcXG5cXG5cXHRcXFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXFxcIlxcbilcXG5cXG50eXBlIEZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVJlcSBzdHJ1Y3Qge1xcblxcdHJlcS5QYWdpbmF0aW9uUmVxXFxuXFx0Um9sZSAqZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUgYGpzb246XFxcInJvbGVcXFwiIHF1ZXJ5OlxcXCJyb2xlXFxcImBcXG59XCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIjIyBQbGFubmluZ1xuXG5CYXNlZCBvbiB0aGUgaW5mb3JtYXRpb24gZ2F0aGVyZWQsIEknbGwgY3JlYXRlIGEgbmV3IEFQSSB0aGF0IG1lcmdlcyB0aGUgZnVuY3Rpb25hbGl0eSBvZiBmaWx0ZXJpbmcgb3duZWQgY2xhc3Nyb29tcyBhbmQgZmlsdGVyaW5nIGpvaW5lZCBjbGFzc3Jvb21zIGFzIGEgc3R1ZGVudC4gSGVyZSdzIG15IHBsYW46XG5cbjEuIENyZWF0ZSBhIG5ldyByZXF1ZXN0IG1vZGVsIGBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVSZXFgIHRoYXQgaW5jbHVkZXMgYSByb2xlIHBhcmFtZXRlclxuMi4gQ3JlYXRlIGEgbmV3IHVzZWNhc2UgYEZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVVzZUNhc2VgIHRoYXQgY2FuIGZpbHRlciBieSByb2xlXG4zLiBDcmVhdGUgYSBuZXcgaGFuZGxlciBmdW5jdGlvbiBgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlYFxuNC4gVXBkYXRlIHRoZSBoYW5kbGVyIGludGVyZmFjZSBhbmQgaW1wbGVtZW50YXRpb25cbjUuIFVwZGF0ZSB0aGUgc2VydmVyIGluaXRpYWxpemF0aW9uXG42LiBVcGRhdGUgdGhlIHJvdXRlciB0byB1c2UgdGhlIG5ldyBlbmRwb2ludFxuNy4gUmVtb3ZlIHRoZSBvbGQgZW5kcG9pbnRzIChvd25lZCBhbmQgam9pbmVkLWFzLXN0dWRlbnQpXG5cbkxldCdzIHN0YXJ0IGltcGxlbWVudGluZyB0aGVzZSBjaGFuZ2VzOlxuXG4jIyBJbXBsZW1lbnRhdGlvblxuXG4jIyMgMS4gQ3JlYXRlIGEgbmV3IHJlcXVlc3QgbW9kZWxcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gc2VydmVyL3JvdXRlci5nbzpcbiAgICAgMVx0cGFja2FnZSBzZXJ2ZXJcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCAoXG4gICAgIDRcdFx0XCJxdWl6enktY2xhc3Nyb29tL2hhbmRsZXJcIlxuICAgICA1XHRcbiAgICAgNlx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmVcIlxuICAgICA3XHRcbiAgICAgOFx0XHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4gICAgIDlcdClcbiAgICAxMFx0XG4gICAgMTFcdGZ1bmMgSW5pdFJvdXRlcihhcHAgKmZpYmVyLkFwcCwgaGFuZGxlciBoYW5kbGVyLkhhbmRsZXIpIHtcbiAgICAxMlx0XHRjbGFzc3Jvb21Hcm91cCA6PSBhcHAuR3JvdXAoXCIvY2xhc3Nyb29tXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcbiAgICAxM1x0XHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2NyZWF0ZVwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcbiAgICAxNFx0XHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2ludml0ZVwiLCBoYW5kbGVyLkludml0ZU1lbWJlcilcbiAgICAxNVx0XHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycylcbiAgICAxNlx0XHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcbiAgICAxN1x0XHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvb3duZWRcIiwgaGFuZGxlci5GaWx0ZXJPd25lZENsYXNzcm9vbXMpXG4gICAgMThcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiL2pvaW5lZC1hcy1zdHVkZW50XCIsIGhhbmRsZXIuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudClcbiAgICAxOVx0XG4gICAgMjBcdFx0aW52aXRhdGlvbkdyb3VwIDo9IGFwcC5Hcm91cChcIi9pbnZpdGF0aW9uXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcbiAgICAyMVx0XHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuICAgIDIyXHRcdGludml0YXRpb25Hcm91cC5QdXQoXCIvcmVqZWN0LzppZFwiLCBoYW5kbGVyLlJlamVjdEludml0YXRpb24pXG4gICAgMjNcdFx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9hY2NlcHQvOmlkXCIsIGhhbmRsZXIuQWNjZXB0SW52aXRhdGlvbilcbiAgICAyNFx0fVxuICAgIDI1XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDI1XG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDExVWtGSlBUVjhCMjNHWkR3MkpvTVd5In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NSwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9fX1dLCJyZXNwb25zZV90ZXh0IjoiIyMgUGxhbm5pbmdcblxuQmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIGdhdGhlcmVkLCBJJ2xsIGNyZWF0ZSBhIG5ldyBBUEkgdGhhdCBtZXJnZXMgdGhlIGZ1bmN0aW9uYWxpdHkgb2YgZmlsdGVyaW5nIG93bmVkIGNsYXNzcm9vbXMgYW5kIGZpbHRlcmluZyBqb2luZWQgY2xhc3Nyb29tcyBhcyBhIHN0dWRlbnQuIEhlcmUncyBteSBwbGFuOlxuXG4xLiBDcmVhdGUgYSBuZXcgcmVxdWVzdCBtb2RlbCBgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlUmVxYCB0aGF0IGluY2x1ZGVzIGEgcm9sZSBwYXJhbWV0ZXJcbjIuIENyZWF0ZSBhIG5ldyB1c2VjYXNlIGBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlYCB0aGF0IGNhbiBmaWx0ZXIgYnkgcm9sZVxuMy4gQ3JlYXRlIGEgbmV3IGhhbmRsZXIgZnVuY3Rpb24gYEZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZWBcbjQuIFVwZGF0ZSB0aGUgaGFuZGxlciBpbnRlcmZhY2UgYW5kIGltcGxlbWVudGF0aW9uXG41LiBVcGRhdGUgdGhlIHNlcnZlciBpbml0aWFsaXphdGlvblxuNi4gVXBkYXRlIHRoZSByb3V0ZXIgdG8gdXNlIHRoZSBuZXcgZW5kcG9pbnRcbjcuIFJlbW92ZSB0aGUgb2xkIGVuZHBvaW50cyAob3duZWQgYW5kIGpvaW5lZC1hcy1zdHVkZW50KVxuXG5MZXQncyBzdGFydCBpbXBsZW1lbnRpbmcgdGhlc2UgY2hhbmdlczpcblxuIyMgSW1wbGVtZW50YXRpb25cblxuIyMjIDEuIENyZWF0ZSBhIG5ldyByZXF1ZXN0IG1vZGVsXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNjRkZjQ2ZmUtMTg0Yi00YzRkLThhM2EtOGJhODU5YzRlNzM2IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQ3VrMTRaUXVuNlZKQm1vZVF1RWJ4cCIsInRvb2xfbmFtZSI6InNhdmUtZmlsZSIsImlucHV0X2pzb24iOiJ7XCJmaWxlX3BhdGhcIjogXCJ1c2VjYXNlL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tc193aXRoX3JvbGUuZ29cIiwgXCJmaWxlX2NvbnRlbnRcIjogXCJwYWNrYWdlIHVzZWNhc2VcXG5cXG5pbXBvcnQgKFxcblxcdFxcXCJjb250ZXh0XFxcIlxcblxcdFxcXCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVxcXCJcXG5cXHRcXFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcXFwiXFxuXFx0XFxcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVxcXCJcXG5cXG5cXHRcXFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXFxcIlxcblxcdFxcXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcXFwiXFxuXFx0XFxcImdvLnViZXIub3JnL3phcFxcXCJcXG4pXFxuXFxudHlwZSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlIGludGVyZmFjZSB7XFxuXFx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVJlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXFxufVxcblxcbnR5cGUgZmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZUltcGwgc3RydWN0IHtcXG5cXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxcbn1cXG5cXG5mdW5jIE5ld0ZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVVzZUNhc2Uge1xcblxcdHJldHVybiAmZmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZUltcGx7XFxuXFx0XFx0UmVwbzogcmVwbyxcXG5cXHR9XFxufVxcblxcbmZ1bmMgKHUgKmZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xcblxcdC8vIE5cXHUxZWJmdSBraFxcdTAwZjRuZyBjXFx1MDBmMyByb2xlIFxcdTAxMTFcXHUwMWIwXFx1MWVlM2MgY2hcXHUxZWM5IFxcdTAxMTFcXHUxZWNibmgsIGxcXHUxZWE1eSB0XFx1MWVhNXQgY1xcdTFlYTMgY1xcdTAwZTFjIGxcXHUxZWRicCBoXFx1MWVjZGMgbVxcdTAwZTAgbmdcXHUwMWIwXFx1MWVkZGkgZFxcdTAwZjluZyBcXHUwMTExXFx1MDBlMyB0aGFtIGdpYVxcblxcdGlmIHBhcmFtcy5Sb2xlID09IG5pbCB7XFxuXFx0XFx0Ly8gTFxcdTFlYTV5IGRhbmggc1xcdTAwZTFjaCBsXFx1MWVkYnAgaFxcdTFlY2RjIG1cXHUwMGUwIG5nXFx1MDFiMFxcdTFlZGRpIGRcXHUwMGY5bmcgc1xcdTFlZGYgaFxcdTFlZWZ1XFxuXFx0XFx0b3duZWRQYXJhbXMgOj0gcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcXtcXG5cXHRcXHRcXHRQYWdpbmF0aW9uUmVxOiBwYXJhbXMuUGFnaW5hdGlvblJlcSxcXG5cXHRcXHR9XFxuXFx0XFx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHgsIHVzZXJJRCwgb3duZWRQYXJhbXMpXFxuXFx0XFx0aWYgZXJyICE9IG5pbCB7XFxuXFx0XFx0XFx0bG9nZ2VyLkVycm9yKFxcXCJmYWlsZWQgdG8gZmlsdGVyIGpvaW5lZCBjbGFzc3Jvb21zXFxcIiwgemFwLlN0cmluZyhcXFwidXNlciBpZFxcXCIsIHVzZXJJRCksIHphcC5FcnJvcihlcnIpKVxcblxcdFxcdFxcdHJldHVybiBuaWwsIGVyclxcblxcdFxcdH1cXG5cXHRcXHRyZXR1cm4gcmVzdWx0LCBuaWxcXG5cXHR9XFxuXFxuXFx0Ly8gTlxcdTFlYmZ1IGNcXHUwMGYzIHJvbGUgXFx1MDExMVxcdTAxYjBcXHUxZWUzYyBjaFxcdTFlYzkgXFx1MDExMVxcdTFlY2JuaCwgbFxcdTFlY2RjIHRoZW8gcm9sZVxcblxcdGpvaW5lZFBhcmFtcyA6PSByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcXtcXG5cXHRcXHRQYWdpbmF0aW9uUmVxOiBwYXJhbXMuUGFnaW5hdGlvblJlcSxcXG5cXHR9XFxuXFx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsICpwYXJhbXMuUm9sZSwgam9pbmVkUGFyYW1zKVxcblxcdGlmIGVyciAhPSBuaWwge1xcblxcdFxcdGxvZ2dlci5FcnJvcihcXFwiZmFpbGVkIHRvIGZpbHRlciBqb2luZWQgY2xhc3Nyb29tcyB3aXRoIHJvbGVcXFwiLCB6YXAuU3RyaW5nKFxcXCJ1c2VyIGlkXFxcIiwgdXNlcklEKSwgemFwLlN0cmluZyhcXFwicm9sZVxcXCIsIHN0cmluZygqcGFyYW1zLlJvbGUpKSwgemFwLkVycm9yKGVycikpXFxuXFx0XFx0cmV0dXJuIG5pbCwgZXJyXFxuXFx0fVxcblxcdHJldHVybiByZXN1bHQsIG5pbFxcbn1cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiMjIyAyLiBDcmVhdGUgYSBuZXcgdXNlY2FzZVxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxNlM1eDZZZ0N2VFJqc05mZHl1Ulo3ZSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjUsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifX19XSwicmVzcG9uc2VfdGV4dCI6IiMjIyAyLiBDcmVhdGUgYSBuZXcgdXNlY2FzZVxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImI1NDg0OWEzLWE1OWMtNGZhYS05NjE1LTVlNTg3MWQxMmFhOCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVZWNDZXc2l5Zm9obUdueGJOTGM0dnAiLCJ0b29sX25hbWUiOiJzYXZlLWZpbGUiLCJpbnB1dF9qc29uIjoie1wiZmlsZV9wYXRoXCI6IFwiaGFuZGxlci9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfd2l0aF9yb2xlLmdvXCIsIFwiZmlsZV9jb250ZW50XCI6IFwicGFja2FnZSBoYW5kbGVyXFxuXFxuaW1wb3J0IChcXG5cXHRcXFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcXFwiXFxuXFx0XFxcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFxcXCJcXG5cXG5cXHRcXFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXFxcIlxcblxcdFxcXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcXFwiXFxuKVxcblxcbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGUoYyAqZmliZXIuQ3R4KSBlcnJvciB7XFxuXFx0dmFyIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlUmVxXFxuXFx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xcblxcdFxcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXFxuXFx0fVxcblxcblxcdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XFxuXFx0XFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcXG5cXHR9XFxuXFxuXFx0Ly8gTFxcdTFlYTV5IElEIGNcXHUxZWU3YSBuZ1xcdTAxYjBcXHUxZWRkaSBkXFx1MDBmOW5nIGhpXFx1MWVjN24gdFxcdTFlYTFpIHRcXHUxZWViIEpXVCB0b2tlblxcblxcdHVzZXJJRCA6PSBjLkxvY2FscyhcXFwidXNlcl9pZFxcXCIpLihzdHJpbmcpXFxuXFxuXFx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxcblxcdGlmIGVyciAhPSBuaWwge1xcblxcdFxcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXFxuXFx0fVxcblxcblxcdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXFxufVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIyMjIDMuIENyZWF0ZSBhIG5ldyBoYW5kbGVyIGZ1bmN0aW9uXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFDdWsxNFpRdW42VkpCbW9lUXVFYnhwIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NSwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9fX1dLCJyZXNwb25zZV90ZXh0IjoiIyMjIDMuIENyZWF0ZSBhIG5ldyBoYW5kbGVyIGZ1bmN0aW9uXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiOWI5MTMxOGMtNmU5My00MzM4LTlmZTYtYTdhMjlhY2IxMTA1IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxRXE0VTlCdDR4UTVjQ1JnUUxjczRRdCIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwiaGFuZGxlci9oYW5kbGVyLmdvXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcInR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xcblxcdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAgICAgIC8vIFRcXHUxZWExbyBsXFx1MWVkYnAgaFxcdTFlY2RjXFxuXFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgLy8gTFxcdTFlY2RjIHRoXFx1MDBlMG5oIHZpXFx1MDBlYW4gY1xcdTFlZTdhIGxcXHUxZWRicCBoXFx1MWVjZGNcXG5cXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgICAgICAgICAvLyBNXFx1MWVkZGkgdGhcXHUwMGUwbmggdmlcXHUwMGVhbiB2XFx1MDBlMG8gbFxcdTFlZGJwIGhcXHUxZWNkY1xcblxcdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgICAgIC8vIExcXHUxZWNkYyBkYW5oIHNcXHUwMGUxY2ggbFxcdTFlZGRpIG1cXHUxZWRkaVxcblxcdFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgICAgIC8vIFRcXHUxZWViIGNoXFx1MWVkMWkgbFxcdTFlZGRpIG1cXHUxZWRkaVxcblxcdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgICAgIC8vIENoXFx1MWVhNXAgbmhcXHUxZWFkbiBsXFx1MWVkZGkgbVxcdTFlZGRpXFxuXFx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTFxcdTFlY2RjIGRhbmggc1xcdTAwZTFjaCB0aFxcdTAwZTBuaCB2aVxcdTAwZWFuIFxcdTAxMTFcXHUwMGUzIFxcdTAxMTFcXHUwMWIwXFx1MWVlM2MgbVxcdTFlZGRpXFxuXFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgLy8gTFxcdTFlY2RjIGRhbmggc1xcdTAwZTFjaCBsXFx1MWVkYnAgaFxcdTFlY2RjIFxcdTAxMTFhbmcgc1xcdTFlZGYgaFxcdTFlZWZ1XFxuXFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudChjICpmaWJlci5DdHgpIGVycm9yIC8vIExcXHUxZWNkYyBkYW5oIHNcXHUwMGUxY2ggbFxcdTFlZGJwIGhcXHUxZWNkYyBcXHUwMTExXFx1MDBlMyB0aGFtIGdpYSB2XFx1MWVkYmkgdmFpIHRyXFx1MDBmMiBoXFx1MWVjZGMgc2luaFxcbn1cIiwgXCJuZXdfc3RyXCI6IFwidHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XFxuXFx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgICAgICAgLy8gVFxcdTFlYTFvIGxcXHUxZWRicCBoXFx1MWVjZGNcXG5cXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAvLyBMXFx1MWVjZGMgdGhcXHUwMGUwbmggdmlcXHUwMGVhbiBjXFx1MWVlN2EgbFxcdTFlZGJwIGhcXHUxZWNkY1xcblxcdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAgICAgICAgIC8vIE1cXHUxZWRkaSB0aFxcdTAwZTBuaCB2aVxcdTAwZWFuIHZcXHUwMGUwbyBsXFx1MWVkYnAgaFxcdTFlY2RjXFxuXFx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgICAgLy8gTFxcdTFlY2RjIGRhbmggc1xcdTAwZTFjaCBsXFx1MWVkZGkgbVxcdTFlZGRpXFxuXFx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAgICAgLy8gVFxcdTFlZWIgY2hcXHUxZWQxaSBsXFx1MWVkZGkgbVxcdTFlZGRpXFxuXFx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAgICAgLy8gQ2hcXHUxZWE1cCBuaFxcdTFlYWRuIGxcXHUxZWRkaSBtXFx1MWVkZGlcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBMXFx1MWVjZGMgZGFuaCBzXFx1MDBlMWNoIHRoXFx1MDBlMG5oIHZpXFx1MDBlYW4gXFx1MDExMVxcdTAwZTMgXFx1MDExMVxcdTAxYjBcXHUxZWUzYyBtXFx1MWVkZGlcXG5cXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAvLyBMXFx1MWVjZGMgZGFuaCBzXFx1MDBlMWNoIGxcXHUxZWRicCBoXFx1MWVjZGMgXFx1MDExMWFuZyBzXFx1MWVkZiBoXFx1MWVlZnVcXG5cXHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50KGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTFxcdTFlY2RjIGRhbmggc1xcdTAwZTFjaCBsXFx1MWVkYnAgaFxcdTFlY2RjIFxcdTAxMTFcXHUwMGUzIHRoYW0gZ2lhIHZcXHUxZWRiaSB2YWkgdHJcXHUwMGYyIGhcXHUxZWNkYyBzaW5oXFxuXFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlKGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTFxcdTFlY2RjIGRhbmggc1xcdTAwZTFjaCBsXFx1MWVkYnAgaFxcdTFlY2RjIFxcdTAxMTFcXHUwMGUzIHRoYW0gZ2lhIChjXFx1MDBmMyB0aFxcdTFlYzMgbFxcdTFlY2RjIHRoZW8gdmFpIHRyXFx1MDBmMilcXG59XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA5LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDE5fSwge1wib2xkX3N0clwiOiBcInR5cGUgaGFuZGxlckltcGwgc3RydWN0IHtcXG5cXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXFxuXFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgICAgIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcXG5cXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXFxuXFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXFxuXFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2VcXG5cXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxcblxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgICAgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxcblxcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VcXG5cXHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSB1c2VjYXNlLkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlXFxufVwiLCBcIm5ld19zdHJcIjogXCJ0eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XFxuXFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxcblxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlICAgICB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXFxuXFx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxcblxcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxcblxcdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXFxuXFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2VcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VcXG5cXHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXFxuXFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2UgdXNlY2FzZS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZVxcblxcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVVzZUNhc2UgdXNlY2FzZS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlXFxufVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMjEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMzF9LCB7XCJvbGRfc3RyXCI6IFwidHlwZSBJbmplY3Qgc3RydWN0IHtcXG5cXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXFxuXFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgICAgIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcXG5cXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXFxuXFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXFxuXFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2VcXG5cXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxcblxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgICAgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxcblxcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VcXG5cXHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSB1c2VjYXNlLkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlXFxufVwiLCBcIm5ld19zdHJcIjogXCJ0eXBlIEluamVjdCBzdHJ1Y3Qge1xcblxcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VcXG5cXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSAgICAgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxcblxcdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2VcXG5cXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VcXG5cXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxcblxcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXFxuXFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXFxuXFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZVxcblxcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlIHVzZWNhc2UuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2VcXG5cXHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlIHVzZWNhc2UuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZVxcbn1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDMzLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDQzfSwge1wib2xkX3N0clwiOiBcImZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcXG5cXHRyZXR1cm4gJmhhbmRsZXJJbXBse1xcblxcdFxcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXFxuXFx0XFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6ICAgICBpbmplY3QuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UsXFxuXFx0XFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgICAgICBpbmplY3QuSW52aXRlTWVtYmVyVXNlQ2FzZSxcXG5cXHRcXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgICAgIGluamVjdC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UsXFxuXFx0XFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgICAgICBpbmplY3QuUmVqZWN0SW52aXRhdGlvblVzZUNhc2UsXFxuXFx0XFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgICAgICBpbmplY3QuQWNjZXB0SW52aXRhdGlvblVzZUNhc2UsXFxuXFx0XFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgICAgICBpbmplY3QuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLFxcblxcdFxcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2U6ICAgICAgaW5qZWN0LkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UsXFxuXFx0XFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2U6IGluamVjdC5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSxcXG5cXHR9XFxufVwiLCBcIm5ld19zdHJcIjogXCJmdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XFxuXFx0cmV0dXJuICZoYW5kbGVySW1wbHtcXG5cXHRcXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxcblxcdFxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiAgICAgaW5qZWN0LkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLFxcblxcdFxcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICAgICAgaW5qZWN0Lkludml0ZU1lbWJlclVzZUNhc2UsXFxuXFx0XFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxcblxcdFxcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICAgICAgaW5qZWN0LlJlamVjdEludml0YXRpb25Vc2VDYXNlLFxcblxcdFxcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICAgICAgaW5qZWN0LkFjY2VwdEludml0YXRpb25Vc2VDYXNlLFxcblxcdFxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICAgICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcXG5cXHRcXHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlOiAgICAgIGluamVjdC5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlLFxcblxcdFxcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlOiBpbmplY3QuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2UsXFxuXFx0XFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZTogaW5qZWN0LkZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVVzZUNhc2UsXFxuXFx0fVxcbn1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDQ1LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDU3fV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIjIyMgNC4gVXBkYXRlIHRoZSBoYW5kbGVyIGludGVyZmFjZSBhbmQgaW1wbGVtZW50YXRpb25cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVZWNDZXc2l5Zm9obUdueGJOTGM0dnAifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo1LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn19fV0sInJlc3BvbnNlX3RleHQiOiIjIyMgNC4gVXBkYXRlIHRoZSBoYW5kbGVyIGludGVyZmFjZSBhbmQgaW1wbGVtZW50YXRpb25cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiIxOGRkNjUwZi03MWMyLTQwMGYtYTdkOS0wMDFjNzk0N2JiYjAiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE5bmtYWlpTVndhdjc3UFpIaDdXN0xIIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJzZXJ2ZXIvc2VydmVyLmdvXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIlxcdGhhbmRsZXIgOj0gaGFuZGxlci5OZXcoJmhhbmRsZXIuSW5qZWN0e1xcblxcdFxcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICAgICAgdXNlY2FzZS5OZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiAgICAgdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHRcXHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgICAgIHVzZWNhc2UuTmV3SW52aXRlTWVtYmVyVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHRcXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgICAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHRcXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgICAgIHVzZWNhc2UuTmV3QWNjZXB0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHRcXHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlOiAgICAgIHVzZWNhc2UuTmV3RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHRcXHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHR9KVwiLCBcIm5ld19zdHJcIjogXCJcXHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcXG5cXHRcXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgICAgIHVzZWNhc2UuTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHRcXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogICAgIHVzZWNhc2UuTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgICAgICB1c2VjYXNlLk5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHRcXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgICAgIHVzZWNhc2UuTmV3UmVqZWN0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZTogICAgICB1c2VjYXNlLk5ld0ZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2U6IHVzZWNhc2UuTmV3RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdH0pXCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAyOSwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAzOX1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIyMjIDUuIFVwZGF0ZSB0aGUgc2VydmVyIGluaXRpYWxpemF0aW9uXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIGhhbmRsZXIvaGFuZGxlci5nby5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgICA1XHRcbiAgICAgNlx0XHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4gICAgIDdcdClcbiAgICAgOFx0XG4gICAgIDlcdHR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xuICAgIDEwXHRcdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG4gICAgMTFcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgLy8gTOG7jWMgdGjDoG5oIHZpw6puIGPhu6dhIGzhu5twIGjhu41jXG4gICAgMTJcdFx0SW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgICAgICAgICAgLy8gTeG7nWkgdGjDoG5oIHZpw6puIHbDoG8gbOG7m3AgaOG7jWNcbiAgICAxM1x0XHRGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG4gICAgMTRcdFx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAgICAgLy8gVOG7qyBjaOG7kWkgbOG7nWkgbeG7nWlcbiAgICAxNVx0XHRBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgICAgICAvLyBDaOG6pXAgbmjhuq1uIGzhu51pIG3hu51pXG4gICAgMTZcdFx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxuICAgIDE3XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJFhbmcgc+G7nyBo4buvdVxuICAgIDE4XHRcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnQoYyAqZmliZXIuQ3R4KSBlcnJvciAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRw6MgdGhhbSBnaWEgduG7m2kgdmFpIHRyw7IgaOG7jWMgc2luaFxuICAgIDE5XHRcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZShjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJHDoyB0aGFtIGdpYSAoY8OzIHRo4buDIGzhu41jIHRoZW8gdmFpIHRyw7IpXG4gICAgMjBcdH1cbiAgICAyMVx0XG4gICAgMjJcdHR5cGUgaGFuZGxlckltcGwgc3RydWN0IHtcbiAgICAyM1x0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG4gICAgMjRcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgICAgIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcblxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzFdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgMThcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudChjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJHDoyB0aGFtIGdpYSB24bubaSB2YWkgdHLDsiBo4buNYyBzaW5oXG4gICAgMTlcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlKGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkcOjIHRoYW0gZ2lhIChjw7MgdGjhu4MgbOG7jWMgdGhlbyB2YWkgdHLDsilcbiAgICAyMFx0fVxuICAgIDIxXHRcbiAgICAyMlx0dHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xuICAgIDIzXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VcbiAgICAyNFx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSAgICAgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuICAgIDI1XHRcdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2VcbiAgICAyNlx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VcbiAgICAyN1x0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxuICAgIDI4XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG4gICAgMjlcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG4gICAgMzBcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZVxuICAgIDMxXHRcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlIHVzZWNhc2UuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2VcbiAgICAzMlx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlIHVzZWNhc2UuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZVxuICAgIDMzXHR9XG4gICAgMzRcdFxuICAgIDM1XHR0eXBlIEluamVjdCBzdHJ1Y3Qge1xuICAgIDM2XHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VcbiAgICAzN1x0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSAgICAgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMl06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAzMVx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSB1c2VjYXNlLkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlXG4gICAgMzJcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVVzZUNhc2VcbiAgICAzM1x0fVxuICAgIDM0XHRcbiAgICAzNVx0dHlwZSBJbmplY3Qgc3RydWN0IHtcbiAgICAzNlx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG4gICAgMzdcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgICAgIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcbiAgICAzOFx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG4gICAgMzlcdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG4gICAgNDBcdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2VcbiAgICA0MVx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuICAgIDQyXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgICAgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxuICAgIDQzXHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VcbiAgICA0NFx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSB1c2VjYXNlLkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlXG4gICAgNDVcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVVzZUNhc2VcbiAgICA0Nlx0fVxuICAgIDQ3XHRcbiAgICA0OFx0ZnVuYyBOZXcoaW5qZWN0ICpJbmplY3QpIEhhbmRsZXIge1xuICAgIDQ5XHRcdHJldHVybiAmaGFuZGxlckltcGx7XG4gICAgNTBcdFx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbM106XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICA0NFx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSB1c2VjYXNlLkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlXG4gICAgNDVcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVVzZUNhc2VcbiAgICA0Nlx0fVxuICAgIDQ3XHRcbiAgICA0OFx0ZnVuYyBOZXcoaW5qZWN0ICpJbmplY3QpIEhhbmRsZXIge1xuICAgIDQ5XHRcdHJldHVybiAmaGFuZGxlckltcGx7XG4gICAgNTBcdFx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuICAgIDUxXHRcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6ICAgICBpbmplY3QuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UsXG4gICAgNTJcdFx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgICAgIGluamVjdC5JbnZpdGVNZW1iZXJVc2VDYXNlLFxuICAgIDUzXHRcdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxuICAgIDU0XHRcdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgICAgICBpbmplY3QuUmVqZWN0SW52aXRhdGlvblVzZUNhc2UsXG4gICAgNTVcdFx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgICAgIGluamVjdC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSxcbiAgICA1Nlx0XHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICAgICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcbiAgICA1N1x0XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2U6ICAgICAgaW5qZWN0LkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UsXG4gICAgNThcdFx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZTogaW5qZWN0LkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlLFxuICAgIDU5XHRcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZTogaW5qZWN0LkZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVVzZUNhc2UsXG4gICAgNjBcdFx0fVxuICAgIDYxXHR9XG4gICAgNjJcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFFcTRVOUJ0NHhRNWNDUmdRTGNzNFF0In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NSwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9fX1dLCJyZXNwb25zZV90ZXh0IjoiIyMjIDUuIFVwZGF0ZSB0aGUgc2VydmVyIGluaXRpYWxpemF0aW9uXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiMDNjNDcwNmQtNzZjYy00ODBhLWI1OWYtMGU2MmNkZjQyNTY5IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxWG93WllZZjltcTZkMUdMYXFUdmt3cCIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic2VydmVyL3JvdXRlci5nb1wiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJcXHRjbGFzc3Jvb21Hcm91cCA6PSBhcHAuR3JvdXAoXFxcIi9jbGFzc3Jvb21cXFwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXFxuXFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcXFwiL2NyZWF0ZVxcXCIsIGhhbmRsZXIuQ3JlYXRlQ2xhc3Nyb29tKVxcblxcdGNsYXNzcm9vbUdyb3VwLlBvc3QoXFxcIi9pbnZpdGVcXFwiLCBoYW5kbGVyLkludml0ZU1lbWJlcilcXG5cXHRjbGFzc3Jvb21Hcm91cC5HZXQoXFxcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcXFwiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXFxuXFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFxcXCIvOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnNcXFwiLCBoYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzKVxcblxcdGNsYXNzcm9vbUdyb3VwLkdldChcXFwiL293bmVkXFxcIiwgaGFuZGxlci5GaWx0ZXJPd25lZENsYXNzcm9vbXMpXFxuXFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFxcXCIvam9pbmVkLWFzLXN0dWRlbnRcXFwiLCBoYW5kbGVyLkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnQpXCIsIFwibmV3X3N0clwiOiBcIlxcdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcXFwiL2NsYXNzcm9vbVxcXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcXG5cXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFxcXCIvY3JlYXRlXFxcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXFxuXFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcXFwiL2ludml0ZVxcXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxcblxcdGNsYXNzcm9vbUdyb3VwLkdldChcXFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1xcXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycylcXG5cXHRjbGFzc3Jvb21Hcm91cC5HZXQoXFxcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1xcXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXFxuXFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFxcXCIvam9pbmVkXFxcIiwgaGFuZGxlci5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGUpXCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAxMiwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAxOH1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIyMjIDYuIFVwZGF0ZSB0aGUgcm91dGVyXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNlcnZlci9zZXJ2ZXIuZ28uXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAyNVx0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBpbml0IHByb3ZpZGVyXCIsIHphcC5FcnJvcihlcnIpKVxuICAgIDI2XHRcdFx0cmV0dXJuXG4gICAgMjdcdFx0fVxuICAgIDI4XHRcdHJlcG9zaXRvcnkgOj0gcmVwb3NpdG9yeS5OZXcocHJvdmlkZXIpXG4gICAgMjlcdFx0aGFuZGxlciA6PSBoYW5kbGVyLk5ldygmaGFuZGxlci5JbmplY3R7XG4gICAgMzBcdFx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgICAgIHVzZWNhc2UuTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzMVx0XHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiAgICAgdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzMlx0XHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICAgICAgdXNlY2FzZS5OZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDMzXHRcdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgICAgICB1c2VjYXNlLk5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzNFx0XHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzNVx0XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICAgICAgdXNlY2FzZS5OZXdBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzNlx0XHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzdcdFx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlOiAgICAgIHVzZWNhc2UuTmV3RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzOFx0XHRcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM5XHRcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDQwXHRcdH0pXG4gICAgNDFcdFxuICAgIDQyXHRcdEluaXRSb3V0ZXIoYXBwLCBoYW5kbGVyKVxuICAgIDQzXHRcdHV0aWwuSW5pdFZhbGlkYXRlKClcbiAgICA0NFx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTlua1haWlNWd2F2NzdQWkhoN1c3TEgifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo1LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn19fV0sInJlc3BvbnNlX3RleHQiOiIjIyMgNi4gVXBkYXRlIHRoZSByb3V0ZXJcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJiYjQ1ZjYyOC0xYWE3LTQ1MmMtOWE1YS1jYTFjYjUzYWZjYWQiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFSbVNaN2p6cXFBTG9xMVBHQkc5UWM3IiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJ1c2VjYXNlL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tc193aXRoX3JvbGUuZ29cIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiZnVuYyAodSAqZmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XFxuXFx0Ly8gTlxcdTFlYmZ1IGtoXFx1MDBmNG5nIGNcXHUwMGYzIHJvbGUgXFx1MDExMVxcdTAxYjBcXHUxZWUzYyBjaFxcdTFlYzkgXFx1MDExMVxcdTFlY2JuaCwgbFxcdTFlYTV5IHRcXHUxZWE1dCBjXFx1MWVhMyBjXFx1MDBlMWMgbFxcdTFlZGJwIGhcXHUxZWNkYyBtXFx1MDBlMCBuZ1xcdTAxYjBcXHUxZWRkaSBkXFx1MDBmOW5nIFxcdTAxMTFcXHUwMGUzIHRoYW0gZ2lhXFxuXFx0aWYgcGFyYW1zLlJvbGUgPT0gbmlsIHtcXG5cXHRcXHQvLyBMXFx1MWVhNXkgZGFuaCBzXFx1MDBlMWNoIGxcXHUxZWRicCBoXFx1MWVjZGMgbVxcdTAwZTAgbmdcXHUwMWIwXFx1MWVkZGkgZFxcdTAwZjluZyBzXFx1MWVkZiBoXFx1MWVlZnVcXG5cXHRcXHRvd25lZFBhcmFtcyA6PSByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxe1xcblxcdFxcdFxcdFBhZ2luYXRpb25SZXE6IHBhcmFtcy5QYWdpbmF0aW9uUmVxLFxcblxcdFxcdH1cXG5cXHRcXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCwgdXNlcklELCBvd25lZFBhcmFtcylcXG5cXHRcXHRpZiBlcnIgIT0gbmlsIHtcXG5cXHRcXHRcXHRsb2dnZXIuRXJyb3IoXFxcImZhaWxlZCB0byBmaWx0ZXIgam9pbmVkIGNsYXNzcm9vbXNcXFwiLCB6YXAuU3RyaW5nKFxcXCJ1c2VyIGlkXFxcIiwgdXNlcklEKSwgemFwLkVycm9yKGVycikpXFxuXFx0XFx0XFx0cmV0dXJuIG5pbCwgZXJyXFxuXFx0XFx0fVxcblxcdFxcdHJldHVybiByZXN1bHQsIG5pbFxcblxcdH1cXG5cXG5cXHQvLyBOXFx1MWViZnUgY1xcdTAwZjMgcm9sZSBcXHUwMTExXFx1MDFiMFxcdTFlZTNjIGNoXFx1MWVjOSBcXHUwMTExXFx1MWVjYm5oLCBsXFx1MWVjZGMgdGhlbyByb2xlXFxuXFx0am9pbmVkUGFyYW1zIDo9IHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxe1xcblxcdFxcdFBhZ2luYXRpb25SZXE6IHBhcmFtcy5QYWdpbmF0aW9uUmVxLFxcblxcdH1cXG5cXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHgsIHVzZXJJRCwgKnBhcmFtcy5Sb2xlLCBqb2luZWRQYXJhbXMpXFxuXFx0aWYgZXJyICE9IG5pbCB7XFxuXFx0XFx0bG9nZ2VyLkVycm9yKFxcXCJmYWlsZWQgdG8gZmlsdGVyIGpvaW5lZCBjbGFzc3Jvb21zIHdpdGggcm9sZVxcXCIsIHphcC5TdHJpbmcoXFxcInVzZXIgaWRcXFwiLCB1c2VySUQpLCB6YXAuU3RyaW5nKFxcXCJyb2xlXFxcIiwgc3RyaW5nKCpwYXJhbXMuUm9sZSkpLCB6YXAuRXJyb3IoZXJyKSlcXG5cXHRcXHRyZXR1cm4gbmlsLCBlcnJcXG5cXHR9XFxuXFx0cmV0dXJuIHJlc3VsdCwgbmlsXFxufVwiLCBcIm5ld19zdHJcIjogXCJmdW5jICh1ICpmaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVJlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcXG5cXHQvLyBOXFx1MWViZnUga2hcXHUwMGY0bmcgY1xcdTAwZjMgcm9sZSBcXHUwMTExXFx1MDFiMFxcdTFlZTNjIGNoXFx1MWVjOSBcXHUwMTExXFx1MWVjYm5oLCBsXFx1MWVhNXkgZGFuaCBzXFx1MDBlMWNoIGxcXHUxZWRicCBoXFx1MWVjZGMgbVxcdTAwZTAgbmdcXHUwMWIwXFx1MWVkZGkgZFxcdTAwZjluZyBzXFx1MWVkZiBoXFx1MWVlZnVcXG5cXHRpZiBwYXJhbXMuUm9sZSA9PSBuaWwge1xcblxcdFxcdC8vIExcXHUxZWE1eSBkYW5oIHNcXHUwMGUxY2ggbFxcdTFlZGJwIGhcXHUxZWNkYyBtXFx1MDBlMCBuZ1xcdTAxYjBcXHUxZWRkaSBkXFx1MDBmOW5nIHNcXHUxZWRmIGhcXHUxZWVmdVxcblxcdFxcdG93bmVkUGFyYW1zIDo9IHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXF7XFxuXFx0XFx0XFx0UGFnaW5hdGlvblJlcTogcGFyYW1zLlBhZ2luYXRpb25SZXEsXFxuXFx0XFx0fVxcblxcdFxcdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsIG93bmVkUGFyYW1zKVxcblxcdFxcdGlmIGVyciAhPSBuaWwge1xcblxcdFxcdFxcdGxvZ2dlci5FcnJvcihcXFwiZmFpbGVkIHRvIGZpbHRlciBvd25lZCBjbGFzc3Jvb21zXFxcIiwgemFwLlN0cmluZyhcXFwidXNlciBpZFxcXCIsIHVzZXJJRCksIHphcC5FcnJvcihlcnIpKVxcblxcdFxcdFxcdHJldHVybiBuaWwsIGVyclxcblxcdFxcdH1cXG5cXHRcXHRyZXR1cm4gcmVzdWx0LCBuaWxcXG5cXHR9XFxuXFxuXFx0Ly8gTlxcdTFlYmZ1IGNcXHUwMGYzIHJvbGUgXFx1MDExMVxcdTAxYjBcXHUxZWUzYyBjaFxcdTFlYzkgXFx1MDExMVxcdTFlY2JuaCwgbFxcdTFlY2RjIHRoZW8gcm9sZVxcblxcdGpvaW5lZFBhcmFtcyA6PSByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcXtcXG5cXHRcXHRQYWdpbmF0aW9uUmVxOiBwYXJhbXMuUGFnaW5hdGlvblJlcSxcXG5cXHR9XFxuXFx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsICpwYXJhbXMuUm9sZSwgam9pbmVkUGFyYW1zKVxcblxcdGlmIGVyciAhPSBuaWwge1xcblxcdFxcdGxvZ2dlci5FcnJvcihcXFwiZmFpbGVkIHRvIGZpbHRlciBqb2luZWQgY2xhc3Nyb29tcyB3aXRoIHJvbGVcXFwiLCB6YXAuU3RyaW5nKFxcXCJ1c2VyIGlkXFxcIiwgdXNlcklEKSwgemFwLlN0cmluZyhcXFwicm9sZVxcXCIsIHN0cmluZygqcGFyYW1zLlJvbGUpKSwgemFwLkVycm9yKGVycikpXFxuXFx0XFx0cmV0dXJuIG5pbCwgZXJyXFxuXFx0fVxcblxcdHJldHVybiByZXN1bHQsIG5pbFxcbn1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDI1LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDUwfV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQncyBmaXggdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoZSB1c2VjYXNlIHRvIGhhbmRsZSB0aGUgY2FzZSB3aGVuIG5vIHJvbGUgaXMgc3BlY2lmaWVkOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzZXJ2ZXIvcm91dGVyLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDhcdFx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuICAgICA5XHQpXG4gICAgMTBcdFxuICAgIDExXHRmdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG4gICAgMTJcdFx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG4gICAgMTNcdFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG4gICAgMTRcdFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG4gICAgMTVcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG4gICAgMTZcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG4gICAgMTdcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiL2pvaW5lZFwiLCBoYW5kbGVyLkZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZSlcbiAgICAxOFx0XG4gICAgMTlcdFx0aW52aXRhdGlvbkdyb3VwIDo9IGFwcC5Hcm91cChcIi9pbnZpdGF0aW9uXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcbiAgICAyMFx0XHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuICAgIDIxXHRcdGludml0YXRpb25Hcm91cC5QdXQoXCIvcmVqZWN0LzppZFwiLCBoYW5kbGVyLlJlamVjdEludml0YXRpb24pXG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVhvd1pZWWY5bXE2ZDFHTGFxVHZrd3AifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo1LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn19fV0sInJlc3BvbnNlX3RleHQiOiJMZXQncyBmaXggdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoZSB1c2VjYXNlIHRvIGhhbmRsZSB0aGUgY2FzZSB3aGVuIG5vIHJvbGUgaXMgc3BlY2lmaWVkOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImE4MmEzYmRlLWE5ODItNDg1NS1iZTgxLTA3ZjZhYmZjNzZhMiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVB5ODE0NGJaVjdCYUF6WUdpcHhBZDEiLCJ0b29sX25hbWUiOiJsYXVuY2gtcHJvY2VzcyIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwiZ28gcnVuIG1haW4uZ28gc2VydmUgLWUgLi9kZXBsb3kvbG9jYWwuZW52XCIsIFwid2FpdFwiOiB0cnVlLCBcIndhaXRfc2Vjb25kc1wiOiAxMH0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiMjIFRlc3RpbmdcblxuTGV0J3MgdmVyaWZ5IHRoYXQgb3VyIGltcGxlbWVudGF0aW9uIGlzIGNvcnJlY3QgYnkgcnVubmluZyB0aGUgc2VydmVyOlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSB1c2VjYXNlL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tc193aXRoX3JvbGUuZ28uXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAyNFx0XHRcdFJlcG86IHJlcG8sXG4gICAgMjVcdFx0fVxuICAgIDI2XHR9XG4gICAgMjdcdFxuICAgIDI4XHRmdW5jICh1ICpmaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVJlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcbiAgICAyOVx0XHQvLyBO4bq/dSBraMO0bmcgY8OzIHJvbGUgxJHGsOG7o2MgY2jhu4kgxJHhu4tuaCwgbOG6pXkgZGFuaCBzw6FjaCBs4bubcCBo4buNYyBtw6AgbmfGsOG7nWkgZMO5bmcgc+G7nyBo4buvdVxuICAgIDMwXHRcdGlmIHBhcmFtcy5Sb2xlID09IG5pbCB7XG4gICAgMzFcdFx0XHQvLyBM4bqleSBkYW5oIHPDoWNoIGzhu5twIGjhu41jIG3DoCBuZ8aw4budaSBkw7luZyBz4bufIGjhu691XG4gICAgMzJcdFx0XHRvd25lZFBhcmFtcyA6PSByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxe1xuICAgIDMzXHRcdFx0XHRQYWdpbmF0aW9uUmVxOiBwYXJhbXMuUGFnaW5hdGlvblJlcSxcbiAgICAzNFx0XHRcdH1cbiAgICAzNVx0XHRcdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsIG93bmVkUGFyYW1zKVxuICAgIDM2XHRcdFx0aWYgZXJyICE9IG5pbCB7XG4gICAgMzdcdFx0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgb3duZWQgY2xhc3Nyb29tc1wiLCB6YXAuU3RyaW5nKFwidXNlciBpZFwiLCB1c2VySUQpLCB6YXAuRXJyb3IoZXJyKSlcbiAgICAzOFx0XHRcdFx0cmV0dXJuIG5pbCwgZXJyXG4gICAgMzlcdFx0XHR9XG4gICAgNDBcdFx0XHRyZXR1cm4gcmVzdWx0LCBuaWxcbiAgICA0MVx0XHR9XG4gICAgNDJcdFxuICAgIDQzXHRcdC8vIE7hur91IGPDsyByb2xlIMSRxrDhu6NjIGNo4buJIMSR4buLbmgsIGzhu41jIHRoZW8gcm9sZVxuICAgIDQ0XHRcdGpvaW5lZFBhcmFtcyA6PSByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcXtcbiAgICA0NVx0XHRcdFBhZ2luYXRpb25SZXE6IHBhcmFtcy5QYWdpbmF0aW9uUmVxLFxuICAgIDQ2XHRcdH1cbiAgICA0N1x0XHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHgsIHVzZXJJRCwgKnBhcmFtcy5Sb2xlLCBqb2luZWRQYXJhbXMpXG4gICAgNDhcdFx0aWYgZXJyICE9IG5pbCB7XG4gICAgNDlcdFx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIGpvaW5lZCBjbGFzc3Jvb21zIHdpdGggcm9sZVwiLCB6YXAuU3RyaW5nKFwidXNlciBpZFwiLCB1c2VySUQpLCB6YXAuU3RyaW5nKFwicm9sZVwiLCBzdHJpbmcoKnBhcmFtcy5Sb2xlKSksIHphcC5FcnJvcihlcnIpKVxuICAgIDUwXHRcdFx0cmV0dXJuIG5pbCwgZXJyXG4gICAgNTFcdFx0fVxuICAgIDUyXHRcdHJldHVybiByZXN1bHQsIG5pbFxuICAgIDUzXHR9XG4gICAgNTRcdFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFSbVNaN2p6cXFBTG9xMVBHQkc5UWM3In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NSwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9fX1dLCJyZXNwb25zZV90ZXh0IjoiIyMgVGVzdGluZ1xuXG5MZXQncyB2ZXJpZnkgdGhhdCBvdXIgaW1wbGVtZW50YXRpb24gaXMgY29ycmVjdCBieSBydW5uaW5nIHRoZSBzZXJ2ZXI6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNWJmMTY0NjUtYzEwMi00MTZiLTg5OWQtMjhlN2MzMGYwNDk4IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSSd2ZSBzdWNjZXNzZnVsbHkgbWVyZ2VkIHRoZSB0d28gQVBJcyAoZmlsdGVyIG93bmVkIGNsYXNzcm9vbXMgYW5kIGZpbHRlciBqb2luZWQgY2xhc3Nyb29tcyBhcyBzdHVkZW50KSBpbnRvIGEgc2luZ2xlIEFQSSB0aGF0IGNhbiBmaWx0ZXIgY2xhc3Nyb29tcyBieSByb2xlLiBMZXQgbWUgZXhwbGFpbiB0aGUgY2hhbmdlcyBJIG1hZGU6XG5cbiMjIEltcGxlbWVudGF0aW9uIFN1bW1hcnlcblxuMS4gQ3JlYXRlZCBhIG5ldyByZXF1ZXN0IG1vZGVsIGBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVSZXFgIHRoYXQgaW5jbHVkZXM6XG4gICAtIFN0YW5kYXJkIHBhZ2luYXRpb24gcGFyYW1ldGVyc1xuICAgLSBBbiBvcHRpb25hbCBgcm9sZWAgcGFyYW1ldGVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZmlsdGVyIGJ5IHJvbGUgKHRlYWNoZXIgb3Igc3R1ZGVudClcblxuMi4gQ3JlYXRlZCBhIG5ldyB1c2VjYXNlIGBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlYCB0aGF0OlxuICAgLSBIYW5kbGVzIHRoZSBjYXNlIHdoZW4gbm8gcm9sZSBpcyBzcGVjaWZpZWQgKHJldHVybnMgb3duZWQgY2xhc3Nyb29tcylcbiAgIC0gSGFuZGxlcyB0aGUgY2FzZSB3aGVuIGEgcm9sZSBpcyBzcGVjaWZpZWQgKGZpbHRlcnMgYnkgdGhhdCByb2xlKVxuXG4zLiBDcmVhdGVkIGEgbmV3IGhhbmRsZXIgZnVuY3Rpb24gYEZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZWAgdGhhdDpcbiAgIC0gUGFyc2VzIHRoZSByZXF1ZXN0IHBhcmFtZXRlcnNcbiAgIC0gR2V0cyB0aGUgdXNlciBJRCBmcm9tIHRoZSBKV1QgdG9rZW5cbiAgIC0gQ2FsbHMgdGhlIHVzZWNhc2UgdG8gZmlsdGVyIGNsYXNzcm9vbXNcblxuNC4gVXBkYXRlZCB0aGUgcm91dGVyIHRvIHVzZSB0aGUgbmV3IGVuZHBvaW50OlxuICAgLSBSZW1vdmVkIHRoZSBvbGQgZW5kcG9pbnRzIGAvY2xhc3Nyb29tL293bmVkYCBhbmQgYC9jbGFzc3Jvb20vam9pbmVkLWFzLXN0dWRlbnRgXG4gICAtIEFkZGVkIGEgbmV3IGVuZHBvaW50IGAvY2xhc3Nyb29tL2pvaW5lZGAgdGhhdCBjYW4gZmlsdGVyIGJ5IHJvbGVcblxuIyMgQVBJIFVzYWdlXG5cblRoZSBuZXcgQVBJIGVuZHBvaW50IGlzIGF2YWlsYWJsZSBhdDpcbmBgYFxuR0VUIC9jbGFzc3Jvb20vam9pbmVkXG5gYGBcblxuSXQgc3VwcG9ydHMgdGhlIGZvbGxvd2luZyBxdWVyeSBwYXJhbWV0ZXJzOlxuLSBTdGFuZGFyZCBwYWdpbmF0aW9uIHBhcmFtZXRlcnMgKGBwYWdlYCwgYGxpbWl0YCwgYHNvcnRgKVxuLSBgcm9sZWAgKG9wdGlvbmFsKTogRmlsdGVyIGJ5IHJvbGUuIFBvc3NpYmxlIHZhbHVlcyBhcmU6XG4gIC0gYHRlYWNoZXJgOiBSZXR1cm5zIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaXMgYSB0ZWFjaGVyXG4gIC0gYHN0dWRlbnRgOiBSZXR1cm5zIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaXMgYSBzdHVkZW50XG4gIC0gSWYgbm90IHNwZWNpZmllZCwgcmV0dXJucyBjbGFzc3Jvb21zIG93bmVkIGJ5IHRoZSB1c2VyXG5cbkV4YW1wbGVzOlxuLSBgR0VUIC9jbGFzc3Jvb20vam9pbmVkYCAtIFJldHVybnMgY2xhc3Nyb29tcyBvd25lZCBieSB0aGUgdXNlclxuLSBgR0VUIC9jbGFzc3Jvb20vam9pbmVkP3JvbGU9dGVhY2hlcmAgLSBSZXR1cm5zIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaXMgYSB0ZWFjaGVyXG4tIGBHRVQgL2NsYXNzcm9vbS9qb2luZWQ/cm9sZT1zdHVkZW50YCAtIFJldHVybnMgY2xhc3Nyb29tcyB3aGVyZSB0aGUgdXNlciBpcyBhIHN0dWRlbnRcbi0gYEdFVCAvY2xhc3Nyb29tL2pvaW5lZD9yb2xlPXN0dWRlbnQmcGFnZT0xJmxpbWl0PTEwYCAtIFJldHVybnMgdGhlIGZpcnN0IHBhZ2Ugb2YgY2xhc3Nyb29tcyB3aGVyZSB0aGUgdXNlciBpcyBhIHN0dWRlbnQsIHdpdGggMTAgaXRlbXMgcGVyIHBhZ2VcblxuVGhlIEFQSSByZXF1aXJlcyBhdXRoZW50aWNhdGlvbiB2aWEgSldUIHRva2VuLCB3aGljaCBwcm92aWRlcyB0aGUgdXNlciBJRC5cblxuIyMgVGVzdGluZ1xuXG5JJ3ZlIHZlcmlmaWVkIHRoYXQgdGhlIHNlcnZlciBzdGFydHMgY29ycmVjdGx5IHdpdGggdGhlIG5ldyBBUEkgZW5kcG9pbnQuIFRoZSBlbmRwb2ludCBpcyBub3cgYXZhaWxhYmxlIGF0IGAvY2xhc3Nyb29tL2pvaW5lZGAgYW5kIGNhbiBiZSB1c2VkIHRvIGZpbHRlciBjbGFzc3Jvb21zIGJ5IHJvbGUuXG5cbldvdWxkIHlvdSBsaWtlIG1lIHRvIG1ha2UgYW55IGFkZGl0aW9uYWwgY2hhbmdlcyBvciBpbXByb3ZlbWVudHMgdG8gdGhlIGltcGxlbWVudGF0aW9uP1xuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiQ29tbWFuZCBpcyBzdGlsbCBydW5uaW5nIGFmdGVyIDEwIHNlY29uZHMuIFlvdSBjYW4gdXNlIHJlYWQtcHJvY2VzcyB0byBnZXQgbW9yZSBvdXRwdXRcbiAgICAgICAgICBhbmQga2lsbC1wcm9jZXNzIHRvIHRlcm1pbmF0ZSBpdCBpZiBuZWVkZWQuXG4gICAgICAgICAgUElEIDZcbiAgICAgICAgICBPdXRwdXQgc28gZmFyOlxuICAgICAgICAgIDxzdGRvdXQ+XG4gICAgICAgICAgMjAyNS8wNC8yMSAyMzo1NzozMSBTdWNjZXNzZnVsbHkgY29ubmVjdGVkIHRvIFBvc3RncmVTUUwgZGF0YWJhc2VcblxuXHUwMDFiWzkwbVx1MDAxYls5MG0g4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQIFxuXHUwMDFiWzkwbSDilIIgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk2bUZpYmVyIHYyLjUyLjZcdTAwMWJbOTBtICAgICAgICAgICAgICAgICAgIOKUgiBcblx1MDAxYls5MG0g4pSCICAgICAgICAgICAgICAgaHR0cDovLzEyNy4wLjAuMTo1MDAxICAgICAgICAgICAgICAg4pSCIFxuXHUwMDFiWzkwbSDilIIgICAgICAgKGJvdW5kIG9uIGhvc3QgMC4wLjAuMCBhbmQgcG9ydCA1MDAxKSAgICAgICDilIIgXG5cdTAwMWJbOTBtIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiBcblx1MDAxYls5MG0g4pSCIEhhbmRsZXJzIC4uLi4uLi4uLi4uLiBcdTAwMWJbOTZtMTVcdTAwMWJbOTBtICBQcm9jZXNzZXMgLi4uLi4uLi4uLi4gXHUwMDFiWzk2bTFcdTAwMWJbOTBtIOKUgiBcblx1MDAxYls5MG0g4pSCIFByZWZvcmsgLi4uLi4uLiBEaXNhYmxlZCAgUElEIC4uLi4uLi4uLi4uLi4uIFx1MDAxYls5Nm02Mjc5XHUwMDFiWzkwbSDilIIgXG5cdTAwMWJbOTBtIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFx1MDAxYlswbSBcblxuXHUwMDFiWzk0bW1ldGhvZCAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybXBhdGggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bW5hbWUgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbWhhbmRsZXJzIFx1MDAxYlswbVxuXHUwMDFiWzk0bS0tLS0tLSAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS0tLS0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bS0tLS0gXHUwMDFiWzk3bXwgXHUwMDFiWzkzbS0tLS0tLS0tIFx1MDAxYlswbVxuXHUwMDFiWzk0bUdFVCAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbXF1aXp6eS1jbGFzc3Jvb20vc2VydmVyLlJ1bi5OZXcuZnVuYzEgXHUwMDFiWzBtXG5cdTAwMWJbOTRtUFVUICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtcXVpenp5LWNsYXNzcm9vbS9zZXJ2ZXIuUnVuLk5ldy5mdW5jMSBcdTAwMWJbMG1cblx1MDAxYls5NG1ERUxFVEUgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21xdWl6enktY2xhc3Nyb29tL3NlcnZlci5SdW4uTmV3LmZ1bmMxIFx1MDAxYlswbVxuXHUwMDFiWzk0bUNPTk5FQ1QgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbXF1aXp6eS1jbGFzc3Jvb20vc2VydmVyLlJ1bi5OZXcuZnVuYzEgXHUwMDFiWzBtXG5cdTAwMWJbOTRtUEFUQ0ggICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtcXVpenp5LWNsYXNzcm9vbS9zZXJ2ZXIuUnVuLk5ldy5mdW5jMSBcdTAwMWJbMG1cblx1MDAxYls5NG1QT1NUICAgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21xdWl6enktY2xhc3Nyb29tL3NlcnZlci5SdW4uTmV3LmZ1bmMxIFx1MDAxYlswbVxuXHUwMDFiWzk0bVRSQUNFICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbXF1aXp6eS1jbGFzc3Jvb20vc2VydmVyLlJ1bi5OZXcuZnVuYzEgXHUwMDFiWzBtXG5cdTAwMWJbOTRtSEVBRCAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtcXVpenp5LWNsYXNzcm9vbS9zZXJ2ZXIuUnVuLk5ldy5mdW5jMSBcdTAwMWJbMG1cblx1MDAxYls5NG1PUFRJT05TIFx1MDAxYls5N218IFx1MDAxYls5Mm0vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21xdWl6enktY2xhc3Nyb29tL3NlcnZlci5SdW4uTmV3LmZ1bmMxIFx1MDAxYlswbVxuXHUwMDFiWzk0bVBPU1QgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS9jbGFzc3Jvb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbWdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmUuSldUTWlkZGxld2FyZSBcdTAwMWJbMG1cblx1MDAxYls5NG1PUFRJT05TIFx1MDAxYls5N218IFx1MDAxYls5Mm0vY2xhc3Nyb29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21naXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUgXHUwMDFiWzBtXG5cdTAwMWJbOTRtSEVBRCAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtL2NsYXNzcm9vbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlIFx1MDAxYlswbVxuXHUwMDFiWzk0bUNPTk5FQ1QgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS9jbGFzc3Jvb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbWdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmUuSldUTWlkZGxld2FyZSBcdTAwMWJbMG1cblx1MDAxYls5NG1UUkFDRSAgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vY2xhc3Nyb29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21naXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUgXHUwMDFiWzBtXG5cdTAwMWJbOTRtUFVUICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtL2NsYXNzcm9vbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlIFx1MDAxYlswbVxuXHUwMDFiWzk0bURFTEVURSAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS9jbGFzc3Jvb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbWdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmUuSldUTWlkZGxld2FyZSBcdTAwMWJbMG1cblx1MDAxYls5NG1QQVRDSCAgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vY2xhc3Nyb29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21naXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUgXHUwMDFiWzBtXG5cdTAwMWJbOTRtR0VUICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtL2NsYXNzcm9vbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlIFx1MDAxYlswbVxuXHUwMDFiWzk0bUhFQUQgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS9jbGFzc3Jvb20vOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnMgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbXF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlci5IYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzLWZtIFx1MDAxYlswbVxuXHUwMDFiWzk0bUdFVCAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS9jbGFzc3Jvb20vOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnMgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbXF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlci5IYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzLWZtIFx1MDAxYlswbVxuXHUwMDFiWzk0bUhFQUQgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS9jbGFzc3Jvb20vOmNsYXNzcm9vbV9pZC9tZW1iZXJzICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbXF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlci5IYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMtZm0gXHUwMDFiWzBtXG5cdTAwMWJbOTRtR0VUICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtL2NsYXNzcm9vbS86Y2xhc3Nyb29tX2lkL21lbWJlcnMgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtcXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyLkhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycy1mbSBcdTAwMWJbMG1cblx1MDAxYls5NG1QT1NUICAgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vY2xhc3Nyb29tL2NyZWF0ZSAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21xdWl6enktY2xhc3Nyb29tL2hhbmRsZXIuSGFuZGxlci5DcmVhdGVDbGFzc3Jvb20tZm0gXHUwMDFiWzBtXG5cdTAwMWJbOTRtUE9TVCAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtL2NsYXNzcm9vbS9pbnZpdGUgICAgICAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtcXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyLkhhbmRsZXIuSW52aXRlTWVtYmVyLWZtIFx1MDAxYlswbVxuXHUwMDFiWzk0bUdFVCAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS9jbGFzc3Jvb20vam9pbmVkICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbXF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlci5IYW5kbGVyLkZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZS1mbSBcdTAwMWJbMG1cblx1MDAxYls5NG1IRUFEICAgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vY2xhc3Nyb29tL2pvaW5lZCAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21xdWl6enktY2xhc3Nyb29tL2hhbmRsZXIuSGFuZGxlci5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGUtZm0gXHUwMDFiWzBtXG5cdTAwMWJbOTRtQ09OTkVDVCBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtL2ludml0YXRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlIFx1MDAxYlswbVxuXHUwMDFiWzk0bURFTEVURSAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS9pbnZpdGF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbWdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmUuSldUTWlkZGxld2FyZSBcdTAwMWJbMG1cblx1MDAxYls5NG1QVVQgICAgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vaW52aXRhdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21naXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUgXHUwMDFiWzBtXG5cdTAwMWJbOTRtSEVBRCAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtL2ludml0YXRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlIFx1MDAxYlswbVxuXHUwMDFiWzk0bVBPU1QgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS9pbnZpdGF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbWdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmUuSldUTWlkZGxld2FyZSBcdTAwMWJbMG1cblx1MDAxYls5NG1PUFRJT05TIFx1MDAxYls5N218IFx1MDAxYls5Mm0vaW52aXRhdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21naXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUgXHUwMDFiWzBtXG5cdTAwMWJbOTRtR0VUICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtL2ludml0YXRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlIFx1MDAxYlswbVxuXHUwMDFiWzk0bVRSQUNFICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS9pbnZpdGF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbWdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmUuSldUTWlkZGxld2FyZSBcdTAwMWJbMG1cblx1MDAxYls5NG1QQVRDSCAgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vaW52aXRhdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21naXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUgXHUwMDFiWzBtXG5cdTAwMWJbOTRtUFVUICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtL2ludml0YXRpb24vYWNjZXB0LzppZCAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtcXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyLkhhbmRsZXIuQWNjZXB0SW52aXRhdGlvbi1mbSBcdTAwMWJbMG1cblx1MDAxYls5NG1IRUFEICAgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vaW52aXRhdGlvbi9maWx0ZXIgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21xdWl6enktY2xhc3Nyb29tL2hhbmRsZXIuSGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucy1mbSBcdTAwMWJbMG1cblx1MDAxYls5NG1HRVQgICAgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vaW52aXRhdGlvbi9maWx0ZXIgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21xdWl6enktY2xhc3Nyb29tL2hhbmRsZXIuSGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucy1mbSBcdTAwMWJbMG1cblx1MDAxYls5NG1QVVQgICAgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vaW52aXRhdGlvbi9yZWplY3QvOmlkICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21xdWl6enktY2xhc3Nyb29tL2hhbmRsZXIuSGFuZGxlci5SZWplY3RJbnZpdGF0aW9uLWZtIFx1MDAxYlswbVxuXG4gICAgICAgICAgPC9zdGRvdXQ+XG4gICAgICAgICAgPHN0ZGVycj5cbiAgICAgICAgICBcbiAgICAgICAgICA8L3N0ZGVycj4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFQeTgxNDRiWlY3QmFBellHaXB4QWQxIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NiwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9fX1dLCJyZXNwb25zZV90ZXh0IjoiSSd2ZSBzdWNjZXNzZnVsbHkgbWVyZ2VkIHRoZSB0d28gQVBJcyAoZmlsdGVyIG93bmVkIGNsYXNzcm9vbXMgYW5kIGZpbHRlciBqb2luZWQgY2xhc3Nyb29tcyBhcyBzdHVkZW50KSBpbnRvIGEgc2luZ2xlIEFQSSB0aGF0IGNhbiBmaWx0ZXIgY2xhc3Nyb29tcyBieSByb2xlLiBMZXQgbWUgZXhwbGFpbiB0aGUgY2hhbmdlcyBJIG1hZGU6XG5cbiMjIEltcGxlbWVudGF0aW9uIFN1bW1hcnlcblxuMS4gQ3JlYXRlZCBhIG5ldyByZXF1ZXN0IG1vZGVsIGBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVSZXFgIHRoYXQgaW5jbHVkZXM6XG4gICAtIFN0YW5kYXJkIHBhZ2luYXRpb24gcGFyYW1ldGVyc1xuICAgLSBBbiBvcHRpb25hbCBgcm9sZWAgcGFyYW1ldGVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZmlsdGVyIGJ5IHJvbGUgKHRlYWNoZXIgb3Igc3R1ZGVudClcblxuMi4gQ3JlYXRlZCBhIG5ldyB1c2VjYXNlIGBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlYCB0aGF0OlxuICAgLSBIYW5kbGVzIHRoZSBjYXNlIHdoZW4gbm8gcm9sZSBpcyBzcGVjaWZpZWQgKHJldHVybnMgb3duZWQgY2xhc3Nyb29tcylcbiAgIC0gSGFuZGxlcyB0aGUgY2FzZSB3aGVuIGEgcm9sZSBpcyBzcGVjaWZpZWQgKGZpbHRlcnMgYnkgdGhhdCByb2xlKVxuXG4zLiBDcmVhdGVkIGEgbmV3IGhhbmRsZXIgZnVuY3Rpb24gYEZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZWAgdGhhdDpcbiAgIC0gUGFyc2VzIHRoZSByZXF1ZXN0IHBhcmFtZXRlcnNcbiAgIC0gR2V0cyB0aGUgdXNlciBJRCBmcm9tIHRoZSBKV1QgdG9rZW5cbiAgIC0gQ2FsbHMgdGhlIHVzZWNhc2UgdG8gZmlsdGVyIGNsYXNzcm9vbXNcblxuNC4gVXBkYXRlZCB0aGUgcm91dGVyIHRvIHVzZSB0aGUgbmV3IGVuZHBvaW50OlxuICAgLSBSZW1vdmVkIHRoZSBvbGQgZW5kcG9pbnRzIGAvY2xhc3Nyb29tL293bmVkYCBhbmQgYC9jbGFzc3Jvb20vam9pbmVkLWFzLXN0dWRlbnRgXG4gICAtIEFkZGVkIGEgbmV3IGVuZHBvaW50IGAvY2xhc3Nyb29tL2pvaW5lZGAgdGhhdCBjYW4gZmlsdGVyIGJ5IHJvbGVcblxuIyMgQVBJIFVzYWdlXG5cblRoZSBuZXcgQVBJIGVuZHBvaW50IGlzIGF2YWlsYWJsZSBhdDpcbmBgYFxuR0VUIC9jbGFzc3Jvb20vam9pbmVkXG5gYGBcblxuSXQgc3VwcG9ydHMgdGhlIGZvbGxvd2luZyBxdWVyeSBwYXJhbWV0ZXJzOlxuLSBTdGFuZGFyZCBwYWdpbmF0aW9uIHBhcmFtZXRlcnMgKGBwYWdlYCwgYGxpbWl0YCwgYHNvcnRgKVxuLSBgcm9sZWAgKG9wdGlvbmFsKTogRmlsdGVyIGJ5IHJvbGUuIFBvc3NpYmxlIHZhbHVlcyBhcmU6XG4gIC0gYHRlYWNoZXJgOiBSZXR1cm5zIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaXMgYSB0ZWFjaGVyXG4gIC0gYHN0dWRlbnRgOiBSZXR1cm5zIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaXMgYSBzdHVkZW50XG4gIC0gSWYgbm90IHNwZWNpZmllZCwgcmV0dXJucyBjbGFzc3Jvb21zIG93bmVkIGJ5IHRoZSB1c2VyXG5cbkV4YW1wbGVzOlxuLSBgR0VUIC9jbGFzc3Jvb20vam9pbmVkYCAtIFJldHVybnMgY2xhc3Nyb29tcyBvd25lZCBieSB0aGUgdXNlclxuLSBgR0VUIC9jbGFzc3Jvb20vam9pbmVkP3JvbGU9dGVhY2hlcmAgLSBSZXR1cm5zIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaXMgYSB0ZWFjaGVyXG4tIGBHRVQgL2NsYXNzcm9vbS9qb2luZWQ/cm9sZT1zdHVkZW50YCAtIFJldHVybnMgY2xhc3Nyb29tcyB3aGVyZSB0aGUgdXNlciBpcyBhIHN0dWRlbnRcbi0gYEdFVCAvY2xhc3Nyb29tL2pvaW5lZD9yb2xlPXN0dWRlbnQmcGFnZT0xJmxpbWl0PTEwYCAtIFJldHVybnMgdGhlIGZpcnN0IHBhZ2Ugb2YgY2xhc3Nyb29tcyB3aGVyZSB0aGUgdXNlciBpcyBhIHN0dWRlbnQsIHdpdGggMTAgaXRlbXMgcGVyIHBhZ2VcblxuVGhlIEFQSSByZXF1aXJlcyBhdXRoZW50aWNhdGlvbiB2aWEgSldUIHRva2VuLCB3aGljaCBwcm92aWRlcyB0aGUgdXNlciBJRC5cblxuIyMgVGVzdGluZ1xuXG5JJ3ZlIHZlcmlmaWVkIHRoYXQgdGhlIHNlcnZlciBzdGFydHMgY29ycmVjdGx5IHdpdGggdGhlIG5ldyBBUEkgZW5kcG9pbnQuIFRoZSBlbmRwb2ludCBpcyBub3cgYXZhaWxhYmxlIGF0IGAvY2xhc3Nyb29tL2pvaW5lZGAgYW5kIGNhbiBiZSB1c2VkIHRvIGZpbHRlciBjbGFzc3Jvb21zIGJ5IHJvbGUuXG5cbldvdWxkIHlvdSBsaWtlIG1lIHRvIG1ha2UgYW55IGFkZGl0aW9uYWwgY2hhbmdlcyBvciBpbXByb3ZlbWVudHMgdG8gdGhlIGltcGxlbWVudGF0aW9uP1xuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJyZXF1ZXN0X2lkIjoiZGQ2MzlmM2MtOWQ3MC00Yzc0LThhZTgtOGExYjMzYzgwY2MyIiwic3RhdHVzIjoiY2FuY2VsbGVkIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy10dXJuLWRlbGltaXRlciJ9LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJlNzk3ZTBlYS1mNGI0LTQ5OTUtOTk2MS1iMTliMDI2MGRjOGMiLCJyZXF1ZXN0X21lc3NhZ2UiOiJ4b8OhIGFwaSBmaWx0ZXIgb3duZWQgY2xhc3Nyb29tcyB2w6AgZmlsdGVyIGpvaW5lZCBjbGFzc3Jvb21zIGFzIHN0dWRlbnQsIHhvw6EgXCJ3aXRoIHJvbGVcIiB0cm9uZyBmaWx0ZXIgam9pbmVkIGNsYXNzcm9tcyB3aXRoIHJvbGUiLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoieG/DoSBhcGkgZmlsdGVyIG93bmVkIGNsYXNzcm9vbXMgdsOgIGZpbHRlciBqb2luZWQgY2xhc3Nyb29tcyBhcyBzdHVkZW50LCB4b8OhIFwid2l0aCByb2xlXCIgdHJvbmcgZmlsdGVyIGpvaW5lZCBjbGFzc3JvbXMgd2l0aCByb2xlIn1dfV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE5UEoxV283em5adGJzeUVpMzVlb1BwIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInVzZWNhc2UvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zX3dpdGhfcm9sZS5nb1wifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiSSdsbCByZW1vdmUgdGhlIG9sZCBBUElzIChmaWx0ZXIgb3duZWQgY2xhc3Nyb29tcyBhbmQgZmlsdGVyIGpvaW5lZCBjbGFzc3Jvb21zIGFzIHN0dWRlbnQpIGFuZCByZW5hbWUgdGhlIG5ldyBBUEkgdG8gc2ltcGx5IFwiZmlsdGVyIGpvaW5lZCBjbGFzc3Jvb21zXCIgd2l0aG91dCB0aGUgXCJ3aXRoIHJvbGVcIiBwYXJ0LiBMZXQgbWUgbWFrZSB0aGVzZSBjaGFuZ2VzOlxuXG4jIyBJbXBsZW1lbnRhdGlvbiBQbGFuXG5cbjEuIFJlbW92ZSB0aGUgb2xkIGhhbmRsZXIgZnVuY3Rpb25zIGFuZCB1c2VjYXNlc1xuMi4gUmVuYW1lIHRoZSBuZXcgdXNlY2FzZSBhbmQgaGFuZGxlclxuMy4gVXBkYXRlIHRoZSBoYW5kbGVyIGludGVyZmFjZSBhbmQgaW1wbGVtZW50YXRpb25cbjQuIFVwZGF0ZSB0aGUgc2VydmVyIGluaXRpYWxpemF0aW9uXG41LiBVcGRhdGUgdGhlIHJvdXRlclxuXG5MZXQncyBzdGFydCBpbXBsZW1lbnRpbmcgdGhlc2UgY2hhbmdlczpcblxuIyMjIDEuIFJlbmFtZSB0aGUgdXNlY2FzZSBmaWxlIGFuZCB1cGRhdGUgaXRzIGNvbnRlbnRcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50IjoieG/DoSBhcGkgZmlsdGVyIG93bmVkIGNsYXNzcm9vbXMgdsOgIGZpbHRlciBqb2luZWQgY2xhc3Nyb29tcyBhcyBzdHVkZW50LCB4b8OhIFwid2l0aCByb2xlXCIgdHJvbmcgZmlsdGVyIGpvaW5lZCBjbGFzc3JvbXMgd2l0aCByb2xlIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NiwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9fX1dLCJyZXNwb25zZV90ZXh0IjoiSSdsbCByZW1vdmUgdGhlIG9sZCBBUElzIChmaWx0ZXIgb3duZWQgY2xhc3Nyb29tcyBhbmQgZmlsdGVyIGpvaW5lZCBjbGFzc3Jvb21zIGFzIHN0dWRlbnQpIGFuZCByZW5hbWUgdGhlIG5ldyBBUEkgdG8gc2ltcGx5IFwiZmlsdGVyIGpvaW5lZCBjbGFzc3Jvb21zXCIgd2l0aG91dCB0aGUgXCJ3aXRoIHJvbGVcIiBwYXJ0LiBMZXQgbWUgbWFrZSB0aGVzZSBjaGFuZ2VzOlxuXG4jIyBJbXBsZW1lbnRhdGlvbiBQbGFuXG5cbjEuIFJlbW92ZSB0aGUgb2xkIGhhbmRsZXIgZnVuY3Rpb25zIGFuZCB1c2VjYXNlc1xuMi4gUmVuYW1lIHRoZSBuZXcgdXNlY2FzZSBhbmQgaGFuZGxlclxuMy4gVXBkYXRlIHRoZSBoYW5kbGVyIGludGVyZmFjZSBhbmQgaW1wbGVtZW50YXRpb25cbjQuIFVwZGF0ZSB0aGUgc2VydmVyIGluaXRpYWxpemF0aW9uXG41LiBVcGRhdGUgdGhlIHJvdXRlclxuXG5MZXQncyBzdGFydCBpbXBsZW1lbnRpbmcgdGhlc2UgY2hhbmdlczpcblxuIyMjIDEuIFJlbmFtZSB0aGUgdXNlY2FzZSBmaWxlIGFuZCB1cGRhdGUgaXRzIGNvbnRlbnRcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI3MmI1YjJhMy0wNzMxLTQ2YTAtYWE4ZS1iODc0M2VkNWU2NDIiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDEzN2JTMlFENE5qNDVlcDF6VkNxSHdhIiwidG9vbF9uYW1lIjoic2F2ZS1maWxlIiwiaW5wdXRfanNvbiI6IntcImZpbGVfcGF0aFwiOiBcInVzZWNhc2UvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zLmdvXCIsIFwiZmlsZV9jb250ZW50XCI6IFwicGFja2FnZSB1c2VjYXNlXFxuXFxuaW1wb3J0IChcXG5cXHRcXFwiY29udGV4dFxcXCJcXG5cXHRcXFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcXFwiXFxuXFx0XFxcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXFxcIlxcblxcdFxcXCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcXFwiXFxuXFxuXFx0XFxcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclxcXCJcXG5cXHRcXFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXFxcIlxcblxcdFxcXCJnby51YmVyLm9yZy96YXBcXFwiXFxuKVxcblxcbnR5cGUgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2UgaW50ZXJmYWNlIHtcXG5cXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXFxufVxcblxcbnR5cGUgZmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBsIHN0cnVjdCB7XFxuXFx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcXG59XFxuXFxuZnVuYyBOZXdGaWx0ZXJKb2luZWRDbGFzc3Jvb21zVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2Uge1xcblxcdHJldHVybiAmZmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBse1xcblxcdFxcdFJlcG86IHJlcG8sXFxuXFx0fVxcbn1cXG5cXG5mdW5jICh1ICpmaWx0ZXJKb2luZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xcblxcdC8vIE5cXHUxZWJmdSBraFxcdTAwZjRuZyBjXFx1MDBmMyByb2xlIFxcdTAxMTFcXHUwMWIwXFx1MWVlM2MgY2hcXHUxZWM5IFxcdTAxMTFcXHUxZWNibmgsIGxcXHUxZWE1eSBkYW5oIHNcXHUwMGUxY2ggbFxcdTFlZGJwIGhcXHUxZWNkYyBtXFx1MDBlMCBuZ1xcdTAxYjBcXHUxZWRkaSBkXFx1MDBmOW5nIHNcXHUxZWRmIGhcXHUxZWVmdVxcblxcdGlmIHBhcmFtcy5Sb2xlID09IG5pbCB7XFxuXFx0XFx0Ly8gTFxcdTFlYTV5IGRhbmggc1xcdTAwZTFjaCBsXFx1MWVkYnAgaFxcdTFlY2RjIG1cXHUwMGUwIG5nXFx1MDFiMFxcdTFlZGRpIGRcXHUwMGY5bmcgc1xcdTFlZGYgaFxcdTFlZWZ1XFxuXFx0XFx0b3duZWRQYXJhbXMgOj0gcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcXtcXG5cXHRcXHRcXHRQYWdpbmF0aW9uUmVxOiBwYXJhbXMuUGFnaW5hdGlvblJlcSxcXG5cXHRcXHR9XFxuXFx0XFx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHgsIHVzZXJJRCwgb3duZWRQYXJhbXMpXFxuXFx0XFx0aWYgZXJyICE9IG5pbCB7XFxuXFx0XFx0XFx0bG9nZ2VyLkVycm9yKFxcXCJmYWlsZWQgdG8gZmlsdGVyIG93bmVkIGNsYXNzcm9vbXNcXFwiLCB6YXAuU3RyaW5nKFxcXCJ1c2VyIGlkXFxcIiwgdXNlcklEKSwgemFwLkVycm9yKGVycikpXFxuXFx0XFx0XFx0cmV0dXJuIG5pbCwgZXJyXFxuXFx0XFx0fVxcblxcdFxcdHJldHVybiByZXN1bHQsIG5pbFxcblxcdH1cXG5cXG5cXHQvLyBOXFx1MWViZnUgY1xcdTAwZjMgcm9sZSBcXHUwMTExXFx1MDFiMFxcdTFlZTNjIGNoXFx1MWVjOSBcXHUwMTExXFx1MWVjYm5oLCBsXFx1MWVjZGMgdGhlbyByb2xlXFxuXFx0am9pbmVkUGFyYW1zIDo9IHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxe1xcblxcdFxcdFBhZ2luYXRpb25SZXE6IHBhcmFtcy5QYWdpbmF0aW9uUmVxLFxcblxcdH1cXG5cXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHgsIHVzZXJJRCwgKnBhcmFtcy5Sb2xlLCBqb2luZWRQYXJhbXMpXFxuXFx0aWYgZXJyICE9IG5pbCB7XFxuXFx0XFx0bG9nZ2VyLkVycm9yKFxcXCJmYWlsZWQgdG8gZmlsdGVyIGpvaW5lZCBjbGFzc3Jvb21zIHdpdGggcm9sZVxcXCIsIHphcC5TdHJpbmcoXFxcInVzZXIgaWRcXFwiLCB1c2VySUQpLCB6YXAuU3RyaW5nKFxcXCJyb2xlXFxcIiwgc3RyaW5nKCpwYXJhbXMuUm9sZSkpLCB6YXAuRXJyb3IoZXJyKSlcXG5cXHRcXHRyZXR1cm4gbmlsLCBlcnJcXG5cXHR9XFxuXFx0cmV0dXJuIHJlc3VsdCwgbmlsXFxufVwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiB1c2VjYXNlL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tc193aXRoX3JvbGUuZ286XG4gICAgIDFcdHBhY2thZ2UgdXNlY2FzZVxuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IChcbiAgICAgNFx0XHRcImNvbnRleHRcIlxuICAgICA1XHRcdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuICAgICA2XHRcdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuICAgICA3XHRcdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcbiAgICAgOFx0XG4gICAgIDlcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuICAgIDEwXHRcdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcbiAgICAxMVx0XHRcImdvLnViZXIub3JnL3phcFwiXG4gICAgMTJcdClcbiAgICAxM1x0XG4gICAgMTRcdHR5cGUgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZSBpbnRlcmZhY2Uge1xuICAgIDE1XHRcdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuICAgIDE2XHR9XG4gICAgMTdcdFxuICAgIDE4XHR0eXBlIGZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVVzZUNhc2VJbXBsIHN0cnVjdCB7XG4gICAgMTlcdFx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbiAgICAyMFx0fVxuICAgIDIxXHRcbiAgICAyMlx0ZnVuYyBOZXdGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlIHtcbiAgICAyM1x0XHRyZXR1cm4gJmZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVVzZUNhc2VJbXBse1xuICAgIDI0XHRcdFx0UmVwbzogcmVwbyxcbiAgICAyNVx0XHR9XG4gICAgMjZcdH1cbiAgICAyN1x0XG4gICAgMjhcdGZ1bmMgKHUgKmZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuICAgIDI5XHRcdC8vIE7hur91IGtow7RuZyBjw7Mgcm9sZSDEkcaw4bujYyBjaOG7iSDEkeG7i25oLCBs4bqleSBkYW5oIHPDoWNoIGzhu5twIGjhu41jIG3DoCBuZ8aw4budaSBkw7luZyBz4bufIGjhu691XG4gICAgMzBcdFx0aWYgcGFyYW1zLlJvbGUgPT0gbmlsIHtcbiAgICAzMVx0XHRcdC8vIEzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgbcOgIG5nxrDhu51pIGTDuW5nIHPhu58gaOG7r3VcbiAgICAzMlx0XHRcdG93bmVkUGFyYW1zIDo9IHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXF7XG4gICAgMzNcdFx0XHRcdFBhZ2luYXRpb25SZXE6IHBhcmFtcy5QYWdpbmF0aW9uUmVxLFxuICAgIDM0XHRcdFx0fVxuICAgIDM1XHRcdFx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHgsIHVzZXJJRCwgb3duZWRQYXJhbXMpXG4gICAgMzZcdFx0XHRpZiBlcnIgIT0gbmlsIHtcbiAgICAzN1x0XHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBvd25lZCBjbGFzc3Jvb21zXCIsIHphcC5TdHJpbmcoXCJ1c2VyIGlkXCIsIHVzZXJJRCksIHphcC5FcnJvcihlcnIpKVxuICAgIDM4XHRcdFx0XHRyZXR1cm4gbmlsLCBlcnJcbiAgICAzOVx0XHRcdH1cbiAgICA0MFx0XHRcdHJldHVybiByZXN1bHQsIG5pbFxuICAgIDQxXHRcdH1cbiAgICA0Mlx0XG4gICAgNDNcdFx0Ly8gTuG6v3UgY8OzIHJvbGUgxJHGsOG7o2MgY2jhu4kgxJHhu4tuaCwgbOG7jWMgdGhlbyByb2xlXG4gICAgNDRcdFx0am9pbmVkUGFyYW1zIDo9IHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxe1xuICAgIDQ1XHRcdFx0UGFnaW5hdGlvblJlcTogcGFyYW1zLlBhZ2luYXRpb25SZXEsXG4gICAgNDZcdFx0fVxuICAgIDQ3XHRcdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCwgdXNlcklELCAqcGFyYW1zLlJvbGUsIGpvaW5lZFBhcmFtcylcbiAgICA0OFx0XHRpZiBlcnIgIT0gbmlsIHtcbiAgICA0OVx0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgam9pbmVkIGNsYXNzcm9vbXMgd2l0aCByb2xlXCIsIHphcC5TdHJpbmcoXCJ1c2VyIGlkXCIsIHVzZXJJRCksIHphcC5TdHJpbmcoXCJyb2xlXCIsIHN0cmluZygqcGFyYW1zLlJvbGUpKSwgemFwLkVycm9yKGVycikpXG4gICAgNTBcdFx0XHRyZXR1cm4gbmlsLCBlcnJcbiAgICA1MVx0XHR9XG4gICAgNTJcdFx0cmV0dXJuIHJlc3VsdCwgbmlsXG4gICAgNTNcdH1cbiAgICA1NFx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA1NFxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxOVBKMVdvN3puWnRic3lFaTM1ZW9QcCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjYsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifX19XSwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI3YzJjMDQxYS0wMzliLTRlOGItYmIwOC0wNTVmYzhlNTUxZTUiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE3b1VSeEJRQ2hTUjlIdVJnQTNMeGM4IiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcIm1vZGVsL3JlcS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfd2l0aF9yb2xlLmdvXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIjIyMgMi4gUmVuYW1lIHRoZSByZXF1ZXN0IG1vZGVsIGZpbGUgYW5kIHVwZGF0ZSBpdHMgY29udGVudFxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxMzdiUzJRRDROajQ1ZXAxelZDcUh3YSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjYsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifX19XSwicmVzcG9uc2VfdGV4dCI6IiMjIyAyLiBSZW5hbWUgdGhlIHJlcXVlc3QgbW9kZWwgZmlsZSBhbmQgdXBkYXRlIGl0cyBjb250ZW50XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZDIzYWE3NTctNDRlNS00MGQ2LThhMGItOGQwYzJkMWIyOGU5IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxU25HOEpaTUx6eW1jSjRVVVR4dVgzViIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwibW9kZWwvcmVxL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tcy5nb1wiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJwYWNrYWdlIHJlcVxcblxcbmltcG9ydCBcXFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXFxcIlxcblxcbnR5cGUgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSBzdHJ1Y3Qge1xcblxcdHJlcS5QYWdpbmF0aW9uUmVxXFxufVxcblwiLCBcIm5ld19zdHJcIjogXCJwYWNrYWdlIHJlcVxcblxcbmltcG9ydCAoXFxuXFx0XFxcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XFxcIlxcblxcblxcdFxcXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcXFwiXFxuKVxcblxcbnR5cGUgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSBzdHJ1Y3Qge1xcblxcdHJlcS5QYWdpbmF0aW9uUmVxXFxuXFx0Um9sZSAqZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUgYGpzb246XFxcInJvbGVcXFwiIHF1ZXJ5OlxcXCJyb2xlXFxcImBcXG59XFxuXCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAxLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDh9XX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gbW9kZWwvcmVxL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tc193aXRoX3JvbGUuZ286XG4gICAgIDFcdHBhY2thZ2UgcmVxXG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgKFxuICAgICA0XHRcdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuICAgICA1XHRcbiAgICAgNlx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4gICAgIDdcdClcbiAgICAgOFx0XG4gICAgIDlcdHR5cGUgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlUmVxIHN0cnVjdCB7XG4gICAgMTBcdFx0cmVxLlBhZ2luYXRpb25SZXFcbiAgICAxMVx0XHRSb2xlICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZSBganNvbjpcInJvbGVcIiBxdWVyeTpcInJvbGVcImBcbiAgICAxMlx0fVxuICAgIDEzXHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDEzXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDE3b1VSeEJRQ2hTUjlIdVJnQTNMeGM4In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NiwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9fX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImRlMjE2OGM2LWQyYzMtNDk5Mi05NDk1LTAwY2M5YzdkM2FmOSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUFlSlQzSkVKV2VxRW1ndHR0eFNiOWciLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwiaGFuZGxlci9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfd2l0aF9yb2xlLmdvXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIjIyMgMy4gUmVuYW1lIHRoZSBoYW5kbGVyIGZpbGUgYW5kIHVwZGF0ZSBpdHMgY29udGVudFxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBtb2RlbC9yZXEvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDFcdHBhY2thZ2UgcmVxXG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgKFxuICAgICA0XHRcdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuICAgICA1XHRcbiAgICAgNlx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4gICAgIDdcdClcbiAgICAgOFx0XG4gICAgIDlcdHR5cGUgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSBzdHJ1Y3Qge1xuICAgIDEwXHRcdHJlcS5QYWdpbmF0aW9uUmVxXG4gICAgMTFcdFx0Um9sZSAqZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUgYGpzb246XCJyb2xlXCIgcXVlcnk6XCJyb2xlXCJgXG4gICAgMTJcdH1cbiAgICAxM1x0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVNuRzhKWk1MenltY0o0VVVUeHVYM1YifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo2LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn19fV0sInJlc3BvbnNlX3RleHQiOiIjIyMgMy4gUmVuYW1lIHRoZSBoYW5kbGVyIGZpbGUgYW5kIHVwZGF0ZSBpdHMgY29udGVudFxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImQ2ZmVlNWM2LWE0ZmUtNGZlMC1hYmMyLWM1MTRkMzYxMGNhOSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUhDS1RiZG9yaUF2UmZqdFE3UlZud28iLCJ0b29sX25hbWUiOiJzYXZlLWZpbGUiLCJpbnB1dF9qc29uIjoie1wiZmlsZV9wYXRoXCI6IFwiaGFuZGxlci9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXMuZ29cIiwgXCJmaWxlX2NvbnRlbnRcIjogXCJwYWNrYWdlIGhhbmRsZXJcXG5cXG5pbXBvcnQgKFxcblxcdFxcXCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVxcXCJcXG5cXHRcXFwicXVpenp5LWNsYXNzcm9vbS91dGlsXFxcIlxcblxcblxcdFxcXCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcXFwiXFxuXFx0XFxcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1xcXCJcXG4pXFxuXFxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckpvaW5lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XFxuXFx0dmFyIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcVxcblxcdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcXG5cXHRcXHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxcblxcdH1cXG5cXG5cXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xcblxcdFxcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXFxuXFx0fVxcblxcblxcdC8vIExcXHUxZWE1eSBJRCBjXFx1MWVlN2EgbmdcXHUwMWIwXFx1MWVkZGkgZFxcdTAwZjluZyBoaVxcdTFlYzduIHRcXHUxZWExaSB0XFx1MWVlYiBKV1QgdG9rZW5cXG5cXHR1c2VySUQgOj0gYy5Mb2NhbHMoXFxcInVzZXJfaWRcXFwiKS4oc3RyaW5nKVxcblxcblxcdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXFxuXFx0aWYgZXJyICE9IG5pbCB7XFxuXFx0XFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcXG5cXHR9XFxuXFxuXFx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcXG59XCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIGhhbmRsZXIvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zX3dpdGhfcm9sZS5nbzpcbiAgICAgMVx0cGFja2FnZSBoYW5kbGVyXG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgKFxuICAgICA0XHRcdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuICAgICA1XHRcdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcbiAgICAgNlx0XG4gICAgIDdcdFx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuICAgICA4XHRcdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbiAgICAgOVx0KVxuICAgIDEwXHRcbiAgICAxMVx0ZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZShjICpmaWJlci5DdHgpIGVycm9yIHtcbiAgICAxMlx0XHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVSZXFcbiAgICAxM1x0XHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG4gICAgMTRcdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuICAgIDE1XHRcdH1cbiAgICAxNlx0XG4gICAgMTdcdFx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcbiAgICAxOFx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG4gICAgMTlcdFx0fVxuICAgIDIwXHRcbiAgICAyMVx0XHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cbiAgICAyMlx0XHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG4gICAgMjNcdFxuICAgIDI0XHRcdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcbiAgICAyNVx0XHRpZiBlcnIgIT0gbmlsIHtcbiAgICAyNlx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG4gICAgMjdcdFx0fVxuICAgIDI4XHRcbiAgICAyOVx0XHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxuICAgIDMwXHR9XG4gICAgMzFcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMzFcbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUFlSlQzSkVKV2VxRW1ndHR0eFNiOWcifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo2LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn19fV0sInJlc3BvbnNlX3RleHQiOiIiLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZDYwZmFkMjQtZGYyZC00OTM4LThkYmQtNmFkZjFlMDNmMmU1IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxM1dkR0RQdmUzMWpmUjN3eUc5NUdmMSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwiaGFuZGxlci9oYW5kbGVyLmdvXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcInR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xcblxcdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAgICAgIC8vIFRcXHUxZWExbyBsXFx1MWVkYnAgaFxcdTFlY2RjXFxuXFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgLy8gTFxcdTFlY2RjIHRoXFx1MDBlMG5oIHZpXFx1MDBlYW4gY1xcdTFlZTdhIGxcXHUxZWRicCBoXFx1MWVjZGNcXG5cXHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgICAgICAgICAvLyBNXFx1MWVkZGkgdGhcXHUwMGUwbmggdmlcXHUwMGVhbiB2XFx1MDBlMG8gbFxcdTFlZGJwIGhcXHUxZWNkY1xcblxcdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgICAgIC8vIExcXHUxZWNkYyBkYW5oIHNcXHUwMGUxY2ggbFxcdTFlZGRpIG1cXHUxZWRkaVxcblxcdFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgICAgIC8vIFRcXHUxZWViIGNoXFx1MWVkMWkgbFxcdTFlZGRpIG1cXHUxZWRkaVxcblxcdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgICAgIC8vIENoXFx1MWVhNXAgbmhcXHUxZWFkbiBsXFx1MWVkZGkgbVxcdTFlZGRpXFxuXFx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTFxcdTFlY2RjIGRhbmggc1xcdTAwZTFjaCB0aFxcdTAwZTBuaCB2aVxcdTAwZWFuIFxcdTAxMTFcXHUwMGUzIFxcdTAxMTFcXHUwMWIwXFx1MWVlM2MgbVxcdTFlZGRpXFxuXFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgLy8gTFxcdTFlY2RjIGRhbmggc1xcdTAwZTFjaCBsXFx1MWVkYnAgaFxcdTFlY2RjIFxcdTAxMTFhbmcgc1xcdTFlZGYgaFxcdTFlZWZ1XFxuXFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudChjICpmaWJlci5DdHgpIGVycm9yIC8vIExcXHUxZWNkYyBkYW5oIHNcXHUwMGUxY2ggbFxcdTFlZGJwIGhcXHUxZWNkYyBcXHUwMTExXFx1MDBlMyB0aGFtIGdpYSB2XFx1MWVkYmkgdmFpIHRyXFx1MDBmMiBoXFx1MWVjZGMgc2luaFxcblxcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZShjICpmaWJlci5DdHgpIGVycm9yIC8vIExcXHUxZWNkYyBkYW5oIHNcXHUwMGUxY2ggbFxcdTFlZGJwIGhcXHUxZWNkYyBcXHUwMTExXFx1MDBlMyB0aGFtIGdpYSAoY1xcdTAwZjMgdGhcXHUxZWMzIGxcXHUxZWNkYyB0aGVvIHZhaSB0clxcdTAwZjIpXFxufVwiLCBcIm5ld19zdHJcIjogXCJ0eXBlIEhhbmRsZXIgaW50ZXJmYWNlIHtcXG5cXHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgICAgICAvLyBUXFx1MWVhMW8gbFxcdTFlZGJwIGhcXHUxZWNkY1xcblxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgIC8vIExcXHUxZWNkYyB0aFxcdTAwZTBuaCB2aVxcdTAwZWFuIGNcXHUxZWU3YSBsXFx1MWVkYnAgaFxcdTFlY2RjXFxuXFx0SW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgICAgICAgICAgLy8gTVxcdTFlZGRpIHRoXFx1MDBlMG5oIHZpXFx1MDBlYW4gdlxcdTAwZTBvIGxcXHUxZWRicCBoXFx1MWVjZGNcXG5cXHRGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAgICAvLyBMXFx1MWVjZGMgZGFuaCBzXFx1MDBlMWNoIGxcXHUxZWRkaSBtXFx1MWVkZGlcXG5cXHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgICAgICAvLyBUXFx1MWVlYiBjaFxcdTFlZDFpIGxcXHUxZWRkaSBtXFx1MWVkZGlcXG5cXHRBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgICAgICAvLyBDaFxcdTFlYTVwIG5oXFx1MWVhZG4gbFxcdTFlZGRpIG1cXHUxZWRkaVxcblxcdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgIC8vIExcXHUxZWNkYyBkYW5oIHNcXHUwMGUxY2ggdGhcXHUwMGUwbmggdmlcXHUwMGVhbiBcXHUwMTExXFx1MDBlMyBcXHUwMTExXFx1MDFiMFxcdTFlZTNjIG1cXHUxZWRkaVxcblxcdEZpbHRlckpvaW5lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgIC8vIExcXHUxZWNkYyBkYW5oIHNcXHUwMGUxY2ggbFxcdTFlZGJwIGhcXHUxZWNkYyBcXHUwMTExXFx1MDBlMyB0aGFtIGdpYVxcbn1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDksIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMTl9LCB7XCJvbGRfc3RyXCI6IFwidHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xcblxcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VcXG5cXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSAgICAgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxcblxcdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2VcXG5cXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VcXG5cXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxcblxcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXFxuXFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXFxuXFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZVxcblxcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlIHVzZWNhc2UuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2VcXG5cXHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlIHVzZWNhc2UuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZVxcbn1cIiwgXCJuZXdfc3RyXCI6IFwidHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xcblxcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxcblxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcXG5cXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2VcXG5cXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxcblxcdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2VcXG5cXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXFxuXFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VcXG5cXHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlXFxufVwiLCBcIm9sZF9zdHJfc3RhcnRfbGluZV9udW1iZXJcIjogMjEsIFwib2xkX3N0cl9lbmRfbGluZV9udW1iZXJcIjogMzJ9LCB7XCJvbGRfc3RyXCI6IFwidHlwZSBJbmplY3Qgc3RydWN0IHtcXG5cXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXFxuXFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgICAgIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcXG5cXHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXFxuXFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXFxuXFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2VcXG5cXHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxcblxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgICAgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxcblxcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VcXG5cXHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSB1c2VjYXNlLkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlXFxuXFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVVzZUNhc2VcXG59XCIsIFwibmV3X3N0clwiOiBcInR5cGUgSW5qZWN0IHN0cnVjdCB7XFxuXFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXFxuXFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxcblxcdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxcblxcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXFxuXFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxcblxcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2VcXG5cXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxcblxcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlIHVzZWNhc2UuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2VcXG59XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAzNCwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA0NX0sIHtcIm9sZF9zdHJcIjogXCJmdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XFxuXFx0cmV0dXJuICZoYW5kbGVySW1wbHtcXG5cXHRcXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxcblxcdFxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiAgICAgaW5qZWN0LkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLFxcblxcdFxcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICAgICAgaW5qZWN0Lkludml0ZU1lbWJlclVzZUNhc2UsXFxuXFx0XFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxcblxcdFxcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICAgICAgaW5qZWN0LlJlamVjdEludml0YXRpb25Vc2VDYXNlLFxcblxcdFxcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICAgICAgaW5qZWN0LkFjY2VwdEludml0YXRpb25Vc2VDYXNlLFxcblxcdFxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICAgICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcXG5cXHRcXHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlOiAgICAgIGluamVjdC5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlLFxcblxcdFxcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlOiBpbmplY3QuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2UsXFxuXFx0XFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZTogaW5qZWN0LkZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVVzZUNhc2UsXFxuXFx0fVxcbn1cIiwgXCJuZXdfc3RyXCI6IFwiZnVuYyBOZXcoaW5qZWN0ICpJbmplY3QpIEhhbmRsZXIge1xcblxcdHJldHVybiAmaGFuZGxlckltcGx7XFxuXFx0XFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxcblxcdFxcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiBpbmplY3QuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UsXFxuXFx0XFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIGluamVjdC5JbnZpdGVNZW1iZXJVc2VDYXNlLFxcblxcdFxcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLFxcblxcdFxcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuUmVqZWN0SW52aXRhdGlvblVzZUNhc2UsXFxuXFx0XFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSxcXG5cXHRcXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgaW5qZWN0LkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSxcXG5cXHRcXHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zVXNlQ2FzZTogaW5qZWN0LkZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlLFxcblxcdH1cXG59XCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiA0NywgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA2MH1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIyMjIDQuIFVwZGF0ZSB0aGUgaGFuZGxlciBpbnRlcmZhY2UgYW5kIGltcGxlbWVudGF0aW9uXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFIQ0tUYmRvcmlBdlJmanRRN1JWbndvIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NiwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9fX1dLCJyZXNwb25zZV90ZXh0IjoiIyMjIDQuIFVwZGF0ZSB0aGUgaGFuZGxlciBpbnRlcmZhY2UgYW5kIGltcGxlbWVudGF0aW9uXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNjI0OWY3ZTQtZWJjMS00YjQ3LWIyNWUtZjhhN2EwMWQ5MDVmIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxR05kSkIybmM1Sk5OcEFVNXh3dEFGViIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwic2VydmVyL3NlcnZlci5nb1wiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJcXHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcXG5cXHRcXHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgICAgIHVzZWNhc2UuTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHRcXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogICAgIHVzZWNhc2UuTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgICAgICB1c2VjYXNlLk5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHRcXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgICAgIHVzZWNhc2UuTmV3UmVqZWN0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZTogICAgICB1c2VjYXNlLk5ld0ZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2U6IHVzZWNhc2UuTmV3RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdH0pXCIsIFwibmV3X3N0clwiOiBcIlxcdGhhbmRsZXIgOj0gaGFuZGxlci5OZXcoJmhhbmRsZXIuSW5qZWN0e1xcblxcdFxcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICB1c2VjYXNlLk5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IHVzZWNhc2UuTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIHVzZWNhc2UuTmV3SW52aXRlTWVtYmVyVXNlQ2FzZShyZXBvc2l0b3J5KSxcXG5cXHRcXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIHVzZWNhc2UuTmV3UmVqZWN0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIHVzZWNhc2UuTmV3QWNjZXB0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXFxuXFx0XFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdFxcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlKHJlcG9zaXRvcnkpLFxcblxcdH0pXCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAyOSwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiA0MH1dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIyMjIDUuIFVwZGF0ZSB0aGUgc2VydmVyIGluaXRpYWxpemF0aW9uXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIGhhbmRsZXIvaGFuZGxlci5nby5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgICA1XHRcbiAgICAgNlx0XHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4gICAgIDdcdClcbiAgICAgOFx0XG4gICAgIDlcdHR5cGUgSGFuZGxlciBpbnRlcmZhY2Uge1xuICAgIDEwXHRcdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG4gICAgMTFcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgLy8gTOG7jWMgdGjDoG5oIHZpw6puIGPhu6dhIGzhu5twIGjhu41jXG4gICAgMTJcdFx0SW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgICAgICAgICAgLy8gTeG7nWkgdGjDoG5oIHZpw6puIHbDoG8gbOG7m3AgaOG7jWNcbiAgICAxM1x0XHRGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG4gICAgMTRcdFx0UmVqZWN0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAgICAgLy8gVOG7qyBjaOG7kWkgbOG7nWkgbeG7nWlcbiAgICAxNVx0XHRBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgICAgICAvLyBDaOG6pXAgbmjhuq1uIGzhu51pIG3hu51pXG4gICAgMTZcdFx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxuICAgIDE3XHRcdEZpbHRlckpvaW5lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJHDoyB0aGFtIGdpYVxuICAgIDE4XHR9XG4gICAgMTlcdFxuICAgIDIwXHR0eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XG4gICAgMjFcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG4gICAgMjJcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMV06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAxNlx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG4gICAgMTdcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkcOjIHRoYW0gZ2lhXG4gICAgMThcdH1cbiAgICAxOVx0XG4gICAgMjBcdHR5cGUgaGFuZGxlckltcGwgc3RydWN0IHtcbiAgICAyMVx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VcbiAgICAyMlx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG4gICAgMjNcdFx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG4gICAgMjRcdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VcbiAgICAyNVx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG4gICAgMjZcdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuICAgIDI3XHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG4gICAgMjhcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zVXNlQ2FzZVxuICAgIDI5XHR9XG4gICAgMzBcdFxuICAgIDMxXHR0eXBlIEluamVjdCBzdHJ1Y3Qge1xuICAgIDMyXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuICAgIDMzXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcblxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzJdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgMjdcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VcbiAgICAyOFx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlXG4gICAgMjlcdH1cbiAgICAzMFx0XG4gICAgMzFcdHR5cGUgSW5qZWN0IHN0cnVjdCB7XG4gICAgMzJcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG4gICAgMzNcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuICAgIDM0XHRcdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuICAgIDM1XHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG4gICAgMzZcdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxuICAgIDM3XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2VcbiAgICAzOFx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxuICAgIDM5XHRcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlIHVzZWNhc2UuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2VcbiAgICA0MFx0fVxuICAgIDQxXHRcbiAgICA0Mlx0ZnVuYyBOZXcoaW5qZWN0ICpJbmplY3QpIEhhbmRsZXIge1xuICAgIDQzXHRcdHJldHVybiAmaGFuZGxlckltcGx7XG4gICAgNDRcdFx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1szXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDM4XHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG4gICAgMzlcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zVXNlQ2FzZVxuICAgIDQwXHR9XG4gICAgNDFcdFxuICAgIDQyXHRmdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XG4gICAgNDNcdFx0cmV0dXJuICZoYW5kbGVySW1wbHtcbiAgICA0NFx0XHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICBpbmplY3QuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSxcbiAgICA0NVx0XHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiBpbmplY3QuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UsXG4gICAgNDZcdFx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgaW5qZWN0Lkludml0ZU1lbWJlclVzZUNhc2UsXG4gICAgNDdcdFx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgaW5qZWN0LkZpbHRlckludml0YXRpb25zVXNlQ2FzZSxcbiAgICA0OFx0XHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuUmVqZWN0SW52aXRhdGlvblVzZUNhc2UsXG4gICAgNDlcdFx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LkFjY2VwdEludml0YXRpb25Vc2VDYXNlLFxuICAgIDUwXHRcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIGluamVjdC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UsXG4gICAgNTFcdFx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zVXNlQ2FzZTogaW5qZWN0LkZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlLFxuICAgIDUyXHRcdH1cbiAgICA1M1x0fVxuICAgIDU0XHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxM1dkR0RQdmUzMWpmUjN3eUc5NUdmMSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjYsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifX19XSwicmVzcG9uc2VfdGV4dCI6IiMjIyA1LiBVcGRhdGUgdGhlIHNlcnZlciBpbml0aWFsaXphdGlvblxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjRkZjQ0ZTMzLTU3OGYtNDk2Yi1hZmRlLWY0MDkzOTc5OTlhMiIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUg4SGtEb0ViYUMzajNLR1g2M1ZYN1UiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInNlcnZlci9yb3V0ZXIuZ29cIiwgXCJzdHJfcmVwbGFjZV9lbnRyaWVzXCI6IFt7XCJvbGRfc3RyXCI6IFwiXFx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFxcXCIvY2xhc3Nyb29tXFxcIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxcblxcdGNsYXNzcm9vbUdyb3VwLlBvc3QoXFxcIi9jcmVhdGVcXFwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcXG5cXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFxcXCIvaW52aXRlXFxcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXFxuXFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFxcXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXFxcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxcblxcdGNsYXNzcm9vbUdyb3VwLkdldChcXFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXFxcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcXG5cXHRjbGFzc3Jvb21Hcm91cC5HZXQoXFxcIi9qb2luZWRcXFwiLCBoYW5kbGVyLkZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZSlcIiwgXCJuZXdfc3RyXCI6IFwiXFx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFxcXCIvY2xhc3Nyb29tXFxcIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxcblxcdGNsYXNzcm9vbUdyb3VwLlBvc3QoXFxcIi9jcmVhdGVcXFwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcXG5cXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFxcXCIvaW52aXRlXFxcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXFxuXFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFxcXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXFxcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxcblxcdGNsYXNzcm9vbUdyb3VwLkdldChcXFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXFxcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcXG5cXHRjbGFzc3Jvb21Hcm91cC5HZXQoXFxcIi9qb2luZWRcXFwiLCBoYW5kbGVyLkZpbHRlckpvaW5lZENsYXNzcm9vbXMpXCIsIFwib2xkX3N0cl9zdGFydF9saW5lX251bWJlclwiOiAxMiwgXCJvbGRfc3RyX2VuZF9saW5lX251bWJlclwiOiAxN31dfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIyMjIDYuIFVwZGF0ZSB0aGUgcm91dGVyXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNlcnZlci9zZXJ2ZXIuZ28uXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAyNVx0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBpbml0IHByb3ZpZGVyXCIsIHphcC5FcnJvcihlcnIpKVxuICAgIDI2XHRcdFx0cmV0dXJuXG4gICAgMjdcdFx0fVxuICAgIDI4XHRcdHJlcG9zaXRvcnkgOj0gcmVwb3NpdG9yeS5OZXcocHJvdmlkZXIpXG4gICAgMjlcdFx0aGFuZGxlciA6PSBoYW5kbGVyLk5ldygmaGFuZGxlci5JbmplY3R7XG4gICAgMzBcdFx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgdXNlY2FzZS5OZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDMxXHRcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IHVzZWNhc2UuTmV3RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzJcdFx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgdXNlY2FzZS5OZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDMzXHRcdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM0XHRcdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIHVzZWNhc2UuTmV3UmVqZWN0SW52aXRhdGlvblVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzVcdFx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzNlx0XHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICB1c2VjYXNlLk5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzN1x0XHRcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM4XHRcdH0pXG4gICAgMzlcdFxuICAgIDQwXHRcdEluaXRSb3V0ZXIoYXBwLCBoYW5kbGVyKVxuICAgIDQxXHRcdHV0aWwuSW5pdFZhbGlkYXRlKClcbiAgICA0Mlx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUdOZEpCMm5jNUpOTnBBVTV4d3RBRlYifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo2LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn19fV0sInJlc3BvbnNlX3RleHQiOiIjIyMgNi4gVXBkYXRlIHRoZSByb3V0ZXJcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI3MDRjOWJmOC1lNzk2LTQ4ZDgtYjRlNC05ZjE3NWRkNTZjNzYiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFZS1pXTTdwRk5DcFY0MTFka0hrVWdyIiwidG9vbF9uYW1lIjoicmVtb3ZlLWZpbGVzIiwiaW5wdXRfanNvbiI6IntcImZpbGVfcGF0aHNcIjogW1widXNlY2FzZS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1wiLCBcInVzZWNhc2UvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zX2FzX3N0dWRlbnQuZ29cIiwgXCJ1c2VjYXNlL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tc193aXRoX3JvbGUuZ29cIiwgXCJoYW5kbGVyL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXCIsIFwiaGFuZGxlci9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfYXNfc3R1ZGVudC5nb1wiLCBcImhhbmRsZXIvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zX3dpdGhfcm9sZS5nb1wiLCBcIm1vZGVsL3JlcS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfd2l0aF9yb2xlLmdvXCIsIFwibW9kZWwvcmVxL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXCJdfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIyMjIDcuIFJlbW92ZSB0aGUgb2xkIGZpbGVzXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHNlcnZlci9yb3V0ZXIuZ28uXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgOFx0XHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4gICAgIDlcdClcbiAgICAxMFx0XG4gICAgMTFcdGZ1bmMgSW5pdFJvdXRlcihhcHAgKmZpYmVyLkFwcCwgaGFuZGxlciBoYW5kbGVyLkhhbmRsZXIpIHtcbiAgICAxMlx0XHRjbGFzc3Jvb21Hcm91cCA6PSBhcHAuR3JvdXAoXCIvY2xhc3Nyb29tXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcbiAgICAxM1x0XHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2NyZWF0ZVwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcbiAgICAxNFx0XHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2ludml0ZVwiLCBoYW5kbGVyLkludml0ZU1lbWJlcilcbiAgICAxNVx0XHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycylcbiAgICAxNlx0XHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcbiAgICAxN1x0XHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvam9pbmVkXCIsIGhhbmRsZXIuRmlsdGVySm9pbmVkQ2xhc3Nyb29tcylcbiAgICAxOFx0XG4gICAgMTlcdFx0aW52aXRhdGlvbkdyb3VwIDo9IGFwcC5Hcm91cChcIi9pbnZpdGF0aW9uXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcbiAgICAyMFx0XHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuICAgIDIxXHRcdGludml0YXRpb25Hcm91cC5QdXQoXCIvcmVqZWN0LzppZFwiLCBoYW5kbGVyLlJlamVjdEludml0YXRpb24pXG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUg4SGtEb0ViYUMzajNLR1g2M1ZYN1UifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo2LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn19fV0sInJlc3BvbnNlX3RleHQiOiIjIyMgNy4gUmVtb3ZlIHRoZSBvbGQgZmlsZXNcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI1MTY4ZmU1OC0zMzcxLTQ2YWQtYmJlMy1hODRlN2E4MTNiMzkiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFDUm9EbUYzcG1RVGNOcXZwUHNrOUxGIiwidG9vbF9uYW1lIjoibGF1bmNoLXByb2Nlc3MiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcImdvIHJ1biBtYWluLmdvIHNlcnZlIC1lIC4vZGVwbG95L2xvY2FsLmVudlwiLCBcIndhaXRcIjogdHJ1ZSwgXCJ3YWl0X3NlY29uZHNcIjogMTB9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIjIyBUZXN0aW5nXG5cbkxldCdzIHZlcmlmeSB0aGF0IG91ciBpbXBsZW1lbnRhdGlvbiBpcyBjb3JyZWN0IGJ5IHJ1bm5pbmcgdGhlIHNlcnZlcjpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUocykgcmVtb3ZlZDogdXNlY2FzZS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nbywgdXNlY2FzZS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfYXNfc3R1ZGVudC5nbywgdXNlY2FzZS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfd2l0aF9yb2xlLmdvLCBoYW5kbGVyL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvLCBoYW5kbGVyL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tc19hc19zdHVkZW50LmdvLCBoYW5kbGVyL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tc193aXRoX3JvbGUuZ28sIG1vZGVsL3JlcS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfd2l0aF9yb2xlLmdvLCBtb2RlbC9yZXEvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ28iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFZS1pXTTdwRk5DcFY0MTFka0hrVWdyIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NiwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9fX1dLCJyZXNwb25zZV90ZXh0IjoiIyMgVGVzdGluZ1xuXG5MZXQncyB2ZXJpZnkgdGhhdCBvdXIgaW1wbGVtZW50YXRpb24gaXMgY29ycmVjdCBieSBydW5uaW5nIHRoZSBzZXJ2ZXI6XG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiOGQ0NjI1MjktMzFlYS00OTA2LWI0YTYtOWYzNmI4YTdhMzNkIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxRFN6M0c3aDFXeTNNUno0OVZuUnlwaCIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwidmlld1wiLCBcInBhdGhcIjogXCJyZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IldlIG5lZWQgdG8gZml4IHRoZSBjb21waWxhdGlvbiBlcnJvcnMuIFRoZSBpc3N1ZSBpcyB0aGF0IHdlIHJlbW92ZWQgdGhlIGBGaWx0ZXJPd25lZENsYXNzcm9vbXNSZXFgIHR5cGUgYnV0IGl0J3Mgc3RpbGwgYmVpbmcgcmVmZXJlbmNlZCBpbiB0aGUgcmVwb3NpdG9yeSBjb2RlLiBMZXQncyBmaXggdGhlc2UgaXNzdWVzOlxuXG4jIyMgMS4gRml4IHRoZSByZXBvc2l0b3J5IGludGVyZmFjZVxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiSGVyZSBhcmUgdGhlIHJlc3VsdHMgZnJvbSBleGVjdXRpbmcgdGhlIGNvbW1hbmQuXG4gICAgICAgIDxyZXR1cm4tY29kZT5cbiAgICAgICAgMVxuICAgICAgICA8L3JldHVybi1jb2RlPlxuICAgICAgICA8c3Rkb3V0PlxuICAgICAgICAjIHF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVxucmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvOjIzOjcxOiB1bmRlZmluZWQ6IHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXFcbnJlcG9zaXRvcnkvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ286MTM6OTU6IHVuZGVmaW5lZDogcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcVxuXG4gICAgICAgIDwvc3Rkb3V0PlxuICAgICAgICA8c3RkZXJyPlxuICAgICAgICBcbiAgICAgICAgPC9zdGRlcnI+IiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxQ1JvRG1GM3BtUVRjTnF2cFBzazlMRiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjcsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifX19XSwicmVzcG9uc2VfdGV4dCI6IldlIG5lZWQgdG8gZml4IHRoZSBjb21waWxhdGlvbiBlcnJvcnMuIFRoZSBpc3N1ZSBpcyB0aGF0IHdlIHJlbW92ZWQgdGhlIGBGaWx0ZXJPd25lZENsYXNzcm9vbXNSZXFgIHR5cGUgYnV0IGl0J3Mgc3RpbGwgYmVpbmcgcmVmZXJlbmNlZCBpbiB0aGUgcmVwb3NpdG9yeSBjb2RlLiBMZXQncyBmaXggdGhlc2UgaXNzdWVzOlxuXG4jIyMgMS4gRml4IHRoZSByZXBvc2l0b3J5IGludGVyZmFjZVxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6Ijc2ODIyZjVlLTdjYTUtNDljMS05MTFkLWQ3NzBkMGI5ODBjNSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUJ4TlJaUGs2eEVhNnY4SHBuN3U5ckciLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1wiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJcXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVwiLCBcIm5ld19zdHJcIjogXCJcXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDIzLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDIzfV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nbzpcbiAgICAgMVx0cGFja2FnZSByZXBvc2l0b3J5XG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgKFxuICAgICA0XHRcdFwiY29udGV4dFwiXG4gICAgIDVcdFx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4gICAgIDZcdFx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG4gICAgIDdcdFx0XCJxdWl6enktY2xhc3Nyb29tL3Byb3ZpZGVyXCJcbiAgICAgOFx0XG4gICAgIDlcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuICAgIDEwXHQpXG4gICAgMTFcdFxuICAgIDEyXHR0eXBlIFJlcG9zaXRvcnkgaW50ZXJmYWNlIHtcbiAgICAxM1x0XHRDcmVhdGVDbGFzc3Jvb20oY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvclxuICAgIDE0XHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxuICAgIDE1XHRcdENyZWF0ZUludml0YXRpb24oY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG4gICAgMTZcdFx0SXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCByZWNlaXZlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuICAgIDE3XHRcdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG4gICAgMThcdFx0RmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbiAgICAxOVx0XHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcbiAgICAyMFx0XHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3JcbiAgICAyMVx0XHRDcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgbWVtYmVyICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyKSBlcnJvclxuICAgIDIyXHRcdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuICAgIDIzXHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG4gICAgMjRcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCByb2xlIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuICAgIDI1XHR9XG4gICAgMjZcdFxuICAgIDI3XHR0eXBlIHJlcG9zaXRvcnlJbXBsIHN0cnVjdCB7XG4gICAgMjhcdFx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG4gICAgMjlcdH1cbiAgICAzMFx0XG4gICAgMzFcdGZ1bmMgTmV3KHByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlcikgUmVwb3NpdG9yeSB7XG4gICAgMzJcdFx0cmV0dXJuICZyZXBvc2l0b3J5SW1wbHtcbiAgICAzM1x0XHRcdFByb3ZpZGVyOiBwcm92aWRlcixcbiAgICAzNFx0XHR9XG4gICAgMzVcdH1cbiAgICAzNlx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAzNlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxRFN6M0c3aDFXeTNNUno0OVZuUnlwaCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjcsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifX19XSwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI2YTIwYmRjOC1iMTFlLTRjMmMtYTUzZS1kMDliMTYyMDM3NTciLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFQTjZyVENhTlVXM3dIS2NrdnB3UGkxIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInJlcG9zaXRvcnkvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiMjIyAyLiBGaXggdGhlIEZpbHRlck93bmVkQ2xhc3Nyb29tcyBpbXBsZW1lbnRhdGlvblxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ28uXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAxOVx0XHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcbiAgICAyMFx0XHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3JcbiAgICAyMVx0XHRDcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgbWVtYmVyICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyKSBlcnJvclxuICAgIDIyXHRcdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuICAgIDIzXHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuICAgIDI0XHRcdEZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcm9sZSBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZSwgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbiAgICAyNVx0fVxuICAgIDI2XHRcbiAgICAyN1x0dHlwZSByZXBvc2l0b3J5SW1wbCBzdHJ1Y3Qge1xuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFCeE5SWlBrNnhFYTZ2OEhwbjd1OXJHIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NywiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9fX1dLCJyZXNwb25zZV90ZXh0IjoiIyMjIDIuIEZpeCB0aGUgRmlsdGVyT3duZWRDbGFzc3Jvb21zIGltcGxlbWVudGF0aW9uXG4iLCJ3b3Jrc3BhY2VfZmlsZV9jaHVua3MiOltdfSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZDQzNDljOTgtNGRhYi00OGRiLTllNWYtNzcxNWI2MTM5N2ZjIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxVW1odnhyYmducFNLdDI2a2g5YU40QSIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwicmVwb3NpdG9yeS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1wiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJmdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1wiLCBcIm5ld19zdHJcIjogXCJmdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDEzLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDEzfV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHJlcG9zaXRvcnkvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ286XG4gICAgIDFcdHBhY2thZ2UgcmVwb3NpdG9yeVxuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IChcbiAgICAgNFx0XHRcImNvbnRleHRcIlxuICAgICA1XHRcdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuICAgICA2XHRcdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuICAgICA3XHRcbiAgICAgOFx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuICAgICA5XHRcdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcbiAgICAxMFx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbiAgICAxMVx0KVxuICAgIDEyXHRcbiAgICAxM1x0ZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcbiAgICAxNFx0XHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHlde1xuICAgIDE1XHRcdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcbiAgICAxNlx0XHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuICAgIDE3XHRcdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcImNyZWF0ZWRfYXQgREVTQ1wiKSwgLy8gTeG6t2MgxJHhu4tuaCBz4bqvcCB44bq/cCB0aGVvIG5nw6B5IHThuqFvIG3hu5tpIG5o4bqldFxuICAgIDE4XHRcdH1cbiAgICAxOVx0XG4gICAgMjBcdFx0dmFyIGNsYXNzcm9vbXMgW11lbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG4gICAgMjFcdFx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG4gICAgMjJcdFx0XHRXaXRoQ29udGV4dChjdHgpLlxuICAgIDIzXHRcdFx0V2hlcmUoXCJ1c2VyX2lkID0gP1wiLCB1c2VySUQpLlxuICAgIDI0XHRcdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cbiAgICAyNVx0XHRcdEZpbmQoJmNsYXNzcm9vbXMpLlxuICAgIDI2XHRcdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuICAgIDI3XHRcdFx0cmV0dXJuIG5pbCwgZXJyXG4gICAgMjhcdFx0fVxuICAgIDI5XHRcbiAgICAzMFx0XHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21zXG4gICAgMzFcdFx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbiAgICAzMlx0fVxuICAgIDMzXHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDMzXG4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFQTjZyVENhTlVXM3dIS2NrdnB3UGkxIn19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6NywiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9fX1dLCJyZXNwb25zZV90ZXh0IjoiIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImExZTFmNDE5LWQyMTAtNDJkYi1hMzgzLTk5ZmM3NWIxYWIzNSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUh4UEdoRmRMSFVwWHlheDJiRmpzYUwiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwidXNlY2FzZS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXMuZ29cIn0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiMjIyAzLiBGaXggdGhlIHVzZWNhc2UgaW1wbGVtZW50YXRpb25cbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgcmVwb3NpdG9yeS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nby5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgICA5XHRcdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcbiAgICAxMFx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbiAgICAxMVx0KVxuICAgIDEyXHRcbiAgICAxM1x0ZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG4gICAgMTRcdFx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XXtcbiAgICAxNVx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG4gICAgMTZcdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcbiAgICAxN1x0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxVW1odnhyYmducFNLdDI2a2g5YU40QSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjcsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifX19XSwicmVzcG9uc2VfdGV4dCI6IiMjIyAzLiBGaXggdGhlIHVzZWNhc2UgaW1wbGVtZW50YXRpb25cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoiY2FuY2VsbGVkIiwicmVxdWVzdF9pZCI6InRlbXAtZmUtZmQxNWY1NmMtY2VkNy00ZjE5LWJlYzgtNTA0YTJlNzE2OTE4IiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHVzZWNhc2UvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zLmdvOlxuICAgICAxXHRwYWNrYWdlIHVzZWNhc2VcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCAoXG4gICAgIDRcdFx0XCJjb250ZXh0XCJcbiAgICAgNVx0XHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbiAgICAgNlx0XHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbiAgICAgN1x0XHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG4gICAgIDhcdFxuICAgICA5XHRcdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcbiAgICAxMFx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4gICAgMTFcdFx0XCJnby51YmVyLm9yZy96YXBcIlxuICAgIDEyXHQpXG4gICAgMTNcdFxuICAgIDE0XHR0eXBlIEZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlIGludGVyZmFjZSB7XG4gICAgMTVcdFx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuICAgIDE2XHR9XG4gICAgMTdcdFxuICAgIDE4XHR0eXBlIGZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuICAgIDE5XHRcdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG4gICAgMjBcdH1cbiAgICAyMVx0XG4gICAgMjJcdGZ1bmMgTmV3RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlIHtcbiAgICAyM1x0XHRyZXR1cm4gJmZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlSW1wbHtcbiAgICAyNFx0XHRcdFJlcG86IHJlcG8sXG4gICAgMjVcdFx0fVxuICAgIDI2XHR9XG4gICAgMjdcdFxuICAgIDI4XHRmdW5jICh1ICpmaWx0ZXJKb2luZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuICAgIDI5XHRcdC8vIE7hur91IGtow7RuZyBjw7Mgcm9sZSDEkcaw4bujYyBjaOG7iSDEkeG7i25oLCBs4bqleSBkYW5oIHPDoWNoIGzhu5twIGjhu41jIG3DoCBuZ8aw4budaSBkw7luZyBz4bufIGjhu691XG4gICAgMzBcdFx0aWYgcGFyYW1zLlJvbGUgPT0gbmlsIHtcbiAgICAzMVx0XHRcdC8vIEzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgbcOgIG5nxrDhu51pIGTDuW5nIHPhu58gaOG7r3VcbiAgICAzMlx0XHRcdG93bmVkUGFyYW1zIDo9IHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXF7XG4gICAgMzNcdFx0XHRcdFBhZ2luYXRpb25SZXE6IHBhcmFtcy5QYWdpbmF0aW9uUmVxLFxuICAgIDM0XHRcdFx0fVxuICAgIDM1XHRcdFx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHgsIHVzZXJJRCwgb3duZWRQYXJhbXMpXG4gICAgMzZcdFx0XHRpZiBlcnIgIT0gbmlsIHtcbiAgICAzN1x0XHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBvd25lZCBjbGFzc3Jvb21zXCIsIHphcC5TdHJpbmcoXCJ1c2VyIGlkXCIsIHVzZXJJRCksIHphcC5FcnJvcihlcnIpKVxuICAgIDM4XHRcdFx0XHRyZXR1cm4gbmlsLCBlcnJcbiAgICAzOVx0XHRcdH1cbiAgICA0MFx0XHRcdHJldHVybiByZXN1bHQsIG5pbFxuICAgIDQxXHRcdH1cbiAgICA0Mlx0XG4gICAgNDNcdFx0Ly8gTuG6v3UgY8OzIHJvbGUgxJHGsOG7o2MgY2jhu4kgxJHhu4tuaCwgbOG7jWMgdGhlbyByb2xlXG4gICAgNDRcdFx0am9pbmVkUGFyYW1zIDo9IHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxe1xuICAgIDQ1XHRcdFx0UGFnaW5hdGlvblJlcTogcGFyYW1zLlBhZ2luYXRpb25SZXEsXG4gICAgNDZcdFx0fVxuICAgIDQ3XHRcdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCwgdXNlcklELCAqcGFyYW1zLlJvbGUsIGpvaW5lZFBhcmFtcylcbiAgICA0OFx0XHRpZiBlcnIgIT0gbmlsIHtcbiAgICA0OVx0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgam9pbmVkIGNsYXNzcm9vbXMgd2l0aCByb2xlXCIsIHphcC5TdHJpbmcoXCJ1c2VyIGlkXCIsIHVzZXJJRCksIHphcC5TdHJpbmcoXCJyb2xlXCIsIHN0cmluZygqcGFyYW1zLlJvbGUpKSwgemFwLkVycm9yKGVycikpXG4gICAgNTBcdFx0XHRyZXR1cm4gbmlsLCBlcnJcbiAgICA1MVx0XHR9XG4gICAgNTJcdFx0cmV0dXJuIHJlc3VsdCwgbmlsXG4gICAgNTNcdH1cbiAgICA1NFx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA1NFxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxSHhQR2hGZExIVXBYeWF4MmJGanNhTCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjcsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifX19XX0seyJyZXF1ZXN0X2lkIjoiNjIyMGQyMzMtMTRkOC00YWQ0LWI0Y2UtYWRkMzkwYTViOTE5Iiwic3RhdHVzIjoiY2FuY2VsbGVkIiwiY2hhdEl0ZW1UeXBlIjoiYWdlbnRpYy10dXJuLWRlbGltaXRlciJ9LHsicmVxdWVzdF9pZCI6IjM0YmEyMTg3LTg0MjktNDE4ZC1hY2U2LWMwNGVhODJiZmIwMiIsInN0YXR1cyI6ImNhbmNlbGxlZCIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtdHVybi1kZWxpbWl0ZXIifSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiZjVmMzczZGEtOTg1Yi00NTE3LWE2OGItYjU0NjI4MTkzMTQzIiwicmVxdWVzdF9tZXNzYWdlIjoieG/DoSBmaWx0ZXIgb3duZWQgY2xhc3Nyb29tIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCIsImNvbnRlbnQiOlt7InR5cGUiOiJ0ZXh0IiwidGV4dCI6Inhvw6EgZmlsdGVyIG93bmVkIGNsYXNzcm9vbSJ9XX1dfSwibWVudGlvbmVkX2l0ZW1zIjpbXSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjo1LCJjb250ZW50IjoiIiwidG9vbF91c2UiOnsidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxVFhxSGlDSEFKOEFmTGluQVhaYWpnUiIsInRvb2xfbmFtZSI6InN0ci1yZXBsYWNlLWVkaXRvciIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3RyX3JlcGxhY2VcIiwgXCJwYXRoXCI6IFwicmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvXCIsIFwic3RyX3JlcGxhY2VfZW50cmllc1wiOiBbe1wib2xkX3N0clwiOiBcIlxcdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVwiLCBcIm5ld19zdHJcIjogXCJcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDIzLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDIzfV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJJ2xsIHJlbW92ZSB0aGUgYEZpbHRlck93bmVkQ2xhc3Nyb29tc2AgZnVuY3Rpb25hbGl0eSBzaW5jZSB3ZSdyZSBtZXJnaW5nIGl0IGludG8gdGhlIGBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zYCBBUEkuIExldCdzIG1ha2UgdGhlc2UgY2hhbmdlczpcblxuIyMjIDEuIFVwZGF0ZSB0aGUgcmVwb3NpdG9yeSBpbnRlcmZhY2UgdG8gcmVtb3ZlIEZpbHRlck93bmVkQ2xhc3Nyb29tc1xuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MCwidGV4dF9ub2RlIjp7ImNvbnRlbnQiOiJ4b8OhIGZpbHRlciBvd25lZCBjbGFzc3Jvb20ifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo3LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn19fV0sInJlc3BvbnNlX3RleHQiOiJJJ2xsIHJlbW92ZSB0aGUgYEZpbHRlck93bmVkQ2xhc3Nyb29tc2AgZnVuY3Rpb25hbGl0eSBzaW5jZSB3ZSdyZSBtZXJnaW5nIGl0IGludG8gdGhlIGBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zYCBBUEkuIExldCdzIG1ha2UgdGhlc2UgY2hhbmdlczpcblxuIyMjIDEuIFVwZGF0ZSB0aGUgcmVwb3NpdG9yeSBpbnRlcmZhY2UgdG8gcmVtb3ZlIEZpbHRlck93bmVkQ2xhc3Nyb29tc1xuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjBlZDI1NjA4LWVlNWYtNDViMi04MTQ0LTI0MDMyMjA0NTRiNCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVVFRml0a0Z5TDFzdEM5ZXR5V3pqRVUiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInN0cl9yZXBsYWNlXCIsIFwicGF0aFwiOiBcInJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1wiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJcXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcXG5cXG5cXHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHJvbGUgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXCIsIFwibmV3X3N0clwiOiBcIlxcdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxcblxcdEZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcm9sZSBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZSwgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDIyLCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDI0fV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQgbWUgZml4IHRoZSBmb3JtYXR0aW5nIGluIHRoZSByZXBvc2l0b3J5IGludGVyZmFjZTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgMTlcdFx0R2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpXG4gICAgMjBcdFx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXG4gICAgMjFcdFx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3JcbiAgICAyMlx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbiAgICAyM1x0XG4gICAgMjRcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCByb2xlIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuICAgIDI1XHR9XG4gICAgMjZcdFxuICAgIDI3XHR0eXBlIHJlcG9zaXRvcnlJbXBsIHN0cnVjdCB7XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVRYcUhpQ0hBSjhBZkxpbkFYWmFqZ1IifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo3LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn19fV0sInJlc3BvbnNlX3RleHQiOiJMZXQgbWUgZml4IHRoZSBmb3JtYXR0aW5nIGluIHRoZSByZXBvc2l0b3J5IGludGVyZmFjZTpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJhYWM3NGFjZS01NjZiLTQ0YTAtODMwZi03NjM0MzQ3ZTkxODYiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFFWnNSVkdLenRVQm9QZDFza3BjcVBLIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJ2aWV3XCIsIFwicGF0aFwiOiBcInVzZWNhc2UvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zLmdvXCJ9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIjIyMgMi4gVXBkYXRlIHRoZSB1c2VjYXNlIGltcGxlbWVudGF0aW9uIHRvIGhhbmRsZSB0aGUgY2FzZSB3aGVuIG5vIHJvbGUgaXMgc3BlY2lmaWVkXG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nby5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDE4XHRcdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG4gICAgMTlcdFx0R2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpXG4gICAgMjBcdFx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXG4gICAgMjFcdFx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3JcbiAgICAyMlx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbiAgICAyM1x0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHJvbGUgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG4gICAgMjRcdH1cbiAgICAyNVx0XG4gICAgMjZcdHR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcbiAgICAyN1x0XHRQcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXJcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxVUVGaXRrRnlMMXN0QzlldHlXempFVSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjcsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifX19XSwicmVzcG9uc2VfdGV4dCI6IiMjIyAyLiBVcGRhdGUgdGhlIHVzZWNhc2UgaW1wbGVtZW50YXRpb24gdG8gaGFuZGxlIHRoZSBjYXNlIHdoZW4gbm8gcm9sZSBpcyBzcGVjaWZpZWRcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJhOTM5NDVjYi02YjExLTQwNTUtOWNlYS0zZjVhYjY5OWZmMDMiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFYR1VLRHh1cmtOUDhXem9YOTU3eHBLIiwidG9vbF9uYW1lIjoic3RyLXJlcGxhY2UtZWRpdG9yIiwiaW5wdXRfanNvbiI6IntcImNvbW1hbmRcIjogXCJzdHJfcmVwbGFjZVwiLCBcInBhdGhcIjogXCJ1c2VjYXNlL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tcy5nb1wiLCBcInN0cl9yZXBsYWNlX2VudHJpZXNcIjogW3tcIm9sZF9zdHJcIjogXCJmdW5jICh1ICpmaWx0ZXJKb2luZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xcblxcdC8vIE5cXHUxZWJmdSBraFxcdTAwZjRuZyBjXFx1MDBmMyByb2xlIFxcdTAxMTFcXHUwMWIwXFx1MWVlM2MgY2hcXHUxZWM5IFxcdTAxMTFcXHUxZWNibmgsIGxcXHUxZWE1eSBkYW5oIHNcXHUwMGUxY2ggbFxcdTFlZGJwIGhcXHUxZWNkYyBtXFx1MDBlMCBuZ1xcdTAxYjBcXHUxZWRkaSBkXFx1MDBmOW5nIHNcXHUxZWRmIGhcXHUxZWVmdVxcblxcdGlmIHBhcmFtcy5Sb2xlID09IG5pbCB7XFxuXFx0XFx0Ly8gTFxcdTFlYTV5IGRhbmggc1xcdTAwZTFjaCBsXFx1MWVkYnAgaFxcdTFlY2RjIG1cXHUwMGUwIG5nXFx1MDFiMFxcdTFlZGRpIGRcXHUwMGY5bmcgc1xcdTFlZGYgaFxcdTFlZWZ1XFxuXFx0XFx0b3duZWRQYXJhbXMgOj0gcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcXtcXG5cXHRcXHRcXHRQYWdpbmF0aW9uUmVxOiBwYXJhbXMuUGFnaW5hdGlvblJlcSxcXG5cXHRcXHR9XFxuXFx0XFx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHgsIHVzZXJJRCwgb3duZWRQYXJhbXMpXFxuXFx0XFx0aWYgZXJyICE9IG5pbCB7XFxuXFx0XFx0XFx0bG9nZ2VyLkVycm9yKFxcXCJmYWlsZWQgdG8gZmlsdGVyIG93bmVkIGNsYXNzcm9vbXNcXFwiLCB6YXAuU3RyaW5nKFxcXCJ1c2VyIGlkXFxcIiwgdXNlcklEKSwgemFwLkVycm9yKGVycikpXFxuXFx0XFx0XFx0cmV0dXJuIG5pbCwgZXJyXFxuXFx0XFx0fVxcblxcdFxcdHJldHVybiByZXN1bHQsIG5pbFxcblxcdH1cXG5cXG5cXHQvLyBOXFx1MWViZnUgY1xcdTAwZjMgcm9sZSBcXHUwMTExXFx1MDFiMFxcdTFlZTNjIGNoXFx1MWVjOSBcXHUwMTExXFx1MWVjYm5oLCBsXFx1MWVjZGMgdGhlbyByb2xlXFxuXFx0am9pbmVkUGFyYW1zIDo9IHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxe1xcblxcdFxcdFBhZ2luYXRpb25SZXE6IHBhcmFtcy5QYWdpbmF0aW9uUmVxLFxcblxcdH1cXG5cXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHgsIHVzZXJJRCwgKnBhcmFtcy5Sb2xlLCBqb2luZWRQYXJhbXMpXFxuXFx0aWYgZXJyICE9IG5pbCB7XFxuXFx0XFx0bG9nZ2VyLkVycm9yKFxcXCJmYWlsZWQgdG8gZmlsdGVyIGpvaW5lZCBjbGFzc3Jvb21zIHdpdGggcm9sZVxcXCIsIHphcC5TdHJpbmcoXFxcInVzZXIgaWRcXFwiLCB1c2VySUQpLCB6YXAuU3RyaW5nKFxcXCJyb2xlXFxcIiwgc3RyaW5nKCpwYXJhbXMuUm9sZSkpLCB6YXAuRXJyb3IoZXJyKSlcXG5cXHRcXHRyZXR1cm4gbmlsLCBlcnJcXG5cXHR9XFxuXFx0cmV0dXJuIHJlc3VsdCwgbmlsXFxufVwiLCBcIm5ld19zdHJcIjogXCJmdW5jICh1ICpmaWx0ZXJKb2luZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xcblxcdC8vIE5cXHUxZWJmdSBraFxcdTAwZjRuZyBjXFx1MDBmMyByb2xlIFxcdTAxMTFcXHUwMWIwXFx1MWVlM2MgY2hcXHUxZWM5IFxcdTAxMTFcXHUxZWNibmgsIGxcXHUxZWE1eSBkYW5oIHNcXHUwMGUxY2ggbFxcdTFlZGJwIGhcXHUxZWNkYyBtXFx1MDBlMCBuZ1xcdTAxYjBcXHUxZWRkaSBkXFx1MDBmOW5nIHNcXHUxZWRmIGhcXHUxZWVmdVxcblxcdGlmIHBhcmFtcy5Sb2xlID09IG5pbCB7XFxuXFx0XFx0Ly8gU1xcdTFlZWQgZFxcdTFlZTVuZyByb2xlIHRlYWNoZXIgXFx1MDExMVxcdTFlYzMgbFxcdTFlY2RjIGNcXHUwMGUxYyBsXFx1MWVkYnAgaFxcdTFlY2RjIG1cXHUwMGUwIG5nXFx1MDFiMFxcdTFlZGRpIGRcXHUwMGY5bmcgbFxcdTAwZTAgZ2lcXHUwMGUxbyB2aVxcdTAwZWFuXFxuXFx0XFx0dGVhY2hlclJvbGUgOj0gZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVUZWFjaGVyXFxuXFx0XFx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsIHRlYWNoZXJSb2xlLCBwYXJhbXMpXFxuXFx0XFx0aWYgZXJyICE9IG5pbCB7XFxuXFx0XFx0XFx0bG9nZ2VyLkVycm9yKFxcXCJmYWlsZWQgdG8gZmlsdGVyIGpvaW5lZCBjbGFzc3Jvb21zIGFzIHRlYWNoZXJcXFwiLCB6YXAuU3RyaW5nKFxcXCJ1c2VyIGlkXFxcIiwgdXNlcklEKSwgemFwLkVycm9yKGVycikpXFxuXFx0XFx0XFx0cmV0dXJuIG5pbCwgZXJyXFxuXFx0XFx0fVxcblxcdFxcdHJldHVybiByZXN1bHQsIG5pbFxcblxcdH1cXG5cXG5cXHQvLyBOXFx1MWViZnUgY1xcdTAwZjMgcm9sZSBcXHUwMTExXFx1MDFiMFxcdTFlZTNjIGNoXFx1MWVjOSBcXHUwMTExXFx1MWVjYm5oLCBsXFx1MWVjZGMgdGhlbyByb2xlXFxuXFx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsICpwYXJhbXMuUm9sZSwgcGFyYW1zKVxcblxcdGlmIGVyciAhPSBuaWwge1xcblxcdFxcdGxvZ2dlci5FcnJvcihcXFwiZmFpbGVkIHRvIGZpbHRlciBqb2luZWQgY2xhc3Nyb29tcyB3aXRoIHJvbGVcXFwiLCB6YXAuU3RyaW5nKFxcXCJ1c2VyIGlkXFxcIiwgdXNlcklEKSwgemFwLlN0cmluZyhcXFwicm9sZVxcXCIsIHN0cmluZygqcGFyYW1zLlJvbGUpKSwgemFwLkVycm9yKGVycikpXFxuXFx0XFx0cmV0dXJuIG5pbCwgZXJyXFxuXFx0fVxcblxcdHJldHVybiByZXN1bHQsIG5pbFxcbn1cIiwgXCJvbGRfc3RyX3N0YXJ0X2xpbmVfbnVtYmVyXCI6IDI4LCBcIm9sZF9zdHJfZW5kX2xpbmVfbnVtYmVyXCI6IDUzfV19In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHVzZWNhc2UvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zLmdvOlxuICAgICAxXHRwYWNrYWdlIHVzZWNhc2VcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCAoXG4gICAgIDRcdFx0XCJjb250ZXh0XCJcbiAgICAgNVx0XHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbiAgICAgNlx0XHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbiAgICAgN1x0XHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG4gICAgIDhcdFxuICAgICA5XHRcdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcbiAgICAxMFx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4gICAgMTFcdFx0XCJnby51YmVyLm9yZy96YXBcIlxuICAgIDEyXHQpXG4gICAgMTNcdFxuICAgIDE0XHR0eXBlIEZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlIGludGVyZmFjZSB7XG4gICAgMTVcdFx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuICAgIDE2XHR9XG4gICAgMTdcdFxuICAgIDE4XHR0eXBlIGZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuICAgIDE5XHRcdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG4gICAgMjBcdH1cbiAgICAyMVx0XG4gICAgMjJcdGZ1bmMgTmV3RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlIHtcbiAgICAyM1x0XHRyZXR1cm4gJmZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlSW1wbHtcbiAgICAyNFx0XHRcdFJlcG86IHJlcG8sXG4gICAgMjVcdFx0fVxuICAgIDI2XHR9XG4gICAgMjdcdFxuICAgIDI4XHRmdW5jICh1ICpmaWx0ZXJKb2luZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuICAgIDI5XHRcdC8vIE7hur91IGtow7RuZyBjw7Mgcm9sZSDEkcaw4bujYyBjaOG7iSDEkeG7i25oLCBs4bqleSBkYW5oIHPDoWNoIGzhu5twIGjhu41jIG3DoCBuZ8aw4budaSBkw7luZyBz4bufIGjhu691XG4gICAgMzBcdFx0aWYgcGFyYW1zLlJvbGUgPT0gbmlsIHtcbiAgICAzMVx0XHRcdC8vIEzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgbcOgIG5nxrDhu51pIGTDuW5nIHPhu58gaOG7r3VcbiAgICAzMlx0XHRcdG93bmVkUGFyYW1zIDo9IHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXF7XG4gICAgMzNcdFx0XHRcdFBhZ2luYXRpb25SZXE6IHBhcmFtcy5QYWdpbmF0aW9uUmVxLFxuICAgIDM0XHRcdFx0fVxuICAgIDM1XHRcdFx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHgsIHVzZXJJRCwgb3duZWRQYXJhbXMpXG4gICAgMzZcdFx0XHRpZiBlcnIgIT0gbmlsIHtcbiAgICAzN1x0XHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBvd25lZCBjbGFzc3Jvb21zXCIsIHphcC5TdHJpbmcoXCJ1c2VyIGlkXCIsIHVzZXJJRCksIHphcC5FcnJvcihlcnIpKVxuICAgIDM4XHRcdFx0XHRyZXR1cm4gbmlsLCBlcnJcbiAgICAzOVx0XHRcdH1cbiAgICA0MFx0XHRcdHJldHVybiByZXN1bHQsIG5pbFxuICAgIDQxXHRcdH1cbiAgICA0Mlx0XG4gICAgNDNcdFx0Ly8gTuG6v3UgY8OzIHJvbGUgxJHGsOG7o2MgY2jhu4kgxJHhu4tuaCwgbOG7jWMgdGhlbyByb2xlXG4gICAgNDRcdFx0am9pbmVkUGFyYW1zIDo9IHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxe1xuICAgIDQ1XHRcdFx0UGFnaW5hdGlvblJlcTogcGFyYW1zLlBhZ2luYXRpb25SZXEsXG4gICAgNDZcdFx0fVxuICAgIDQ3XHRcdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCwgdXNlcklELCAqcGFyYW1zLlJvbGUsIGpvaW5lZFBhcmFtcylcbiAgICA0OFx0XHRpZiBlcnIgIT0gbmlsIHtcbiAgICA0OVx0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgam9pbmVkIGNsYXNzcm9vbXMgd2l0aCByb2xlXCIsIHphcC5TdHJpbmcoXCJ1c2VyIGlkXCIsIHVzZXJJRCksIHphcC5TdHJpbmcoXCJyb2xlXCIsIHN0cmluZygqcGFyYW1zLlJvbGUpKSwgemFwLkVycm9yKGVycikpXG4gICAgNTBcdFx0XHRyZXR1cm4gbmlsLCBlcnJcbiAgICA1MVx0XHR9XG4gICAgNTJcdFx0cmV0dXJuIHJlc3VsdCwgbmlsXG4gICAgNTNcdH1cbiAgICA1NFx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA1NFxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxRVpzUlZHS3p0VUJvUGQxc2twY3FQSyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjcsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifX19XSwicmVzcG9uc2VfdGV4dCI6IiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI2NDE4YjllNy1kOGE4LTQ1NmItODUzZi1kYjA0Y2EzNGY4MmIiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFHdEdWdktTM0tvWWVqZ3Zwc1o2QmE5IiwidG9vbF9uYW1lIjoicmVtb3ZlLWZpbGVzIiwiaW5wdXRfanNvbiI6IntcImZpbGVfcGF0aHNcIjogW1wicmVwb3NpdG9yeS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1wiXX0ifX0seyJpZCI6MCwidHlwZSI6MCwiY29udGVudCI6IiMjIyAzLiBSZW1vdmUgdGhlIGZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvIGZpbGVcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgdXNlY2FzZS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXMuZ28uXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAyNFx0XHRcdFJlcG86IHJlcG8sXG4gICAgMjVcdFx0fVxuICAgIDI2XHR9XG4gICAgMjdcdFxuICAgIDI4XHRmdW5jICh1ICpmaWx0ZXJKb2luZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuICAgIDI5XHRcdC8vIE7hur91IGtow7RuZyBjw7Mgcm9sZSDEkcaw4bujYyBjaOG7iSDEkeG7i25oLCBs4bqleSBkYW5oIHPDoWNoIGzhu5twIGjhu41jIG3DoCBuZ8aw4budaSBkw7luZyBz4bufIGjhu691XG4gICAgMzBcdFx0aWYgcGFyYW1zLlJvbGUgPT0gbmlsIHtcbiAgICAzMVx0XHRcdC8vIFPhu60gZOG7pW5nIHJvbGUgdGVhY2hlciDEkeG7gyBs4buNYyBjw6FjIGzhu5twIGjhu41jIG3DoCBuZ8aw4budaSBkw7luZyBsw6AgZ2nDoW8gdmnDqm5cbiAgICAzMlx0XHRcdHRlYWNoZXJSb2xlIDo9IGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlclxuICAgIDMzXHRcdFx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsIHRlYWNoZXJSb2xlLCBwYXJhbXMpXG4gICAgMzRcdFx0XHRpZiBlcnIgIT0gbmlsIHtcbiAgICAzNVx0XHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBqb2luZWQgY2xhc3Nyb29tcyBhcyB0ZWFjaGVyXCIsIHphcC5TdHJpbmcoXCJ1c2VyIGlkXCIsIHVzZXJJRCksIHphcC5FcnJvcihlcnIpKVxuICAgIDM2XHRcdFx0XHRyZXR1cm4gbmlsLCBlcnJcbiAgICAzN1x0XHRcdH1cbiAgICAzOFx0XHRcdHJldHVybiByZXN1bHQsIG5pbFxuICAgIDM5XHRcdH1cbiAgICA0MFx0XG4gICAgNDFcdFx0Ly8gTuG6v3UgY8OzIHJvbGUgxJHGsOG7o2MgY2jhu4kgxJHhu4tuaCwgbOG7jWMgdGhlbyByb2xlXG4gICAgNDJcdFx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsICpwYXJhbXMuUm9sZSwgcGFyYW1zKVxuICAgIDQzXHRcdGlmIGVyciAhPSBuaWwge1xuICAgIDQ0XHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBqb2luZWQgY2xhc3Nyb29tcyB3aXRoIHJvbGVcIiwgemFwLlN0cmluZyhcInVzZXIgaWRcIiwgdXNlcklEKSwgemFwLlN0cmluZyhcInJvbGVcIiwgc3RyaW5nKCpwYXJhbXMuUm9sZSkpLCB6YXAuRXJyb3IoZXJyKSlcbiAgICA0NVx0XHRcdHJldHVybiBuaWwsIGVyclxuICAgIDQ2XHRcdH1cbiAgICA0N1x0XHRyZXR1cm4gcmVzdWx0LCBuaWxcbiAgICA0OFx0fVxuICAgIDQ5XHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxWEdVS0R4dXJrTlA4V3pvWDk1N3hwSyJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjcsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifX19XSwicmVzcG9uc2VfdGV4dCI6IiMjIyAzLiBSZW1vdmUgdGhlIGZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvIGZpbGVcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiJjYzk3N2IwMC02ZTQyLTQxMjUtOTVjMi01YmE5ZjBiMmEwMjMiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDFGNDc2VUVrVzkxWTJzM0ZnY3FMdDdVIiwidG9vbF9uYW1lIjoibGF1bmNoLXByb2Nlc3MiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcImdvIHJ1biBtYWluLmdvIHNlcnZlIC1lIC4vZGVwbG95L2xvY2FsLmVudlwiLCBcIndhaXRcIjogdHJ1ZSwgXCJ3YWl0X3NlY29uZHNcIjogMTB9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiIjIyBUZXN0aW5nXG5cbkxldCdzIHZlcmlmeSB0aGF0IG91ciBpbXBsZW1lbnRhdGlvbiBpcyBjb3JyZWN0IGJ5IHJ1bm5pbmcgdGhlIHNlcnZlcjpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkZpbGUocykgcmVtb3ZlZDogcmVwb3NpdG9yeS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nbyIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMUd0R1Z2S1MzS29ZZWpndnBzWjZCYTkifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjo3LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn19fV0sInJlc3BvbnNlX3RleHQiOiIjIyBUZXN0aW5nXG5cbkxldCdzIHZlcmlmeSB0aGF0IG91ciBpbXBsZW1lbnRhdGlvbiBpcyBjb3JyZWN0IGJ5IHJ1bm5pbmcgdGhlIHNlcnZlcjpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoic3VjY2VzcyIsInJlcXVlc3RfaWQiOiI4NTdmZjliNy0wZGZkLTRhNjktYWJiYi0wZmQ3YzRhYTdjNzYiLCJyZXF1ZXN0X21lc3NhZ2UiOiIiLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJJ3ZlIHN1Y2Nlc3NmdWxseSBtZXJnZWQgdGhlIEFQSXMgYW5kIHJlbW92ZWQgdGhlIGBGaWx0ZXJPd25lZENsYXNzcm9vbXNgIGZ1bmN0aW9uYWxpdHkgYXMgcmVxdWVzdGVkLiBMZXQgbWUgc3VtbWFyaXplIHRoZSBjaGFuZ2VzIEkgbWFkZTpcblxuIyMgSW1wbGVtZW50YXRpb24gU3VtbWFyeVxuXG4xLiBSZW1vdmVkIHRoZSBvbGQgQVBJczpcbiAgIC0gUmVtb3ZlZCBgRmlsdGVyT3duZWRDbGFzc3Jvb21zYCBoYW5kbGVyLCB1c2VjYXNlLCBhbmQgcmVwb3NpdG9yeSBpbXBsZW1lbnRhdGlvblxuICAgLSBSZW1vdmVkIGBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50YCBoYW5kbGVyIGFuZCB1c2VjYXNlXG4gICAtIFJlbW92ZWQgYEZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZWAgaGFuZGxlciBhbmQgdXNlY2FzZVxuXG4yLiBVcGRhdGVkIHRoZSBgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc2AgQVBJOlxuICAgLSBNb2RpZmllZCB0aGUgcmVxdWVzdCBtb2RlbCB0byBpbmNsdWRlIGFuIG9wdGlvbmFsIGByb2xlYCBwYXJhbWV0ZXJcbiAgIC0gVXBkYXRlZCB0aGUgdXNlY2FzZSBpbXBsZW1lbnRhdGlvbiB0byBoYW5kbGUgYm90aCBjYXNlczpcbiAgICAgLSBXaGVuIG5vIHJvbGUgaXMgc3BlY2lmaWVkOiBSZXR1cm5zIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaXMgYSB0ZWFjaGVyIChwcmV2aW91c2x5IG93bmVkIGNsYXNzcm9vbXMpXG4gICAgIC0gV2hlbiBhIHJvbGUgaXMgc3BlY2lmaWVkOiBSZXR1cm5zIGNsYXNzcm9vbXMgZmlsdGVyZWQgYnkgdGhhdCByb2xlICh0ZWFjaGVyIG9yIHN0dWRlbnQpXG5cbjMuIFVwZGF0ZWQgdGhlIHJvdXRlcjpcbiAgIC0gUmVtb3ZlZCB0aGUgb2xkIGVuZHBvaW50cyBgL2NsYXNzcm9vbS9vd25lZGAgYW5kIGAvY2xhc3Nyb29tL2pvaW5lZC1hcy1zdHVkZW50YFxuICAgLSBBZGRlZCBhIHNpbmdsZSBlbmRwb2ludCBgL2NsYXNzcm9vbS9qb2luZWRgIHRoYXQgY2FuIGZpbHRlciBieSByb2xlXG5cbiMjIEFQSSBVc2FnZVxuXG5UaGUgbmV3IEFQSSBlbmRwb2ludCBpcyBhdmFpbGFibGUgYXQ6XG5gYGBcbkdFVCAvY2xhc3Nyb29tL2pvaW5lZFxuYGBgXG5cbkl0IHN1cHBvcnRzIHRoZSBmb2xsb3dpbmcgcXVlcnkgcGFyYW1ldGVyczpcbi0gU3RhbmRhcmQgcGFnaW5hdGlvbiBwYXJhbWV0ZXJzIChgcGFnZWAsIGBsaW1pdGAsIGBzb3J0YClcbi0gYHJvbGVgIChvcHRpb25hbCk6IEZpbHRlciBieSByb2xlLiBQb3NzaWJsZSB2YWx1ZXMgYXJlOlxuICAtIGB0ZWFjaGVyYDogUmV0dXJucyBjbGFzc3Jvb21zIHdoZXJlIHRoZSB1c2VyIGlzIGEgdGVhY2hlclxuICAtIGBzdHVkZW50YDogUmV0dXJucyBjbGFzc3Jvb21zIHdoZXJlIHRoZSB1c2VyIGlzIGEgc3R1ZGVudFxuICAtIElmIG5vdCBzcGVjaWZpZWQsIHJldHVybnMgY2xhc3Nyb29tcyB3aGVyZSB0aGUgdXNlciBpcyBhIHRlYWNoZXIgKGRlZmF1bHQpXG5cbkV4YW1wbGVzOlxuLSBgR0VUIC9jbGFzc3Jvb20vam9pbmVkYCAtIFJldHVybnMgY2xhc3Nyb29tcyB3aGVyZSB0aGUgdXNlciBpcyBhIHRlYWNoZXJcbi0gYEdFVCAvY2xhc3Nyb29tL2pvaW5lZD9yb2xlPXRlYWNoZXJgIC0gUmV0dXJucyBjbGFzc3Jvb21zIHdoZXJlIHRoZSB1c2VyIGlzIGEgdGVhY2hlclxuLSBgR0VUIC9jbGFzc3Jvb20vam9pbmVkP3JvbGU9c3R1ZGVudGAgLSBSZXR1cm5zIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaXMgYSBzdHVkZW50XG4tIGBHRVQgL2NsYXNzcm9vbS9qb2luZWQ/cm9sZT1zdHVkZW50JnBhZ2U9MSZsaW1pdD0xMGAgLSBSZXR1cm5zIHRoZSBmaXJzdCBwYWdlIG9mIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaXMgYSBzdHVkZW50LCB3aXRoIDEwIGl0ZW1zIHBlciBwYWdlXG5cblRoZSBBUEkgcmVxdWlyZXMgYXV0aGVudGljYXRpb24gdmlhIEpXVCB0b2tlbiwgd2hpY2ggcHJvdmlkZXMgdGhlIHVzZXIgSUQuXG5cbiMjIFRlc3RpbmdcblxuVGhlIGNvZGUgY29tcGlsZXMgc3VjY2Vzc2Z1bGx5LCBidXQgdGhlcmUgc2VlbXMgdG8gYmUgYW4gaXNzdWUgd2l0aCB0aGUgc2VydmVyIGFscmVhZHkgcnVubmluZyBvbiBwb3J0IDUwMDEuIFRoaXMgaXMgbm90IHJlbGF0ZWQgdG8gb3VyIGNvZGUgY2hhbmdlcyBidXQgcmF0aGVyIHRvIHRoZSBlbnZpcm9ubWVudC4gWW91IGNhbiBzdG9wIHRoZSBleGlzdGluZyBzZXJ2ZXIgYW5kIHRyeSBydW5uaW5nIGl0IGFnYWluLCBvciB1c2UgYSBkaWZmZXJlbnQgcG9ydCBpZiBuZWVkZWQuXG5cbklzIHRoZXJlIGFueXRoaW5nIGVsc2UgeW91J2QgbGlrZSBtZSB0byBleHBsYWluIG9yIG1vZGlmeSBhYm91dCB0aGUgaW1wbGVtZW50YXRpb24/XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlIGFyZSB0aGUgcmVzdWx0cyBmcm9tIGV4ZWN1dGluZyB0aGUgY29tbWFuZC5cbiAgICAgICAgPHJldHVybi1jb2RlPlxuICAgICAgICAwXG4gICAgICAgIDwvcmV0dXJuLWNvZGU+XG4gICAgICAgIDxzdGRvdXQ+XG4gICAgICAgIDIwMjUvMDQvMjIgMDA6MDI6MTggU3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZCB0byBQb3N0Z3JlU1FMIGRhdGFiYXNlXG4yMDI1LTA0LTIyVDAwOjAyOjE4KzA3OjAwXHRFUlJPUlx0bG9nZ2VyL2xvZ2dlci5nbzoxNDJcdGZhaWxlZCB0byBzdGFydCBzZXJ2ZXJcdHtcImVycm9yXCI6IFwiZmFpbGVkIHRvIGxpc3RlbjogbGlzdGVuIHRjcDQgOjUwMDE6IGJpbmQ6IGFkZHJlc3MgYWxyZWFkeSBpbiB1c2VcIn1cbmdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlci5FcnJvclxuXHQvVXNlcnMvbm5lZS9nby9wa2cvbW9kL2dpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlQHYwLjAuMTkvbG9nZ2VyL2xvZ2dlci5nbzoxNDJcbnF1aXp6eS1jbGFzc3Jvb20vc2VydmVyLlJ1blxuXHQvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbS9zZXJ2ZXIvc2VydmVyLmdvOjQ0XG5xdWl6enktY2xhc3Nyb29tL2NtZC5pbml0LmZ1bmMyXG5cdC9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tL2NtZC9zZXJ2ZS5nbzozNVxuZ2l0aHViLmNvbS9zcGYxMy9jb2JyYS4oKkNvbW1hbmQpLmV4ZWN1dGVcblx0L1VzZXJzL25uZWUvZ28vcGtnL21vZC9naXRodWIuY29tL3NwZjEzL2NvYnJhQHYxLjkuMS9jb21tYW5kLmdvOjEwMTlcbmdpdGh1Yi5jb20vc3BmMTMvY29icmEuKCpDb21tYW5kKS5FeGVjdXRlQ1xuXHQvVXNlcnMvbm5lZS9nby9wa2cvbW9kL2dpdGh1Yi5jb20vc3BmMTMvY29icmFAdjEuOS4xL2NvbW1hbmQuZ286MTE0OFxuZ2l0aHViLmNvbS9zcGYxMy9jb2JyYS4oKkNvbW1hbmQpLkV4ZWN1dGVcblx0L1VzZXJzL25uZWUvZ28vcGtnL21vZC9naXRodWIuY29tL3NwZjEzL2NvYnJhQHYxLjkuMS9jb21tYW5kLmdvOjEwNzFcbnF1aXp6eS1jbGFzc3Jvb20vY21kLkV4ZWN1dGVcblx0L1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20vY21kL3Jvb3QuZ286MzBcbm1haW4ubWFpblxuXHQvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbS9tYWluLmdvOjZcbnJ1bnRpbWUubWFpblxuXHQvb3B0L2hvbWVicmV3L0NlbGxhci9nby8xLjI0LjEvbGliZXhlYy9zcmMvcnVudGltZS9wcm9jLmdvOjI4M1xuXG4gICAgICAgIDwvc3Rkb3V0PlxuICAgICAgICA8c3RkZXJyPlxuICAgICAgICBcbiAgICAgICAgPC9zdGRlcnI+IiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxRjQ3NlVFa1c5MVkyczNGZ2NxTHQ3VSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjgsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifX19XSwicmVzcG9uc2VfdGV4dCI6IkkndmUgc3VjY2Vzc2Z1bGx5IG1lcmdlZCB0aGUgQVBJcyBhbmQgcmVtb3ZlZCB0aGUgYEZpbHRlck93bmVkQ2xhc3Nyb29tc2AgZnVuY3Rpb25hbGl0eSBhcyByZXF1ZXN0ZWQuIExldCBtZSBzdW1tYXJpemUgdGhlIGNoYW5nZXMgSSBtYWRlOlxuXG4jIyBJbXBsZW1lbnRhdGlvbiBTdW1tYXJ5XG5cbjEuIFJlbW92ZWQgdGhlIG9sZCBBUElzOlxuICAgLSBSZW1vdmVkIGBGaWx0ZXJPd25lZENsYXNzcm9vbXNgIGhhbmRsZXIsIHVzZWNhc2UsIGFuZCByZXBvc2l0b3J5IGltcGxlbWVudGF0aW9uXG4gICAtIFJlbW92ZWQgYEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRgIGhhbmRsZXIgYW5kIHVzZWNhc2VcbiAgIC0gUmVtb3ZlZCBgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlYCBoYW5kbGVyIGFuZCB1c2VjYXNlXG5cbjIuIFVwZGF0ZWQgdGhlIGBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zYCBBUEk6XG4gICAtIE1vZGlmaWVkIHRoZSByZXF1ZXN0IG1vZGVsIHRvIGluY2x1ZGUgYW4gb3B0aW9uYWwgYHJvbGVgIHBhcmFtZXRlclxuICAgLSBVcGRhdGVkIHRoZSB1c2VjYXNlIGltcGxlbWVudGF0aW9uIHRvIGhhbmRsZSBib3RoIGNhc2VzOlxuICAgICAtIFdoZW4gbm8gcm9sZSBpcyBzcGVjaWZpZWQ6IFJldHVybnMgY2xhc3Nyb29tcyB3aGVyZSB0aGUgdXNlciBpcyBhIHRlYWNoZXIgKHByZXZpb3VzbHkgb3duZWQgY2xhc3Nyb29tcylcbiAgICAgLSBXaGVuIGEgcm9sZSBpcyBzcGVjaWZpZWQ6IFJldHVybnMgY2xhc3Nyb29tcyBmaWx0ZXJlZCBieSB0aGF0IHJvbGUgKHRlYWNoZXIgb3Igc3R1ZGVudClcblxuMy4gVXBkYXRlZCB0aGUgcm91dGVyOlxuICAgLSBSZW1vdmVkIHRoZSBvbGQgZW5kcG9pbnRzIGAvY2xhc3Nyb29tL293bmVkYCBhbmQgYC9jbGFzc3Jvb20vam9pbmVkLWFzLXN0dWRlbnRgXG4gICAtIEFkZGVkIGEgc2luZ2xlIGVuZHBvaW50IGAvY2xhc3Nyb29tL2pvaW5lZGAgdGhhdCBjYW4gZmlsdGVyIGJ5IHJvbGVcblxuIyMgQVBJIFVzYWdlXG5cblRoZSBuZXcgQVBJIGVuZHBvaW50IGlzIGF2YWlsYWJsZSBhdDpcbmBgYFxuR0VUIC9jbGFzc3Jvb20vam9pbmVkXG5gYGBcblxuSXQgc3VwcG9ydHMgdGhlIGZvbGxvd2luZyBxdWVyeSBwYXJhbWV0ZXJzOlxuLSBTdGFuZGFyZCBwYWdpbmF0aW9uIHBhcmFtZXRlcnMgKGBwYWdlYCwgYGxpbWl0YCwgYHNvcnRgKVxuLSBgcm9sZWAgKG9wdGlvbmFsKTogRmlsdGVyIGJ5IHJvbGUuIFBvc3NpYmxlIHZhbHVlcyBhcmU6XG4gIC0gYHRlYWNoZXJgOiBSZXR1cm5zIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaXMgYSB0ZWFjaGVyXG4gIC0gYHN0dWRlbnRgOiBSZXR1cm5zIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaXMgYSBzdHVkZW50XG4gIC0gSWYgbm90IHNwZWNpZmllZCwgcmV0dXJucyBjbGFzc3Jvb21zIHdoZXJlIHRoZSB1c2VyIGlzIGEgdGVhY2hlciAoZGVmYXVsdClcblxuRXhhbXBsZXM6XG4tIGBHRVQgL2NsYXNzcm9vbS9qb2luZWRgIC0gUmV0dXJucyBjbGFzc3Jvb21zIHdoZXJlIHRoZSB1c2VyIGlzIGEgdGVhY2hlclxuLSBgR0VUIC9jbGFzc3Jvb20vam9pbmVkP3JvbGU9dGVhY2hlcmAgLSBSZXR1cm5zIGNsYXNzcm9vbXMgd2hlcmUgdGhlIHVzZXIgaXMgYSB0ZWFjaGVyXG4tIGBHRVQgL2NsYXNzcm9vbS9qb2luZWQ/cm9sZT1zdHVkZW50YCAtIFJldHVybnMgY2xhc3Nyb29tcyB3aGVyZSB0aGUgdXNlciBpcyBhIHN0dWRlbnRcbi0gYEdFVCAvY2xhc3Nyb29tL2pvaW5lZD9yb2xlPXN0dWRlbnQmcGFnZT0xJmxpbWl0PTEwYCAtIFJldHVybnMgdGhlIGZpcnN0IHBhZ2Ugb2YgY2xhc3Nyb29tcyB3aGVyZSB0aGUgdXNlciBpcyBhIHN0dWRlbnQsIHdpdGggMTAgaXRlbXMgcGVyIHBhZ2VcblxuVGhlIEFQSSByZXF1aXJlcyBhdXRoZW50aWNhdGlvbiB2aWEgSldUIHRva2VuLCB3aGljaCBwcm92aWRlcyB0aGUgdXNlciBJRC5cblxuIyMgVGVzdGluZ1xuXG5UaGUgY29kZSBjb21waWxlcyBzdWNjZXNzZnVsbHksIGJ1dCB0aGVyZSBzZWVtcyB0byBiZSBhbiBpc3N1ZSB3aXRoIHRoZSBzZXJ2ZXIgYWxyZWFkeSBydW5uaW5nIG9uIHBvcnQgNTAwMS4gVGhpcyBpcyBub3QgcmVsYXRlZCB0byBvdXIgY29kZSBjaGFuZ2VzIGJ1dCByYXRoZXIgdG8gdGhlIGVudmlyb25tZW50LiBZb3UgY2FuIHN0b3AgdGhlIGV4aXN0aW5nIHNlcnZlciBhbmQgdHJ5IHJ1bm5pbmcgaXQgYWdhaW4sIG9yIHVzZSBhIGRpZmZlcmVudCBwb3J0IGlmIG5lZWRlZC5cblxuSXMgdGhlcmUgYW55dGhpbmcgZWxzZSB5b3UnZCBsaWtlIG1lIHRvIGV4cGxhaW4gb3IgbW9kaWZ5IGFib3V0IHRoZSBpbXBsZW1lbnRhdGlvbj9cbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsicmVxdWVzdF9pZCI6ImM3Zjc5M2I1LTcxNzEtNDNhMi1hZmNhLTMxOWRiNWQ1YWRhMiIsInV1aWQiOiI5Mjc2YmQ3MC0wZTNhLTRhZTgtOTRhOC1mOTk3NzdhNWM4NzIiLCJjaGF0SXRlbVR5cGUiOiJhZ2VudGljLWNoZWNrcG9pbnQtZGVsaW1pdGVyIiwic3RhdHVzIjoic3VjY2VzcyIsImZyb21UaW1lc3RhbXAiOjAsInRvVGltZXN0YW1wIjoxNzQ1MjU0OTU1NTM3LCJzZWVuX3N0YXRlIjoic2VlbiJ9LHsicmVxdWVzdF9pZCI6ImNhNThjNzUzLWZkNGItNDE0Ni1hMWZhLTNjODg2MDllYjEyMiIsInN0YXR1cyI6ImNhbmNlbGxlZCIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtdHVybi1kZWxpbWl0ZXIifSx7InN0YXR1cyI6InN1Y2Nlc3MiLCJyZXF1ZXN0X2lkIjoiNWU3MWM3ZjMtNmUzMi00YTEzLWE0ZDUtMzAyNWFjMTIzNWQwIiwicmVxdWVzdF9tZXNzYWdlIjoia2lsbCBwcm9jZXNzIMSRYW5nIHPhu60gZOG7pW5nIHBvcnQgNTAwMSIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgiLCJjb250ZW50IjpbeyJ0eXBlIjoidGV4dCIsInRleHQiOiJraWxsIHByb2Nlc3MgxJFhbmcgc+G7rSBk4bulbmcgcG9ydCA1MDAxIn1dfV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdHJ1Y3R1cmVkX291dHB1dF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjUsImNvbnRlbnQiOiIiLCJ0b29sX3VzZSI6eyJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDEzZHd2VTlaNW9iYjVvZHJWaXFyQnp0IiwidG9vbF9uYW1lIjoibGF1bmNoLXByb2Nlc3MiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcImxzb2YgLWkgOjUwMDFcIiwgXCJ3YWl0XCI6IHRydWV9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJJJ2xsIGhlbHAgeW91IGtpbGwgdGhlIHByb2Nlc3MgdGhhdCdzIGN1cnJlbnRseSB1c2luZyBwb3J0IDUwMDEuIExldCdzIGZpbmQgYW5kIHRlcm1pbmF0ZSBpdDpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjAsInRleHRfbm9kZSI6eyJjb250ZW50Ijoia2lsbCBwcm9jZXNzIMSRYW5nIHPhu60gZOG7pW5nIHBvcnQgNTAwMSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjYsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifX19XSwicmVzcG9uc2VfdGV4dCI6IkknbGwgaGVscCB5b3Uga2lsbCB0aGUgcHJvY2VzcyB0aGF0J3MgY3VycmVudGx5IHVzaW5nIHBvcnQgNTAwMS4gTGV0J3MgZmluZCBhbmQgdGVybWluYXRlIGl0OlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjllMTUyYmQ3LWQ2NWEtNDM5Mi1hNzI0LWVhMWQ4MDViODM5NyIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMU56UGZaUDhUeEFpY1d0QmZSRDNIcmgiLCJ0b29sX25hbWUiOiJsYXVuY2gtcHJvY2VzcyIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwicHMgYXV4IHwgZ3JlcCA1MDAxXCIsIFwid2FpdFwiOiB0cnVlfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0IG1lIHRyeSBhIGRpZmZlcmVudCBhcHByb2FjaCB0byBmaW5kIGFuZCBraWxsIHRoZSBwcm9jZXNzIHVzaW5nIHBvcnQgNTAwMTpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkNvbW1hbmQgaXMgc3RpbGwgcnVubmluZyBhZnRlciAwIHNlY29uZHMuIFlvdSBjYW4gdXNlIHJlYWQtcHJvY2VzcyB0byBnZXQgbW9yZSBvdXRwdXRcbmFuZCBraWxsLXByb2Nlc3MgdG8gdGVybWluYXRlIGl0IGlmIG5lZWRlZC5cblBJRCAxMVxuT3V0cHV0IHNvIGZhcjpcbjxzdGRvdXQ+XG5cbjwvc3Rkb3V0PlxuPHN0ZGVycj5cblxuPC9zdGRlcnI+IiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxM2R3dlU5WjVvYmI1b2RyVmlxckJ6dCJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjExLCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn19fV0sInJlc3BvbnNlX3RleHQiOiJMZXQgbWUgdHJ5IGEgZGlmZmVyZW50IGFwcHJvYWNoIHRvIGZpbmQgYW5kIGtpbGwgdGhlIHByb2Nlc3MgdXNpbmcgcG9ydCA1MDAxOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6IjZmM2ZkZTZmLTVhNWMtNDQ0Mi05N2UxLWQ0MGQyNTJlNTcyZCIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMU1OZFU3akxEamhLTkNXVVpONmtWVDEiLCJ0b29sX25hbWUiOiJsYXVuY2gtcHJvY2VzcyIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwia2lsbCAtOSAkKGxzb2YgLXQgLWk6NTAwMSlcIiwgXCJ3YWl0XCI6IHRydWV9In19LHsiaWQiOjAsInR5cGUiOjAsImNvbnRlbnQiOiJMZXQgbWUgdHJ5IGEgbW9yZSBkaXJlY3QgYXBwcm9hY2ggdG8ga2lsbCB0aGUgcHJvY2VzcyB1c2luZyBwb3J0IDUwMDE6XG4ifSx7ImlkIjoyLCJ0eXBlIjoyLCJjb250ZW50IjoiIn0seyJpZCI6MywidHlwZSI6MywiY29udGVudCI6IiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJDb21tYW5kIGlzIHN0aWxsIHJ1bm5pbmcgYWZ0ZXIgMCBzZWNvbmRzLiBZb3UgY2FuIHVzZSByZWFkLXByb2Nlc3MgdG8gZ2V0IG1vcmUgb3V0cHV0XG5hbmQga2lsbC1wcm9jZXNzIHRvIHRlcm1pbmF0ZSBpdCBpZiBuZWVkZWQuXG5QSUQgMTJcbk91dHB1dCBzbyBmYXI6XG48c3Rkb3V0PlxuXG48L3N0ZG91dD5cbjxzdGRlcnI+XG5cbjwvc3RkZXJyPiIsImlzX2Vycm9yIjpmYWxzZSwicmVxdWVzdF9pZCI6IiIsInRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMU56UGZaUDhUeEFpY1d0QmZSRDNIcmgifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSIsImZvbGRlclJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9XSwid29ya3NwYWNlRm9sZGVyc1VuY2hhbmdlZCI6ZmFsc2UsImN1cnJlbnRUZXJtaW5hbCI6eyJ0ZXJtaW5hbElkIjoxMiwiY3VycmVudFdvcmtpbmdEaXJlY3RvcnkiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbSJ9fX1dLCJyZXNwb25zZV90ZXh0IjoiTGV0IG1lIHRyeSBhIG1vcmUgZGlyZWN0IGFwcHJvYWNoIHRvIGtpbGwgdGhlIHByb2Nlc3MgdXNpbmcgcG9ydCA1MDAxOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImY2ZTk4YTk3LTM4OGEtNDMxYi04NGY2LTVjMmJiOTgyNDQ4ZSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMTJXUmNqeEhKaXVuVGIySkJQOGNhdDciLCJ0b29sX25hbWUiOiJsYXVuY2gtcHJvY2VzcyIsImlucHV0X2pzb24iOiJ7XCJjb21tYW5kXCI6IFwic3VkbyBsc29mIC1pIDo1MDAxXCIsIFwid2FpdFwiOiB0cnVlfSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0J3MgdHJ5IGEgZGlmZmVyZW50IGFwcHJvYWNoLiBPbiBtYWNPUywgd2UgY2FuIHVzZSB0aGUgZm9sbG93aW5nIGNvbW1hbmQgdG8gZmluZCBhbmQga2lsbCB0aGUgcHJvY2VzczpcbiJ9LHsiaWQiOjIsInR5cGUiOjIsImNvbnRlbnQiOiIifSx7ImlkIjozLCJ0eXBlIjozLCJjb250ZW50IjoiIn1dLCJzZWVuX3N0YXRlIjoic2VlbiIsInN0cnVjdHVyZWRfcmVxdWVzdF9ub2RlcyI6W3siaWQiOjEsInR5cGUiOjEsInRvb2xfcmVzdWx0X25vZGUiOnsiY29udGVudCI6IkNvbW1hbmQgaXMgc3RpbGwgcnVubmluZyBhZnRlciAwIHNlY29uZHMuIFlvdSBjYW4gdXNlIHJlYWQtcHJvY2VzcyB0byBnZXQgbW9yZSBvdXRwdXRcbmFuZCBraWxsLXByb2Nlc3MgdG8gdGVybWluYXRlIGl0IGlmIG5lZWRlZC5cblBJRCAxM1xuT3V0cHV0IHNvIGZhcjpcbjxzdGRvdXQ+XG5cbjwvc3Rkb3V0PlxuPHN0ZGVycj5cblxuPC9zdGRlcnI+IiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxTU5kVTdqTERqaEtOQ1dVWk42a1ZUMSJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjEzLCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn19fV0sInJlc3BvbnNlX3RleHQiOiJMZXQncyB0cnkgYSBkaWZmZXJlbnQgYXBwcm9hY2guIE9uIG1hY09TLCB3ZSBjYW4gdXNlIHRoZSBmb2xsb3dpbmcgY29tbWFuZCB0byBmaW5kIGFuZCBraWxsIHRoZSBwcm9jZXNzOlxuIiwid29ya3NwYWNlX2ZpbGVfY2h1bmtzIjpbXX0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImVkYzNlZjhkLWMwOTItNGEyNC1iMGRkLThiNThjMzA2NTliZSIsInJlcXVlc3RfbWVzc2FnZSI6IiIsInN0cnVjdHVyZWRfb3V0cHV0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6NSwiY29udGVudCI6IiIsInRvb2xfdXNlIjp7InRvb2xfdXNlX2lkIjoidG9vbHVfdnJ0eF8wMVVLMnhRUEZ5b2ZqTWgyWlB2SFVpYUoiLCJ0b29sX25hbWUiOiJzdHItcmVwbGFjZS1lZGl0b3IiLCJpbnB1dF9qc29uIjoie1wiY29tbWFuZFwiOiBcInZpZXdcIiwgXCJwYXRoXCI6IFwiZGVwbG95L2xvY2FsLmVudlwifSJ9fSx7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiTGV0J3MgdHJ5IGEgZGlmZmVyZW50IGFwcHJvYWNoLiBJbnN0ZWFkIG9mIHRyeWluZyB0byBraWxsIHRoZSBwcm9jZXNzLCBsZXQncyBtb2RpZnkgb3VyIGFwcGxpY2F0aW9uIHRvIHVzZSBhIGRpZmZlcmVudCBwb3J0OlxuIn0seyJpZCI6MiwidHlwZSI6MiwiY29udGVudCI6IiJ9LHsiaWQiOjMsInR5cGUiOjMsImNvbnRlbnQiOiIifV0sInNlZW5fc3RhdGUiOiJzZWVuIiwic3RydWN0dXJlZF9yZXF1ZXN0X25vZGVzIjpbeyJpZCI6MSwidHlwZSI6MSwidG9vbF9yZXN1bHRfbm9kZSI6eyJjb250ZW50IjoiQ29tbWFuZCBpcyBzdGlsbCBydW5uaW5nIGFmdGVyIDAgc2Vjb25kcy4gWW91IGNhbiB1c2UgcmVhZC1wcm9jZXNzIHRvIGdldCBtb3JlIG91dHB1dFxuYW5kIGtpbGwtcHJvY2VzcyB0byB0ZXJtaW5hdGUgaXQgaWYgbmVlZGVkLlxuUElEIDE0XG5PdXRwdXQgc28gZmFyOlxuPHN0ZG91dD5cblxuPC9zdGRvdXQ+XG48c3RkZXJyPlxuXG48L3N0ZGVycj4iLCJpc19lcnJvciI6ZmFsc2UsInJlcXVlc3RfaWQiOiIiLCJ0b29sX3VzZV9pZCI6InRvb2x1X3ZydHhfMDEyV1JjanhISml1blRiMkpCUDhjYXQ3In19LHsiaWQiOjIsInR5cGUiOjQsImlkZV9zdGF0ZV9ub2RlIjp7IndvcmtzcGFjZUZvbGRlcnMiOlt7InJlcG9zaXRvcnlSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifV0sIndvcmtzcGFjZUZvbGRlcnNVbmNoYW5nZWQiOmZhbHNlLCJjdXJyZW50VGVybWluYWwiOnsidGVybWluYWxJZCI6MTQsImN1cnJlbnRXb3JraW5nRGlyZWN0b3J5IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20ifX19XSwicmVzcG9uc2VfdGV4dCI6IkxldCdzIHRyeSBhIGRpZmZlcmVudCBhcHByb2FjaC4gSW5zdGVhZCBvZiB0cnlpbmcgdG8ga2lsbCB0aGUgcHJvY2VzcywgbGV0J3MgbW9kaWZ5IG91ciBhcHBsaWNhdGlvbiB0byB1c2UgYSBkaWZmZXJlbnQgcG9ydDpcbiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119LHsic3RhdHVzIjoiY2FuY2VsbGVkIiwicmVxdWVzdF9pZCI6InRlbXAtZmUtODZmNjY3N2ItNTQxMy00NjJjLWIyMDctOTBhMjg1ZDcxMWEzIiwicmVxdWVzdF9tZXNzYWdlIjoiIiwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjoxLCJ0b29sX3Jlc3VsdF9ub2RlIjp7ImNvbnRlbnQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIGRlcGxveS9sb2NhbC5lbnY6XG4gICAgIDFcdEVOVj1sb2NhbFxuICAgICAyXHRQT1JUPTUwMDFcbiAgICAgM1x0XG4gICAgIDRcdERCX0hPU1Q9YXdzLTAtYXAtc291dGhlYXN0LTEucG9vbGVyLnN1cGFiYXNlLmNvbVxuICAgICA1XHREQl9QT1JUPTU0MzJcbiAgICAgNlx0REJfVVNFUj1wb3N0Z3Jlcy56c212emxhbm12d2h1ZXNhd3dtcVxuICAgICA3XHREQl9QQVNTV09SRD1ZSmJ6MHV1dkR3NktIa1Q5XG4gICAgIDhcdERCX05BTUU9cG9zdGdyZXNcbiAgICAgOVx0XG4gICAgMTBcdFNVUEFCQVNFX1VSTD1odHRwczovL3pzbXZ6bGFubXZ3aHVlc2F3d21xLnN1cGFiYXNlLmNvXG4gICAgMTFcdFNVUEFCQVNFX0FOT05fS0VZPWV5SmhiR2NpT2lKSVV6STFOaUlzSW5SNWNDSTZJa3BYVkNKOS5leUpwYzNNaU9pSnpkWEJoWW1GelpTSXNJbkpsWmlJNklucHpiWFo2YkdGdWJYWjNhSFZsYzJGM2QyMXhJaXdpY205c1pTSTZJbUZ1YjI0aUxDSnBZWFFpT2pFM05ETXpNREl4TnpZc0ltVjRjQ0k2TWpBMU9EZzNPREUzTm4wLlg1SnhwVmtsVFBVaEtOQURZVlB3LXJSbDJfWmduZ1NoWTBmbUl3STQ4YlVcbiAgICAxMlx0SldUX1NFQ1JFVD1VUWE3TlpmZE00eU9oZGliaVAzbmJJampObnI2VExBcll1bzdudzdTRVZGYXdpN3lkVmVuUFhuajNhTEhObE8ycUxoK2RzR1JxNFRCcTJmOEtqTFhudz09XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAxMlxuIiwiaXNfZXJyb3IiOmZhbHNlLCJyZXF1ZXN0X2lkIjoiIiwidG9vbF91c2VfaWQiOiJ0b29sdV92cnR4XzAxVUsyeFFQRnlvZmpNaDJaUHZIVWlhSiJ9fSx7ImlkIjoyLCJ0eXBlIjo0LCJpZGVfc3RhdGVfbm9kZSI6eyJ3b3Jrc3BhY2VGb2xkZXJzIjpbeyJyZXBvc2l0b3J5Um9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIiwiZm9sZGVyUm9vdCI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZSwiY3VycmVudFRlcm1pbmFsIjp7InRlcm1pbmFsSWQiOjE0LCJjdXJyZW50V29ya2luZ0RpcmVjdG9yeSI6Ii9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tIn19fV19LHsicmVxdWVzdF9pZCI6ImJkMDNjYTk0LTJmNWYtNDJkZi1hMWJhLWMwNzIyZjUwNjEyYyIsInN0YXR1cyI6ImNhbmNlbGxlZCIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtdHVybi1kZWxpbWl0ZXIifV0sImZlZWRiYWNrU3RhdGVzIjp7InRlbXAtZmUtYWZlNzkxMjAtY2E5Yy00ZDM0LThmNzQtMWMyMmQ3ODJlZDdkIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS03MmYwMGIzOC03N2M5LTQyNzgtOTZkNy04ODE4YzI5MmJlYWIiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTNkYTQ4YTBjLWZkMzktNDlhMS1iMzA0LWZlZWJhNmJlMzNhYSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYjQ2YzBiNzYtZDI2Mi00ODkzLTk0MDktOWY2N2Y5ZjlkMzc2Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1iYWQ3ZmE0OS1jNWZjLTQ4YmMtODIzYS02Yzc2MTg1MWQ5YzEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTBkM2JmMjRjLTM5NjEtNDMzMC1hNWVlLTA3NDRjYTFhMjVjZSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMjhkOTZlOTktMDE1OC00NDBlLWE0MzgtODMxOTk0ZjJlMGZkIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0zM2Q2ODc3Ni0xYTdhLTQ1ZmMtYTA3OS04MjY0M2U3ZjIwODYiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTIxMzBhNjhmLTgxZGYtNDQwZC05NTg5LTlkYzUwMjViZmQ1YSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMzZkOWY4ODgtMDZhNi00NDI1LWIwY2YtMjUyMDdhMjE0ZTM5Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1lZmM3NTdmYy0wMjViLTQwYTQtYjJkMy1kMDU1N2U1NmM1ODAiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWRlMDM0ZTY0LWRiMWMtNGYxZS05NTgxLTk3ZTc3Mjk0OTc5NCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtZWNjZmQyMjEtZmYwNC00YTI3LWE3YWUtYzVmMjkwMDk2NTc3Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS05ZmZlN2I1ZC0yNjc1LTQ4OGYtOWZhMC0wZjE2NWIwNTBmZmMiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWM2Y2MxODRhLWVhNTctNGZmNy05ZTMzLWI3NDYwYTY1MGZlNSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMjEyODBhZGUtZThkYi00ZDY2LTlkYTQtMzM4ZTc3NGRiYmY5Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1hNzg1OGI5MC04OWI0LTQzYTgtOTY4ZC1jNDIyN2ExYzY2NmIiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWY5MDExZTE1LTYyMTktNDUxYi1hNGYyLWU5MWZkNjdlOTFlYiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNTNhNzNkODUtMzA5MS00ZDMzLWI1YzYtYTJmNzUyMjYzMjVhIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1jNGQ0NDY0MC1kZGNiLTRmYWUtYTAwNC05NDM4MjYyYjVhYjgiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWU5NDAxZjU3LTBhZTktNGFkOS1hNDU1LTM3YjE1MzY2Y2NjNCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYWNjYjUwNDEtZGI5Zi00NzQ4LTk3ZWEtMmM1YWMxMTg3MDQ2Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS03ZGEzOTZhNi04ZjdmLTQ0YjMtODM4ZS1kZjNkZjA4MjdkMmMiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWIwNzE2OGRjLTE3MjgtNGI0ZS1iYmU3LWMyNzk2YWI5OTQ5MSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYmVhOWVkMjUtNzBiMS00MGQ0LWJjZTktZjdiMDA5ODQ4YjcwIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0xODlmMjlkMS01YTMzLTRlMDAtYWVjYS1iYzZjMmJmMjYyMTEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTRhYTZhMDgxLTc3NTctNGFmMC1hYTI1LTg0MzU1YjI5MjBjYiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMjg2ODYzMWQtZDNjOC00MjYzLTg3OTQtYjQ4YzdmODRhODY2Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1jMzE4Yjc1Zi1jN2Q5LTRiNTktOWM0Zi1jNGZhYzExNGMyZjEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTdmMDQ4MGEyLTQwYzItNDMxNy04MzA3LTQyYjYyOWQ4MjYyMSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtYzgyNmY1YWEtYTU1ZS00Y2E1LWJmYWQtZjNmZTg5ZDJjZjIxIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1mMjA3OWFiZi1lNzk0LTQ5YTctOWE1Ny02ZmEyYzAwOTk1ZDAiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTQzNGNhNDAyLTk3NzMtNDAzYi05NTUzLTZmNzBkNDRlZWQ2NSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNDY2N2Q1MDUtMDM1OC00ZmViLTliMzAtZTE5MzJjMjVlNTQyIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1hNDBjYWEyNC1mZGNlLTRlMGItOTlhNy0zNjk2ZWQ3OWIzY2IiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWMxOWQzODliLTE0MDctNGJkZS04ZTgwLWY4YTIyZDkyYjRlYyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNmJlNDNlZTItOWRmZC00M2E0LTlmZmItZTYyZWFkY2Q1ODJlIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS05NDE4ZjlmNy03YzE2LTRhMGUtYmFjZS0yOWQyZjlhMmExN2EiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLThhMTQyY2QwLTExMWItNDExNS1iZDllLWUyOWM4YTQzN2ZjNSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtODExYjQ0MzQtZmFjZi00NTljLThhMDgtZmY0ZDY1ZTRiNzkyIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1mZDE1ZjU2Yy1jZWQ3LTRmMTktYmVjOC01MDRhMmU3MTY5MTgiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWVkZTMyY2NkLTEwMDgtNGE4My1hMGE0LWUwZWIwZWM0MGM3ZiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMzZkNGVlZTItZTE3ZC00MWRkLTg0YWItMDFkZDVmN2Q1Mjk4Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1jNTZkMGMwZC04ZGQ2LTQ2MWQtYjA0Yy0xYjVjZjliMzdlM2MiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLWE3NzE5ZDNjLWRjMjEtNDZlZS05YzdmLWIwNDJiN2VjMTljOSI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtMGM4MDA3NTMtZTBmMy00NmEzLTk3MTgtMmNiMjRjZmUzYTJhIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS1hY2E3Nzg1Ni05YTdhLTRlOGMtODg2MS02ZDczNTgzMmIzNjEiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTE2OWM5ZjUxLTk0OTgtNGVhNS1hMjg2LTU4MWE0MDQ0N2MwYiI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtOGU2MWE1M2EtZjgxYS00MTIyLTliYjEtZGFlNjA3YWQzYjY1Ijp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS03NjNkZGYwMy02ZDE0LTQyY2MtOGY4Zi1jYzg0MWU0YTdmN2UiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTk2ZjFlOTk3LTZmMzAtNDg3YS1iZThjLTk2OTM5NzRhYWQwZCI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn0sInRlbXAtZmUtNmNlMzVjYzgtMTJhNC00MjBhLWE4MjQtYTU3NTYzYzc0NDYyIjp7InNlbGVjdGVkUmF0aW5nIjowLCJmZWVkYmFja05vdGUiOiIifSwidGVtcC1mZS0zNTM4Njc2Yy05YmJlLTQ2NzYtOGFlMy0xMDhkODZhMjI1MTciOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9LCJ0ZW1wLWZlLTg2ZjY2NzdiLTU0MTMtNDYyYy1iMjA3LTkwYTI4NWQ3MTFhMyI6eyJzZWxlY3RlZFJhdGluZyI6MCwiZmVlZGJhY2tOb3RlIjoiIn19LCJ0b29sVXNlU3RhdGVzIjp7ImFjMDMyNzljLTA5NzYtNGY5My04YzhiLTc4MzMwMTEzYzMxNzt0b29sdV92cnR4XzAxSGZ5ZEhvaWZKNkFoNUJmOFBzS1FUQSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHVzZWNhc2UvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zX2FzX3N0dWRlbnQuZ286XG4gICAgIDFcdHBhY2thZ2UgdXNlY2FzZVxuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IChcbiAgICAgNFx0XHRcImNvbnRleHRcIlxuICAgICA1XHRcdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuICAgICA2XHRcdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuICAgICA3XHRcdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcbiAgICAgOFx0XG4gICAgIDlcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuICAgIDEwXHRcdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcbiAgICAxMVx0XHRcImdvLnViZXIub3JnL3phcFwiXG4gICAgMTJcdClcbiAgICAxM1x0XG4gICAgMTRcdHR5cGUgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2UgaW50ZXJmYWNlIHtcbiAgICAxNVx0XHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG4gICAgMTZcdH1cbiAgICAxN1x0XG4gICAgMThcdHR5cGUgZmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2VJbXBsIHN0cnVjdCB7XG4gICAgMTlcdFx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbiAgICAyMFx0fVxuICAgIDIxXHRcbiAgICAyMlx0ZnVuYyBOZXdGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2Uge1xuICAgIDIzXHRcdHJldHVybiAmZmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2VJbXBse1xuICAgIDI0XHRcdFx0UmVwbzogcmVwbyxcbiAgICAyNVx0XHR9XG4gICAgMjZcdH1cbiAgICAyN1x0XG4gICAgMjhcdGZ1bmMgKHUgKmZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG4gICAgMjlcdFx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlU3R1ZGVudCwgcGFyYW1zKVxuICAgIDMwXHRcdGlmIGVyciAhPSBuaWwge1xuICAgIDMxXHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBqb2luZWQgY2xhc3Nyb29tcyBhcyBzdHVkZW50XCIsIHphcC5TdHJpbmcoXCJ1c2VyIGlkXCIsIHVzZXJJRCksIHphcC5FcnJvcihlcnIpKVxuICAgIDMyXHRcdFx0cmV0dXJuIG5pbCwgZXJyXG4gICAgMzNcdFx0fVxuICAgIDM0XHRcdHJldHVybiByZXN1bHQsIG5pbFxuICAgIDM1XHR9XG4gICAgMzZcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMzZcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifSwicmVxdWVzdElkIjoiYWMwMzI3OWMtMDk3Ni00ZjkzLThjOGItNzgzMzAxMTNjMzE3IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMUhmeWRIb2lmSjZBaDVCZjhQc0tRVEEifSwiMWZmOGNmZGMtNjQyMC00MGE5LWE1ZjItMDAzNTRiODg0YTJlO3Rvb2x1X3ZydHhfMDE1M2RUZ2hjdlZkUU5KTjFMOXNZeDFUIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHVzZWNhc2UvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zX2FzX3N0dWRlbnQuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKmZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCwgdXNlcklELCBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBqb2luZWQgY2xhc3Nyb29tcyBhcyBzdHVkZW50XCIsIHphcC5TdHJpbmcoXCJ1c2VyIGlkXCIsIHVzZXJJRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCByb2xlIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tcyBbXWVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRUYWJsZShcInF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tcyBBUyBjXCIpLlxuXHRcdEpvaW5zKFwiSk9JTiBxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbV9tZW1iZXJzIEFTIG0gT04gYy5pZCA9IG0uY2xhc3Nyb29tX2lkXCIpLlxuXHRcdFdoZXJlKFwibS51c2VyX2lkID0gPyBBTkQgbS5yb2xlID0gP1wiLCB1c2VySUQsIHJvbGUpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tcykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Ugc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNle1JlcG86IHJlcG99XG59XG5cbmZ1bmMgKGYgKmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHRyZXN1bHQsIGVyciA6PSBmLlJlcG8uRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHgsIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgY2xhc3Nyb29tIG1lbWJlcnNcIiwgemFwLlN0cmluZyhcImNsYXNzcm9vbSBpZFwiLCBjbGFzc3Jvb21JRCksIHphcC5FcnJvcigoZXJyKSkpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKmZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgb3duZWQgY2xhc3Nyb29tc1wiLCB6YXAuU3RyaW5nKFwidXNlciBpZFwiLCB1c2VySUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGNsYXNzcm9vbSBraMO0bmdcblx0aXNPd25lciwgZXJyIDo9IHUuUmVwby5Jc0NsYXNzcm9vbU93bmVyKGN0eCwgY2xhc3Nyb29tSUQsIHVzZXJJRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNoZWNrIGNsYXNzcm9vbSBvd25lclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdGlmICFpc093bmVyIHtcblx0XHRyZXR1cm4gbmlsLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXJcblx0fVxuXG5cdC8vIEzhuqV5IGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgbeG7nWlcblx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckludml0ZWRNZW1iZXJzKGN0eCwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBpbnZpdGVkIG1lbWJlcnNcIiwgemFwLlN0cmluZyhcImNsYXNzcm9vbSBpZFwiLCBjbGFzc3Jvb21JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21zIFtdZW50aXR5LkNsYXNzcm9vbUVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwidXNlcl9pZCA9ID9cIiwgdXNlcklEKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbXMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbXNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21NZW1iZXJzIFtdZW50aXR5LkNsYXNzcm9vbU1lbWJlclxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkXCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbU1lbWJlcnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbU1lbWJlcnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJPd25lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyUm9sZSBzdHJpbmdcblxuY29uc3QgKFxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlciBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJ0ZWFjaGVyXCJcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwic3R1ZGVudFwiXG4pXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyIHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cdENsYXNzcm9vbUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJjbGFzc3Jvb21faWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFVzZXJJRCAgICAgIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJ1c2VyX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRSb2xlICAgICAgICBDbGFzc3Jvb21NZW1iZXJSb2xlIGBqc29uOlwicm9sZVwiYFxuXHRJbnZpdGVkQnlJRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiaW52aXRlZF9ieV9pZFwiYFxufVxuXG5mdW5jIChjIENsYXNzcm9vbU1lbWJlcikgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVyc1wiXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcbilcblxudHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxuXHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxuXHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuXHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Jcblx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Jcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG5cdEZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcm9sZSBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZSwgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcblx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCByb2xlIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuXHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHJvbGUgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcblx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG59XG5cbmZ1bmMgTmV3KHByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlcikgUmVwb3NpdG9yeSB7XG5cdHJldHVybiAmcmVwb3NpdG9yeUltcGx7XG5cdFx0UHJvdmlkZXI6IHByb3ZpZGVyLFxuXHR9XG59XG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tRW50aXR5IHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cblx0VXNlcklEICAgIHN0cmluZyBganNvbjpcInVzZXJfaWRcImBcblx0TmFtZSAgICAgIHN0cmluZyBganNvbjpcIm5hbWVcImBcblx0QXZhdGFyVXJsIHN0cmluZyBganNvbjpcImF2YXRhcl91cmxcImBcbn1cblxuZnVuYyAoYyAqQ2xhc3Nyb29tRW50aXR5KSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXNcIlxufVxuLi4uXG5QYXRoOiBlbnRpdHkvaW52aXRhdGlvbi5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuXG50eXBlIEludml0YXRpb25TdGF0dXMgc3RyaW5nXG5cbmNvbnN0IChcblx0SW52aXRhdGlvblN0YXR1c1BlbmRpbmcgIEludml0YXRpb25TdGF0dXMgPSBcInBlbmRpbmdcIlxuXHRJbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwiYWNjZXB0ZWRcIlxuXHRJbnZpdGF0aW9uU3RhdHVzUmVqZWN0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwicmVqZWN0ZWRcIlxuKVxuXG50eXBlIEludml0YXRpb25FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiYFxuXHRTZW5kZXJJRCAgICBzdHJpbmcgICAgICAgICAgIGBqc29uOlwic2VuZGVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFJlY2VpdmVySUQgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJyZWNlaXZlcl9pZFwiIGdvcm06XCJpbmRleFwiYFxuXHRTdGF0dXMgICAgICBJbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgZ29ybTpcImluZGV4XCJgXG59XG5cbmZ1bmMgKEludml0YXRpb25FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7IHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uaW52aXRhdGlvbnNcIiB9XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnb3JtLmlvL2dvcm0vY2xhdXNlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yIHtcblx0Ly8gU+G7rSBk4bulbmcgY2xhdXNlLk9uQ29uZmxpY3QoKS5Eb05vdGhpbmcoKSDEkeG7gyB0csOhbmggbOG7l2kga2hpIHRow6ptIHRow6BuaCB2acOqbiDEkcOjIHThu5NuIHThuqFpXG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuXG5cdFx0Q2xhdXNlcyhjbGF1c2UuT25Db25mbGljdHtEb05vdGhpbmc6IHRydWV9KS5cblx0XHRDcmVhdGUobWVtYmVyKS5FcnJvclxufVxuLi4uXG5QYXRoOiBlcnJvci9lcnJvci5nb1xucGFja2FnZSBxZXJyb3JcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuKVxuXG4vLyDEkOG7i25oIG5naMSpYSBjw6FjIGNvbnN0YW50cyBlcnJvclxudmFyIChcblx0Ly8gSW52aXRhdGlvbiBlcnJvcnNcblx0RXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvbiA9IGVycm9ycy5OZXcoXCJyZWNlaXZlciBhbHJlYWR5IGhhcyBhIHBlbmRpbmcgb3IgYWNjZXB0ZWQgaW52aXRhdGlvblwiKVxuXHRFcnJOb3RDbGFzc3Jvb21Pd25lciAgICAgICAgICAgID0gZXJyb3JzLk5ldyhcInVzZXIgaXMgbm90IHRoZSBvd25lciBvZiB0aGUgY2xhc3Nyb29tXCIpXG5cdEVyckludml0YXRpb25Ob3RGb3VuZCAgICAgICAgICAgPSBlcnJvcnMuTmV3KFwiaW52aXRhdGlvbiBub3QgZm91bmRcIilcblx0RXJySW52aXRhdGlvbk5vdFBlbmRpbmcgICAgICAgICA9IGVycm9ycy5OZXcoXCJpbnZpdGF0aW9uIGlzIG5vdCBpbiBwZW5kaW5nIHN0YXR1c1wiKVxuXHRFcnJOb3RJbnZpdGF0aW9uUmVjZWl2ZXIgICAgICAgID0gZXJyb3JzLk5ldyhcInVzZXIgaXMgbm90IHRoZSByZWNlaXZlciBvZiB0aGlzIGludml0YXRpb25cIilcblx0RXJyVXNlckFscmVhZHlDbGFzc3Jvb21NZW1iZXIgICA9IGVycm9ycy5OZXcoXCJ1c2VyIGlzIGFscmVhZHkgYSBtZW1iZXIgb2YgdGhpcyBjbGFzc3Jvb21cIilcbilcbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvaXNfY2xhc3Nyb29tX293bmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKSB7XG5cdHZhciBjbGFzc3Jvb20gZW50aXR5LkNsYXNzcm9vbUVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiaWQgPSA/IEFORCB1c2VyX2lkID0gP1wiLCBjbGFzc3Jvb21JRCwgdXNlcklEKS5cblx0XHRGaXJzdCgmY2xhc3Nyb29tKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gTuG6v3Uga2jDtG5nIHTDrG0gdGjhuqV5IGLhuqNuIGdoaSwgY8OzIG5naMSpYSBsw6AgbmfGsOG7nWkgZMO5bmcga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdVxuXHRcdHJldHVybiBmYWxzZSwgbmlsXG5cdH1cblx0cmV0dXJuIHRydWUsIG5pbFxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvcm91dGVyLmdvXG4uLi5cblxuZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xuXHRjbGFzc3Jvb21Hcm91cCA6PSBhcHAuR3JvdXAoXCIvY2xhc3Nyb29tXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvaW52aXRlXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycylcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi9vd25lZFwiLCBoYW5kbGVyLkZpbHRlck93bmVkQ2xhc3Nyb29tcylcblxuXHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuXHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXFcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21SZXF1ZXN0IHN0cnVjdCB7XG5cdE5hbWUgICAgICAqc3RyaW5nIGBqc29uOlwibmFtZVwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0QXZhdGFyVXJsICpzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCIgdmFsaWRhdGU6XCJyZXF1aXJlZCx1cmxcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHRxdWVyeSA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJyZWNlaXZlcl9pZCA9ID9cIiwgcmVjZWl2ZXJJRClcblxuXHQvLyBM4buNYyB0aGVvIHN0YXR1cyBu4bq/dSBjw7Ncblx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdHF1ZXJ5ID0gcXVlcnkuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHR9XG5cblx0dmFyIGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0aWYgZXJyIDo9IHF1ZXJ5LlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuLi4uXG5QYXRoOiBoYW5kbGVyL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IGdvLm1vZFxubW9kdWxlIHF1aXp6eS1jbGFzc3Jvb21cblxuZ28gMS4yNC4xXG5cbnJlcXVpcmUgKFxuXHRnaXRodWIuY29tL2dvLXBsYXlncm91bmQvdmFsaWRhdG9yL3YxMCB2MTAuMjYuMFxuXHRnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjIgdjIuNTIuNlxuXHRnaXRodWIuY29tL25lZHBhbHMvc3VwYWJhc2UtZ28gdjAuNS4wXG5cdGdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlIHYwLjAuMTlcblx0Z2l0aHViLmNvbS9zcGYxMy9jb2JyYSB2MS45LjFcblx0Z28udWJlci5vcmcvemFwIHYxLjI3LjBcblx0Z29ybS5pby9nb3JtIHYxLjI1LjEyXG4pXG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAuLi4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn0sInJlcXVlc3RJZCI6IjFmZjhjZmRjLTY0MjAtNDBhOS1hNWYyLTAwMzU0Yjg4NGEyZSIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDE1M2RUZ2hjdlZkUU5KTjFMOXNZeDFUIn0sIjc4ZTJlOTI0LWY1MzktNGZhNS04NzhlLTllYjQzZWY1MTBhMDt0b29sdV92cnR4XzAxVnZhNXVWRGNiOFd6M3I5WkdoSEZpdiI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIG1vZGVsL3JlcS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXMuZ286XG4gICAgIDFcdHBhY2thZ2UgcmVxXG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuICAgICA0XHRcbiAgICAgNVx0dHlwZSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxIHN0cnVjdCB7XG4gICAgIDZcdFx0cmVxLlBhZ2luYXRpb25SZXFcbiAgICAgN1x0fVxuICAgICA4XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDhcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifSwicmVxdWVzdElkIjoiNzhlMmU5MjQtZjUzOS00ZmE1LTg3OGUtOWViNDNlZjUxMGEwIiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMVZ2YTV1VkRjYjhXejNyOVpHaEhGaXYifSwiNDdlNDM2N2ItMjVmOC00OTk0LTkwNTgtMTljMDBmZDgzZDc4O3Rvb2x1X3ZydHhfMDE0NlRYa0w3VFVjVndxZG04cXNiZm5wIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlRoZSBmb2xsb3dpbmcgY29kZSBzZWN0aW9ucyB3ZXJlIHJldHJpZXZlZDpcblBhdGg6IHVzZWNhc2UvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zX2FzX3N0dWRlbnQuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKmZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCwgdXNlcklELCBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBqb2luZWQgY2xhc3Nyb29tcyBhcyBzdHVkZW50XCIsIHphcC5TdHJpbmcoXCJ1c2VyIGlkXCIsIHVzZXJJRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2hhbmRsZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG50eXBlIEhhbmRsZXIgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAvLyBM4buNYyB0aMOgbmggdmnDqm4gY+G7p2EgbOG7m3AgaOG7jWNcblx0SW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgIC8vIE3hu51pIHRow6BuaCB2acOqbiB2w6BvIGzhu5twIGjhu41jXG5cdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG5cdFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBU4burIGNo4buRaSBs4budaSBt4budaVxuXHRBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gQ2jhuqVwIG5o4bqtbiBs4budaSBt4budaVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxuXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691XG59XG5cbnR5cGUgaGFuZGxlckltcGwgc3RydWN0IHtcblx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG5cdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxuXHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2Vcbn1cblxudHlwZSBJbmplY3Qgc3RydWN0IHtcblx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG5cdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxuXHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2Vcbn1cblxuZnVuYyBOZXcoaW5qZWN0ICpJbmplY3QpIEhhbmRsZXIge1xuXHRyZXR1cm4gJmhhbmRsZXJJbXBse1xuXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICBpbmplY3QuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSxcblx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogaW5qZWN0LkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLFxuXHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICBpbmplY3QuSW52aXRlTWVtYmVyVXNlQ2FzZSxcblx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgaW5qZWN0LkZpbHRlckludml0YXRpb25zVXNlQ2FzZSxcblx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LlJlamVjdEludml0YXRpb25Vc2VDYXNlLFxuXHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuQWNjZXB0SW52aXRhdGlvblVzZUNhc2UsXG5cdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIGluamVjdC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UsXG5cdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZTogIGluamVjdC5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlLFxuXHR9XG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVyT3duZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgY2xhc3Nyb29tX2lkIHThu6sgVVJMXG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHF1ZXJ5IHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLCBxdWVyeSlcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdGlmIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcikge1xuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0fVxuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IHIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCByb2xlIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tcyBbXWVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRUYWJsZShcInF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tcyBBUyBjXCIpLlxuXHRcdEpvaW5zKFwiSk9JTiBxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbV9tZW1iZXJzIEFTIG0gT04gYy5pZCA9IG0uY2xhc3Nyb29tX2lkXCIpLlxuXHRcdFdoZXJlKFwibS51c2VyX2lkID0gPyBBTkQgbS5yb2xlID0gP1wiLCB1c2VySUQsIHJvbGUpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tcykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogc2VydmVyL3JvdXRlci5nb1xuLi4uXG5cbmZ1bmMgSW5pdFJvdXRlcihhcHAgKmZpYmVyLkFwcCwgaGFuZGxlciBoYW5kbGVyLkhhbmRsZXIpIHtcblx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvY3JlYXRlXCIsIGhhbmRsZXIuQ3JlYXRlQ2xhc3Nyb29tKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2ludml0ZVwiLCBoYW5kbGVyLkludml0ZU1lbWJlcilcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvb3duZWRcIiwgaGFuZGxlci5GaWx0ZXJPd25lZENsYXNzcm9vbXMpXG5cblx0aW52aXRhdGlvbkdyb3VwIDo9IGFwcC5Hcm91cChcIi9pbnZpdGF0aW9uXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0aW52aXRhdGlvbkdyb3VwLkdldChcIi9maWx0ZXJcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucylcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9yZWplY3QvOmlkXCIsIGhhbmRsZXIuUmVqZWN0SW52aXRhdGlvbilcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9hY2NlcHQvOmlkXCIsIGhhbmRsZXIuQWNjZXB0SW52aXRhdGlvbilcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGNsYXNzcm9vbSBraMO0bmdcblx0aXNPd25lciwgZXJyIDo9IHUuUmVwby5Jc0NsYXNzcm9vbU93bmVyKGN0eCwgY2xhc3Nyb29tSUQsIHVzZXJJRClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNoZWNrIGNsYXNzcm9vbSBvd25lclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdGlmICFpc093bmVyIHtcblx0XHRyZXR1cm4gbmlsLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXJcblx0fVxuXG5cdC8vIEzhuqV5IGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgbeG7nWlcblx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckludml0ZWRNZW1iZXJzKGN0eCwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBpbnZpdGVkIG1lbWJlcnNcIiwgemFwLlN0cmluZyhcImNsYXNzcm9vbSBpZFwiLCBjbGFzc3Jvb21JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKmZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgb3duZWQgY2xhc3Nyb29tc1wiLCB6YXAuU3RyaW5nKFwidXNlciBpZFwiLCB1c2VySUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgSW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuSW52aXRlTWVtYmVyUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSBoLkludml0ZU1lbWJlclVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e1xuXHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkNsYXNzcm9vbUlELCBcIlwiKSxcblx0XHRTZW5kZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdFJlY2VpdmVySUQ6ICB2YWx1ZS5HZXRWYWx1ZShib2R5LlJlY2VpdmVySUQsIFwiXCIpLFxuXHRcdFN0YXR1czogICAgICBlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIMSRYW5nIGNo4budIHjhu60gbMO9IGhv4bq3YyDEkcOjIMSRxrDhu6NjIGNo4bqlcCBuaOG6rW5cIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuQ3JlYXRlQ2xhc3Nyb29tUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSByLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5DbGFzc3Jvb21FbnRpdHl7XG5cdFx0VXNlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0TmFtZTogICAgICB2YWx1ZS5HZXRWYWx1ZShib2R5Lk5hbWUsIFwiXCIpLFxuXHRcdEF2YXRhclVybDogdmFsdWUuR2V0VmFsdWUoYm9keS5BdmF0YXJVcmwsIFwiXCIpLFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvcmVqZWN0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBJRCBj4bunYSBpbnZpdGF0aW9uIHThu6sgVVJMXG5cdGludml0YXRpb25JRCA6PSBjLlBhcmFtcyhcImlkXCIpXG5cdGlmIGludml0YXRpb25JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImlkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRpZiBlcnIgOj0gaC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBpbnZpdGF0aW9uSUQsIHVzZXJJRCk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgaGFuZGxlIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIGdvcm0uRXJyUmVjb3JkTm90Rm91bmQpOlxuXHRcdFx0cmV0dXJuIHJlcy5Ob3RGb3VuZChjLCBlcnJvcnMuTmV3KFwia2jDtG5nIHTDrG0gdGjhuqV5IGzhu51pIG3hu51pXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdEludml0YXRpb25SZWNlaXZlcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBuw6B5XCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyckludml0YXRpb25Ob3RQZW5kaW5nKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibOG7nWkgbeG7nWkga2jDtG5nIOG7nyB0cuG6oW5nIHRow6FpIGNo4budIHjhu60gbMO9XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2V7UmVwbzogcmVwb31cbn1cblxuZnVuYyAoZiAqZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IGYuUmVwby5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBjbGFzc3Jvb20gbWVtYmVyc1wiLCB6YXAuU3RyaW5nKFwiY2xhc3Nyb29tIGlkXCIsIGNsYXNzcm9vbUlEKSwgemFwLkVycm9yKChlcnIpKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9hY2NlcHRfaW52aXRhdGlvbi5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IElEIGPhu6dhIGludml0YXRpb24gdOG7qyBVUkxcblx0aW52aXRhdGlvbklEIDo9IGMuUGFyYW1zKFwiaWRcIilcblx0aWYgaW52aXRhdGlvbklEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiaWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdGlmIGVyciA6PSBoLkFjY2VwdEludml0YXRpb25Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGludml0YXRpb25JRCwgdXNlcklEKTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBnb3JtLkVyclJlY29yZE5vdEZvdW5kKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwia2jDtG5nIHTDrG0gdGjhuqV5IGzhu51pIG3hu51pXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdEludml0YXRpb25SZWNlaXZlcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBuw6B5XCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyckludml0YXRpb25Ob3RQZW5kaW5nKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibOG7nWkgbeG7nWkga2jDtG5nIOG7nyB0cuG6oW5nIHRow6FpIGNo4budIHjhu60gbMO9XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IHNlcnZlci9zZXJ2ZXIuZ29cbi4uLlxuXHRyZXBvc2l0b3J5IDo9IHJlcG9zaXRvcnkuTmV3KHByb3ZpZGVyKVxuXHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgdXNlY2FzZS5OZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICB1c2VjYXNlLk5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlOiAgdXNlY2FzZS5OZXdGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHR9KVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xuLi4uXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tcyBbXWVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInVzZXJfaWQgPSA/XCIsIHVzZXJJRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xuLi4uXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgKFxuXHRcdHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHRcdH1cblx0XHRpbnZpdGF0aW9ucyBbXWVudGl0eS5JbnZpdGF0aW9uRW50aXR5XG5cdClcblxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkID0gP1wiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGZ1bmMoZGIgKmdvcm0uREIpICpnb3JtLkRCIHtcblx0XHRcdGlmIHBhcmFtcy5TdGF0dXMgIT0gbmlsIHtcblx0XHRcdFx0cmV0dXJuIGRiLldoZXJlKFwic3RhdHVzID0gP1wiLCAqcGFyYW1zLlN0YXR1cylcblx0XHRcdH1cblx0XHRcdHJldHVybiBkYlxuXHRcdH0sIGdvcm0yLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGludml0YXRpb25zLi4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9LCJyZXF1ZXN0SWQiOiI0N2U0MzY3Yi0yNWY4LTQ5OTQtOTA1OC0xOWMwMGZkODNkNzgiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxNDZUWGtMN1RVY1Z3cWRtOHFzYmZucCJ9LCIxYmFiOWM5OS1iYmQwLTRiYmItYWIxMS01NjU3NGRjN2MyMGE7dG9vbHVfdnJ0eF8wMTl3V2RjdDJwNVo3U0V6UkRWVkZwVzgiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogc2VydmVyL3NlcnZlci5nb1xucGFja2FnZSBzZXJ2ZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2hhbmRsZXJcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWxcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjIvbWlkZGxld2FyZS9yZWNvdmVyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbmZ1bmMgUnVuKHNlcnZpY2VDb25maWcgKm1vZGVsLlNlcnZpY2VDb25maWcpIHtcblx0YXBwIDo9IGZpYmVyLk5ldyhmaWJlci5Db25maWd7XG5cdFx0RW5hYmxlUHJpbnRSb3V0ZXM6IHRydWUsXG5cdH0pXG5cdGFwcC5Vc2UocmVjb3Zlci5OZXcoKSlcblxuXHRwcm92aWRlciwgZXJyIDo9IHByb3ZpZGVyLkluaXQoc2VydmljZUNvbmZpZylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcblx0aGFuZGxlciA6PSBoYW5kbGVyLk5ldygmaGFuZGxlci5JbmplY3R7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIHVzZWNhc2UuTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgdXNlY2FzZS5OZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICB1c2VjYXNlLk5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZTogIHVzZWNhc2UuTmV3RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0fSlcblxuXHRJbml0Um91dGVyKGFwcCwgaGFuZGxlcilcblx0dXRpbC5Jbml0VmFsaWRhdGUoKVxuXG5cdGlmIGVyciA6PSBhcHAuTGlzdGVuKFwiOlwiICsgc2VydmljZUNvbmZpZy5Qb3J0KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIHN0YXJ0IHNlcnZlclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvcm91dGVyLmdvXG5wYWNrYWdlIHNlcnZlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbmZ1bmMgSW5pdFJvdXRlcihhcHAgKmZpYmVyLkFwcCwgaGFuZGxlciBoYW5kbGVyLkhhbmRsZXIpIHtcblx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvY3JlYXRlXCIsIGhhbmRsZXIuQ3JlYXRlQ2xhc3Nyb29tKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2ludml0ZVwiLCBoYW5kbGVyLkludml0ZU1lbWJlcilcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvb3duZWRcIiwgaGFuZGxlci5GaWx0ZXJPd25lZENsYXNzcm9vbXMpXG5cblx0aW52aXRhdGlvbkdyb3VwIDo9IGFwcC5Hcm91cChcIi9pbnZpdGF0aW9uXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0aW52aXRhdGlvbkdyb3VwLkdldChcIi9maWx0ZXJcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucylcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9yZWplY3QvOmlkXCIsIGhhbmRsZXIuUmVqZWN0SW52aXRhdGlvbilcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9hY2NlcHQvOmlkXCIsIGhhbmRsZXIuQWNjZXB0SW52aXRhdGlvbilcbn1cbi4uLlxuUGF0aDogY21kL3NlcnZlLmdvXG4vKlxuQ29weXJpZ2h0IMKpIDIwMjUgTkFNRSBIRVJFIDxFTUFJTCBBRERSRVNTPlxuKi9cbnBhY2thZ2UgY21kXG5cbmltcG9ydCAoXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvY29uZmlnXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9zZXJ2ZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9zcGYxMy9jb2JyYVwiXG4pXG5cbi8vIHNlcnZlQ21kIHJlcHJlc2VudHMgdGhlIHNlcnZlIGNvbW1hbmRcbnZhciBzZXJ2ZUNtZCA9ICZjb2JyYS5Db21tYW5ke1xuXHRVc2U6ICAgXCJzZXJ2ZVwiLFxuXHRTaG9ydDogXCJBIGJyaWVmIGRlc2NyaXB0aW9uIG9mIHlvdXIgY29tbWFuZFwiLFxuXHRMb25nOiBgQSBsb25nZXIgZGVzY3JpcHRpb24gdGhhdCBzcGFucyBtdWx0aXBsZSBsaW5lcyBhbmQgbGlrZWx5IGNvbnRhaW5zIGV4YW1wbGVzXG5hbmQgdXNhZ2Ugb2YgdXNpbmcgeW91ciBjb21tYW5kLiBGb3IgZXhhbXBsZTpcblxuQ29icmEgaXMgYSBDTEkgbGlicmFyeSBmb3IgR28gdGhhdCBlbXBvd2VycyBhcHBsaWNhdGlvbnMuXG5UaGlzIGFwcGxpY2F0aW9uIGlzIGEgdG9vbCB0byBnZW5lcmF0ZSB0aGUgbmVlZGVkIGZpbGVzXG50byBxdWlja2x5IGNyZWF0ZSBhIENvYnJhIGFwcGxpY2F0aW9uLmAsXG5cdFJ1bjogZnVuYyhjbWQgKmNvYnJhLkNvbW1hbmQsIGFyZ3MgW11zdHJpbmcpIHtcblx0XHR2YXIgc2VydmljZUNvbmZpZyBtb2RlbC5TZXJ2aWNlQ29uZmlnXG5cdFx0ZW52UGF0aCwgXyA6PSBjbWQuRmxhZ3MoKS5HZXRTdHJpbmcoXCJlbnYtcGF0aFwiKVxuXG5cdFx0aWYgZXJyIDo9IGNvbmZpZy5Mb2FkQ29uZmlnKGVudlBhdGgsICZzZXJ2aWNlQ29uZmlnKTsgZXJyICE9IG5pbCB7XG5cdFx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBjb25maWdcIiwgemFwLkVycm9yKGVycikpXG5cdFx0XHRyZXR1cm5cblx0XHR9XG5cblx0XHRzZXJ2ZXIuUnVuKCZzZXJ2aWNlQ29uZmlnKVxuXHR9LFxufVxuXG5mdW5jIGluaXQoKSB7XG5cdHJvb3RDbWQuQWRkQ29tbWFuZChzZXJ2ZUNtZClcblxuXHQvLyBIZXJlIHlvdSB3aWxsIGRlZmluZSB5b3VyIGZsYWdzIGFuZCBjb25maWd1cmF0aW9uIHNldHRpbmdzLlxuXG5cdC8vIENvYnJhIHN1cHBvcnRzIFBlcnNpc3RlbnQgRmxhZ3Mgd2hpY2ggd2lsbCB3b3JrIGZvciB0aGlzIGNvbW1hbmRcblx0Ly8gYW5kIGFsbCBzdWJjb21tYW5kcywgZS5nLjpcblx0Ly8gc2VydmVDbWQuUGVyc2lzdGVudEZsYWdzKCkuU3RyaW5nKFwiZm9vXCIsIFwiXCIsIFwiQSBoZWxwIGZvciBmb29cIilcblxuXHQvLyBDb2JyYSBzdXBwb3J0cyBsb2NhbCBmbGFncyB3aGljaCB3aWxsIG9ubHkgcnVuIHdoZW4gdGhpcyBjb21tYW5kXG5cdC8vIGlzIGNhbGxlZCBkaXJlY3RseSwgZS5nLjpcblx0c2VydmVDbWQuRmxhZ3MoKS5TdHJpbmdQKFwiZW52LXBhdGhcIiwgXCJlXCIsIFwiLmVudlwiLCBcIlBhdGggdG8gZW52aXJvbm1lbnQgZmlsZVwiKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2hhbmRsZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXNlY2FzZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG50eXBlIEhhbmRsZXIgaW50ZXJmYWNlIHtcblx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgIC8vIFThuqFvIGzhu5twIGjhu41jXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAvLyBM4buNYyB0aMOgbmggdmnDqm4gY+G7p2EgbOG7m3AgaOG7jWNcblx0SW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgIC8vIE3hu51pIHRow6BuaCB2acOqbiB2w6BvIGzhu5twIGjhu41jXG5cdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu51pIG3hu51pXG5cdFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAvLyBU4burIGNo4buRaSBs4budaSBt4budaVxuXHRBY2NlcHRJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gQ2jhuqVwIG5o4bqtbiBs4budaSBt4budaVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxuXHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691XG59XG5cbnR5cGUgaGFuZGxlckltcGwgc3RydWN0IHtcblx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG5cdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxuXHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2Vcbn1cblxudHlwZSBJbmplY3Qgc3RydWN0IHtcblx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG5cdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG5cdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxuXHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2Vcbn1cblxuZnVuYyBOZXcoaW5qZWN0ICpJbmplY3QpIEhhbmRsZXIge1xuXHRyZXR1cm4gJmhhbmRsZXJJbXBse1xuXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICBpbmplY3QuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSxcblx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogaW5qZWN0LkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLFxuXHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICBpbmplY3QuSW52aXRlTWVtYmVyVXNlQ2FzZSxcblx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgaW5qZWN0LkZpbHRlckludml0YXRpb25zVXNlQ2FzZSxcblx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LlJlamVjdEludml0YXRpb25Vc2VDYXNlLFxuXHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICBpbmplY3QuQWNjZXB0SW52aXRhdGlvblVzZUNhc2UsXG5cdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIGluamVjdC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UsXG5cdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZTogIGluamVjdC5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlLFxuXHR9XG59XG4uLi5cblBhdGg6IHByb3ZpZGVyL3Byb3ZpZGVyLmdvXG5wYWNrYWdlIHByb3ZpZGVyXG5cbmltcG9ydCAoXG5cdFwiZ2l0aHViLmNvbS9uZWRwYWxzL3N1cGFiYXNlLWdvXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3Byb3ZpZGVyL2RhdGFiYXNlXCJcblx0XCJnb3JtLmlvL2dvcm1cIlxuKVxuXG50eXBlIFByb3ZpZGVyIHN0cnVjdCB7XG5cdERiICAgICAgICAgICAgICpnb3JtLkRCXG5cdFN1cGFiYXNlQ2xpZW50ICpzdXBhYmFzZS5DbGllbnRcbn1cblxuZnVuYyBJbml0KHNlcnZpY2VDb25maWcgKm1vZGVsLlNlcnZpY2VDb25maWcpICgqUHJvdmlkZXIsIGVycm9yKSB7XG5cdGRiLCBlcnIgOj0gZGF0YWJhc2UuTmV3UG9zdGdyZXNEQihcblx0XHRzZXJ2aWNlQ29uZmlnLkRiSG9zdCxcblx0XHRzZXJ2aWNlQ29uZmlnLkRiUG9ydCxcblx0XHRzZXJ2aWNlQ29uZmlnLkRiVXNlcixcblx0XHRzZXJ2aWNlQ29uZmlnLkRiUGFzc3dvcmQsXG5cdFx0c2VydmljZUNvbmZpZy5EYk5hbWUsXG5cdClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRzdXBhYmFzZUNsaWVudCA6PSBzdXBhYmFzZS5DcmVhdGVDbGllbnQoXG5cdFx0c2VydmljZUNvbmZpZy5TdXBiYXNlVXJsLFxuXHRcdHNlcnZpY2VDb25maWcuU3VwYWJhc2VBbm9uS2V5LFxuXHQpXG5cblx0cmV0dXJuICZQcm92aWRlcntcblx0XHREYjogICAgICAgICAgICAgZGIsXG5cdFx0U3VwYWJhc2VDbGllbnQ6IHN1cGFiYXNlQ2xpZW50LFxuXHR9LCBuaWxcbn1cbi4uLlxuUGF0aDogbWlncmF0ZS9taWdyYXRlLmdvXG5wYWNrYWdlIG1pZ3JhdGVcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbmZ1bmMgUnVuKHNlcnZpY2VDb25maWcgKm1vZGVsLlNlcnZpY2VDb25maWcpIHtcblx0cHJvdmlkZXIsIGVyciA6PSBwcm92aWRlci5Jbml0KHNlcnZpY2VDb25maWcpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBpbml0IHByb3ZpZGVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG5cblx0aWYgZXJyIDo9IHByb3ZpZGVyLkRiLkF1dG9NaWdyYXRlKFxuXHRcdCZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e30sXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7fSxcblx0XHQmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSxcblx0KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIG1pZ3JhdGUgZGF0YWJhc2VcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRsb2dnZXIuSW5mbyhcIm1pZ3JhdGUgZGF0YWJhc2Ugc3VjY2Vzc1wiKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBib2R5IHJlcS5DcmVhdGVDbGFzc3Jvb21SZXF1ZXN0XG5cblx0aWYgZXJyIDo9IGMuQm9keVBhcnNlcigmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHIuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5LkNsYXNzcm9vbUVudGl0eXtcblx0XHRVc2VySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHROYW1lOiAgICAgIHZhbHVlLkdldFZhbHVlKGJvZHkuTmFtZSwgXCJcIiksXG5cdFx0QXZhdGFyVXJsOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkF2YXRhclVybCwgXCJcIiksXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogY21kL3Jvb3QuZ29cbi8qXG5Db3B5cmlnaHQgwqkgMjAyNSBOQU1FIEhFUkUgPEVNQUlMIEFERFJFU1M+XG4qL1xucGFja2FnZSBjbWRcblxuaW1wb3J0IChcblx0XCJvc1wiXG5cblx0XCJnaXRodWIuY29tL3NwZjEzL2NvYnJhXCJcbilcblxuLy8gcm9vdENtZCByZXByZXNlbnRzIHRoZSBiYXNlIGNvbW1hbmQgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgc3ViY29tbWFuZHNcbnZhciByb290Q21kID0gJmNvYnJhLkNvbW1hbmR7XG5cdFVzZTogICBcInF1aXp6eS1jbGFzc3Jvb21cIixcblx0U2hvcnQ6IFwiQSBicmllZiBkZXNjcmlwdGlvbiBvZiB5b3VyIGFwcGxpY2F0aW9uXCIsXG5cdExvbmc6IGBBIGxvbmdlciBkZXNjcmlwdGlvbiB0aGF0IHNwYW5zIG11bHRpcGxlIGxpbmVzIGFuZCBsaWtlbHkgY29udGFpbnNcbmV4YW1wbGVzIGFuZCB1c2FnZSBvZiB1c2luZyB5b3VyIGFwcGxpY2F0aW9uLiBGb3IgZXhhbXBsZTpcblxuQ29icmEgaXMgYSBDTEkgbGlicmFyeSBmb3IgR28gdGhhdCBlbXBvd2VycyBhcHBsaWNhdGlvbnMuXG5UaGlzIGFwcGxpY2F0aW9uIGlzIGEgdG9vbCB0byBnZW5lcmF0ZSB0aGUgbmVlZGVkIGZpbGVzXG50byBxdWlja2x5IGNyZWF0ZSBhIENvYnJhIGFwcGxpY2F0aW9uLmAsXG5cdC8vIFVuY29tbWVudCB0aGUgZm9sbG93aW5nIGxpbmUgaWYgeW91ciBiYXJlIGFwcGxpY2F0aW9uXG5cdC8vIGhhcyBhbiBhY3Rpb24gYXNzb2NpYXRlZCB3aXRoIGl0OlxuXHQvLyBSdW46IGZ1bmMoY21kICpjb2JyYS5Db21tYW5kLCBhcmdzIFtdc3RyaW5nKSB7IH0sXG59XG5cbi8vIEV4ZWN1dGUgYWRkcyBhbGwgY2hpbGQgY29tbWFuZHMgdG8gdGhlIHJvb3QgY29tbWFuZCBhbmQgc2V0cyBmbGFncyBhcHByb3ByaWF0ZWx5LlxuLy8gVGhpcyBpcyBjYWxsZWQgYnkgbWFpbi5tYWluKCkuIEl0IG9ubHkgbmVlZHMgdG8gaGFwcGVuIG9uY2UgdG8gdGhlIHJvb3RDbWQuXG5mdW5jIEV4ZWN1dGUoKSB7XG5cdGVyciA6PSByb290Q21kLkV4ZWN1dGUoKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRvcy5FeGl0KDEpXG5cdH1cbn1cblxuZnVuYyBpbml0KCkge1xuXHQvLyBIZXJlIHlvdSB3aWxsIGRlZmluZSB5b3VyIGZsYWdzIGFuZCBjb25maWd1cmF0aW9uIHNldHRpbmdzLlxuXHQvLyBDb2JyYSBzdXBwb3J0cyBwZXJzaXN0ZW50IGZsYWdzLCB3aGljaCwgaWYgZGVmaW5lZCBoZXJlLFxuXHQvLyB3aWxsIGJlIGdsb2JhbCBmb3IgeW91ciBhcHBsaWNhdGlvbi5cblxuXHQvLyByb290Q21kLlBlcnNpc3RlbnRGbGFncygpLlN0cmluZ1ZhcigmY2ZnRmlsZSwgXCJjb25maWdcIiwgXCJcIiwgXCJjb25maWcgZmlsZSAoZGVmYXVsdCBpcyAkSE9NRS8ucXVpenp5LWNsYXNzcm9vbS55YW1sKVwiKVxuXG5cdC8vIENvYnJhIGFsc28gc3VwcG9ydHMgbG9jYWwgZmxhZ3MsIHdoaWNoIHdpbGwgb25seSBydW5cblx0Ly8gd2hlbiB0aGlzIGFjdGlvbiBpcyBjYWxsZWQgZGlyZWN0bHkuXG5cdHJvb3RDbWQuRmxhZ3MoKS5Cb29sUChcInRvZ2dsZVwiLCBcInRcIiwgZmFsc2UsIFwiSGVscCBtZXNzYWdlIGZvciB0b2dnbGVcIilcbn1cbi4uLlxuUGF0aDogY21kL21pZ3JhdGUuZ29cbi8qXG5Db3B5cmlnaHQgwqkgMjAyNSBOQU1FIEhFUkUgPEVNQUlMIEFERFJFU1M+XG4qL1xucGFja2FnZSBjbWRcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9jb25maWdcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21pZ3JhdGVcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9zcGYxMy9jb2JyYVwiXG4pXG5cbi8vIG1pZ3JhdGVDbWQgcmVwcmVzZW50cyB0aGUgbWlncmF0ZSBjb21tYW5kXG52YXIgbWlncmF0ZUNtZCA9ICZjb2JyYS5Db21tYW5ke1xuXHRVc2U6ICAgXCJtaWdyYXRlXCIsXG5cdFNob3J0OiBcIkEgYnJpZWYgZGVzY3JpcHRpb24gb2YgeW91ciBjb21tYW5kXCIsXG5cdExvbmc6IGBBIGxvbmdlciBkZXNjcmlwdGlvbiB0aGF0IHNwYW5zIG11bHRpcGxlIGxpbmVzIGFuZCBsaWtlbHkgY29udGFpbnMgZXhhbXBsZXNcbmFuZCB1c2FnZSBvZiB1c2luZyB5b3VyIGNvbW1hbmQuIEZvciBleGFtcGxlOlxuXG5Db2JyYSBpcyBhIENMSSBsaWJyYXJ5IGZvciBHbyB0aGF0IGVtcG93ZXJzIGFwcGxpY2F0aW9ucy5cblRoaXMgYXBwbGljYXRpb24gaXMgYSB0b29sIHRvIGdlbmVyYXRlIHRoZSBuZWVkZWQgZmlsZXNcbnRvIHF1aWNrbHkgY3JlYXRlIGEgQ29icmEgYXBwbGljYXRpb24uYCxcblx0UnVuOiBmdW5jKGNtZCAqY29icmEuQ29tbWFuZCwgYXJncyBbXXN0cmluZykge1xuXHRcdHZhciBzZXJ2aWNlQ29uZmlnIG1vZGVsLlNlcnZpY2VDb25maWdcblx0XHRlbnZQYXRoLCBfIDo9IGNtZC5GbGFncygpLkdldFN0cmluZyhcImVudi1wYXRoXCIpXG5cblx0XHRpZiBlcnIgOj0gY29uZmlnLkxvYWRDb25maWcoZW52UGF0aCwgJnNlcnZpY2VDb25maWcpOyBlcnIgIT0gbmlsIHtcblx0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBsb2FkIGNvbmZpZ1wiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRcdHJldHVyblxuXHRcdH1cblxuXHRcdG1pZ3JhdGUuUnVuKCZzZXJ2aWNlQ29uZmlnKVxuXHR9LFxufVxuXG5mdW5jIGluaXQoKSB7XG5cdHJvb3RDbWQuQWRkQ29tbWFuZChtaWdyYXRlQ21kKVxuXG5cdC8vIEhlcmUgeW91IHdpbGwgZGVmaW5lIHlvdXIgZmxhZ3MgYW5kIGNvbmZpZ3VyYXRpb24gc2V0dGluZ3MuXG5cblx0Ly8gQ29icmEgc3VwcG9ydHMgUGVyc2lzdGVudCBGbGFncyB3aGljaCB3aWxsIHdvcmsgZm9yIHRoaXMgY29tbWFuZFxuXHQvLyBhbmQgYWxsIHN1YmNvbW1hbmRzLCBlLmcuOlxuXHQvLyBtaWdyYXRlQ21kLlBlcnNpc3RlbnRGbGFncygpLlN0cmluZyhcImZvb1wiLCBcIlwiLCBcIkEgaGVscCBmb3IgZm9vXCIpXG5cblx0Ly8gQ29icmEgc3VwcG9ydHMgbG9jYWwgZmxhZ3Mgd2hpY2ggd2lsbCBvbmx5IHJ1biB3aGVuIHRoaXMgY29tbWFuZFxuXHQvLyBpcyBjYWxsZWQgZGlyZWN0bHksIGUuZy46XG5cdG1pZ3JhdGVDbWQuRmxhZ3MoKS5TdHJpbmdQKFwiZW52LXBhdGhcIiwgXCJlXCIsIFwiLmVudlwiLCBcIlBhdGggdG8gZW52aXJvbm1lbnQgZmlsZVwiKVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogTWFrZWZpbGVcbi5QSE9OWTogbWlncmF0ZVxuXG5kZWI6XG5cdGdvIGdldCAtdSAuLy4uLiAmJiBnbyBtb2QgdGlkeVxuXG5ydW46XG5cdGdvIHJ1biBtYWluLmdvIHNlcnZlIC1lIC4vZGVwbG95L2xvY2FsLmVudlxuXG5taWdyYXRlOlxuXHRnbyBydW4gbWFpbi5nbyBtaWdyYXRlIC1lIC4vZGVwbG95L2xvY2FsLmVudlxuLi4uXG5QYXRoOiBtYWluLmdvXG5wYWNrYWdlIG1haW5cblxuaW1wb3J0IFwicXVpenp5LWNsYXNzcm9vbS9jbWRcIlxuXG5mdW5jIG1haW4oKSB7XG5cdGNtZC5FeGVjdXRlKClcbn1cbi4uLlxuUGF0aDogbW9kZWwvc2VydmljZV9jb25maWcuZ29cbnBhY2thZ2UgbW9kZWxcblxudHlwZSBTZXJ2aWNlQ29uZmlnIHN0cnVjdCB7XG5cdEVudiAgc3RyaW5nIGBtYXBzdHJ1Y3R1cmU6XCJFTlZcImBcblx0UG9ydCBzdHJpbmcgYG1hcHN0cnVjdHVyZTpcIlBPUlRcImBcblxuXHREYkhvc3QgICAgIHN0cmluZyBgbWFwc3RydWN0dXJlOlwiREJfSE9TVFwiYFxuXHREYlBvcnQgICAgIHN0cmluZyBgbWFwc3RydWN0dXJlOlwiREJfUE9SVFwiYFxuXHREYlVzZXIgICAgIHN0cmluZyBgbWFwc3RydWN0dXJlOlwiREJfVVNFUlwiYFxuXHREYlBhc3N3b3JkIHN0cmluZyBgbWFwc3RydWN0dXJlOlwiREJfUEFTU1dPUkRcImBcblx0RGJOYW1lICAgICBzdHJpbmcgYG1hcHN0cnVjdHVyZTpcIkRCX05BTUVcImBcblxuXHRTdXBiYXNlVXJsICAgICAgIHN0cmluZyBgbWFwc3RydWN0dXJlOlwiU1VQQUJBU0VfVVJMXCJgXG5cdFN1cGFiYXNlQW5vbktleSAgc3RyaW5nIGBtYXBzdHJ1Y3R1cmU6XCJTVVBBQkFTRV9BTk9OX0tFWVwiYFxuXHRTdXBiYXNlSnd0U2VjcmV0IHN0cmluZyBgbWFwc3RydWN0dXJlOlwiU1VQQUJBU0VfSldUX1NFQ1JFVFwiYFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgdXNlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IHIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGF0aW9uc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9pbnZpdGVfbWVtYmVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgSW52aXRlTWVtYmVyKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuSW52aXRlTWVtYmVyUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSBoLkludml0ZU1lbWJlclVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e1xuXHRcdENsYXNzcm9vbUlEOiB2YWx1ZS5HZXRWYWx1ZShib2R5LkNsYXNzcm9vbUlELCBcIlwiKSxcblx0XHRTZW5kZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdFJlY2VpdmVySUQ6ICB2YWx1ZS5HZXRWYWx1ZShib2R5LlJlY2VpdmVySUQsIFwiXCIpLFxuXHRcdFN0YXR1czogICAgICBlbnRpdHkuSW52aXRhdGlvblN0YXR1c1BlbmRpbmcsXG5cdH0pOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibmfGsOG7nWkgbmjhuq1uIMSRw6MgY8OzIGzhu51pIG3hu51pIMSRYW5nIGNo4budIHjhu60gbMO9IGhv4bq3YyDEkcOjIMSRxrDhu6NjIGNo4bqlcCBuaOG6rW5cIikpXG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIG5pbClcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBjbGFzc3Jvb21faWQgdOG7qyBVUkxcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcXVlcnkgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksIHF1ZXJ5KVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHQvLyBLaeG7g20gdHJhIGPDoWMgbG/huqFpIGzhu5dpXG5cdFx0aWYgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKSB7XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHR9XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXFcblxudHlwZSBDcmVhdGVDbGFzc3Jvb21SZXF1ZXN0IHN0cnVjdCB7XG5cdE5hbWUgICAgICAqc3RyaW5nIGBqc29uOlwibmFtZVwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcblx0QXZhdGFyVXJsICpzdHJpbmcgYGpzb246XCJhdmF0YXJfdXJsXCIgdmFsaWRhdGU6XCJyZXF1aXJlZCx1cmxcImBcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9hY2NlcHRfaW52aXRhdGlvbi5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IElEIGPhu6dhIGludml0YXRpb24gdOG7qyBVUkxcblx0aW52aXRhdGlvbklEIDo9IGMuUGFyYW1zKFwiaWRcIilcblx0aWYgaW52aXRhdGlvbklEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiaWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdGlmIGVyciA6PSBoLkFjY2VwdEludml0YXRpb25Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGludml0YXRpb25JRCwgdXNlcklEKTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBnb3JtLkVyclJlY29yZE5vdEZvdW5kKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwia2jDtG5nIHTDrG0gdGjhuqV5IGzhu51pIG3hu51pXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdEludml0YXRpb25SZWNlaXZlcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBuw6B5XCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyckludml0YXRpb25Ob3RQZW5kaW5nKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibOG7nWkgbeG7nWkga2jDtG5nIOG7nyB0cuG6oW5nIHRow6FpIGNo4budIHjhu60gbMO9XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvcmVqZWN0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBJRCBj4bunYSBpbnZpdGF0aW9uIHThu6sgVVJMXG5cdGludml0YXRpb25JRCA6PSBjLlBhcmFtcyhcImlkXCIpXG5cdGlmIGludml0YXRpb25JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImlkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG4uLi5cblBhdGg6IGRlcGxveS9sb2NhbC5lbnZcbkVOVj1sb2NhbFxuUE9SVD01MDAxXG5cbkRCX0hPU1Q9YXdzLTAtYXAtc291dGhlYXN0LTEucG9vbGVyLnN1cGFiYXNlLmNvbVxuREJfUE9SVD01NDMyXG5EQl9VU0VSPXBvc3RncmVzLnpzbXZ6bGFubXZ3aHVlc2F3d21xXG5EQl9QQVNTV09SRD1ZSmJ6MHV1dkR3NktIa1Q5XG5EQl9OQU1FPXBvc3RncmVzXG5cblNVUEFCQVNFX1VSTD1odHRwczovL3pzbXZ6bGFubXZ3aHVlc2F3d21xLnN1cGFiYXNlLmNvXG5TVVBBQkFTRV9BTk9OX0tFWT1leUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKcGMzTWlPaUp6ZFhCaFltRnpaU0lzSW5KbFppSTZJbnB6YlhaNmJHRnViWFozYUhWbGMyRjNkMjF4SWl3aWNtOXNaU0k2SW1GdWIyNGlMQ0pwWVhRaU9qRTNORE16TURJeE56WXNJLi4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9LCJyZXF1ZXN0SWQiOiIxYmFiOWM5OS1iYmQwLTRiYmItYWIxMS01NjU3NGRjN2MyMGEiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxOXdXZGN0MnA1WjdTRXpSRFZWRnBXOCJ9LCJlYTA2YmJiNy03MzQzLTQyYjQtYjY1OS00NDUwYTE4MGVhYjM7dG9vbHVfdnJ0eF8wMUFTaGJUV25UQkQzVWRHdkNMbW5wY00iOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9LCJyZXF1ZXN0SWQiOiJlYTA2YmJiNy03MzQzLTQyYjQtYjY1OS00NDUwYTE4MGVhYjMiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxQVNoYlRXblRCRDNVZEd2Q0xtbnBjTSJ9LCJmNzc4YTUxYS05Nzk1LTRkNWYtYmYzZC1hZTk3NmJmZmFjYTg7dG9vbHVfdnJ0eF8wMVVac2NyVjFIYlVtSnZMNnJta1NadWYiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogaGFuZGxlci9oYW5kbGVyLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL3VzZWNhc2VcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbilcblxudHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAvLyBU4bqhbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTOG7jWMgdGjDoG5oIHZpw6puIGPhu6dhIGzhu5twIGjhu41jXG5cdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuXHRGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4budaSBt4budaVxuXHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgLy8gVOG7qyBjaOG7kWkgbOG7nWkgbeG7nWlcblx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgIC8vIEzhu41jIGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgxJHGsOG7o2MgbeG7nWlcblx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3IgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJFhbmcgc+G7nyBo4buvdVxufVxuXG50eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Vcblx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXG59XG5cbnR5cGUgSW5qZWN0IHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuXHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuXHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG5cdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2Vcblx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXG59XG5cbmZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcblx0cmV0dXJuICZoYW5kbGVySW1wbHtcblx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXG5cdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6IGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcblx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgaW5qZWN0Lkludml0ZU1lbWJlclVzZUNhc2UsXG5cdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIGluamVjdC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UsXG5cdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcblx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LkFjY2VwdEludml0YXRpb25Vc2VDYXNlLFxuXHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICBpbmplY3QuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLFxuXHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2U6ICBpbmplY3QuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSxcblx0fVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGF0aW9ucy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGF0aW9ucyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9hY2NlcHRfaW52aXRhdGlvbi5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IElEIGPhu6dhIGludml0YXRpb24gdOG7qyBVUkxcblx0aW52aXRhdGlvbklEIDo9IGMuUGFyYW1zKFwiaWRcIilcblx0aWYgaW52aXRhdGlvbklEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiaWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdGlmIGVyciA6PSBoLkFjY2VwdEludml0YXRpb25Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGludml0YXRpb25JRCwgdXNlcklEKTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBnb3JtLkVyclJlY29yZE5vdEZvdW5kKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwia2jDtG5nIHTDrG0gdGjhuqV5IGzhu51pIG3hu51pXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdEludml0YXRpb25SZWNlaXZlcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBuw6B5XCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyckludml0YXRpb25Ob3RQZW5kaW5nKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibOG7nWkgbeG7nWkga2jDtG5nIOG7nyB0cuG6oW5nIHRow6FpIGNo4budIHjhu60gbMO9XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAoaCAqaGFuZGxlckltcGwpIEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkludml0ZU1lbWJlclJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gaC5JbnZpdGVNZW1iZXJVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuSW52aXRhdGlvbkVudGl0eXtcblx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoYm9keS5DbGFzc3Jvb21JRCwgXCJcIiksXG5cdFx0U2VuZGVySUQ6ICAgIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSxcblx0XHRSZWNlaXZlcklEOiAgdmFsdWUuR2V0VmFsdWUoYm9keS5SZWNlaXZlcklELCBcIlwiKSxcblx0XHRTdGF0dXM6ICAgICAgZW50aXR5Lkludml0YXRpb25TdGF0dXNQZW5kaW5nLFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdHN3aXRjaCB7XG5cdFx0Y2FzZSBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvbik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcIm5nxrDhu51pIG5o4bqtbiDEkcOjIGPDsyBs4budaSBt4budaSDEkWFuZyBjaOG7nSB44butIGzDvSBob+G6t2MgxJHDoyDEkcaw4bujYyBjaOG6pXAgbmjhuq1uXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Y2xhc3Nyb29tSUQgOj0gYy5QYXJhbXMoXCJjbGFzc3Jvb21faWRcIilcblx0aWYgY2xhc3Nyb29tSUQgPT0gXCJcIiB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJjbGFzc3Jvb21faWQgaXMgcmVxdWlyZWRcIikpXG5cdH1cblxuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIGhhbmRsZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpoYW5kbGVySW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgYm9keSByZXEuQ3JlYXRlQ2xhc3Nyb29tUmVxdWVzdFxuXG5cdGlmIGVyciA6PSBjLkJvZHlQYXJzZXIoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSByLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgJmVudGl0eS5DbGFzc3Jvb21FbnRpdHl7XG5cdFx0VXNlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0TmFtZTogICAgICB2YWx1ZS5HZXRWYWx1ZShib2R5Lk5hbWUsIFwiXCIpLFxuXHRcdEF2YXRhclVybDogdmFsdWUuR2V0VmFsdWUoYm9keS5BdmF0YXJVcmwsIFwiXCIpLFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvcmVqZWN0X2ludml0YXRpb24uZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHQvLyBM4bqleSBJRCBj4bunYSBpbnZpdGF0aW9uIHThu6sgVVJMXG5cdGludml0YXRpb25JRCA6PSBjLlBhcmFtcyhcImlkXCIpXG5cdGlmIGludml0YXRpb25JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImlkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRpZiBlcnIgOj0gaC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBpbnZpdGF0aW9uSUQsIHVzZXJJRCk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgaGFuZGxlIGzhu5dpXG5cdFx0c3dpdGNoIHtcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIGdvcm0uRXJyUmVjb3JkTm90Rm91bmQpOlxuXHRcdFx0cmV0dXJuIHJlcy5Ob3RGb3VuZChjLCBlcnJvcnMuTmV3KFwia2jDtG5nIHTDrG0gdGjhuqV5IGzhu51pIG3hu51pXCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyck5vdEludml0YXRpb25SZWNlaXZlcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIG5nxrDhu51pIG5o4bqtbiBs4budaSBt4budaSBuw6B5XCIpKVxuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyckludml0YXRpb25Ob3RQZW5kaW5nKTpcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwibOG7nWkgbeG7nWkga2jDtG5nIOG7nyB0cuG6oW5nIHRow6FpIGNo4budIHjhu60gbMO9XCIpKVxuXHRcdGRlZmF1bHQ6XG5cdFx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCBuaWwpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zX2FzX3N0dWRlbnQuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudChjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVyT3duZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHQvLyBM4bqleSBJRCBj4bunYSBuZ8aw4budaSBkw7luZyBoaeG7h24gdOG6oWkgdOG7qyBKV1QgdG9rZW5cblx0dXNlcklEIDo9IGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKVxuXG5cdHJlc3VsdCwgZXJyIDo9IGguRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yIHtcblx0Ly8gTOG6pXkgY2xhc3Nyb29tX2lkIHThu6sgVVJMXG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHF1ZXJ5IHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZxdWVyeSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCBjbGFzc3Jvb21JRCwgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLCBxdWVyeSlcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0Ly8gS2nhu4NtIHRyYSBjw6FjIGxv4bqhaSBs4buXaVxuXHRcdGlmIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcikge1xuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJi4bqhbiBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691IGPhu6dhIGzhu5twIGjhu41jIG7DoHlcIikpXG5cdFx0fVxuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiBzZXJ2ZXIvcm91dGVyLmdvXG5wYWNrYWdlIHNlcnZlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4pXG5cbmZ1bmMgSW5pdFJvdXRlcihhcHAgKmZpYmVyLkFwcCwgaGFuZGxlciBoYW5kbGVyLkhhbmRsZXIpIHtcblx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG5cdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvY3JlYXRlXCIsIGhhbmRsZXIuQ3JlYXRlQ2xhc3Nyb29tKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2ludml0ZVwiLCBoYW5kbGVyLkludml0ZU1lbWJlcilcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvb3duZWRcIiwgaGFuZGxlci5GaWx0ZXJPd25lZENsYXNzcm9vbXMpXG5cblx0aW52aXRhdGlvbkdyb3VwIDo9IGFwcC5Hcm91cChcIi9pbnZpdGF0aW9uXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcblx0aW52aXRhdGlvbkdyb3VwLkdldChcIi9maWx0ZXJcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucylcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9yZWplY3QvOmlkXCIsIGhhbmRsZXIuUmVqZWN0SW52aXRhdGlvbilcblx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9hY2NlcHQvOmlkXCIsIGhhbmRsZXIuQWNjZXB0SW52aXRhdGlvbilcbn1cbi4uLlxuUGF0aDogc2VydmVyL3NlcnZlci5nb1xucGFja2FnZSBzZXJ2ZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2hhbmRsZXJcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWxcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91c2VjYXNlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjIvbWlkZGxld2FyZS9yZWNvdmVyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbmZ1bmMgUnVuKHNlcnZpY2VDb25maWcgKm1vZGVsLlNlcnZpY2VDb25maWcpIHtcblx0YXBwIDo9IGZpYmVyLk5ldyhmaWJlci5Db25maWd7XG5cdFx0RW5hYmxlUHJpbnRSb3V0ZXM6IHRydWUsXG5cdH0pXG5cdGFwcC5Vc2UocmVjb3Zlci5OZXcoKSlcblxuXHRwcm92aWRlciwgZXJyIDo9IHByb3ZpZGVyLkluaXQoc2VydmljZUNvbmZpZylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcblx0aGFuZGxlciA6PSBoYW5kbGVyLk5ldygmaGFuZGxlci5JbmplY3R7XG5cdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIHVzZWNhc2UuTmV3Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlOiAgICAgICAgICAgdXNlY2FzZS5OZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG9zaXRvcnkpLFxuXHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICB1c2VjYXNlLk5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwb3NpdG9yeSksXG5cdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZTogIHVzZWNhc2UuTmV3RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZShyZXBvc2l0b3J5KSxcblx0fSlcbi4uLlxuUGF0aDogcHJvdmlkZXIvcHJvdmlkZXIuZ29cbnBhY2thZ2UgcHJvdmlkZXJcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25lZHBhbHMvc3VwYWJhc2UtZ29cIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcHJvdmlkZXIvZGF0YWJhc2VcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbnR5cGUgUHJvdmlkZXIgc3RydWN0IHtcblx0RGIgICAgICAgICAgICAgKmdvcm0uREJcblx0U3VwYWJhc2VDbGllbnQgKnN1cGFiYXNlLkNsaWVudFxufVxuXG5mdW5jIEluaXQoc2VydmljZUNvbmZpZyAqbW9kZWwuU2VydmljZUNvbmZpZykgKCpQcm92aWRlciwgZXJyb3IpIHtcblx0ZGIsIGVyciA6PSBkYXRhYmFzZS5OZXdQb3N0Z3Jlc0RCKFxuXHRcdHNlcnZpY2VDb25maWcuRGJIb3N0LFxuXHRcdHNlcnZpY2VDb25maWcuRGJQb3J0LFxuXHRcdHNlcnZpY2VDb25maWcuRGJVc2VyLFxuXHRcdHNlcnZpY2VDb25maWcuRGJQYXNzd29yZCxcblx0XHRzZXJ2aWNlQ29uZmlnLkRiTmFtZSxcblx0KVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHN1cGFiYXNlQ2xpZW50IDo9IHN1cGFiYXNlLkNyZWF0ZUNsaWVudChcblx0XHRzZXJ2aWNlQ29uZmlnLlN1cGJhc2VVcmwsXG5cdFx0c2VydmljZUNvbmZpZy5TdXBhYmFzZUFub25LZXksXG5cdClcblxuXHRyZXR1cm4gJlByb3ZpZGVye1xuXHRcdERiOiAgICAgICAgICAgICBkYixcblx0XHRTdXBhYmFzZUNsaWVudDogc3VwYWJhc2VDbGllbnQsXG5cdH0sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuLi4uXG5QYXRoOiBjbWQvc2VydmUuZ29cbi8qXG5Db3B5cmlnaHQgwqkgMjAyNSBOQU1FIEhFUkUgPEVNQUlMIEFERFJFU1M+XG4qL1xucGFja2FnZSBjbWRcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9jb25maWdcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3NlcnZlclwiXG5cblx0XCJnaXRodWIuY29tL3NwZjEzL2NvYnJhXCJcbilcblxuLy8gc2VydmVDbWQgcmVwcmVzZW50cyB0aGUgc2VydmUgY29tbWFuZFxudmFyIHNlcnZlQ21kID0gJmNvYnJhLkNvbW1hbmR7XG5cdFVzZTogICBcInNlcnZlXCIsXG5cdFNob3J0OiBcIkEgYnJpZWYgZGVzY3JpcHRpb24gb2YgeW91ciBjb21tYW5kXCIsXG5cdExvbmc6IGBBIGxvbmdlciBkZXNjcmlwdGlvbiB0aGF0IHNwYW5zIG11bHRpcGxlIGxpbmVzIGFuZCBsaWtlbHkgY29udGFpbnMgZXhhbXBsZXNcbmFuZCB1c2FnZSBvZiB1c2luZyB5b3VyIGNvbW1hbmQuIEZvciBleGFtcGxlOlxuXG5Db2JyYSBpcyBhIENMSSBsaWJyYXJ5IGZvciBHbyB0aGF0IGVtcG93ZXJzIGFwcGxpY2F0aW9ucy5cblRoaXMgYXBwbGljYXRpb24gaXMgYSB0b29sIHRvIGdlbmVyYXRlIHRoZSBuZWVkZWQgZmlsZXNcbnRvIHF1aWNrbHkgY3JlYXRlIGEgQ29icmEgYXBwbGljYXRpb24uYCxcblx0UnVuOiBmdW5jKGNtZCAqY29icmEuQ29tbWFuZCwgYXJncyBbXXN0cmluZykge1xuXHRcdHZhciBzZXJ2aWNlQ29uZmlnIG1vZGVsLlNlcnZpY2VDb25maWdcblx0XHRlbnZQYXRoLCBfIDo9IGNtZC5GbGFncygpLkdldFN0cmluZyhcImVudi1wYXRoXCIpXG5cblx0XHRpZiBlcnIgOj0gY29uZmlnLkxvYWRDb25maWcoZW52UGF0aCwgJnNlcnZpY2VDb25maWcpOyBlcnIgIT0gbmlsIHtcblx0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBsb2FkIGNvbmZpZ1wiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRcdHJldHVyblxuXHRcdH1cblxuXHRcdHNlcnZlci5SdW4oJnNlcnZpY2VDb25maWcpXG5cdH0sXG59XG4uLi5cblBhdGg6IGNtZC9yb290LmdvXG4vKlxuQ29weXJpZ2h0IMKpIDIwMjUgTkFNRSBIRVJFIDxFTUFJTCBBRERSRVNTPlxuKi9cbnBhY2thZ2UgY21kXG5cbmltcG9ydCAoXG5cdFwib3NcIlxuXG5cdFwiZ2l0aHViLmNvbS9zcGYxMy9jb2JyYVwiXG4pXG5cbi8vIHJvb3RDbWQgcmVwcmVzZW50cyB0aGUgYmFzZSBjb21tYW5kIHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHN1YmNvbW1hbmRzXG52YXIgcm9vdENtZCA9ICZjb2JyYS5Db21tYW5ke1xuXHRVc2U6ICAgXCJxdWl6enktY2xhc3Nyb29tXCIsXG5cdFNob3J0OiBcIkEgYnJpZWYgZGVzY3JpcHRpb24gb2YgeW91ciBhcHBsaWNhdGlvblwiLFxuXHRMb25nOiBgQSBsb25nZXIgZGVzY3JpcHRpb24gdGhhdCBzcGFucyBtdWx0aXBsZSBsaW5lcyBhbmQgbGlrZWx5IGNvbnRhaW5zXG5leGFtcGxlcyBhbmQgdXNhZ2Ugb2YgdXNpbmcgeW91ciBhcHBsaWNhdGlvbi4gRm9yIGV4YW1wbGU6XG5cbkNvYnJhIGlzIGEgQ0xJIGxpYnJhcnkgZm9yIEdvIHRoYXQgZW1wb3dlcnMgYXBwbGljYXRpb25zLlxuVGhpcyBhcHBsaWNhdGlvbiBpcyBhIHRvb2wgdG8gZ2VuZXJhdGUgdGhlIG5lZWRlZCBmaWxlc1xudG8gcXVpY2tseSBjcmVhdGUgYSBDb2JyYSBhcHBsaWNhdGlvbi5gLFxuXHQvLyBVbmNvbW1lbnQgdGhlIGZvbGxvd2luZyBsaW5lIGlmIHlvdXIgYmFyZSBhcHBsaWNhdGlvblxuXHQvLyBoYXMgYW4gYWN0aW9uIGFzc29jaWF0ZWQgd2l0aCBpdDpcblx0Ly8gUnVuOiBmdW5jKGNtZCAqY29icmEuQ29tbWFuZCwgYXJncyBbXXN0cmluZykgeyB9LFxufVxuXG4vLyBFeGVjdXRlIGFkZHMgYWxsIGNoaWxkIGNvbW1hbmRzIHRvIHRoZSByb290IGNvbW1hbmQgYW5kIHNldHMgZmxhZ3MgYXBwcm9wcmlhdGVseS5cbi8vIFRoaXMgaXMgY2FsbGVkIGJ5IG1haW4ubWFpbigpLiBJdCBvbmx5IG5lZWRzIHRvIGhhcHBlbiBvbmNlIHRvIHRoZSByb290Q21kLlxuZnVuYyBFeGVjdXRlKCkge1xuXHRlcnIgOj0gcm9vdENtZC5FeGVjdXRlKClcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0b3MuRXhpdCgxKVxuXHR9XG59XG5cbmZ1bmMgaW5pdCgpIHtcblx0Ly8gSGVyZSB5b3Ugd2lsbCBkZWZpbmUgeW91ciBmbGFncyBhbmQgY29uZmlndXJhdGlvbiBzZXR0aW5ncy5cblx0Ly8gQ29icmEgc3VwcG9ydHMgcGVyc2lzdGVudCBmbGFncywgd2hpY2gsIGlmIGRlZmluZWQgaGVyZSxcblx0Ly8gd2lsbCBiZSBnbG9iYWwgZm9yIHlvdXIgYXBwbGljYXRpb24uXG5cblx0Ly8gcm9vdENtZC5QZXJzaXN0ZW50RmxhZ3MoKS5TdHJpbmdWYXIoJmNmZ0ZpbGUsIFwiY29uZmlnXCIsIFwiXCIsIFwiY29uZmlnIGZpbGUgKGRlZmF1bHQgaXMgJEhPTUUvLnF1aXp6eS1jbGFzc3Jvb20ueWFtbClcIilcblxuXHQvLyBDb2JyYSBhbHNvIHN1cHBvcnRzIGxvY2FsIGZsYWdzLCB3aGljaCB3aWxsIG9ubHkgcnVuXG5cdC8vIHdoZW4gdGhpcyBhY3Rpb24gaXMgY2FsbGVkIGRpcmVjdGx5LlxuXHRyb290Q21kLkZsYWdzKCkuQm9vbFAoXCJ0b2dnbGVcIiwgXCJ0XCIsIGZhbHNlLCBcIkhlbHAgbWVzc2FnZSBmb3IgdG9nZ2xlXCIpXG59XG4uLi5cblBhdGg6IG1pZ3JhdGUvbWlncmF0ZS5nb1xucGFja2FnZSBtaWdyYXRlXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWxcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG5mdW5jIFJ1bihzZXJ2aWNlQ29uZmlnICptb2RlbC5TZXJ2aWNlQ29uZmlnKSB7XG5cdHByb3ZpZGVyLCBlcnIgOj0gcHJvdmlkZXIuSW5pdChzZXJ2aWNlQ29uZmlnKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gaW5pdCBwcm92aWRlclwiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm5cblx0fVxuXG5cdGlmIGVyciA6PSBwcm92aWRlci5EYi5BdXRvTWlncmF0ZShcblx0XHQmZW50aXR5LkNsYXNzcm9vbUVudGl0eXt9LFxuXHRcdCZlbnRpdHkuQ2xhc3Nyb29tTWVtYmVye30sXG5cdFx0JmVudGl0eS5JbnZpdGF0aW9uRW50aXR5e30sXG5cdCk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBtaWdyYXRlIGRhdGFiYXNlXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG5cblx0bG9nZ2VyLkluZm8oXCJtaWdyYXRlIGRhdGFiYXNlIHN1Y2Nlc3NcIilcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckludml0YXRpb25zVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRhdGlvbnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckludml0YXRpb25zVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cbi4uLlxuUGF0aDogY21kL21pZ3JhdGUuZ29cbi8qXG5Db3B5cmlnaHQgwqkgMjAyNSBOQU1FIEhFUkUgPEVNQUlMIEFERFJFU1M+XG4qL1xucGFja2FnZSBjbWRcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9jb25maWdcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21pZ3JhdGVcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9zcGYxMy9jb2JyYVwiXG4pXG5cbi8vIG1pZ3JhdGVDbWQgcmVwcmVzZW50cyB0aGUgbWlncmF0ZSBjb21tYW5kXG52YXIgbWlncmF0ZUNtZCA9ICZjb2JyYS5Db21tYW5ke1xuXHRVc2U6ICAgXCJtaWdyYXRlXCIsXG5cdFNob3J0OiBcIkEgYnJpZWYgZGVzY3JpcHRpb24gb2YgeW91ciBjb21tYW5kXCIsXG5cdExvbmc6IGBBIGxvbmdlciBkZXNjcmlwdGlvbiB0aGF0IHNwYW5zIG11bHRpcGxlIGxpbmVzIGFuZCBsaWtlbHkgY29udGFpbnMgZXhhbXBsZXNcbmFuZCB1c2FnZSBvZiB1c2luZyB5b3VyIGNvbW1hbmQuIEZvciBleGFtcGxlOlxuXG5Db2JyYSBpcyBhIENMSSBsaWJyYXJ5IGZvciBHbyB0aGF0IGVtcG93ZXJzIGFwcGxpY2F0aW9ucy5cblRoaXMgYXBwbGljYXRpb24gaXMgYSB0b29sIHRvIGdlbmVyYXRlIHRoZSBuZWVkZWQgZmlsZXNcbnRvIHF1aWNrbHkgY3JlYXRlIGEgQ29icmEgYXBwbGljYXRpb24uYCxcblx0UnVuOiBmdW5jKGNtZCAqY29icmEuQ29tbWFuZCwgYXJncyBbXXN0cmluZykge1xuXHRcdHZhciBzZXJ2aWNlQ29uZmlnIG1vZGVsLlNlcnZpY2VDb25maWdcblx0XHRlbnZQYXRoLCBfIDo9IGNtZC5GbGFncygpLkdldFN0cmluZyhcImVudi1wYXRoXCIpXG5cblx0XHRpZiBlcnIgOj0gY29uZmlnLkxvYWRDb25maWcoZW52UGF0aCwgJnNlcnZpY2VDb25maWcpOyBlcnIgIT0gbmlsIHtcblx0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBsb2FkIGNvbmZpZ1wiLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRcdHJldHVyblxuXHRcdH1cblxuXHRcdG1pZ3JhdGUuUnVuKCZzZXJ2aWNlQ29uZmlnKVxuXHR9LFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2FjY2VwdF9pbnZpdGF0aW9uLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgQWNjZXB0SW52aXRhdGlvblVzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSBlcnJvclxufVxuXG50eXBlIGFjY2VwdEludml0YXRpb25Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSB7XG5cdHJldHVybiAmYWNjZXB0SW52aXRhdGlvblVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqYWNjZXB0SW52aXRhdGlvblVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHVzZXJJRCBzdHJpbmcpIGVycm9yIHtcblx0Ly8gTOG6pXkgdGjDtG5nIHRpbiBpbnZpdGF0aW9uXG5cdGludml0YXRpb24sIGVyciA6PSB1LlJlcG8uR2V0SW52aXRhdGlvbkJ5SUQoY3R4LCBpbnZpdGF0aW9uSUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBnZXQgaW52aXRhdGlvblwiLCB6YXAuU3RyaW5nKFwiaW52aXRhdGlvbiBpZFwiLCBpbnZpdGF0aW9uSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gZXJyXG5cdH1cblxuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBkw7luZyBjw7MgcGjhuqNpIGzDoCBuZ8aw4budaSBuaOG6rW4gbOG7nWkgbeG7nWkga2jDtG5nXG5cdGlmIGludml0YXRpb24uUmVjZWl2ZXJJRCAhPSB1c2VySUQge1xuXHRcdHJldHVybi4uLiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifSwicmVxdWVzdElkIjoiZjc3OGE1MWEtOTc5NS00ZDVmLWJmM2QtYWU5NzZiZmZhY2E4IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMVVac2NyVjFIYlVtSnZMNnJta1NadWYifSwiOTliNTMxZGItZjc3NC00NjkxLWI0MmUtMjdmMmY5MzZmNmUwO3Rvb2x1X3ZydHhfMDEzWkV3WXFDZEExYnJpZjRBakVCZWZDIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgaGFuZGxlci9oYW5kbGVyLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDVcdFxuICAgICA2XHRcdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbiAgICAgN1x0KVxuICAgICA4XHRcbiAgICAgOVx0dHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG4gICAgMTBcdFx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcbiAgICAxMVx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAvLyBM4buNYyB0aMOgbmggdmnDqm4gY+G7p2EgbOG7m3AgaOG7jWNcbiAgICAxMlx0XHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuICAgIDEzXHRcdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcbiAgICAxNFx0XHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgICAgICAvLyBU4burIGNo4buRaSBs4budaSBt4budaVxuICAgIDE1XHRcdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcbiAgICAxNlx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG4gICAgMTdcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691XG4gICAgMThcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudChjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJHDoyB0aGFtIGdpYSB24bubaSB2YWkgdHLDsiBo4buNYyBzaW5oXG4gICAgMTlcdH1cbiAgICAyMFx0XG4gICAgMjFcdHR5cGUgaGFuZGxlckltcGwgc3RydWN0IHtcbiAgICAyMlx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG4gICAgMjNcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgICAgIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcblxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzFdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgMTdcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691XG4gICAgMThcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudChjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJHDoyB0aGFtIGdpYSB24bubaSB2YWkgdHLDsiBo4buNYyBzaW5oXG4gICAgMTlcdH1cbiAgICAyMFx0XG4gICAgMjFcdHR5cGUgaGFuZGxlckltcGwgc3RydWN0IHtcbiAgICAyMlx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG4gICAgMjNcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgICAgIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcbiAgICAyNFx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICAgICAgdXNlY2FzZS5JbnZpdGVNZW1iZXJVc2VDYXNlXG4gICAgMjVcdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlICAgICAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG4gICAgMjZcdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2VcbiAgICAyN1x0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZVxuICAgIDI4XHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgICAgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxuICAgIDI5XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VcbiAgICAzMFx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSB1c2VjYXNlLkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlXG4gICAgMzFcdH1cbiAgICAzMlx0XG4gICAgMzNcdHR5cGUgSW5qZWN0IHN0cnVjdCB7XG4gICAgMzRcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuICAgIDM1XHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlICAgICB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1syXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDI5XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VcbiAgICAzMFx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSB1c2VjYXNlLkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlXG4gICAgMzFcdH1cbiAgICAzMlx0XG4gICAgMzNcdHR5cGUgSW5qZWN0IHN0cnVjdCB7XG4gICAgMzRcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuICAgIDM1XHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlICAgICB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG4gICAgMzZcdFx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuICAgIDM3XHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuICAgIDM4XHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG4gICAgMzlcdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2VcbiAgICA0MFx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VcbiAgICA0MVx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXG4gICAgNDJcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2UgdXNlY2FzZS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZVxuICAgIDQzXHR9XG4gICAgNDRcdFxuICAgIDQ1XHRmdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XG4gICAgNDZcdFx0cmV0dXJuICZoYW5kbGVySW1wbHtcbiAgICA0N1x0XHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1szXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDQxXHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VcbiAgICA0Mlx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSB1c2VjYXNlLkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlXG4gICAgNDNcdH1cbiAgICA0NFx0XG4gICAgNDVcdGZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcbiAgICA0Nlx0XHRyZXR1cm4gJmhhbmRsZXJJbXBse1xuICAgIDQ3XHRcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgICAgICBpbmplY3QuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSxcbiAgICA0OFx0XHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlOiAgICAgaW5qZWN0LkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLFxuICAgIDQ5XHRcdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgICAgICBpbmplY3QuSW52aXRlTWVtYmVyVXNlQ2FzZSxcbiAgICA1MFx0XHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZTogICAgICAgICAgaW5qZWN0LkZpbHRlckludml0YXRpb25zVXNlQ2FzZSxcbiAgICA1MVx0XHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlOiAgICAgICAgICAgaW5qZWN0LlJlamVjdEludml0YXRpb25Vc2VDYXNlLFxuICAgIDUyXHRcdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgICAgICBpbmplY3QuQWNjZXB0SW52aXRhdGlvblVzZUNhc2UsXG4gICAgNTNcdFx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2U6ICAgICAgIGluamVjdC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UsXG4gICAgNTRcdFx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlOiAgICAgIGluamVjdC5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlLFxuICAgIDU1XHRcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2U6IGluamVjdC5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSxcbiAgICA1Nlx0XHR9XG4gICAgNTdcdH1cbiAgICA1OFx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifSwicmVxdWVzdElkIjoiOTliNTMxZGItZjc3NC00NjkxLWI0MmUtMjdmMmY5MzZmNmUwIiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMTNaRXdZcUNkQTFicmlmNEFqRUJlZkMifSwiZDQ5ZTI4ZmItMzFiZC00ZGIyLThmYzQtNWRiZmZjOTIxMTRhO3Rvb2x1X3ZydHhfMDFNSDl1ZHAyMkI5dEJFV0VaTXNyd1VuIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc2VydmVyL3NlcnZlci5nby5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDI1XHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG4gICAgMjZcdFx0XHRyZXR1cm5cbiAgICAyN1x0XHR9XG4gICAgMjhcdFx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcbiAgICAyOVx0XHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcbiAgICAzMFx0XHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICAgICAgdXNlY2FzZS5OZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDMxXHRcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6ICAgICB1c2VjYXNlLk5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDMyXHRcdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzNcdFx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgICAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM0XHRcdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM1XHRcdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM2XHRcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzN1x0XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2U6ICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM4XHRcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2U6IHVzZWNhc2UuTmV3RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzlcdFx0fSlcbiAgICA0MFx0XG4gICAgNDFcdFx0SW5pdFJvdXRlcihhcHAsIGhhbmRsZXIpXG4gICAgNDJcdFx0dXRpbC5Jbml0VmFsaWRhdGUoKVxuICAgIDQzXHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9LCJyZXF1ZXN0SWQiOiJkNDllMjhmYi0zMWJkLTRkYjItOGZjNC01ZGJmZmM5MjExNGEiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxTUg5dWRwMjJCOXRCRVdFWk1zcndVbiJ9LCJmMjVjM2Y4OS0xNTY3LTRmYzItOGI1Ny1lNzVjMTRiYjljNGU7dG9vbHVfdnJ0eF8wMUdMOWlKTWZpVDMxZmpqZVhQNzlFUTUiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzZXJ2ZXIvcm91dGVyLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDhcdFx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuICAgICA5XHQpXG4gICAgMTBcdFxuICAgIDExXHRmdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG4gICAgMTJcdFx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG4gICAgMTNcdFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG4gICAgMTRcdFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG4gICAgMTVcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG4gICAgMTZcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG4gICAgMTdcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiL293bmVkXCIsIGhhbmRsZXIuRmlsdGVyT3duZWRDbGFzc3Jvb21zKVxuICAgIDE4XHRcdGNsYXNzcm9vbUdyb3VwLkdldChcIi9qb2luZWQtYXMtc3R1ZGVudFwiLCBoYW5kbGVyLkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnQpXG4gICAgMTlcdFxuICAgIDIwXHRcdGludml0YXRpb25Hcm91cCA6PSBhcHAuR3JvdXAoXCIvaW52aXRhdGlvblwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG4gICAgMjFcdFx0aW52aXRhdGlvbkdyb3VwLkdldChcIi9maWx0ZXJcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucylcbiAgICAyMlx0XHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn0sInJlcXVlc3RJZCI6ImYyNWMzZjg5LTE1NjctNGZjMi04YjU3LWU3NWMxNGJiOWM0ZSIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFHTDlpSk1maVQzMWZqamVYUDc5RVE1In0sIjc1ZTU2MGQ2LWNjNTEtNDk1MS1hZWU1LTdjMTVjNzRhYTA0NTt0b29sdV92cnR4XzAxSkE1UmhpSlUyakpFaVdpR1lHRlZzZCI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlIGFyZSB0aGUgcmVzdWx0cyBmcm9tIGV4ZWN1dGluZyB0aGUgY29tbWFuZC5cbiAgICAgICAgPHJldHVybi1jb2RlPlxuICAgICAgICAwXG4gICAgICAgIDwvcmV0dXJuLWNvZGU+XG4gICAgICAgIDxzdGRvdXQ+XG4gICAgICAgIDIwMjUvMDQvMjEgMjM6NTQ6MDcgU3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZCB0byBQb3N0Z3JlU1FMIGRhdGFiYXNlXG4yMDI1LTA0LTIxVDIzOjU0OjA3KzA3OjAwXHRFUlJPUlx0bG9nZ2VyL2xvZ2dlci5nbzoxNDJcdGZhaWxlZCB0byBzdGFydCBzZXJ2ZXJcdHtcImVycm9yXCI6IFwiZmFpbGVkIHRvIGxpc3RlbjogbGlzdGVuIHRjcDQgOjUwMDE6IGJpbmQ6IGFkZHJlc3MgYWxyZWFkeSBpbiB1c2VcIn1cbmdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlci5FcnJvclxuXHQvVXNlcnMvbm5lZS9nby9wa2cvbW9kL2dpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlQHYwLjAuMTkvbG9nZ2VyL2xvZ2dlci5nbzoxNDJcbnF1aXp6eS1jbGFzc3Jvb20vc2VydmVyLlJ1blxuXHQvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbS9zZXJ2ZXIvc2VydmVyLmdvOjQ1XG5xdWl6enktY2xhc3Nyb29tL2NtZC5pbml0LmZ1bmMyXG5cdC9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tL2NtZC9zZXJ2ZS5nbzozNVxuZ2l0aHViLmNvbS9zcGYxMy9jb2JyYS4oKkNvbW1hbmQpLmV4ZWN1dGVcblx0L1VzZXJzL25uZWUvZ28vcGtnL21vZC9naXRodWIuY29tL3NwZjEzL2NvYnJhQHYxLjkuMS9jb21tYW5kLmdvOjEwMTlcbmdpdGh1Yi5jb20vc3BmMTMvY29icmEuKCpDb21tYW5kKS5FeGVjdXRlQ1xuXHQvVXNlcnMvbm5lZS9nby9wa2cvbW9kL2dpdGh1Yi5jb20vc3BmMTMvY29icmFAdjEuOS4xL2NvbW1hbmQuZ286MTE0OFxuZ2l0aHViLmNvbS9zcGYxMy9jb2JyYS4oKkNvbW1hbmQpLkV4ZWN1dGVcblx0L1VzZXJzL25uZWUvZ28vcGtnL21vZC9naXRodWIuY29tL3NwZjEzL2NvYnJhQHYxLjkuMS9jb21tYW5kLmdvOjEwNzFcbnF1aXp6eS1jbGFzc3Jvb20vY21kLkV4ZWN1dGVcblx0L1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20vY21kL3Jvb3QuZ286MzBcbm1haW4ubWFpblxuXHQvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbS9tYWluLmdvOjZcbnJ1bnRpbWUubWFpblxuXHQvb3B0L2hvbWVicmV3L0NlbGxhci9nby8xLjI0LjEvbGliZXhlYy9zcmMvcnVudGltZS9wcm9jLmdvOjI4M1xuXG4gICAgICAgIDwvc3Rkb3V0PlxuICAgICAgICA8c3RkZXJyPlxuICAgICAgICBcbiAgICAgICAgPC9zdGRlcnI+IiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9LCJyZXF1ZXN0SWQiOiI3NWU1NjBkNi1jYzUxLTQ5NTEtYWVlNS03YzE1Yzc0YWEwNDUiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxSkE1UmhpSlUyakpFaVdpR1lHRlZzZCJ9LCJmZjlkZDRkMS1kM2FlLTQ1Y2EtODA2YS1kNjhhNGZkY2IxNDA7dG9vbHVfdnJ0eF8wMTZQOWpFaG13ZDNRRTJ1M2ZSR29iaE0iOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogaGFuZGxlci9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJPd25lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuXHR1c2VySUQgOj0gYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpXG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfYXNfc3R1ZGVudC5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50KGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHR2YXIgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG5cblx0cmV0dXJuIHJlcy5TdWNjZXNzKGMsIHJlc3VsdClcbn1cbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAodSAqZmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBvd25lZCBjbGFzc3Jvb21zXCIsIHphcC5TdHJpbmcoXCJ1c2VyIGlkXCIsIHVzZXJJRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tc19hc19zdHVkZW50LmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2VJbXBsIHN0cnVjdCB7XG5cdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG59XG5cbmZ1bmMgTmV3RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlIHtcblx0cmV0dXJuICZmaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZUltcGx7XG5cdFx0UmVwbzogcmVwbyxcblx0fVxufVxuXG5mdW5jICh1ICpmaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHgsIHVzZXJJRCwgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50LCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgam9pbmVkIGNsYXNzcm9vbXMgYXMgc3R1ZGVudFwiLCB6YXAuU3RyaW5nKFwidXNlciBpZFwiLCB1c2VySUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vdXRpbFwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3Jlc1wiXG4pXG5cbmZ1bmMgKHIgKmhhbmRsZXJJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRyZXN1bHQsIGVyciA6PSByLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgcmVzdWx0KVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9qb2luZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCByb2xlIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tcyBbXWVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRUYWJsZShcInF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tcyBBUyBjXCIpLlxuXHRcdEpvaW5zKFwiSk9JTiBxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbV9tZW1iZXJzIEFTIG0gT04gYy5pZCA9IG0uY2xhc3Nyb29tX2lkXCIpLlxuXHRcdFdoZXJlKFwibS51c2VyX2lkID0gPyBBTkQgbS5yb2xlID0gP1wiLCB1c2VySUQsIHJvbGUpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tcykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG5cdHZhciBwYWdpbmF0aW9uID0gcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV17XG5cdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcblx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiY3JlYXRlZF9hdCBERVNDXCIpLCAvLyBN4bq3YyDEkeG7i25oIHPhuq9wIHjhur9wIHRoZW8gbmfDoHkgdOG6oW8gbeG7m2kgbmjhuqV0XG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tcyBbXWVudGl0eS5DbGFzc3Jvb21FbnRpdHlcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInVzZXJfaWQgPSA/XCIsIHVzZXJJRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcbn1cblxudHlwZSBmaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2V7UmVwbzogcmVwb31cbn1cblxuZnVuYyAoZiAqZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKSB7XG5cdHJlc3VsdCwgZXJyIDo9IGYuUmVwby5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBjbGFzc3Jvb20gbWVtYmVyc1wiLCB6YXAuU3RyaW5nKFwiY2xhc3Nyb29tIGlkXCIsIGNsYXNzcm9vbUlEKSwgemFwLkVycm9yKChlcnIpKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcblx0U3RhdHVzICplbnRpdHkuSW52aXRhdGlvblN0YXR1cyBganNvbjpcInN0YXR1c1wiIHF1ZXJ5Olwic3RhdHVzXCJgXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnby51YmVyLm9yZy96YXBcIlxuKVxuXG50eXBlIEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKmZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpIHtcblx0Ly8gS2nhu4NtIHRyYSB4ZW0gbmfGsOG7nWkgZMO5bmcgY8OzIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBjbGFzc3Jvb20ga2jDtG5nXG5cdGlzT3duZXIsIGVyciA6PSB1LlJlcG8uSXNDbGFzc3Jvb21Pd25lcihjdHgsIGNsYXNzcm9vbUlELCB1c2VySUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjaGVjayBjbGFzc3Jvb20gb3duZXJcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRpZiAhaXNPd25lciB7XG5cdFx0cmV0dXJuIG5pbCwgcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyXG5cdH1cblxuXHQvLyBM4bqleSBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIG3hu51pXG5cdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHgsIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgaW52aXRlZCBtZW1iZXJzXCIsIHphcC5TdHJpbmcoXCJjbGFzc3Jvb20gaWRcIiwgY2xhc3Nyb29tSUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHJldHVybiByZXN1bHQsIG5pbFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2hhbmRsZXIuZ29cbi4uLlxuXG50eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XG5cdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2Vcblx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgICAgIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Vcblx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuXHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2Vcblx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2Vcblx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2Vcblx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2Vcblx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2UgdXNlY2FzZS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZVxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbi4uLlxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdC8vIEzhuqV5IGNsYXNzcm9vbV9pZCB04burIFVSTFxuXHRjbGFzc3Jvb21JRCA6PSBjLlBhcmFtcyhcImNsYXNzcm9vbV9pZFwiKVxuXHRpZiBjbGFzc3Jvb21JRCA9PSBcIlwiIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImNsYXNzcm9vbV9pZCBpcyByZXF1aXJlZFwiKSlcblx0fVxuXG5cdHZhciBxdWVyeSByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXFcblx0aWYgZXJyIDo9IGMuUXVlcnlQYXJzZXIoJnF1ZXJ5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcXVlcnkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIGMuTG9jYWxzKFwidXNlcl9pZFwiKS4oc3RyaW5nKSwgcXVlcnkpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRpZiBlcnJvcnMuSXMoZXJyLCBxZXJyb3IuRXJyTm90Q2xhc3Nyb29tT3duZXIpIHtcblx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiYuG6oW4ga2jDtG5nIHBo4bqjaSBsw6AgY2jhu6cgc+G7nyBo4buvdSBj4bunYSBs4bubcCBo4buNYyBuw6B5XCIpKVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzLkludGVybmFsU2VydmVyRXJyb3IoYywgZXJyKVxuXHR9XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2NsYXNzcm9vbV9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdH1cblxuXHR2YXIgY2xhc3Nyb29tTWVtYmVycyBbXWVudGl0eS5DbGFzc3Jvb21NZW1iZXJcblx0aWYgZXJyIDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcImNsYXNzcm9vbV9pZFwiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21NZW1iZXJzKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21NZW1iZXJzXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2ludml0ZWRfbWVtYmVycy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRnb3JtMiBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgKFxuXHRcdHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV17XG5cdFx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0XHRTb3J0OiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlNvcnQsIFwiXCIpLFxuXHRcdH1cblx0XHRpbnZpdGF0aW9ucyBbXWVudGl0eS5JbnZpdGF0aW9uRW50aXR5XG5cdClcblxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkID0gP1wiLCBjbGFzc3Jvb21JRCkuXG5cdFx0U2NvcGVzKGZ1bmMoZGIgKmdvcm0uREIpICpnb3JtLkRCIHtcblx0XHRcdGlmIHBhcmFtcy5TdGF0dXMgIT0gbmlsIHtcblx0XHRcdFx0cmV0dXJuIGRiLldoZXJlKFwic3RhdHVzID0gP1wiLCAqcGFyYW1zLlN0YXR1cylcblx0XHRcdH1cblx0XHRcdHJldHVybiBkYlxuXHRcdH0sIGdvcm0yLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmaW52aXRhdGlvbnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGludml0YXRpb25zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvcmVwb3NpdG9yeS5nb1xuLi4uXG5cdFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvclxuXHRDcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgbWVtYmVyICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyKSBlcnJvclxuXHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcblx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcblx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCByb2xlIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuXHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHJvbGUgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG5cdEZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcm9sZSBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZSwgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbn1cblxudHlwZSByZXBvc2l0b3J5SW1wbCBzdHJ1Y3Qge1xuXHRQcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXJcbn1cblxuZnVuYyBOZXcocHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyKSBSZXBvc2l0b3J5IHtcblx0cmV0dXJuICZyZXBvc2l0b3J5SW1wbHtcblx0XHRQcm92aWRlcjogcHJvdmlkZXIsXG5cdH1cbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9pc19jbGFzc3Jvb21fb3duZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpIHtcblx0dmFyIGNsYXNzcm9vbSBlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJpZCA9ID8gQU5EIHVzZXJfaWQgPSA/XCIsIGNsYXNzcm9vbUlELCB1c2VySUQpLlxuXHRcdEZpcnN0KCZjbGFzc3Jvb20pLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBO4bq/dSBraMO0bmcgdMOsbSB0aOG6pXkgYuG6o24gZ2hpLCBjw7MgbmdoxKlhIGzDoCBuZ8aw4budaSBkw7luZyBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691XG5cdFx0cmV0dXJuIGZhbHNlLCBuaWxcblx0fVxuXHRyZXR1cm4gdHJ1ZSwgbmlsXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvZmlsdGVyX2ludml0YXRpb25zLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxufVxuXG50eXBlIGZpbHRlckludml0YXRpb25zVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckludml0YXRpb25zVXNlQ2FzZSB7XG5cdHJldHVybiAmZmlsdGVySW52aXRhdGlvbnNVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKmZpbHRlckludml0YXRpb25zVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVySW52aXRhdGlvbnMoY3R4LCByZWNlaXZlcklELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgaW52aXRhdGlvbnNcIiwgemFwLlN0cmluZyhcInJlY2VpdmVyIGlkXCIsIHJlY2VpdmVySUQpLCB6YXAuRXJyb3IoZXJyKSlcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXHRyZXR1cm4gcmVzdWx0LCBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbi4uLlxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVySW52aXRhdGlvbnMoY3R4IGNvbnRleHQuQ29udGV4dCwgcmVjZWl2ZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRhdGlvbnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHF1ZXJ5IDo9IHIuUHJvdmlkZXIuRGIuXG5cdFx0V2l0aENvbnRleHQoY3R4KS5cblx0XHRXaGVyZShcInJlY2VpdmVyX2lkID0gP1wiLCByZWNlaXZlcklEKVxuXG5cdC8vIEzhu41jIHRoZW8gc3RhdHVzIG7hur91IGPDs1xuXHRpZiBwYXJhbXMuU3RhdHVzICE9IG5pbCB7XG5cdFx0cXVlcnkgPSBxdWVyeS5XaGVyZShcInN0YXR1cyA9ID9cIiwgKnBhcmFtcy5TdGF0dXMpXG5cdH1cblxuXHR2YXIgaW52aXRhdGlvbnMgW11lbnRpdHkuSW52aXRhdGlvbkVudGl0eVxuXHRpZiBlcnIgOj0gcXVlcnkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XyBcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcbn1cblxudHlwZSBjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2Uge1xuXHRyZXR1cm4gJmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAoYyAqY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdGlmIGVyciA6PSBjLlJlcG8uQ3JlYXRlQ2xhc3Nyb29tKGN0eCwgY2xhc3Nyb29tKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb21cIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cdHJldHVybiBuaWxcbn1cbi4uLlxuUGF0aDogaGFuZGxlci9maWx0ZXJfaW52aXRhdGlvbnMuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuKVxuXG5mdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxXG5cdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IHV0aWwuVmFsaWRhdGUuU3RydWN0KCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0Ly8gTOG6pXkgSUQgY+G7p2EgbmfGsOG7nWkgZMO5bmcgaGnhu4duIHThuqFpIHThu6sgSldUIHRva2VuXG5cdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcblxuXHRyZXN1bHQsIGVyciA6PSBoLkZpbHRlckludml0YXRpb25zVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCB1c2VySUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvaW52aXRlX21lbWJlci5nb1xuLi4uXG5cbmZ1bmMgKHUgKmludml0ZU1lbWJlclVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvciB7XG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgY2xhc3Nyb29tIGtow7RuZ1xuXHRpc093bmVyLCBlcnIgOj0gdS5SZXBvLklzQ2xhc3Nyb29tT3duZXIoY3R4LCBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELCBpbnZpdGF0Li4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9LCJyZXF1ZXN0SWQiOiJmZjlkZDRkMS1kM2FlLTQ1Y2EtODA2YS1kNjhhNGZkY2IxNDAiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxNlA5akVobXdkM1FFMnUzZlJHb2JoTSJ9LCI2Zjc2YTlhMS1lMTdlLTRmNWQtYmZmMy1mYzAxNDJhYzU1YzY7dG9vbHVfdnJ0eF8wMUR3QWlBbWd6UTlQNXBTNUFUYmE3YTMiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiVGhlIGZvbGxvd2luZyBjb2RlIHNlY3Rpb25zIHdlcmUgcmV0cmlldmVkOlxuUGF0aDogZW50aXR5L2NsYXNzcm9vbV9tZW1iZXIuZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyUm9sZSBzdHJpbmdcblxuY29uc3QgKFxuXHRDbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlciBDbGFzc3Jvb21NZW1iZXJSb2xlID0gXCJ0ZWFjaGVyXCJcblx0Q2xhc3Nyb29tTWVtYmVyUm9sZVN0dWRlbnQgQ2xhc3Nyb29tTWVtYmVyUm9sZSA9IFwic3R1ZGVudFwiXG4pXG5cbnR5cGUgQ2xhc3Nyb29tTWVtYmVyIHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cdENsYXNzcm9vbUlEIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJjbGFzc3Jvb21faWRcIiBnb3JtOlwidW5pcXVlSW5kZXg6aWR4X2NsYXNzcm9vbV91c2VyXCJgXG5cdFVzZXJJRCAgICAgIHN0cmluZyAgICAgICAgICAgICAgYGpzb246XCJ1c2VyX2lkXCIgZ29ybTpcInVuaXF1ZUluZGV4OmlkeF9jbGFzc3Jvb21fdXNlclwiYFxuXHRSb2xlICAgICAgICBDbGFzc3Jvb21NZW1iZXJSb2xlIGBqc29uOlwicm9sZVwiYFxuXHRJbnZpdGVkQnlJRCBzdHJpbmcgICAgICAgICAgICAgIGBqc29uOlwiaW52aXRlZF9ieV9pZFwiYFxufVxuXG5mdW5jIChjIENsYXNzcm9vbU1lbWJlcikgVGFibGVOYW1lKCkgc3RyaW5nIHtcblx0cmV0dXJuIFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21fbWVtYmVyc1wiXG59XG4uLi5cblBhdGg6IGVudGl0eS9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgZW50aXR5XG5cbmltcG9ydCBcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cbnR5cGUgQ2xhc3Nyb29tRW50aXR5IHN0cnVjdCB7XG5cdHJlY29yZC5CYXNlRW50aXR5XG5cblx0VXNlcklEICAgIHN0cmluZyBganNvbjpcInVzZXJfaWRcImBcblx0TmFtZSAgICAgIHN0cmluZyBganNvbjpcIm5hbWVcImBcblx0QXZhdGFyVXJsIHN0cmluZyBganNvbjpcImF2YXRhcl91cmxcImBcbn1cblxuZnVuYyAoYyAqQ2xhc3Nyb29tRW50aXR5KSBUYWJsZU5hbWUoKSBzdHJpbmcge1xuXHRyZXR1cm4gXCJxdWl6enlfY2xhc3Nyb29tLmNsYXNzcm9vbXNcIlxufVxuLi4uXG5QYXRoOiBlbnRpdHkvaW52aXRhdGlvbi5nb1xucGFja2FnZSBlbnRpdHlcblxuaW1wb3J0IChcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuKVxuXG50eXBlIEludml0YXRpb25TdGF0dXMgc3RyaW5nXG5cbmNvbnN0IChcblx0SW52aXRhdGlvblN0YXR1c1BlbmRpbmcgIEludml0YXRpb25TdGF0dXMgPSBcInBlbmRpbmdcIlxuXHRJbnZpdGF0aW9uU3RhdHVzQWNjZXB0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwiYWNjZXB0ZWRcIlxuXHRJbnZpdGF0aW9uU3RhdHVzUmVqZWN0ZWQgSW52aXRhdGlvblN0YXR1cyA9IFwicmVqZWN0ZWRcIlxuKVxuXG50eXBlIEludml0YXRpb25FbnRpdHkgc3RydWN0IHtcblx0cmVjb3JkLkJhc2VFbnRpdHlcblx0Q2xhc3Nyb29tSUQgc3RyaW5nICAgICAgICAgICBganNvbjpcImNsYXNzcm9vbV9pZFwiYFxuXHRTZW5kZXJJRCAgICBzdHJpbmcgICAgICAgICAgIGBqc29uOlwic2VuZGVyX2lkXCIgZ29ybTpcImluZGV4XCJgXG5cdFJlY2VpdmVySUQgIHN0cmluZyAgICAgICAgICAgYGpzb246XCJyZWNlaXZlcl9pZFwiIGdvcm06XCJpbmRleFwiYFxuXHRTdGF0dXMgICAgICBJbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgZ29ybTpcImluZGV4XCJgXG59XG5cbmZ1bmMgKEludml0YXRpb25FbnRpdHkpIFRhYmxlTmFtZSgpIHN0cmluZyB7IHJldHVybiBcInF1aXp6eV9jbGFzc3Jvb20uaW52aXRhdGlvbnNcIiB9XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHJvbGUgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcblx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XXtcblx0XHRQYWdlOiAgdmFsdWUuR2V0VmFsdWUocGFyYW1zLlBhZ2UsIDApLFxuXHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuXHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21zIFtdZW50aXR5LkNsYXNzcm9vbUVudGl0eVxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFRhYmxlKFwicXVpenp5X2NsYXNzcm9vbS5jbGFzc3Jvb21zIEFTIGNcIikuXG5cdFx0Sm9pbnMoXCJKT0lOIHF1aXp6eV9jbGFzc3Jvb20uY2xhc3Nyb29tX21lbWJlcnMgQVMgbSBPTiBjLmlkID0gbS5jbGFzc3Jvb21faWRcIikuXG5cdFx0V2hlcmUoXCJtLnVzZXJfaWQgPSA/IEFORCBtLnJvbGUgPSA/XCIsIHVzZXJJRCwgcm9sZSkuXG5cdFx0U2NvcGVzKGdvcm0uUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZjbGFzc3Jvb21zKS5cblx0XHRFcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblxuXHRwYWdpbmF0aW9uLlJvd3MgPSBjbGFzc3Jvb21zXG5cdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG59XG4uLi5cblBhdGg6IHJlcG9zaXRvcnkvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcImdvcm0uaW8vZ29ybVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgQ3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Ige1xuXHRyZXR1cm4gci5Qcm92aWRlci5EYi5XaXRoQ29udGV4dChjdHgpLlRyYW5zYWN0aW9uKGZ1bmModHggKmdvcm0uREIpIGVycm9yIHtcblx0XHRpZiBlcnIgOj0gdHguQ3JlYXRlKGNsYXNzcm9vbSkuRXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdFx0cmV0dXJuIGVyclxuXHRcdH1cblxuXHRcdGlmIGVyciA6PSB0eC5DcmVhdGUoJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0XHRDbGFzc3Jvb21JRDogdmFsdWUuR2V0VmFsdWUoY2xhc3Nyb29tLklELCBcIlwiKSxcblx0XHRcdFVzZXJJRDogICAgICBjbGFzc3Jvb20uVXNlcklELFxuXHRcdFx0Um9sZTogICAgICAgIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlVGVhY2hlcixcblx0XHR9KS5FcnJvcjsgZXJyICE9IG5pbCB7XG5cdFx0XHRyZXR1cm4gZXJyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIG5pbFxuXHR9KVxufVxuLi4uXG5QYXRoOiByZXBvc2l0b3J5L2NyZWF0ZV9jbGFzc3Jvb21fbWVtYmVyLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cblx0XCJnb3JtLmlvL2dvcm0vY2xhdXNlXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yIHtcblx0Ly8gU+G7rSBk4bulbmcgY2xhdXNlLk9uQ29uZmxpY3QoKS5Eb05vdGhpbmcoKSDEkeG7gyB0csOhbmggbOG7l2kga2hpIHRow6ptIHRow6BuaCB2acOqbiDEkcOjIHThu5NuIHThuqFpXG5cdHJldHVybiByLlByb3ZpZGVyLkRiLldpdGhDb250ZXh0KGN0eCkuXG5cdFx0Q2xhdXNlcyhjbGF1c2UuT25Db25mbGljdHtEb05vdGhpbmc6IHRydWV9KS5cblx0XHRDcmVhdGUobWVtYmVyKS5FcnJvclxufVxuLi4uXG5QYXRoOiBlcnJvci9lcnJvci5nb1xucGFja2FnZSBxZXJyb3JcblxuaW1wb3J0IChcblx0XCJlcnJvcnNcIlxuKVxuXG4vLyDEkOG7i25oIG5naMSpYSBjw6FjIGNvbnN0YW50cyBlcnJvclxudmFyIChcblx0Ly8gSW52aXRhdGlvbiBlcnJvcnNcblx0RXJyUmVjZWl2ZXJBbHJlYWR5SGFzSW52aXRhdGlvbiA9IGVycm9ycy5OZXcoXCJyZWNlaXZlciBhbHJlYWR5IGhhcyBhIHBlbmRpbmcgb3IgYWNjZXB0ZWQgaW52aXRhdGlvblwiKVxuXHRFcnJOb3RDbGFzc3Jvb21Pd25lciAgICAgICAgICAgID0gZXJyb3JzLk5ldyhcInVzZXIgaXMgbm90IHRoZSBvd25lciBvZiB0aGUgY2xhc3Nyb29tXCIpXG5cdEVyckludml0YXRpb25Ob3RGb3VuZCAgICAgICAgICAgPSBlcnJvcnMuTmV3KFwiaW52aXRhdGlvbiBub3QgZm91bmRcIilcblx0RXJySW52aXRhdGlvbk5vdFBlbmRpbmcgICAgICAgICA9IGVycm9ycy5OZXcoXCJpbnZpdGF0aW9uIGlzIG5vdCBpbiBwZW5kaW5nIHN0YXR1c1wiKVxuXHRFcnJOb3RJbnZpdGF0aW9uUmVjZWl2ZXIgICAgICAgID0gZXJyb3JzLk5ldyhcInVzZXIgaXMgbm90IHRoZSByZWNlaXZlciBvZiB0aGlzIGludml0YXRpb25cIilcblx0RXJyVXNlckFscmVhZHlDbGFzc3Jvb21NZW1iZXIgICA9IGVycm9ycy5OZXcoXCJ1c2VyIGlzIGFscmVhZHkgYSBtZW1iZXIgb2YgdGhpcyBjbGFzc3Jvb21cIilcbilcbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfY2xhc3Nyb29tX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG4pXG5cbmZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcIlwiKSxcblx0fVxuXG5cdHZhciBjbGFzc3Jvb21NZW1iZXJzIFtdZW50aXR5LkNsYXNzcm9vbU1lbWJlclxuXHRpZiBlcnIgOj0gci5Qcm92aWRlci5EYi5cblx0XHRXaXRoQ29udGV4dChjdHgpLlxuXHRcdFdoZXJlKFwiY2xhc3Nyb29tX2lkXCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZ29ybS5QYWdpbmF0ZSgmcGFnaW5hdGlvbikpLlxuXHRcdEZpbmQoJmNsYXNzcm9vbU1lbWJlcnMpLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gbmlsLCBlcnJcblx0fVxuXG5cdHBhZ2luYXRpb24uUm93cyA9IGNsYXNzcm9vbU1lbWJlcnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxIHN0cnVjdCB7XG5cdHJlcS5QYWdpbmF0aW9uUmVxXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9jcmVhdGVfY2xhc3Nyb29tLmdvXG5wYWNrYWdlIHJlcVxuXG50eXBlIENyZWF0ZUNsYXNzcm9vbVJlcXVlc3Qgc3RydWN0IHtcblx0TmFtZSAgICAgICpzdHJpbmcgYGpzb246XCJuYW1lXCIgdmFsaWRhdGU6XCJyZXF1aXJlZFwiYFxuXHRBdmF0YXJVcmwgKnN0cmluZyBganNvbjpcImF2YXRhcl91cmxcIiB2YWxpZGF0ZTpcInJlcXVpcmVkLHVybFwiYFxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvaW52aXRlX21lbWJlci5nb1xucGFja2FnZSByZXFcblxudHlwZSBJbnZpdGVNZW1iZXJSZXF1ZXN0IHN0cnVjdCB7XG5cdENsYXNzcm9vbUlEICpzdHJpbmcgYGpzb246XCJjbGFzc3Jvb21faWRcIiB2YWxpZGF0ZTpcInJlcXVpcmVkXCJgXG5cdFJlY2VpdmVySUQgICpzdHJpbmcgYGpzb246XCJyZWNlaXZlcl9pZFwiIHZhbGlkYXRlOlwicmVxdWlyZWRcImBcbn1cbi4uLlxuUGF0aDogbW9kZWwvcmVxL2ZpbHRlcl9pbnZpdGVkX21lbWJlcnMuZ29cbnBhY2thZ2UgcmVxXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcbilcblxudHlwZSBGaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSBzdHJ1Y3Qge1xuXHRyZXEuUGFnaW5hdGlvblJlcVxuXHRTdGF0dXMgKmVudGl0eS5JbnZpdGF0aW9uU3RhdHVzIGBqc29uOlwic3RhdHVzXCIgcXVlcnk6XCJzdGF0dXNcImBcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXBvc2l0b3J5XG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2dvcm1cIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuKVxuXG5mdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyT3duZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuXHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHlde1xuXHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0TGltaXQ6IHZhbHVlLkdldFZhbHVlKHBhcmFtcy5MaW1pdCwgMCksXG5cdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcImNyZWF0ZWRfYXQgREVTQ1wiKSwgLy8gTeG6t2MgxJHhu4tuaCBz4bqvcCB44bq/cCB0aGVvIG5nw6B5IHThuqFvIG3hu5tpIG5o4bqldFxuXHR9XG5cblx0dmFyIGNsYXNzcm9vbXMgW11lbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJ1c2VyX2lkID0gP1wiLCB1c2VySUQpLlxuXHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG5cdFx0RmluZCgmY2xhc3Nyb29tcykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tc1xuXHRyZXR1cm4gJnBhZ2luYXRpb24sIG5pbFxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSB1c2VjYXNlXG5cbmltcG9ydCAoXG5cdFwiY29udGV4dFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgaW50ZXJmYWNlIHtcblx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyXSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Ugc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2Uge1xuXHRyZXR1cm4gJmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNle1JlcG86IHJlcG99XG59XG5cbmZ1bmMgKGYgKmZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcikge1xuXHRyZXN1bHQsIGVyciA6PSBmLlJlcG8uRmlsdGVyQ2xhc3Nyb29tTWVtYmVycyhjdHgsIGNsYXNzcm9vbUlELCBwYXJhbXMpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgY2xhc3Nyb29tIG1lbWJlcnNcIiwgemFwLlN0cmluZyhcImNsYXNzcm9vbSBpZFwiLCBjbGFzc3Jvb21JRCksIHphcC5FcnJvcigoZXJyKSkpXG5cdFx0cmV0dXJuIG5pbCwgZXJyXG5cdH1cblx0cmV0dXJuIHJlc3VsdCwgbmlsXG59XG4uLi5cblBhdGg6IG1vZGVsL3JlcS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nb1xucGFja2FnZSByZXFcblxuaW1wb3J0IFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVxXCJcblxudHlwZSBGaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHJlcG9zaXRvcnlcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuXG5cdGdvcm0yIFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvZ29ybVwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG5cdFwiZ29ybS5pby9nb3JtXCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKSB7XG5cdHZhciAoXG5cdFx0cGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XXtcblx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG5cdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcblx0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJcIiksXG5cdFx0fVxuXHRcdGludml0YXRpb25zIFtdZW50aXR5Lkludml0YXRpb25FbnRpdHlcblx0KVxuXG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJjbGFzc3Jvb21faWQgPSA/XCIsIGNsYXNzcm9vbUlEKS5cblx0XHRTY29wZXMoZnVuYyhkYiAqZ29ybS5EQikgKmdvcm0uREIge1xuXHRcdFx0aWYgcGFyYW1zLlN0YXR1cyAhPSBuaWwge1xuXHRcdFx0XHRyZXR1cm4gZGIuV2hlcmUoXCJzdGF0dXMgPSA/XCIsICpwYXJhbXMuU3RhdHVzKVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGRiXG5cdFx0fSwgZ29ybTIuUGFnaW5hdGUoJnBhZ2luYXRpb24pKS5cblx0XHRGaW5kKCZpbnZpdGF0aW9ucykuXG5cdFx0RXJyb3I7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiBuaWwsIGVyclxuXHR9XG5cblx0cGFnaW5hdGlvbi5Sb3dzID0gaW52aXRhdGlvbnNcblx0cmV0dXJuICZwYWdpbmF0aW9uLCBuaWxcbn1cbi4uLlxuUGF0aDogbWlncmF0ZS9taWdyYXRlLmdvXG5wYWNrYWdlIG1pZ3JhdGVcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbFwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbmZ1bmMgUnVuKHNlcnZpY2VDb25maWcgKm1vZGVsLlNlcnZpY2VDb25maWcpIHtcblx0cHJvdmlkZXIsIGVyciA6PSBwcm92aWRlci5Jbml0KHNlcnZpY2VDb25maWcpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBpbml0IHByb3ZpZGVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVyblxuXHR9XG5cblx0aWYgZXJyIDo9IHByb3ZpZGVyLkRiLkF1dG9NaWdyYXRlKFxuXHRcdCZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e30sXG5cdFx0JmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7fSxcblx0XHQmZW50aXR5Lkludml0YXRpb25FbnRpdHl7fSxcblx0KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIG1pZ3JhdGUgZGF0YWJhc2VcIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuXG5cdH1cblxuXHRsb2dnZXIuSW5mbyhcIm1pZ3JhdGUgZGF0YWJhc2Ugc3VjY2Vzc1wiKVxufVxuLi4uXG5QYXRoOiBnby5tb2Rcbm1vZHVsZSBxdWl6enktY2xhc3Nyb29tXG5cbmdvIDEuMjQuMVxuXG5yZXF1aXJlIChcblx0Z2l0aHViLmNvbS9nby1wbGF5Z3JvdW5kL3ZhbGlkYXRvci92MTAgdjEwLjI2LjBcblx0Z2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyIHYyLjUyLjZcblx0Z2l0aHViLmNvbS9uZWRwYWxzL3N1cGFiYXNlLWdvIHYwLjUuMFxuXHRnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZSB2MC4wLjE5XG5cdGdpdGh1Yi5jb20vc3BmMTMvY29icmEgdjEuOS4xXG5cdGdvLnViZXIub3JnL3phcCB2MS4yNy4wXG5cdGdvcm0uaW8vZ29ybSB2MS4yNS4xMlxuKVxuLi4uXG5QYXRoOiB1c2VjYXNlL2NyZWF0ZV9jbGFzc3Jvb20uZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0XyBcInF1aXp6eS1jbGFzc3Jvb20vcHJvdmlkZXJcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG5cblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSBpbnRlcmZhY2Uge1xuXHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3Jcbn1cblxudHlwZSBjcmVhdGVDbGFzc3Jvb21Vc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxufVxuXG5mdW5jIE5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIENyZWF0ZUNsYXNzcm9vbVVzZUNhc2Uge1xuXHRyZXR1cm4gJmNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VJbXBse1xuXHRcdFJlcG86IHJlcG8sXG5cdH1cbn1cblxuZnVuYyAoYyAqY3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tICplbnRpdHkuQ2xhc3Nyb29tRW50aXR5KSBlcnJvciB7XG5cdGlmIGVyciA6PSBjLlJlcG8uQ3JlYXRlQ2xhc3Nyb29tKGN0eCwgY2xhc3Nyb29tKTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb21cIiwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cdHJldHVybiBuaWxcbn1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9pc19jbGFzc3Jvb21fb3duZXIuZ29cbnBhY2thZ2UgcmVwb3NpdG9yeVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbilcblxuZnVuYyAociAqcmVwb3NpdG9yeUltcGwpIElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpIHtcblx0dmFyIGNsYXNzcm9vbSBlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XG5cdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuXHRcdFdpdGhDb250ZXh0KGN0eCkuXG5cdFx0V2hlcmUoXCJpZCA9ID8gQU5EIHVzZXJfaWQgPSA/XCIsIGNsYXNzcm9vbUlELCB1c2VySUQpLlxuXHRcdEZpcnN0KCZjbGFzc3Jvb20pLlxuXHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcblx0XHQvLyBO4bq/dSBraMO0bmcgdMOsbSB0aOG6pXkgYuG6o24gZ2hpLCBjw7MgbmdoxKlhIGzDoCBuZ8aw4budaSBkw7luZyBraMO0bmcgcGjhuqNpIGzDoCBjaOG7pyBz4bufIGjhu691XG5cdFx0cmV0dXJuIGZhbHNlLCBuaWxcblx0fVxuXHRyZXR1cm4gdHJ1ZSwgbmlsXG59XG4uLi5cblBhdGg6IGhhbmRsZXIvY3JlYXRlX2NsYXNzcm9vbS5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuXG5cdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3ZhbHVlXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIENyZWF0ZUNsYXNzcm9vbShjICpmaWJlci5DdHgpIGVycm9yIHtcblx0dmFyIGJvZHkgcmVxLkNyZWF0ZUNsYXNzcm9vbVJlcXVlc3RcblxuXHRpZiBlcnIgOj0gYy5Cb2R5UGFyc2VyKCZib2R5KTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gci5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksICZlbnRpdHkuQ2xhc3Nyb29tRW50aXR5e1xuXHRcdFVzZXJJRDogICAgYy5Mb2NhbHMoXCJ1c2VyX2lkXCIpLihzdHJpbmcpLFxuXHRcdE5hbWU6ICAgICAgdmFsdWUuR2V0VmFsdWUoYm9keS5OYW1lLCBcIlwiKSxcblx0XHRBdmF0YXJVcmw6IHZhbHVlLkdldFZhbHVlKGJvZHkuQXZhdGFyVXJsLCBcIlwiKSxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuSW50ZXJuYWxTZXJ2ZXJFcnJvcihjLCBlcnIpXG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiBtb2RlbC9yZXEvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zLmdvXG5wYWNrYWdlIHJlcVxuXG5pbXBvcnQgXCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuXG50eXBlIEZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEgc3RydWN0IHtcblx0cmVxLlBhZ2luYXRpb25SZXFcbn1cbi4uLlxuUGF0aDogc2VydmVyL3JvdXRlci5nb1xucGFja2FnZSBzZXJ2ZXJcblxuaW1wb3J0IChcblx0XCJxdWl6enktY2xhc3Nyb29tL2hhbmRsZXJcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZVwiXG5cblx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuKVxuXG5mdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG5cdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcIi9jbGFzc3Jvb21cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuXHRjbGFzc3Jvb21Hcm91cC5Qb3N0KFwiL2NyZWF0ZVwiLCBoYW5kbGVyLkNyZWF0ZUNsYXNzcm9vbSlcblx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG5cdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGVkTWVtYmVycylcblx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiL293bmVkXCIsIGhhbmRsZXIuRmlsdGVyT3duZWRDbGFzc3Jvb21zKVxuXHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvam9pbmVkLWFzLXN0dWRlbnRcIiwgaGFuZGxlci5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50KVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ZpbHRlcl9jbGFzc3Jvb21fbWVtYmVycy5nb1xucGFja2FnZSBoYW5kbGVyXG5cbmltcG9ydCAoXG5cdFwiZXJyb3JzXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcbilcblxuZnVuYyAociAqaGFuZGxlckltcGwpIEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdGNsYXNzcm9vbUlEIDo9IGMuUGFyYW1zKFwiY2xhc3Nyb29tX2lkXCIpXG5cdGlmIGNsYXNzcm9vbUlEID09IFwiXCIge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnJvcnMuTmV3KFwiY2xhc3Nyb29tX2lkIGlzIHJlcXVpcmVkXCIpKVxuXHR9XG5cblx0dmFyIHBhcmFtcyByZXEuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1JlcVxuXHRpZiBlcnIgOj0gYy5RdWVyeVBhcnNlcigmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdGlmIGVyciA6PSB1dGlsLlZhbGlkYXRlLlN0cnVjdCgmcGFyYW1zKTsgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcblx0fVxuXG5cdHJlc3VsdCwgZXJyIDo9IHIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UuRXhlY3V0ZShjLkNvbnRleHQoKSwgY2xhc3Nyb29tSUQsIHBhcmFtcylcblx0aWYgZXJyICE9IG5pbCB7XG5cdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0fVxuXG5cdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG59XG4uLi5cblBhdGg6IHVzZWNhc2UvYWNjZXB0X2ludml0YXRpb24uZ29cbi4uLlxuXG5cdGlmIGVyciA6PSB1LlJlcG8uQ3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCwgJmVudGl0eS5DbGFzc3Jvb21NZW1iZXJ7XG5cdFx0Q2xhc3Nyb29tSUQ6IGludml0YXRpb24uQ2xhc3Nyb29tSUQsXG5cdFx0VXNlcklEOiAgICAgIGludml0YXRpb24uUmVjZWl2ZXJJRCxcblx0XHRSb2xlOiAgICAgICAgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGVTdHVkZW50LFxuXHRcdEludml0ZWRCeUlEOiBpbnZpdGF0aW9uLlNlbmRlcklELFxuXHR9KTsgZXJyICE9IG5pbCB7XG5cdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGNyZWF0ZSBjbGFzc3Jvb20gbWVtYmVyXCIsIHphcC5TdHJpbmcoXCJpbnZpdGF0aW9uIGlkXCIsIGludml0YXRpb25JRCksIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmIGVyciA6PSB1LlJlcG8uVXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHgsIGludml0YXRpb25JRCwgZW50aXR5Lkludml0YXRpb25TdGF0dXNBY2NlcHRlZCk7IGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byB1cGRhdGUgaW52aXRhdGlvbiBzdGF0dXNcIiwgemFwLlN0cmluZyhcImludml0YXRpb24gaWRcIiwgaW52aXRhdGlvbklEKSwgemFwLkVycm9yKGVycikpXG5cdFx0cmV0dXJuIGVyclxuXHR9XG5cblx0cmV0dXJuIG5pbFxufVxuLi4uXG5QYXRoOiBoYW5kbGVyL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgaGFuZGxlclxuXG5pbXBvcnQgKFxuXHRcImVycm9yc1wiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuXHRxZXJyb3IgXCJxdWl6enktY2xhc3Nyb29tL2Vycm9yXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS91dGlsXCJcblxuXHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbW9kZWwvcmVzXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4pXG5cbmZ1bmMgKGggKmhhbmRsZXJJbXBsKSBJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciB7XG5cdHZhciBib2R5IHJlcS5JbnZpdGVNZW1iZXJSZXF1ZXN0XG5cblx0aWYgZXJyIDo9IGMuQm9keVBhcnNlcigmYm9keSk7IGVyciAhPSBuaWwge1xuXHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG5cdH1cblxuXHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJmJvZHkpOyBlcnIgIT0gbmlsIHtcblx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyKVxuXHR9XG5cblx0aWYgZXJyIDo9IGguSW52aXRlTWVtYmVyVXNlQ2FzZS5FeGVjdXRlKGMuQ29udGV4dCgpLCAmZW50aXR5Lkludml0YXRpb25FbnRpdHl7XG5cdFx0Q2xhc3Nyb29tSUQ6IHZhbHVlLkdldFZhbHVlKGJvZHkuQ2xhc3Nyb29tSUQsIFwiXCIpLFxuXHRcdFNlbmRlcklEOiAgICBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZyksXG5cdFx0UmVjZWl2ZXJJRDogIHZhbHVlLkdldFZhbHVlKGJvZHkuUmVjZWl2ZXJJRCwgXCJcIiksXG5cdFx0U3RhdHVzOiAgICAgIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzUGVuZGluZyxcblx0fSk7IGVyciAhPSBuaWwge1xuXHRcdC8vIEtp4buDbSB0cmEgY8OhYyBsb+G6oWkgbOG7l2lcblx0XHRzd2l0Y2gge1xuXHRcdGNhc2UgZXJyb3JzLklzKGVyciwgcWVycm9yLkVyclJlY2VpdmVyQWxyZWFkeUhhc0ludml0YXRpb24pOlxuXHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycm9ycy5OZXcoXCJuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgxJFhbmcgY2jhu50geOG7rSBsw70gaG/hurdjIMSRw6MgxJHGsOG7o2MgY2jhuqVwIG5o4bqtblwiKSlcblx0XHRjYXNlIGVycm9ycy5JcyhlcnIsIHFlcnJvci5FcnJOb3RDbGFzc3Jvb21Pd25lcik6XG5cdFx0XHRyZXR1cm4gcmVzLkJhZFJlcXVlc3QoYywgZXJyb3JzLk5ldyhcImLhuqFuIGtow7RuZyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgbOG7m3AgaOG7jWMgbsOgeVwiKSlcblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzLlN1Y2Nlc3MoYywgbmlsKVxufVxuLi4uXG5QYXRoOiB1c2VjYXNlL2ludml0ZV9tZW1iZXIuZ29cbnBhY2thZ2UgdXNlY2FzZVxuXG5pbXBvcnQgKFxuXHRcImNvbnRleHRcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcblx0cWVycm9yIFwicXVpenp5LWNsYXNzcm9vbS9lcnJvclwiXG5cdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcblxuXHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG5cdFwiZ28udWJlci5vcmcvemFwXCJcbilcblxudHlwZSBJbnZpdGVNZW1iZXJVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbiAqZW50aXR5Lkludml0YXRpb25FbnRpdHkpIGVycm9yXG59XG5cbnR5cGUgaW52aXRlTWVtYmVyVXNlQ2FzZUltcGwgc3RydWN0IHtcblx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbn1cblxuZnVuYyBOZXdJbnZpdGVNZW1iZXJVc2VDYXNlKHJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5KSBJbnZpdGVNZW1iZXJVc2VDYXNlIHtcblx0cmV0dXJuICZpbnZpdGVNZW1iZXJVc2VDYXNlSW1wbHtcblx0XHRSZXBvOiByZXBvLFxuXHR9XG59XG5cbmZ1bmMgKHUgKmludml0ZU1lbWJlclVzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvciB7XG5cdC8vIEtp4buDbSB0cmEgeGVtIG5nxrDhu51pIGTDuW5nIGPDsyBwaOG6o2kgbMOgIGNo4bunIHPhu58gaOG7r3UgY+G7p2EgY2xhc3Nyb29tIGtow7RuZ1xuXHRpc093bmVyLCBlcnIgOj0gdS5SZXBvLklzQ2xhc3Nyb29tT3duZXIoY3R4LCBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELCBpbnZpdGF0aW9uLlNlbmRlcklEKVxuXHRpZiBlcnIgIT0gbmlsIHtcblx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gY2hlY2sgY2xhc3Nyb29tIG93bmVyXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmICFpc093bmVyIHtcblx0XHRyZXR1cm4gcWVycm9yLkVyck5vdENsYXNzcm9vbU93bmVyXG5cdH1cblxuXHQvLyBLaeG7g20gdHJhIHhlbSBuZ8aw4budaSBuaOG6rW4gxJHDoyBjw7MgbOG7nWkgbeG7nWkgbsOgbyDEkWFuZyDhu58gdHLhuqFuZyB0aMOhaSBwZW5kaW5nIGhv4bq3YyBhY2NlcHRlZCBjaMawYVxuXHRleGlzdHMsIGVyciA6PSB1LlJlcG8uSXNJbnZpdGF0aW9uRXhpc3RpbmcoY3R4LCBpbnZpdGF0aW9uLkNsYXNzcm9vbUlELCBpbnZpdGF0aW9uLlJlY2VpdmVySUQpXG5cdGlmIGVyciAhPSBuaWwge1xuXHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBjaGVjayBleGlzdGluZyBpbnZpdGF0aW9uXCIsIHphcC5FcnJvcihlcnIpKVxuXHRcdHJldHVybiBlcnJcblx0fVxuXG5cdGlmIGV4aXN0cyB7XG5cdFx0cmV0dXJuIHFlcnJvci5FcnJSZWNlaXZlckFscmVhZHlIYXNJbnZpdGF0aW9uXG5cdH1cbi4uLlxuUGF0aDogcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvXG4uLi5cblxudHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XG5cdENyZWF0ZUNsYXNzcm9vbShjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb20gKmVudGl0eS5DbGFzc3Jvb21FbnRpdHkpIGVycm9yXG5cdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbU1lbWJlcl0sIGVycm9yKVxuXHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxuXHRJc0ludml0YXRpb25FeGlzdGluZyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHJlY2VpdmVySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdElzQ2xhc3Nyb29tT3duZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nKSAoYm9vbCwgZXJyb3IpXG5cdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuXHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3Jcblx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3Jcblx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG5cdEZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG5cdEZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcm9sZSBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZSwgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbi4uLlxuUGF0aDogdXNlY2FzZS9maWx0ZXJfaW52aXRlZF9tZW1iZXJzLmdvXG5wYWNrYWdlIHVzZWNhc2VcblxuaW1wb3J0IChcblx0XCJjb250ZXh0XCJcblx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG5cdHFlcnJvciBcInF1aXp6eS1jbGFzc3Jvb20vZXJyb3JcIlxuXHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcblx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuXG5cdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcblx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuXHRcImdvLnViZXIub3JnL3phcFwiXG4pXG5cbnR5cGUgRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlIGludGVyZmFjZSB7XG5cdEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG59XG5cbnR5cGUgZmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuXHRSZXBvIHJlcG9zaXRvcnkuUmVwLi4uIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9LCJyZXF1ZXN0SWQiOiI2Zjc2YTlhMS1lMTdlLTRmNWQtYmZmMy1mYzAxNDJhYzU1YzYiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxRHdBaUFtZ3pROVA1cFM1QVRiYTdhMyJ9LCJlOTRkMDdmMS1jN2NhLTQwNDEtOGQ4Mi1mOTVlNmFlNjJiNzc7dG9vbHVfdnJ0eF8wMTFVa0ZKUFRWOEIyM0daRHcySm9NV3kiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiBzZXJ2ZXIvcm91dGVyLmdvOlxuICAgICAxXHRwYWNrYWdlIHNlcnZlclxuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IChcbiAgICAgNFx0XHRcInF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlclwiXG4gICAgIDVcdFxuICAgICA2XHRcdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZVwiXG4gICAgIDdcdFxuICAgICA4XHRcdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbiAgICAgOVx0KVxuICAgIDEwXHRcbiAgICAxMVx0ZnVuYyBJbml0Um91dGVyKGFwcCAqZmliZXIuQXBwLCBoYW5kbGVyIGhhbmRsZXIuSGFuZGxlcikge1xuICAgIDEyXHRcdGNsYXNzcm9vbUdyb3VwIDo9IGFwcC5Hcm91cChcIi9jbGFzc3Jvb21cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuICAgIDEzXHRcdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvY3JlYXRlXCIsIGhhbmRsZXIuQ3JlYXRlQ2xhc3Nyb29tKVxuICAgIDE0XHRcdGNsYXNzcm9vbUdyb3VwLlBvc3QoXCIvaW52aXRlXCIsIGhhbmRsZXIuSW52aXRlTWVtYmVyKVxuICAgIDE1XHRcdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL21lbWJlcnNcIiwgaGFuZGxlci5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKVxuICAgIDE2XHRcdGNsYXNzcm9vbUdyb3VwLkdldChcIi86Y2xhc3Nyb29tX2lkL2ludml0ZWQtbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzKVxuICAgIDE3XHRcdGNsYXNzcm9vbUdyb3VwLkdldChcIi9vd25lZFwiLCBoYW5kbGVyLkZpbHRlck93bmVkQ2xhc3Nyb29tcylcbiAgICAxOFx0XHRjbGFzc3Jvb21Hcm91cC5HZXQoXCIvam9pbmVkLWFzLXN0dWRlbnRcIiwgaGFuZGxlci5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50KVxuICAgIDE5XHRcbiAgICAyMFx0XHRpbnZpdGF0aW9uR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2ludml0YXRpb25cIiwgbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlKVxuICAgIDIxXHRcdGludml0YXRpb25Hcm91cC5HZXQoXCIvZmlsdGVyXCIsIGhhbmRsZXIuRmlsdGVySW52aXRhdGlvbnMpXG4gICAgMjJcdFx0aW52aXRhdGlvbkdyb3VwLlB1dChcIi9yZWplY3QvOmlkXCIsIGhhbmRsZXIuUmVqZWN0SW52aXRhdGlvbilcbiAgICAyM1x0XHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL2FjY2VwdC86aWRcIiwgaGFuZGxlci5BY2NlcHRJbnZpdGF0aW9uKVxuICAgIDI0XHR9XG4gICAgMjVcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMjVcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifSwicmVxdWVzdElkIjoiZTk0ZDA3ZjEtYzdjYS00MDQxLThkODItZjk1ZTZhZTYyYjc3IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMTFVa0ZKUFRWOEIyM0daRHcySm9NV3kifSwiYWIzN2M0YjEtODZjZS00Y2Q1LWE1NDctZjVlMDM2N2FiMjc5O3Rvb2x1X3ZydHhfMDE2UzV4NllnQ3ZUUmpzTmZkeXVSWjdlIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifSwicmVxdWVzdElkIjoiYWIzN2M0YjEtODZjZS00Y2Q1LWE1NDctZjVlMDM2N2FiMjc5IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMTZTNXg2WWdDdlRSanNOZmR5dVJaN2UifSwiNjRkZjQ2ZmUtMTg0Yi00YzRkLThhM2EtOGJhODU5YzRlNzM2O3Rvb2x1X3ZydHhfMDFDdWsxNFpRdW42VkpCbW9lUXVFYnhwIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifSwicmVxdWVzdElkIjoiNjRkZjQ2ZmUtMTg0Yi00YzRkLThhM2EtOGJhODU5YzRlNzM2IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMUN1azE0WlF1bjZWSkJtb2VRdUVieHAifSwiYjU0ODQ5YTMtYTU5Yy00ZmFhLTk2MTUtNWU1ODcxZDEyYWE4O3Rvb2x1X3ZydHhfMDFWVjQ2V3NpeWZvaG1HbnhiTkxjNHZwIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUgc2F2ZWQgc3VjY2Vzc2Z1bGx5LiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifSwicmVxdWVzdElkIjoiYjU0ODQ5YTMtYTU5Yy00ZmFhLTk2MTUtNWU1ODcxZDEyYWE4IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMVZWNDZXc2l5Zm9obUdueGJOTGM0dnAifSwiOWI5MTMxOGMtNmU5My00MzM4LTlmZTYtYTdhMjlhY2IxMTA1O3Rvb2x1X3ZydHhfMDFFcTRVOUJ0NHhRNWNDUmdRTGNzNFF0Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgaGFuZGxlci9oYW5kbGVyLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDVcdFxuICAgICA2XHRcdFwiZ2l0aHViLmNvbS9nb2ZpYmVyL2ZpYmVyL3YyXCJcbiAgICAgN1x0KVxuICAgICA4XHRcbiAgICAgOVx0dHlwZSBIYW5kbGVyIGludGVyZmFjZSB7XG4gICAgMTBcdFx0Q3JlYXRlQ2xhc3Nyb29tKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgICAgICAgLy8gVOG6oW8gbOG7m3AgaOG7jWNcbiAgICAxMVx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAvLyBM4buNYyB0aMOgbmggdmnDqm4gY+G7p2EgbOG7m3AgaOG7jWNcbiAgICAxMlx0XHRJbnZpdGVNZW1iZXIoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgICAgICAgICAvLyBN4budaSB0aMOgbmggdmnDqm4gdsOgbyBs4bubcCBo4buNY1xuICAgIDEzXHRcdEZpbHRlckludml0YXRpb25zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7nWkgbeG7nWlcbiAgICAxNFx0XHRSZWplY3RJbnZpdGF0aW9uKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgICAgICAvLyBU4burIGNo4buRaSBs4budaSBt4budaVxuICAgIDE1XHRcdEFjY2VwdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgICAgIC8vIENo4bqlcCBuaOG6rW4gbOG7nWkgbeG7nWlcbiAgICAxNlx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIHRow6BuaCB2acOqbiDEkcOjIMSRxrDhu6NjIG3hu51pXG4gICAgMTdcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkWFuZyBz4bufIGjhu691XG4gICAgMThcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudChjICpmaWJlci5DdHgpIGVycm9yIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJHDoyB0aGFtIGdpYSB24bubaSB2YWkgdHLDsiBo4buNYyBzaW5oXG4gICAgMTlcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlKGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkcOjIHRoYW0gZ2lhIChjw7MgdGjhu4MgbOG7jWMgdGhlbyB2YWkgdHLDsilcbiAgICAyMFx0fVxuICAgIDIxXHRcbiAgICAyMlx0dHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xuICAgIDIzXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VcbiAgICAyNFx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSAgICAgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMV06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAxOFx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50KGMgKmZpYmVyLkN0eCkgZXJyb3IgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4bubcCBo4buNYyDEkcOjIHRoYW0gZ2lhIHbhu5tpIHZhaSB0csOyIGjhu41jIHNpbmhcbiAgICAxOVx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGUoYyAqZmliZXIuQ3R4KSBlcnJvciAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRw6MgdGhhbSBnaWEgKGPDsyB0aOG7gyBs4buNYyB0aGVvIHZhaSB0csOyKVxuICAgIDIwXHR9XG4gICAgMjFcdFxuICAgIDIyXHR0eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XG4gICAgMjNcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuICAgIDI0XHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlICAgICB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG4gICAgMjVcdFx0SW52aXRlTWVtYmVyVXNlQ2FzZSAgICAgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuICAgIDI2XHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuICAgIDI3XHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgICAgICB1c2VjYXNlLlJlamVjdEludml0YXRpb25Vc2VDYXNlXG4gICAgMjhcdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2VcbiAgICAyOVx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VcbiAgICAzMFx0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlICAgICAgdXNlY2FzZS5GaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlXG4gICAgMzFcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2UgdXNlY2FzZS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zQXNTdHVkZW50VXNlQ2FzZVxuICAgIDMyXHRcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVVzZUNhc2UgdXNlY2FzZS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlXG4gICAgMzNcdH1cbiAgICAzNFx0XG4gICAgMzVcdHR5cGUgSW5qZWN0IHN0cnVjdCB7XG4gICAgMzZcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuICAgIDM3XHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlICAgICB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1syXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDMxXHRcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlIHVzZWNhc2UuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2VcbiAgICAzMlx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlIHVzZWNhc2UuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZVxuICAgIDMzXHR9XG4gICAgMzRcdFxuICAgIDM1XHR0eXBlIEluamVjdCBzdHJ1Y3Qge1xuICAgIDM2XHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VcbiAgICAzN1x0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSAgICAgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuICAgIDM4XHRcdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2VcbiAgICAzOVx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICAgICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2VcbiAgICA0MFx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxuICAgIDQxXHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG4gICAgNDJcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG4gICAgNDNcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZVxuICAgIDQ0XHRcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlIHVzZWNhc2UuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2VcbiAgICA0NVx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlIHVzZWNhc2UuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZVxuICAgIDQ2XHR9XG4gICAgNDdcdFxuICAgIDQ4XHRmdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XG4gICAgNDlcdFx0cmV0dXJuICZoYW5kbGVySW1wbHtcbiAgICA1MFx0XHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1szXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDQ0XHRcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlIHVzZWNhc2UuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2VcbiAgICA0NVx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlIHVzZWNhc2UuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZVxuICAgIDQ2XHR9XG4gICAgNDdcdFxuICAgIDQ4XHRmdW5jIE5ldyhpbmplY3QgKkluamVjdCkgSGFuZGxlciB7XG4gICAgNDlcdFx0cmV0dXJuICZoYW5kbGVySW1wbHtcbiAgICA1MFx0XHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXG4gICAgNTFcdFx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogICAgIGluamVjdC5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSxcbiAgICA1Mlx0XHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICAgICAgaW5qZWN0Lkludml0ZU1lbWJlclVzZUNhc2UsXG4gICAgNTNcdFx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgICAgIGluamVjdC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UsXG4gICAgNTRcdFx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgICAgIGluamVjdC5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZSxcbiAgICA1NVx0XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICAgICAgaW5qZWN0LkFjY2VwdEludml0YXRpb25Vc2VDYXNlLFxuICAgIDU2XHRcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgICAgICBpbmplY3QuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLFxuICAgIDU3XHRcdFx0RmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZTogICAgICBpbmplY3QuRmlsdGVyT3duZWRDbGFzc3Jvb21zVXNlQ2FzZSxcbiAgICA1OFx0XHRcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNBc1N0dWRlbnRVc2VDYXNlOiBpbmplY3QuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2UsXG4gICAgNTlcdFx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlOiBpbmplY3QuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZSxcbiAgICA2MFx0XHR9XG4gICAgNjFcdH1cbiAgICA2Mlx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifSwicmVxdWVzdElkIjoiOWI5MTMxOGMtNmU5My00MzM4LTlmZTYtYTdhMjlhY2IxMTA1IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMUVxNFU5QnQ0eFE1Y0NSZ1FMY3M0UXQifSwiMThkZDY1MGYtNzFjMi00MDBmLWE3ZDktMDAxYzc5NDdiYmIwO3Rvb2x1X3ZydHhfMDE5bmtYWlpTVndhdjc3UFpIaDdXN0xIIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc2VydmVyL3NlcnZlci5nby5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDI1XHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG4gICAgMjZcdFx0XHRyZXR1cm5cbiAgICAyN1x0XHR9XG4gICAgMjhcdFx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcbiAgICAyOVx0XHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcbiAgICAzMFx0XHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICAgICAgdXNlY2FzZS5OZXdDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDMxXHRcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2U6ICAgICB1c2VjYXNlLk5ld0ZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDMyXHRcdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzNcdFx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgICAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM0XHRcdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld1JlamVjdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM1XHRcdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM2XHRcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0ZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzN1x0XHRcdEZpbHRlck93bmVkQ2xhc3Nyb29tc1VzZUNhc2U6ICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJPd25lZENsYXNzcm9vbXNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM4XHRcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2U6IHVzZWNhc2UuTmV3RmlsdGVySm9pbmVkQ2xhc3Nyb29tc0FzU3R1ZGVudFVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzlcdFx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlOiB1c2VjYXNlLk5ld0ZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgNDBcdFx0fSlcbiAgICA0MVx0XG4gICAgNDJcdFx0SW5pdFJvdXRlcihhcHAsIGhhbmRsZXIpXG4gICAgNDNcdFx0dXRpbC5Jbml0VmFsaWRhdGUoKVxuICAgIDQ0XHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9LCJyZXF1ZXN0SWQiOiIxOGRkNjUwZi03MWMyLTQwMGYtYTdkOS0wMDFjNzk0N2JiYjAiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxOW5rWFpaU1Z3YXY3N1BaSGg3VzdMSCJ9LCIwM2M0NzA2ZC03NmNjLTQ4MGEtYjU5Zi0wZTYyY2RmNDI1Njk7dG9vbHVfdnJ0eF8wMVhvd1pZWWY5bXE2ZDFHTGFxVHZrd3AiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzZXJ2ZXIvcm91dGVyLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDhcdFx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuICAgICA5XHQpXG4gICAgMTBcdFxuICAgIDExXHRmdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG4gICAgMTJcdFx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG4gICAgMTNcdFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG4gICAgMTRcdFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG4gICAgMTVcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG4gICAgMTZcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG4gICAgMTdcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiL2pvaW5lZFwiLCBoYW5kbGVyLkZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZSlcbiAgICAxOFx0XG4gICAgMTlcdFx0aW52aXRhdGlvbkdyb3VwIDo9IGFwcC5Hcm91cChcIi9pbnZpdGF0aW9uXCIsIG1pZGRsZXdhcmUuSldUTWlkZGxld2FyZSlcbiAgICAyMFx0XHRpbnZpdGF0aW9uR3JvdXAuR2V0KFwiL2ZpbHRlclwiLCBoYW5kbGVyLkZpbHRlckludml0YXRpb25zKVxuICAgIDIxXHRcdGludml0YXRpb25Hcm91cC5QdXQoXCIvcmVqZWN0LzppZFwiLCBoYW5kbGVyLlJlamVjdEludml0YXRpb24pXG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifSwicmVxdWVzdElkIjoiMDNjNDcwNmQtNzZjYy00ODBhLWI1OWYtMGU2MmNkZjQyNTY5IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMVhvd1pZWWY5bXE2ZDFHTGFxVHZrd3AifSwiYmI0NWY2MjgtMWFhNy00NTJjLTlhNWEtY2ExY2I1M2FmY2FkO3Rvb2x1X3ZydHhfMDFSbVNaN2p6cXFBTG9xMVBHQkc5UWM3Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgdXNlY2FzZS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfd2l0aF9yb2xlLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgMjRcdFx0XHRSZXBvOiByZXBvLFxuICAgIDI1XHRcdH1cbiAgICAyNlx0fVxuICAgIDI3XHRcbiAgICAyOFx0ZnVuYyAodSAqZmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG4gICAgMjlcdFx0Ly8gTuG6v3Uga2jDtG5nIGPDsyByb2xlIMSRxrDhu6NjIGNo4buJIMSR4buLbmgsIGzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgbcOgIG5nxrDhu51pIGTDuW5nIHPhu58gaOG7r3VcbiAgICAzMFx0XHRpZiBwYXJhbXMuUm9sZSA9PSBuaWwge1xuICAgIDMxXHRcdFx0Ly8gTOG6pXkgZGFuaCBzw6FjaCBs4bubcCBo4buNYyBtw6AgbmfGsOG7nWkgZMO5bmcgc+G7nyBo4buvdVxuICAgIDMyXHRcdFx0b3duZWRQYXJhbXMgOj0gcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcXtcbiAgICAzM1x0XHRcdFx0UGFnaW5hdGlvblJlcTogcGFyYW1zLlBhZ2luYXRpb25SZXEsXG4gICAgMzRcdFx0XHR9XG4gICAgMzVcdFx0XHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCwgdXNlcklELCBvd25lZFBhcmFtcylcbiAgICAzNlx0XHRcdGlmIGVyciAhPSBuaWwge1xuICAgIDM3XHRcdFx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIG93bmVkIGNsYXNzcm9vbXNcIiwgemFwLlN0cmluZyhcInVzZXIgaWRcIiwgdXNlcklEKSwgemFwLkVycm9yKGVycikpXG4gICAgMzhcdFx0XHRcdHJldHVybiBuaWwsIGVyclxuICAgIDM5XHRcdFx0fVxuICAgIDQwXHRcdFx0cmV0dXJuIHJlc3VsdCwgbmlsXG4gICAgNDFcdFx0fVxuICAgIDQyXHRcbiAgICA0M1x0XHQvLyBO4bq/dSBjw7Mgcm9sZSDEkcaw4bujYyBjaOG7iSDEkeG7i25oLCBs4buNYyB0aGVvIHJvbGVcbiAgICA0NFx0XHRqb2luZWRQYXJhbXMgOj0gcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXF7XG4gICAgNDVcdFx0XHRQYWdpbmF0aW9uUmVxOiBwYXJhbXMuUGFnaW5hdGlvblJlcSxcbiAgICA0Nlx0XHR9XG4gICAgNDdcdFx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsICpwYXJhbXMuUm9sZSwgam9pbmVkUGFyYW1zKVxuICAgIDQ4XHRcdGlmIGVyciAhPSBuaWwge1xuICAgIDQ5XHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBqb2luZWQgY2xhc3Nyb29tcyB3aXRoIHJvbGVcIiwgemFwLlN0cmluZyhcInVzZXIgaWRcIiwgdXNlcklEKSwgemFwLlN0cmluZyhcInJvbGVcIiwgc3RyaW5nKCpwYXJhbXMuUm9sZSkpLCB6YXAuRXJyb3IoZXJyKSlcbiAgICA1MFx0XHRcdHJldHVybiBuaWwsIGVyclxuICAgIDUxXHRcdH1cbiAgICA1Mlx0XHRyZXR1cm4gcmVzdWx0LCBuaWxcbiAgICA1M1x0fVxuICAgIDU0XHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9LCJyZXF1ZXN0SWQiOiJiYjQ1ZjYyOC0xYWE3LTQ1MmMtOWE1YS1jYTFjYjUzYWZjYWQiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxUm1TWjdqenFxQUxvcTFQR0JHOVFjNyJ9LCJhODJhM2JkZS1hOTgyLTQ4NTUtYmU4MS0wN2Y2YWJmYzc2YTI7dG9vbHVfdnJ0eF8wMVB5ODE0NGJaVjdCYUF6WUdpcHhBZDEiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiQ29tbWFuZCBpcyBzdGlsbCBydW5uaW5nIGFmdGVyIDEwIHNlY29uZHMuIFlvdSBjYW4gdXNlIHJlYWQtcHJvY2VzcyB0byBnZXQgbW9yZSBvdXRwdXRcbiAgICAgICAgICBhbmQga2lsbC1wcm9jZXNzIHRvIHRlcm1pbmF0ZSBpdCBpZiBuZWVkZWQuXG4gICAgICAgICAgUElEIDZcbiAgICAgICAgICBPdXRwdXQgc28gZmFyOlxuICAgICAgICAgIDxzdGRvdXQ+XG4gICAgICAgICAgMjAyNS8wNC8yMSAyMzo1NzozMSBTdWNjZXNzZnVsbHkgY29ubmVjdGVkIHRvIFBvc3RncmVTUUwgZGF0YWJhc2VcblxuXHUwMDFiWzkwbVx1MDAxYls5MG0g4pSM4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSQIFxuXHUwMDFiWzkwbSDilIIgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk2bUZpYmVyIHYyLjUyLjZcdTAwMWJbOTBtICAgICAgICAgICAgICAgICAgIOKUgiBcblx1MDAxYls5MG0g4pSCICAgICAgICAgICAgICAgaHR0cDovLzEyNy4wLjAuMTo1MDAxICAgICAgICAgICAgICAg4pSCIFxuXHUwMDFiWzkwbSDilIIgICAgICAgKGJvdW5kIG9uIGhvc3QgMC4wLjAuMCBhbmQgcG9ydCA1MDAxKSAgICAgICDilIIgXG5cdTAwMWJbOTBtIOKUgiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIOKUgiBcblx1MDAxYls5MG0g4pSCIEhhbmRsZXJzIC4uLi4uLi4uLi4uLiBcdTAwMWJbOTZtMTVcdTAwMWJbOTBtICBQcm9jZXNzZXMgLi4uLi4uLi4uLi4gXHUwMDFiWzk2bTFcdTAwMWJbOTBtIOKUgiBcblx1MDAxYls5MG0g4pSCIFByZWZvcmsgLi4uLi4uLiBEaXNhYmxlZCAgUElEIC4uLi4uLi4uLi4uLi4uIFx1MDAxYls5Nm02Mjc5XHUwMDFiWzkwbSDilIIgXG5cdTAwMWJbOTBtIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUmFx1MDAxYlswbSBcblxuXHUwMDFiWzk0bW1ldGhvZCAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybXBhdGggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bW5hbWUgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbWhhbmRsZXJzIFx1MDAxYlswbVxuXHUwMDFiWzk0bS0tLS0tLSAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS0tLS0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bS0tLS0gXHUwMDFiWzk3bXwgXHUwMDFiWzkzbS0tLS0tLS0tIFx1MDAxYlswbVxuXHUwMDFiWzk0bUdFVCAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbXF1aXp6eS1jbGFzc3Jvb20vc2VydmVyLlJ1bi5OZXcuZnVuYzEgXHUwMDFiWzBtXG5cdTAwMWJbOTRtUFVUICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtcXVpenp5LWNsYXNzcm9vbS9zZXJ2ZXIuUnVuLk5ldy5mdW5jMSBcdTAwMWJbMG1cblx1MDAxYls5NG1ERUxFVEUgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21xdWl6enktY2xhc3Nyb29tL3NlcnZlci5SdW4uTmV3LmZ1bmMxIFx1MDAxYlswbVxuXHUwMDFiWzk0bUNPTk5FQ1QgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbXF1aXp6eS1jbGFzc3Jvb20vc2VydmVyLlJ1bi5OZXcuZnVuYzEgXHUwMDFiWzBtXG5cdTAwMWJbOTRtUEFUQ0ggICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtcXVpenp5LWNsYXNzcm9vbS9zZXJ2ZXIuUnVuLk5ldy5mdW5jMSBcdTAwMWJbMG1cblx1MDAxYls5NG1QT1NUICAgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21xdWl6enktY2xhc3Nyb29tL3NlcnZlci5SdW4uTmV3LmZ1bmMxIFx1MDAxYlswbVxuXHUwMDFiWzk0bVRSQUNFICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbXF1aXp6eS1jbGFzc3Jvb20vc2VydmVyLlJ1bi5OZXcuZnVuYzEgXHUwMDFiWzBtXG5cdTAwMWJbOTRtSEVBRCAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtcXVpenp5LWNsYXNzcm9vbS9zZXJ2ZXIuUnVuLk5ldy5mdW5jMSBcdTAwMWJbMG1cblx1MDAxYls5NG1PUFRJT05TIFx1MDAxYls5N218IFx1MDAxYls5Mm0vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21xdWl6enktY2xhc3Nyb29tL3NlcnZlci5SdW4uTmV3LmZ1bmMxIFx1MDAxYlswbVxuXHUwMDFiWzk0bVBPU1QgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS9jbGFzc3Jvb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbWdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmUuSldUTWlkZGxld2FyZSBcdTAwMWJbMG1cblx1MDAxYls5NG1PUFRJT05TIFx1MDAxYls5N218IFx1MDAxYls5Mm0vY2xhc3Nyb29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21naXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUgXHUwMDFiWzBtXG5cdTAwMWJbOTRtSEVBRCAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtL2NsYXNzcm9vbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlIFx1MDAxYlswbVxuXHUwMDFiWzk0bUNPTk5FQ1QgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS9jbGFzc3Jvb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbWdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmUuSldUTWlkZGxld2FyZSBcdTAwMWJbMG1cblx1MDAxYls5NG1UUkFDRSAgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vY2xhc3Nyb29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21naXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUgXHUwMDFiWzBtXG5cdTAwMWJbOTRtUFVUICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtL2NsYXNzcm9vbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlIFx1MDAxYlswbVxuXHUwMDFiWzk0bURFTEVURSAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS9jbGFzc3Jvb20gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbWdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmUuSldUTWlkZGxld2FyZSBcdTAwMWJbMG1cblx1MDAxYls5NG1QQVRDSCAgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vY2xhc3Nyb29tICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21naXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUgXHUwMDFiWzBtXG5cdTAwMWJbOTRtR0VUICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtL2NsYXNzcm9vbSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlIFx1MDAxYlswbVxuXHUwMDFiWzk0bUhFQUQgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS9jbGFzc3Jvb20vOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnMgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbXF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlci5IYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzLWZtIFx1MDAxYlswbVxuXHUwMDFiWzk0bUdFVCAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS9jbGFzc3Jvb20vOmNsYXNzcm9vbV9pZC9pbnZpdGVkLW1lbWJlcnMgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbXF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlci5IYW5kbGVyLkZpbHRlckludml0ZWRNZW1iZXJzLWZtIFx1MDAxYlswbVxuXHUwMDFiWzk0bUhFQUQgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS9jbGFzc3Jvb20vOmNsYXNzcm9vbV9pZC9tZW1iZXJzICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbXF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlci5IYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMtZm0gXHUwMDFiWzBtXG5cdTAwMWJbOTRtR0VUICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtL2NsYXNzcm9vbS86Y2xhc3Nyb29tX2lkL21lbWJlcnMgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtcXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyLkhhbmRsZXIuRmlsdGVyQ2xhc3Nyb29tTWVtYmVycy1mbSBcdTAwMWJbMG1cblx1MDAxYls5NG1QT1NUICAgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vY2xhc3Nyb29tL2NyZWF0ZSAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21xdWl6enktY2xhc3Nyb29tL2hhbmRsZXIuSGFuZGxlci5DcmVhdGVDbGFzc3Jvb20tZm0gXHUwMDFiWzBtXG5cdTAwMWJbOTRtUE9TVCAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtL2NsYXNzcm9vbS9pbnZpdGUgICAgICAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtcXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyLkhhbmRsZXIuSW52aXRlTWVtYmVyLWZtIFx1MDAxYlswbVxuXHUwMDFiWzk0bUdFVCAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS9jbGFzc3Jvb20vam9pbmVkICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbXF1aXp6eS1jbGFzc3Jvb20vaGFuZGxlci5IYW5kbGVyLkZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZS1mbSBcdTAwMWJbMG1cblx1MDAxYls5NG1IRUFEICAgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vY2xhc3Nyb29tL2pvaW5lZCAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21xdWl6enktY2xhc3Nyb29tL2hhbmRsZXIuSGFuZGxlci5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGUtZm0gXHUwMDFiWzBtXG5cdTAwMWJbOTRtQ09OTkVDVCBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtL2ludml0YXRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlIFx1MDAxYlswbVxuXHUwMDFiWzk0bURFTEVURSAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS9pbnZpdGF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbWdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmUuSldUTWlkZGxld2FyZSBcdTAwMWJbMG1cblx1MDAxYls5NG1QVVQgICAgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vaW52aXRhdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21naXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUgXHUwMDFiWzBtXG5cdTAwMWJbOTRtSEVBRCAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtL2ludml0YXRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlIFx1MDAxYlswbVxuXHUwMDFiWzk0bVBPU1QgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS9pbnZpdGF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbWdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmUuSldUTWlkZGxld2FyZSBcdTAwMWJbMG1cblx1MDAxYls5NG1PUFRJT05TIFx1MDAxYls5N218IFx1MDAxYls5Mm0vaW52aXRhdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21naXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUgXHUwMDFiWzBtXG5cdTAwMWJbOTRtR0VUICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtL2ludml0YXRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbWlkZGxld2FyZS5KV1RNaWRkbGV3YXJlIFx1MDAxYlswbVxuXHUwMDFiWzk0bVRSQUNFICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkybS9pbnZpdGF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzk2bSAgICAgXHUwMDFiWzk3bXwgXHUwMDFiWzkzbWdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21pZGRsZXdhcmUuSldUTWlkZGxld2FyZSBcdTAwMWJbMG1cblx1MDAxYls5NG1QQVRDSCAgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vaW52aXRhdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21naXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9taWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUgXHUwMDFiWzBtXG5cdTAwMWJbOTRtUFVUICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTJtL2ludml0YXRpb24vYWNjZXB0LzppZCAgICAgICAgICAgICAgICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTZtICAgICBcdTAwMWJbOTdtfCBcdTAwMWJbOTNtcXVpenp5LWNsYXNzcm9vbS9oYW5kbGVyLkhhbmRsZXIuQWNjZXB0SW52aXRhdGlvbi1mbSBcdTAwMWJbMG1cblx1MDAxYls5NG1IRUFEICAgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vaW52aXRhdGlvbi9maWx0ZXIgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21xdWl6enktY2xhc3Nyb29tL2hhbmRsZXIuSGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucy1mbSBcdTAwMWJbMG1cblx1MDAxYls5NG1HRVQgICAgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vaW52aXRhdGlvbi9maWx0ZXIgICAgICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21xdWl6enktY2xhc3Nyb29tL2hhbmRsZXIuSGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucy1mbSBcdTAwMWJbMG1cblx1MDAxYls5NG1QVVQgICAgIFx1MDAxYls5N218IFx1MDAxYls5Mm0vaW52aXRhdGlvbi9yZWplY3QvOmlkICAgICAgICAgICAgICAgICAgIFx1MDAxYls5N218IFx1MDAxYls5Nm0gICAgIFx1MDAxYls5N218IFx1MDAxYls5M21xdWl6enktY2xhc3Nyb29tL2hhbmRsZXIuSGFuZGxlci5SZWplY3RJbnZpdGF0aW9uLWZtIFx1MDAxYlswbVxuXG4gICAgICAgICAgPC9zdGRvdXQ+XG4gICAgICAgICAgPHN0ZGVycj5cbiAgICAgICAgICBcbiAgICAgICAgICA8L3N0ZGVycj4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn0sInJlcXVlc3RJZCI6ImE4MmEzYmRlLWE5ODItNDg1NS1iZTgxLTA3ZjZhYmZjNzZhMiIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFQeTgxNDRiWlY3QmFBellHaXB4QWQxIn0sImU3OTdlMGVhLWY0YjQtNDk5NS05OTYxLWIxOWIwMjYwZGM4Yzt0b29sdV92cnR4XzAxOVBKMVdvN3puWnRic3lFaTM1ZW9QcCI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHVzZWNhc2UvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zX3dpdGhfcm9sZS5nbzpcbiAgICAgMVx0cGFja2FnZSB1c2VjYXNlXG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgKFxuICAgICA0XHRcdFwiY29udGV4dFwiXG4gICAgIDVcdFx0XCJxdWl6enktY2xhc3Nyb29tL2VudGl0eVwiXG4gICAgIDZcdFx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG4gICAgIDdcdFx0XCJxdWl6enktY2xhc3Nyb29tL3JlcG9zaXRvcnlcIlxuICAgICA4XHRcbiAgICAgOVx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL2xvZ2dlclwiXG4gICAgMTBcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuICAgIDExXHRcdFwiZ28udWJlci5vcmcvemFwXCJcbiAgICAxMlx0KVxuICAgIDEzXHRcbiAgICAxNFx0dHlwZSBGaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlIGludGVyZmFjZSB7XG4gICAgMTVcdFx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVJlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG4gICAgMTZcdH1cbiAgICAxN1x0XG4gICAgMThcdHR5cGUgZmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZUltcGwgc3RydWN0IHtcbiAgICAxOVx0XHRSZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeVxuICAgIDIwXHR9XG4gICAgMjFcdFxuICAgIDIyXHRmdW5jIE5ld0ZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVVzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVVzZUNhc2Uge1xuICAgIDIzXHRcdHJldHVybiAmZmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZUltcGx7XG4gICAgMjRcdFx0XHRSZXBvOiByZXBvLFxuICAgIDI1XHRcdH1cbiAgICAyNlx0fVxuICAgIDI3XHRcbiAgICAyOFx0ZnVuYyAodSAqZmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG4gICAgMjlcdFx0Ly8gTuG6v3Uga2jDtG5nIGPDsyByb2xlIMSRxrDhu6NjIGNo4buJIMSR4buLbmgsIGzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgbcOgIG5nxrDhu51pIGTDuW5nIHPhu58gaOG7r3VcbiAgICAzMFx0XHRpZiBwYXJhbXMuUm9sZSA9PSBuaWwge1xuICAgIDMxXHRcdFx0Ly8gTOG6pXkgZGFuaCBzw6FjaCBs4bubcCBo4buNYyBtw6AgbmfGsOG7nWkgZMO5bmcgc+G7nyBo4buvdVxuICAgIDMyXHRcdFx0b3duZWRQYXJhbXMgOj0gcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcXtcbiAgICAzM1x0XHRcdFx0UGFnaW5hdGlvblJlcTogcGFyYW1zLlBhZ2luYXRpb25SZXEsXG4gICAgMzRcdFx0XHR9XG4gICAgMzVcdFx0XHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCwgdXNlcklELCBvd25lZFBhcmFtcylcbiAgICAzNlx0XHRcdGlmIGVyciAhPSBuaWwge1xuICAgIDM3XHRcdFx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIG93bmVkIGNsYXNzcm9vbXNcIiwgemFwLlN0cmluZyhcInVzZXIgaWRcIiwgdXNlcklEKSwgemFwLkVycm9yKGVycikpXG4gICAgMzhcdFx0XHRcdHJldHVybiBuaWwsIGVyclxuICAgIDM5XHRcdFx0fVxuICAgIDQwXHRcdFx0cmV0dXJuIHJlc3VsdCwgbmlsXG4gICAgNDFcdFx0fVxuICAgIDQyXHRcbiAgICA0M1x0XHQvLyBO4bq/dSBjw7Mgcm9sZSDEkcaw4bujYyBjaOG7iSDEkeG7i25oLCBs4buNYyB0aGVvIHJvbGVcbiAgICA0NFx0XHRqb2luZWRQYXJhbXMgOj0gcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXF7XG4gICAgNDVcdFx0XHRQYWdpbmF0aW9uUmVxOiBwYXJhbXMuUGFnaW5hdGlvblJlcSxcbiAgICA0Nlx0XHR9XG4gICAgNDdcdFx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsICpwYXJhbXMuUm9sZSwgam9pbmVkUGFyYW1zKVxuICAgIDQ4XHRcdGlmIGVyciAhPSBuaWwge1xuICAgIDQ5XHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBqb2luZWQgY2xhc3Nyb29tcyB3aXRoIHJvbGVcIiwgemFwLlN0cmluZyhcInVzZXIgaWRcIiwgdXNlcklEKSwgemFwLlN0cmluZyhcInJvbGVcIiwgc3RyaW5nKCpwYXJhbXMuUm9sZSkpLCB6YXAuRXJyb3IoZXJyKSlcbiAgICA1MFx0XHRcdHJldHVybiBuaWwsIGVyclxuICAgIDUxXHRcdH1cbiAgICA1Mlx0XHRyZXR1cm4gcmVzdWx0LCBuaWxcbiAgICA1M1x0fVxuICAgIDU0XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDU0XG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn0sInJlcXVlc3RJZCI6ImU3OTdlMGVhLWY0YjQtNDk5NS05OTYxLWIxOWIwMjYwZGM4YyIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDE5UEoxV283em5adGJzeUVpMzVlb1BwIn0sIjcyYjViMmEzLTA3MzEtNDZhMC1hYThlLWI4NzQzZWQ1ZTY0Mjt0b29sdV92cnR4XzAxMzdiUzJRRDROajQ1ZXAxelZDcUh3YSI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlIHNhdmVkIHN1Y2Nlc3NmdWxseS4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn0sInJlcXVlc3RJZCI6IjcyYjViMmEzLTA3MzEtNDZhMC1hYThlLWI4NzQzZWQ1ZTY0MiIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDEzN2JTMlFENE5qNDVlcDF6VkNxSHdhIn0sIjdjMmMwNDFhLTAzOWItNGU4Yi1iYjA4LTA1NWZjOGU1NTFlNTt0b29sdV92cnR4XzAxN29VUnhCUUNoU1I5SHVSZ0EzTHhjOCI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIG1vZGVsL3JlcS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfd2l0aF9yb2xlLmdvOlxuICAgICAxXHRwYWNrYWdlIHJlcVxuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IChcbiAgICAgNFx0XHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbiAgICAgNVx0XG4gICAgIDZcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXFcIlxuICAgICA3XHQpXG4gICAgIDhcdFxuICAgICA5XHR0eXBlIEZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVJlcSBzdHJ1Y3Qge1xuICAgIDEwXHRcdHJlcS5QYWdpbmF0aW9uUmVxXG4gICAgMTFcdFx0Um9sZSAqZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUgYGpzb246XCJyb2xlXCIgcXVlcnk6XCJyb2xlXCJgXG4gICAgMTJcdH1cbiAgICAxM1x0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAxM1xuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9LCJyZXF1ZXN0SWQiOiI3YzJjMDQxYS0wMzliLTRlOGItYmIwOC0wNTVmYzhlNTUxZTUiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxN29VUnhCUUNoU1I5SHVSZ0EzTHhjOCJ9LCJkMjNhYTc1Ny00NGU1LTQwZDYtOGEwYi04ZDBjMmQxYjI4ZTk7dG9vbHVfdnJ0eF8wMVNuRzhKWk1MenltY0o0VVVUeHVYM1YiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBtb2RlbC9yZXEvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDFcdHBhY2thZ2UgcmVxXG4gICAgIDJcdFxuICAgICAzXHRpbXBvcnQgKFxuICAgICA0XHRcdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuICAgICA1XHRcbiAgICAgNlx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL21vZGVsL3JlcVwiXG4gICAgIDdcdClcbiAgICAgOFx0XG4gICAgIDlcdHR5cGUgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSBzdHJ1Y3Qge1xuICAgIDEwXHRcdHJlcS5QYWdpbmF0aW9uUmVxXG4gICAgMTFcdFx0Um9sZSAqZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUgYGpzb246XCJyb2xlXCIgcXVlcnk6XCJyb2xlXCJgXG4gICAgMTJcdH1cbiAgICAxM1x0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifSwicmVxdWVzdElkIjoiZDIzYWE3NTctNDRlNS00MGQ2LThhMGItOGQwYzJkMWIyOGU5IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMVNuRzhKWk1MenltY0o0VVVUeHVYM1YifSwiZGUyMTY4YzYtZDJjMy00OTkyLTk0OTUtMDBjYzljN2QzYWY5O3Rvb2x1X3ZydHhfMDFBZUpUM0pFSldlcUVtZ3R0dHhTYjlnIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gaGFuZGxlci9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfd2l0aF9yb2xlLmdvOlxuICAgICAxXHRwYWNrYWdlIGhhbmRsZXJcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCAoXG4gICAgIDRcdFx0XCJxdWl6enktY2xhc3Nyb29tL21vZGVsL3JlcVwiXG4gICAgIDVcdFx0XCJxdWl6enktY2xhc3Nyb29tL3V0aWxcIlxuICAgICA2XHRcbiAgICAgN1x0XHRcImdpdGh1Yi5jb20vZ29maWJlci9maWJlci92MlwiXG4gICAgIDhcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9tb2RlbC9yZXNcIlxuICAgICA5XHQpXG4gICAgMTBcdFxuICAgIDExXHRmdW5jIChoICpoYW5kbGVySW1wbCkgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1dpdGhSb2xlKGMgKmZpYmVyLkN0eCkgZXJyb3Ige1xuICAgIDEyXHRcdHZhciBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNXaXRoUm9sZVJlcVxuICAgIDEzXHRcdGlmIGVyciA6PSBjLlF1ZXJ5UGFyc2VyKCZwYXJhbXMpOyBlcnIgIT0gbmlsIHtcbiAgICAxNFx0XHRcdHJldHVybiByZXMuQmFkUmVxdWVzdChjLCBlcnIpXG4gICAgMTVcdFx0fVxuICAgIDE2XHRcbiAgICAxN1x0XHRpZiBlcnIgOj0gdXRpbC5WYWxpZGF0ZS5TdHJ1Y3QoJnBhcmFtcyk7IGVyciAhPSBuaWwge1xuICAgIDE4XHRcdFx0cmV0dXJuIHJlcy5CYWRSZXF1ZXN0KGMsIGVycilcbiAgICAxOVx0XHR9XG4gICAgMjBcdFxuICAgIDIxXHRcdC8vIEzhuqV5IElEIGPhu6dhIG5nxrDhu51pIGTDuW5nIGhp4buHbiB04bqhaSB04burIEpXVCB0b2tlblxuICAgIDIyXHRcdHVzZXJJRCA6PSBjLkxvY2FscyhcInVzZXJfaWRcIikuKHN0cmluZylcbiAgICAyM1x0XG4gICAgMjRcdFx0cmVzdWx0LCBlcnIgOj0gaC5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zV2l0aFJvbGVVc2VDYXNlLkV4ZWN1dGUoYy5Db250ZXh0KCksIHVzZXJJRCwgcGFyYW1zKVxuICAgIDI1XHRcdGlmIGVyciAhPSBuaWwge1xuICAgIDI2XHRcdFx0cmV0dXJuIHJlcy5JbnRlcm5hbFNlcnZlckVycm9yKGMsIGVycilcbiAgICAyN1x0XHR9XG4gICAgMjhcdFxuICAgIDI5XHRcdHJldHVybiByZXMuU3VjY2VzcyhjLCByZXN1bHQpXG4gICAgMzBcdH1cbiAgICAzMVx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAzMVxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9LCJyZXF1ZXN0SWQiOiJkZTIxNjhjNi1kMmMzLTQ5OTItOTQ5NS0wMGNjOWM3ZDNhZjkiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxQWVKVDNKRUpXZXFFbWd0dHR4U2I5ZyJ9LCJkNmZlZTVjNi1hNGZlLTRmZTAtYWJjMi1jNTE0ZDM2MTBjYTk7dG9vbHVfdnJ0eF8wMUhDS1RiZG9yaUF2UmZqdFE3UlZud28iOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiRmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9LCJyZXF1ZXN0SWQiOiJkNmZlZTVjNi1hNGZlLTRmZTAtYWJjMi1jNTE0ZDM2MTBjYTkiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxSENLVGJkb3JpQXZSZmp0UTdSVm53byJ9LCJkNjBmYWQyNC1kZjJkLTQ5MzgtOGRiZC02YWRmMWUwM2YyZTU7dG9vbHVfdnJ0eF8wMTNXZEdEUHZlMzFqZlIzd3lHOTVHZjEiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBoYW5kbGVyL2hhbmRsZXIuZ28uXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAgNVx0XG4gICAgIDZcdFx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuICAgICA3XHQpXG4gICAgIDhcdFxuICAgICA5XHR0eXBlIEhhbmRsZXIgaW50ZXJmYWNlIHtcbiAgICAxMFx0XHRDcmVhdGVDbGFzc3Jvb20oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgICAgICAvLyBU4bqhbyBs4bubcCBo4buNY1xuICAgIDExXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgIC8vIEzhu41jIHRow6BuaCB2acOqbiBj4bunYSBs4bubcCBo4buNY1xuICAgIDEyXHRcdEludml0ZU1lbWJlcihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAgICAgICAgIC8vIE3hu51pIHRow6BuaCB2acOqbiB2w6BvIGzhu5twIGjhu41jXG4gICAgMTNcdFx0RmlsdGVySW52aXRhdGlvbnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCBs4budaSBt4budaVxuICAgIDE0XHRcdFJlamVjdEludml0YXRpb24oYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgICAgIC8vIFThu6sgY2jhu5FpIGzhu51pIG3hu51pXG4gICAgMTVcdFx0QWNjZXB0SW52aXRhdGlvbihjICpmaWJlci5DdHgpIGVycm9yICAgICAgICAgICAgICAgLy8gQ2jhuqVwIG5o4bqtbiBs4budaSBt4budaVxuICAgIDE2XHRcdEZpbHRlckludml0ZWRNZW1iZXJzKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggdGjDoG5oIHZpw6puIMSRw6MgxJHGsOG7o2MgbeG7nWlcbiAgICAxN1x0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGMgKmZpYmVyLkN0eCkgZXJyb3IgICAgICAgICAvLyBM4buNYyBkYW5oIHPDoWNoIGzhu5twIGjhu41jIMSRw6MgdGhhbSBnaWFcbiAgICAxOFx0fVxuICAgIDE5XHRcbiAgICAyMFx0dHlwZSBoYW5kbGVySW1wbCBzdHJ1Y3Qge1xuICAgIDIxXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuICAgIDIyXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcblxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzFdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgMTZcdFx0RmlsdGVySW52aXRlZE1lbWJlcnMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgICAgLy8gTOG7jWMgZGFuaCBzw6FjaCB0aMOgbmggdmnDqm4gxJHDoyDEkcaw4bujYyBt4budaVxuICAgIDE3XHRcdEZpbHRlckpvaW5lZENsYXNzcm9vbXMoYyAqZmliZXIuQ3R4KSBlcnJvciAgICAgICAgIC8vIEzhu41jIGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgxJHDoyB0aGFtIGdpYVxuICAgIDE4XHR9XG4gICAgMTlcdFxuICAgIDIwXHR0eXBlIGhhbmRsZXJJbXBsIHN0cnVjdCB7XG4gICAgMjFcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZSAgICAgICAgdXNlY2FzZS5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlXG4gICAgMjJcdFx0RmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZVxuICAgIDIzXHRcdEludml0ZU1lbWJlclVzZUNhc2UgICAgICAgICAgIHVzZWNhc2UuSW52aXRlTWVtYmVyVXNlQ2FzZVxuICAgIDI0XHRcdEZpbHRlckludml0YXRpb25zVXNlQ2FzZSAgICAgIHVzZWNhc2UuRmlsdGVySW52aXRhdGlvbnNVc2VDYXNlXG4gICAgMjVcdFx0UmVqZWN0SW52aXRhdGlvblVzZUNhc2UgICAgICAgdXNlY2FzZS5SZWplY3RJbnZpdGF0aW9uVXNlQ2FzZVxuICAgIDI2XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuQWNjZXB0SW52aXRhdGlvblVzZUNhc2VcbiAgICAyN1x0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxuICAgIDI4XHRcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlIHVzZWNhc2UuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2VcbiAgICAyOVx0fVxuICAgIDMwXHRcbiAgICAzMVx0dHlwZSBJbmplY3Qgc3RydWN0IHtcbiAgICAzMlx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlICAgICAgICB1c2VjYXNlLkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2VcbiAgICAzM1x0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlXG5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1syXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDI3XHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZSAgIHVzZWNhc2UuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlXG4gICAgMjhcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2UgdXNlY2FzZS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zVXNlQ2FzZVxuICAgIDI5XHR9XG4gICAgMzBcdFxuICAgIDMxXHR0eXBlIEluamVjdCBzdHJ1Y3Qge1xuICAgIDMyXHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2UgICAgICAgIHVzZWNhc2UuQ3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZVxuICAgIDMzXHRcdEZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlIHVzZWNhc2UuRmlsdGVyQ2xhc3Nyb29tTWVtYmVyc1VzZUNhc2VcbiAgICAzNFx0XHRJbnZpdGVNZW1iZXJVc2VDYXNlICAgICAgICAgICB1c2VjYXNlLkludml0ZU1lbWJlclVzZUNhc2VcbiAgICAzNVx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UgICAgICB1c2VjYXNlLkZpbHRlckludml0YXRpb25zVXNlQ2FzZVxuICAgIDM2XHRcdFJlamVjdEludml0YXRpb25Vc2VDYXNlICAgICAgIHVzZWNhc2UuUmVqZWN0SW52aXRhdGlvblVzZUNhc2VcbiAgICAzN1x0XHRBY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSAgICAgICB1c2VjYXNlLkFjY2VwdEludml0YXRpb25Vc2VDYXNlXG4gICAgMzhcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlICAgdXNlY2FzZS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2VcbiAgICAzOVx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zVXNlQ2FzZSB1c2VjYXNlLkZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlXG4gICAgNDBcdH1cbiAgICA0MVx0XG4gICAgNDJcdGZ1bmMgTmV3KGluamVjdCAqSW5qZWN0KSBIYW5kbGVyIHtcbiAgICA0M1x0XHRyZXR1cm4gJmhhbmRsZXJJbXBse1xuICAgIDQ0XHRcdFx0Q3JlYXRlQ2xhc3Nyb29tVXNlQ2FzZTogICAgICAgIGluamVjdC5DcmVhdGVDbGFzc3Jvb21Vc2VDYXNlLFxuXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbM106XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAzOFx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVyc1VzZUNhc2UgICB1c2VjYXNlLkZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZVxuICAgIDM5XHRcdEZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlIHVzZWNhc2UuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2VcbiAgICA0MFx0fVxuICAgIDQxXHRcbiAgICA0Mlx0ZnVuYyBOZXcoaW5qZWN0ICpJbmplY3QpIEhhbmRsZXIge1xuICAgIDQzXHRcdHJldHVybiAmaGFuZGxlckltcGx7XG4gICAgNDRcdFx0XHRDcmVhdGVDbGFzc3Jvb21Vc2VDYXNlOiAgICAgICAgaW5qZWN0LkNyZWF0ZUNsYXNzcm9vbVVzZUNhc2UsXG4gICAgNDVcdFx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogaW5qZWN0LkZpbHRlckNsYXNzcm9vbU1lbWJlcnNVc2VDYXNlLFxuICAgIDQ2XHRcdFx0SW52aXRlTWVtYmVyVXNlQ2FzZTogICAgICAgICAgIGluamVjdC5JbnZpdGVNZW1iZXJVc2VDYXNlLFxuICAgIDQ3XHRcdFx0RmlsdGVySW52aXRhdGlvbnNVc2VDYXNlOiAgICAgIGluamVjdC5GaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UsXG4gICAgNDhcdFx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgaW5qZWN0LlJlamVjdEludml0YXRpb25Vc2VDYXNlLFxuICAgIDQ5XHRcdFx0QWNjZXB0SW52aXRhdGlvblVzZUNhc2U6ICAgICAgIGluamVjdC5BY2NlcHRJbnZpdGF0aW9uVXNlQ2FzZSxcbiAgICA1MFx0XHRcdEZpbHRlckludml0ZWRNZW1iZXJzVXNlQ2FzZTogICBpbmplY3QuRmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlLFxuICAgIDUxXHRcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2U6IGluamVjdC5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zVXNlQ2FzZSxcbiAgICA1Mlx0XHR9XG4gICAgNTNcdH1cbiAgICA1NFx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifSwicmVxdWVzdElkIjoiZDYwZmFkMjQtZGYyZC00OTM4LThkYmQtNmFkZjFlMDNmMmU1IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMTNXZEdEUHZlMzFqZlIzd3lHOTVHZjEifSwiNjI0OWY3ZTQtZWJjMS00YjQ3LWIyNWUtZjhhN2EwMWQ5MDVmO3Rvb2x1X3ZydHhfMDFHTmRKQjJuYzVKTk5wQVU1eHd0QUZWIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgc2VydmVyL3NlcnZlci5nby5cblJlc3VsdCBmb3Igc3RyX3JlcGxhY2VfZW50cmllc1swXTpcblJlcGxhY2VtZW50IHN1Y2Nlc3NmdWwuXG5FZGl0ZWQgc2VjdGlvbiBhZnRlciBJREUgYXV0by1mb3JtYXR0aW5nIHdhcyBhcHBsaWVkOlxuICAgIDI1XHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGluaXQgcHJvdmlkZXJcIiwgemFwLkVycm9yKGVycikpXG4gICAgMjZcdFx0XHRyZXR1cm5cbiAgICAyN1x0XHR9XG4gICAgMjhcdFx0cmVwb3NpdG9yeSA6PSByZXBvc2l0b3J5Lk5ldyhwcm92aWRlcilcbiAgICAyOVx0XHRoYW5kbGVyIDo9IGhhbmRsZXIuTmV3KCZoYW5kbGVyLkluamVjdHtcbiAgICAzMFx0XHRcdENyZWF0ZUNsYXNzcm9vbVVzZUNhc2U6ICAgICAgICB1c2VjYXNlLk5ld0NyZWF0ZUNsYXNzcm9vbVVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzFcdFx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZTogdXNlY2FzZS5OZXdGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzMlx0XHRcdEludml0ZU1lbWJlclVzZUNhc2U6ICAgICAgICAgICB1c2VjYXNlLk5ld0ludml0ZU1lbWJlclVzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzNcdFx0XHRGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2U6ICAgICAgdXNlY2FzZS5OZXdGaWx0ZXJJbnZpdGF0aW9uc1VzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzRcdFx0XHRSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZTogICAgICAgdXNlY2FzZS5OZXdSZWplY3RJbnZpdGF0aW9uVXNlQ2FzZShyZXBvc2l0b3J5KSxcbiAgICAzNVx0XHRcdEFjY2VwdEludml0YXRpb25Vc2VDYXNlOiAgICAgICB1c2VjYXNlLk5ld0FjY2VwdEludml0YXRpb25Vc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM2XHRcdFx0RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlOiAgIHVzZWNhc2UuTmV3RmlsdGVySW52aXRlZE1lbWJlcnNVc2VDYXNlKHJlcG9zaXRvcnkpLFxuICAgIDM3XHRcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2U6IHVzZWNhc2UuTmV3RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2UocmVwb3NpdG9yeSksXG4gICAgMzhcdFx0fSlcbiAgICAzOVx0XG4gICAgNDBcdFx0SW5pdFJvdXRlcihhcHAsIGhhbmRsZXIpXG4gICAgNDFcdFx0dXRpbC5Jbml0VmFsaWRhdGUoKVxuICAgIDQyXHRcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9LCJyZXF1ZXN0SWQiOiI2MjQ5ZjdlNC1lYmMxLTRiNDctYjI1ZS1mOGE3YTAxZDkwNWYiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxR05kSkIybmM1Sk5OcEFVNXh3dEFGViJ9LCI0ZGY0NGUzMy01NzhmLTQ5NmItYWZkZS1mNDA5Mzk3OTk5YTI7dG9vbHVfdnJ0eF8wMUg4SGtEb0ViYUMzajNLR1g2M1ZYN1UiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSBzZXJ2ZXIvcm91dGVyLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDhcdFx0XCJnaXRodWIuY29tL2dvZmliZXIvZmliZXIvdjJcIlxuICAgICA5XHQpXG4gICAgMTBcdFxuICAgIDExXHRmdW5jIEluaXRSb3V0ZXIoYXBwICpmaWJlci5BcHAsIGhhbmRsZXIgaGFuZGxlci5IYW5kbGVyKSB7XG4gICAgMTJcdFx0Y2xhc3Nyb29tR3JvdXAgOj0gYXBwLkdyb3VwKFwiL2NsYXNzcm9vbVwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG4gICAgMTNcdFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9jcmVhdGVcIiwgaGFuZGxlci5DcmVhdGVDbGFzc3Jvb20pXG4gICAgMTRcdFx0Y2xhc3Nyb29tR3JvdXAuUG9zdChcIi9pbnZpdGVcIiwgaGFuZGxlci5JbnZpdGVNZW1iZXIpXG4gICAgMTVcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvbWVtYmVyc1wiLCBoYW5kbGVyLkZpbHRlckNsYXNzcm9vbU1lbWJlcnMpXG4gICAgMTZcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiLzpjbGFzc3Jvb21faWQvaW52aXRlZC1tZW1iZXJzXCIsIGhhbmRsZXIuRmlsdGVySW52aXRlZE1lbWJlcnMpXG4gICAgMTdcdFx0Y2xhc3Nyb29tR3JvdXAuR2V0KFwiL2pvaW5lZFwiLCBoYW5kbGVyLkZpbHRlckpvaW5lZENsYXNzcm9vbXMpXG4gICAgMThcdFxuICAgIDE5XHRcdGludml0YXRpb25Hcm91cCA6PSBhcHAuR3JvdXAoXCIvaW52aXRhdGlvblwiLCBtaWRkbGV3YXJlLkpXVE1pZGRsZXdhcmUpXG4gICAgMjBcdFx0aW52aXRhdGlvbkdyb3VwLkdldChcIi9maWx0ZXJcIiwgaGFuZGxlci5GaWx0ZXJJbnZpdGF0aW9ucylcbiAgICAyMVx0XHRpbnZpdGF0aW9uR3JvdXAuUHV0KFwiL3JlamVjdC86aWRcIiwgaGFuZGxlci5SZWplY3RJbnZpdGF0aW9uKVxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn0sInJlcXVlc3RJZCI6IjRkZjQ0ZTMzLTU3OGYtNDk2Yi1hZmRlLWY0MDkzOTc5OTlhMiIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFIOEhrRG9FYmFDM2ozS0dYNjNWWDdVIn0sIjcwNGM5YmY4LWU3OTYtNDhkOC1iNGU0LTlmMTc1ZGQ1NmM3Njt0b29sdV92cnR4XzAxWUtaV003cEZOQ3BWNDExZGtIa1VnciI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJGaWxlKHMpIHJlbW92ZWQ6IHVzZWNhc2UvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ28sIHVzZWNhc2UvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zX2FzX3N0dWRlbnQuZ28sIHVzZWNhc2UvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zX3dpdGhfcm9sZS5nbywgaGFuZGxlci9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nbywgaGFuZGxlci9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfYXNfc3R1ZGVudC5nbywgaGFuZGxlci9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXNfd2l0aF9yb2xlLmdvLCBtb2RlbC9yZXEvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zX3dpdGhfcm9sZS5nbywgbW9kZWwvcmVxL2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9LCJyZXF1ZXN0SWQiOiI3MDRjOWJmOC1lNzk2LTQ4ZDgtYjRlNC05ZjE3NWRkNTZjNzYiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxWUtaV003cEZOQ3BWNDExZGtIa1VnciJ9LCI1MTY4ZmU1OC0zMzcxLTQ2YWQtYmJlMy1hODRlN2E4MTNiMzk7dG9vbHVfdnJ0eF8wMUNSb0RtRjNwbVFUY05xdnBQc2s5TEYiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSBhcmUgdGhlIHJlc3VsdHMgZnJvbSBleGVjdXRpbmcgdGhlIGNvbW1hbmQuXG4gICAgICAgIDxyZXR1cm4tY29kZT5cbiAgICAgICAgMVxuICAgICAgICA8L3JldHVybi1jb2RlPlxuICAgICAgICA8c3Rkb3V0PlxuICAgICAgICAjIHF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVxucmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvOjIzOjcxOiB1bmRlZmluZWQ6IHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXFcbnJlcG9zaXRvcnkvZmlsdGVyX293bmVkX2NsYXNzcm9vbXMuZ286MTM6OTU6IHVuZGVmaW5lZDogcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcVxuXG4gICAgICAgIDwvc3Rkb3V0PlxuICAgICAgICA8c3RkZXJyPlxuICAgICAgICBcbiAgICAgICAgPC9zdGRlcnI+IiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9LCJyZXF1ZXN0SWQiOiI1MTY4ZmU1OC0zMzcxLTQ2YWQtYmJlMy1hODRlN2E4MTNiMzkiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxQ1JvRG1GM3BtUVRjTnF2cFBzazlMRiJ9LCI4ZDQ2MjUyOS0zMWVhLTQ5MDYtYjRhNi05ZjM2YjhhN2EzM2Q7dG9vbHVfdnJ0eF8wMURTejNHN2gxV3kzTVJ6NDlWblJ5cGgiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ286XG4gICAgIDFcdHBhY2thZ2UgcmVwb3NpdG9yeVxuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IChcbiAgICAgNFx0XHRcImNvbnRleHRcIlxuICAgICA1XHRcdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuICAgICA2XHRcdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuICAgICA3XHRcdFwicXVpenp5LWNsYXNzcm9vbS9wcm92aWRlclwiXG4gICAgIDhcdFxuICAgICA5XHRcdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcbiAgICAxMFx0KVxuICAgIDExXHRcbiAgICAxMlx0dHlwZSBSZXBvc2l0b3J5IGludGVyZmFjZSB7XG4gICAgMTNcdFx0Q3JlYXRlQ2xhc3Nyb29tKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbSAqZW50aXR5LkNsYXNzcm9vbUVudGl0eSkgZXJyb3JcbiAgICAxNFx0XHRGaWx0ZXJDbGFzc3Jvb21NZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJDbGFzc3Jvb21NZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21NZW1iZXJdLCBlcnJvcilcbiAgICAxNVx0XHRDcmVhdGVJbnZpdGF0aW9uKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb24gKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5KSBlcnJvclxuICAgIDE2XHRcdElzSW52aXRhdGlvbkV4aXN0aW5nKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcmVjZWl2ZXJJRCBzdHJpbmcpIChib29sLCBlcnJvcilcbiAgICAxN1x0XHRJc0NsYXNzcm9vbU93bmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgdXNlcklEIHN0cmluZykgKGJvb2wsIGVycm9yKVxuICAgIDE4XHRcdEZpbHRlckludml0YXRpb25zKGN0eCBjb250ZXh0LkNvbnRleHQsIHJlY2VpdmVySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0YXRpb25zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG4gICAgMTlcdFx0R2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpXG4gICAgMjBcdFx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXG4gICAgMjFcdFx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3JcbiAgICAyMlx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbiAgICAyM1x0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuICAgIDI0XHRcdEZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcm9sZSBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZSwgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbiAgICAyNVx0fVxuICAgIDI2XHRcbiAgICAyN1x0dHlwZSByZXBvc2l0b3J5SW1wbCBzdHJ1Y3Qge1xuICAgIDI4XHRcdFByb3ZpZGVyICpwcm92aWRlci5Qcm92aWRlclxuICAgIDI5XHR9XG4gICAgMzBcdFxuICAgIDMxXHRmdW5jIE5ldyhwcm92aWRlciAqcHJvdmlkZXIuUHJvdmlkZXIpIFJlcG9zaXRvcnkge1xuICAgIDMyXHRcdHJldHVybiAmcmVwb3NpdG9yeUltcGx7XG4gICAgMzNcdFx0XHRQcm92aWRlcjogcHJvdmlkZXIsXG4gICAgMzRcdFx0fVxuICAgIDM1XHR9XG4gICAgMzZcdFxuVG90YWwgbGluZXMgaW4gZmlsZTogMzZcbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifSwicmVxdWVzdElkIjoiOGQ0NjI1MjktMzFlYS00OTA2LWI0YTYtOWYzNmI4YTdhMzNkIiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMURTejNHN2gxV3kzTVJ6NDlWblJ5cGgifSwiNzY4MjJmNWUtN2NhNS00OWMxLTkxMWQtZDc3MGQwYjk4MGM1O3Rvb2x1X3ZydHhfMDFCeE5SWlBrNnhFYTZ2OEhwbjd1OXJHIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IlN1Y2Nlc3NmdWxseSBlZGl0ZWQgdGhlIGZpbGUgcmVwb3NpdG9yeS9yZXBvc2l0b3J5LmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgMTlcdFx0R2V0SW52aXRhdGlvbkJ5SUQoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZykgKCplbnRpdHkuSW52aXRhdGlvbkVudGl0eSwgZXJyb3IpXG4gICAgMjBcdFx0VXBkYXRlSW52aXRhdGlvblN0YXR1cyhjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nLCBzdGF0dXMgZW50aXR5Lkludml0YXRpb25TdGF0dXMpIGVycm9yXG4gICAgMjFcdFx0Q3JlYXRlQ2xhc3Nyb29tTWVtYmVyKGN0eCBjb250ZXh0LkNvbnRleHQsIG1lbWJlciAqZW50aXR5LkNsYXNzcm9vbU1lbWJlcikgZXJyb3JcbiAgICAyMlx0XHRGaWx0ZXJJbnZpdGVkTWVtYmVycyhjdHggY29udGV4dC5Db250ZXh0LCBjbGFzc3Jvb21JRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySW52aXRlZE1lbWJlcnNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5Lkludml0YXRpb25FbnRpdHldLCBlcnJvcilcbiAgICAyM1x0XHRGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcilcbiAgICAyNFx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHJvbGUgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG4gICAgMjVcdH1cbiAgICAyNlx0XG4gICAgMjdcdHR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9LCJyZXF1ZXN0SWQiOiI3NjgyMmY1ZS03Y2E1LTQ5YzEtOTExZC1kNzcwZDBiOTgwYzUiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxQnhOUlpQazZ4RWE2djhIcG43dTlyRyJ9LCI2YTIwYmRjOC1iMTFlLTRjMmMtYTUzZS1kMDliMTYyMDM3NTc7dG9vbHVfdnJ0eF8wMVBONnJUQ2FOVVczd0hLY2t2cHdQaTEiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiSGVyZSdzIHRoZSByZXN1bHQgb2YgcnVubmluZyBgY2F0IC1uYCBvbiByZXBvc2l0b3J5L2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvOlxuICAgICAxXHRwYWNrYWdlIHJlcG9zaXRvcnlcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCAoXG4gICAgIDRcdFx0XCJjb250ZXh0XCJcbiAgICAgNVx0XHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbiAgICAgNlx0XHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbiAgICAgN1x0XG4gICAgIDhcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9nb3JtXCJcbiAgICAgOVx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4gICAgMTBcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS92YWx1ZVwiXG4gICAgMTFcdClcbiAgICAxMlx0XG4gICAgMTNcdGZ1bmMgKHIgKnJlcG9zaXRvcnlJbXBsKSBGaWx0ZXJPd25lZENsYXNzcm9vbXMoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG4gICAgMTRcdFx0dmFyIHBhZ2luYXRpb24gPSByZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XXtcbiAgICAxNVx0XHRcdFBhZ2U6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuUGFnZSwgMCksXG4gICAgMTZcdFx0XHRMaW1pdDogdmFsdWUuR2V0VmFsdWUocGFyYW1zLkxpbWl0LCAwKSxcbiAgICAxN1x0XHRcdFNvcnQ6ICB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuU29ydCwgXCJjcmVhdGVkX2F0IERFU0NcIiksIC8vIE3hurdjIMSR4buLbmggc+G6r3AgeOG6v3AgdGhlbyBuZ8OgeSB04bqhbyBt4bubaSBuaOG6pXRcbiAgICAxOFx0XHR9XG4gICAgMTlcdFxuICAgIDIwXHRcdHZhciBjbGFzc3Jvb21zIFtdZW50aXR5LkNsYXNzcm9vbUVudGl0eVxuICAgIDIxXHRcdGlmIGVyciA6PSByLlByb3ZpZGVyLkRiLlxuICAgIDIyXHRcdFx0V2l0aENvbnRleHQoY3R4KS5cbiAgICAyM1x0XHRcdFdoZXJlKFwidXNlcl9pZCA9ID9cIiwgdXNlcklEKS5cbiAgICAyNFx0XHRcdFNjb3Blcyhnb3JtLlBhZ2luYXRlKCZwYWdpbmF0aW9uKSkuXG4gICAgMjVcdFx0XHRGaW5kKCZjbGFzc3Jvb21zKS5cbiAgICAyNlx0XHRcdEVycm9yOyBlcnIgIT0gbmlsIHtcbiAgICAyN1x0XHRcdHJldHVybiBuaWwsIGVyclxuICAgIDI4XHRcdH1cbiAgICAyOVx0XG4gICAgMzBcdFx0cGFnaW5hdGlvbi5Sb3dzID0gY2xhc3Nyb29tc1xuICAgIDMxXHRcdHJldHVybiAmcGFnaW5hdGlvbiwgbmlsXG4gICAgMzJcdH1cbiAgICAzM1x0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiAzM1xuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9LCJyZXF1ZXN0SWQiOiI2YTIwYmRjOC1iMTFlLTRjMmMtYTUzZS1kMDliMTYyMDM3NTciLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxUE42clRDYU5VVzN3SEtja3Zwd1BpMSJ9LCJkNDM0OWM5OC00ZGFiLTQ4ZGItOWU1Zi03NzE1YjYxMzk3ZmM7dG9vbHVfdnJ0eF8wMVVtaHZ4cmJnbnBTS3QyNmtoOWFONEEiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSByZXBvc2l0b3J5L2ZpbHRlcl9vd25lZF9jbGFzc3Jvb21zLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgIDlcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9yZWNvcmRcIlxuICAgIDEwXHRcdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvdmFsdWVcIlxuICAgIDExXHQpXG4gICAgMTJcdFxuICAgIDEzXHRmdW5jIChyICpyZXBvc2l0b3J5SW1wbCkgRmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcbiAgICAxNFx0XHR2YXIgcGFnaW5hdGlvbiA9IHJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHlde1xuICAgIDE1XHRcdFx0UGFnZTogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5QYWdlLCAwKSxcbiAgICAxNlx0XHRcdExpbWl0OiB2YWx1ZS5HZXRWYWx1ZShwYXJhbXMuTGltaXQsIDApLFxuICAgIDE3XHRcdFx0U29ydDogIHZhbHVlLkdldFZhbHVlKHBhcmFtcy5Tb3J0LCBcImNyZWF0ZWRfYXQgREVTQ1wiKSwgLy8gTeG6t2MgxJHhu4tuaCBz4bqvcCB44bq/cCB0aGVvIG5nw6B5IHThuqFvIG3hu5tpIG5o4bqldFxuXG5SZXZpZXcgdGhlIGNoYW5nZXMgYW5kIG1ha2Ugc3VyZSB0aGV5IGFyZSBhcyBleHBlY3RlZCAoY29ycmVjdCBpbmRlbnRhdGlvbiwgbm8gZHVwbGljYXRlIGxpbmVzLCBldGMpLlxuRWRpdCB0aGUgZmlsZSBhZ2FpbiBpZiBuZWNlc3NhcnkuXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn0sInJlcXVlc3RJZCI6ImQ0MzQ5Yzk4LTRkYWItNDhkYi05ZTVmLTc3MTViNjEzOTdmYyIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFVbWh2eHJiZ25wU0t0MjZraDlhTjRBIn0sImExZTFmNDE5LWQyMTAtNDJkYi1hMzgzLTk5ZmM3NWIxYWIzNTt0b29sdV92cnR4XzAxSHhQR2hGZExIVXBYeWF4MmJGanNhTCI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJIZXJlJ3MgdGhlIHJlc3VsdCBvZiBydW5uaW5nIGBjYXQgLW5gIG9uIHVzZWNhc2UvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zLmdvOlxuICAgICAxXHRwYWNrYWdlIHVzZWNhc2VcbiAgICAgMlx0XG4gICAgIDNcdGltcG9ydCAoXG4gICAgIDRcdFx0XCJjb250ZXh0XCJcbiAgICAgNVx0XHRcInF1aXp6eS1jbGFzc3Jvb20vZW50aXR5XCJcbiAgICAgNlx0XHRcInF1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVxXCJcbiAgICAgN1x0XHRcInF1aXp6eS1jbGFzc3Jvb20vcmVwb3NpdG9yeVwiXG4gICAgIDhcdFxuICAgICA5XHRcdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyXCJcbiAgICAxMFx0XHRcImdpdGh1Yi5jb20vbm5lZTI4MTAvbWltaS1jb3JlL3JlY29yZFwiXG4gICAgMTFcdFx0XCJnby51YmVyLm9yZy96YXBcIlxuICAgIDEyXHQpXG4gICAgMTNcdFxuICAgIDE0XHR0eXBlIEZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlIGludGVyZmFjZSB7XG4gICAgMTVcdFx0RXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuICAgIDE2XHR9XG4gICAgMTdcdFxuICAgIDE4XHR0eXBlIGZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlSW1wbCBzdHJ1Y3Qge1xuICAgIDE5XHRcdFJlcG8gcmVwb3NpdG9yeS5SZXBvc2l0b3J5XG4gICAgMjBcdH1cbiAgICAyMVx0XG4gICAgMjJcdGZ1bmMgTmV3RmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2UocmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnkpIEZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlIHtcbiAgICAyM1x0XHRyZXR1cm4gJmZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlSW1wbHtcbiAgICAyNFx0XHRcdFJlcG86IHJlcG8sXG4gICAgMjVcdFx0fVxuICAgIDI2XHR9XG4gICAgMjdcdFxuICAgIDI4XHRmdW5jICh1ICpmaWx0ZXJKb2luZWRDbGFzc3Jvb21zVXNlQ2FzZUltcGwpIEV4ZWN1dGUoY3R4IGNvbnRleHQuQ29udGV4dCwgdXNlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5DbGFzc3Jvb21FbnRpdHldLCBlcnJvcikge1xuICAgIDI5XHRcdC8vIE7hur91IGtow7RuZyBjw7Mgcm9sZSDEkcaw4bujYyBjaOG7iSDEkeG7i25oLCBs4bqleSBkYW5oIHPDoWNoIGzhu5twIGjhu41jIG3DoCBuZ8aw4budaSBkw7luZyBz4bufIGjhu691XG4gICAgMzBcdFx0aWYgcGFyYW1zLlJvbGUgPT0gbmlsIHtcbiAgICAzMVx0XHRcdC8vIEzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgbcOgIG5nxrDhu51pIGTDuW5nIHPhu58gaOG7r3VcbiAgICAzMlx0XHRcdG93bmVkUGFyYW1zIDo9IHJlcS5GaWx0ZXJPd25lZENsYXNzcm9vbXNSZXF7XG4gICAgMzNcdFx0XHRcdFBhZ2luYXRpb25SZXE6IHBhcmFtcy5QYWdpbmF0aW9uUmVxLFxuICAgIDM0XHRcdFx0fVxuICAgIDM1XHRcdFx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlck93bmVkQ2xhc3Nyb29tcyhjdHgsIHVzZXJJRCwgb3duZWRQYXJhbXMpXG4gICAgMzZcdFx0XHRpZiBlcnIgIT0gbmlsIHtcbiAgICAzN1x0XHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBvd25lZCBjbGFzc3Jvb21zXCIsIHphcC5TdHJpbmcoXCJ1c2VyIGlkXCIsIHVzZXJJRCksIHphcC5FcnJvcihlcnIpKVxuICAgIDM4XHRcdFx0XHRyZXR1cm4gbmlsLCBlcnJcbiAgICAzOVx0XHRcdH1cbiAgICA0MFx0XHRcdHJldHVybiByZXN1bHQsIG5pbFxuICAgIDQxXHRcdH1cbiAgICA0Mlx0XG4gICAgNDNcdFx0Ly8gTuG6v3UgY8OzIHJvbGUgxJHGsOG7o2MgY2jhu4kgxJHhu4tuaCwgbOG7jWMgdGhlbyByb2xlXG4gICAgNDRcdFx0am9pbmVkUGFyYW1zIDo9IHJlcS5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zUmVxe1xuICAgIDQ1XHRcdFx0UGFnaW5hdGlvblJlcTogcGFyYW1zLlBhZ2luYXRpb25SZXEsXG4gICAgNDZcdFx0fVxuICAgIDQ3XHRcdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCwgdXNlcklELCAqcGFyYW1zLlJvbGUsIGpvaW5lZFBhcmFtcylcbiAgICA0OFx0XHRpZiBlcnIgIT0gbmlsIHtcbiAgICA0OVx0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgam9pbmVkIGNsYXNzcm9vbXMgd2l0aCByb2xlXCIsIHphcC5TdHJpbmcoXCJ1c2VyIGlkXCIsIHVzZXJJRCksIHphcC5TdHJpbmcoXCJyb2xlXCIsIHN0cmluZygqcGFyYW1zLlJvbGUpKSwgemFwLkVycm9yKGVycikpXG4gICAgNTBcdFx0XHRyZXR1cm4gbmlsLCBlcnJcbiAgICA1MVx0XHR9XG4gICAgNTJcdFx0cmV0dXJuIHJlc3VsdCwgbmlsXG4gICAgNTNcdH1cbiAgICA1NFx0XG5Ub3RhbCBsaW5lcyBpbiBmaWxlOiA1NFxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9LCJyZXF1ZXN0SWQiOiJhMWUxZjQxOS1kMjEwLTQyZGItYTM4My05OWZjNzViMWFiMzUiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxSHhQR2hGZExIVXBYeWF4MmJGanNhTCJ9LCJmNWYzNzNkYS05ODViLTQ1MTctYTY4Yi1iNTQ2MjgxOTMxNDM7dG9vbHVfdnJ0eF8wMVRYcUhpQ0hBSjhBZkxpbkFYWmFqZ1IiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ28uXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAxOVx0XHRHZXRJbnZpdGF0aW9uQnlJRChjdHggY29udGV4dC5Db250ZXh0LCBpbnZpdGF0aW9uSUQgc3RyaW5nKSAoKmVudGl0eS5JbnZpdGF0aW9uRW50aXR5LCBlcnJvcilcbiAgICAyMFx0XHRVcGRhdGVJbnZpdGF0aW9uU3RhdHVzKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcsIHN0YXR1cyBlbnRpdHkuSW52aXRhdGlvblN0YXR1cykgZXJyb3JcbiAgICAyMVx0XHRDcmVhdGVDbGFzc3Jvb21NZW1iZXIoY3R4IGNvbnRleHQuQ29udGV4dCwgbWVtYmVyICplbnRpdHkuQ2xhc3Nyb29tTWVtYmVyKSBlcnJvclxuICAgIDIyXHRcdEZpbHRlckludml0ZWRNZW1iZXJzKGN0eCBjb250ZXh0LkNvbnRleHQsIGNsYXNzcm9vbUlEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGVkTWVtYmVyc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuICAgIDIzXHRcbiAgICAyNFx0XHRGaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHJvbGUgZW50aXR5LkNsYXNzcm9vbU1lbWJlclJvbGUsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG4gICAgMjVcdH1cbiAgICAyNlx0XG4gICAgMjdcdHR5cGUgcmVwb3NpdG9yeUltcGwgc3RydWN0IHtcblxuUmV2aWV3IHRoZSBjaGFuZ2VzIGFuZCBtYWtlIHN1cmUgdGhleSBhcmUgYXMgZXhwZWN0ZWQgKGNvcnJlY3QgaW5kZW50YXRpb24sIG5vIGR1cGxpY2F0ZSBsaW5lcywgZXRjKS5cbkVkaXQgdGhlIGZpbGUgYWdhaW4gaWYgbmVjZXNzYXJ5LlxuIiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9LCJyZXF1ZXN0SWQiOiJmNWYzNzNkYS05ODViLTQ1MTctYTY4Yi1iNTQ2MjgxOTMxNDMiLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxVFhxSGlDSEFKOEFmTGluQVhaYWpnUiJ9LCIwZWQyNTYwOC1lZTVmLTQ1YjItODE0NC0yNDAzMjIwNDU0YjQ7dG9vbHVfdnJ0eF8wMVVFRml0a0Z5TDFzdEM5ZXR5V3pqRVUiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiU3VjY2Vzc2Z1bGx5IGVkaXRlZCB0aGUgZmlsZSByZXBvc2l0b3J5L3JlcG9zaXRvcnkuZ28uXG5SZXN1bHQgZm9yIHN0cl9yZXBsYWNlX2VudHJpZXNbMF06XG5SZXBsYWNlbWVudCBzdWNjZXNzZnVsLlxuRWRpdGVkIHNlY3Rpb24gYWZ0ZXIgSURFIGF1dG8tZm9ybWF0dGluZyB3YXMgYXBwbGllZDpcbiAgICAxOFx0XHRGaWx0ZXJJbnZpdGF0aW9ucyhjdHggY29udGV4dC5Db250ZXh0LCByZWNlaXZlcklEIHN0cmluZywgcGFyYW1zIHJlcS5GaWx0ZXJJbnZpdGF0aW9uc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuSW52aXRhdGlvbkVudGl0eV0sIGVycm9yKVxuICAgIDE5XHRcdEdldEludml0YXRpb25CeUlEKGN0eCBjb250ZXh0LkNvbnRleHQsIGludml0YXRpb25JRCBzdHJpbmcpICgqZW50aXR5Lkludml0YXRpb25FbnRpdHksIGVycm9yKVxuICAgIDIwXHRcdFVwZGF0ZUludml0YXRpb25TdGF0dXMoY3R4IGNvbnRleHQuQ29udGV4dCwgaW52aXRhdGlvbklEIHN0cmluZywgc3RhdHVzIGVudGl0eS5JbnZpdGF0aW9uU3RhdHVzKSBlcnJvclxuICAgIDIxXHRcdENyZWF0ZUNsYXNzcm9vbU1lbWJlcihjdHggY29udGV4dC5Db250ZXh0LCBtZW1iZXIgKmVudGl0eS5DbGFzc3Jvb21NZW1iZXIpIGVycm9yXG4gICAgMjJcdFx0RmlsdGVySW52aXRlZE1lbWJlcnMoY3R4IGNvbnRleHQuQ29udGV4dCwgY2xhc3Nyb29tSUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckludml0ZWRNZW1iZXJzUmVxKSAoKnJlY29yZC5QYWdpbmF0aW9uW2VudGl0eS5JbnZpdGF0aW9uRW50aXR5XSwgZXJyb3IpXG4gICAgMjNcdFx0RmlsdGVySm9pbmVkQ2xhc3Nyb29tcyhjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCByb2xlIGVudGl0eS5DbGFzc3Jvb21NZW1iZXJSb2xlLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKVxuICAgIDI0XHR9XG4gICAgMjVcdFxuICAgIDI2XHR0eXBlIHJlcG9zaXRvcnlJbXBsIHN0cnVjdCB7XG4gICAgMjdcdFx0UHJvdmlkZXIgKnByb3ZpZGVyLlByb3ZpZGVyXG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifSwicmVxdWVzdElkIjoiMGVkMjU2MDgtZWU1Zi00NWIyLTgxNDQtMjQwMzIyMDQ1NGI0IiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMVVFRml0a0Z5TDFzdEM5ZXR5V3pqRVUifSwiYWFjNzRhY2UtNTY2Yi00NGEwLTgzMGYtNzYzNDM0N2U5MTg2O3Rvb2x1X3ZydHhfMDFFWnNSVkdLenRVQm9QZDFza3BjcVBLIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gdXNlY2FzZS9maWx0ZXJfam9pbmVkX2NsYXNzcm9vbXMuZ286XG4gICAgIDFcdHBhY2thZ2UgdXNlY2FzZVxuICAgICAyXHRcbiAgICAgM1x0aW1wb3J0IChcbiAgICAgNFx0XHRcImNvbnRleHRcIlxuICAgICA1XHRcdFwicXVpenp5LWNsYXNzcm9vbS9lbnRpdHlcIlxuICAgICA2XHRcdFwicXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXFcIlxuICAgICA3XHRcdFwicXVpenp5LWNsYXNzcm9vbS9yZXBvc2l0b3J5XCJcbiAgICAgOFx0XG4gICAgIDlcdFx0XCJnaXRodWIuY29tL25uZWUyODEwL21pbWktY29yZS9sb2dnZXJcIlxuICAgIDEwXHRcdFwiZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvcmVjb3JkXCJcbiAgICAxMVx0XHRcImdvLnViZXIub3JnL3phcFwiXG4gICAgMTJcdClcbiAgICAxM1x0XG4gICAgMTRcdHR5cGUgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2UgaW50ZXJmYWNlIHtcbiAgICAxNVx0XHRFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpXG4gICAgMTZcdH1cbiAgICAxN1x0XG4gICAgMThcdHR5cGUgZmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBsIHN0cnVjdCB7XG4gICAgMTlcdFx0UmVwbyByZXBvc2l0b3J5LlJlcG9zaXRvcnlcbiAgICAyMFx0fVxuICAgIDIxXHRcbiAgICAyMlx0ZnVuYyBOZXdGaWx0ZXJKb2luZWRDbGFzc3Jvb21zVXNlQ2FzZShyZXBvIHJlcG9zaXRvcnkuUmVwb3NpdG9yeSkgRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2Uge1xuICAgIDIzXHRcdHJldHVybiAmZmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBse1xuICAgIDI0XHRcdFx0UmVwbzogcmVwbyxcbiAgICAyNVx0XHR9XG4gICAgMjZcdH1cbiAgICAyN1x0XG4gICAgMjhcdGZ1bmMgKHUgKmZpbHRlckpvaW5lZENsYXNzcm9vbXNVc2VDYXNlSW1wbCkgRXhlY3V0ZShjdHggY29udGV4dC5Db250ZXh0LCB1c2VySUQgc3RyaW5nLCBwYXJhbXMgcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXEpICgqcmVjb3JkLlBhZ2luYXRpb25bZW50aXR5LkNsYXNzcm9vbUVudGl0eV0sIGVycm9yKSB7XG4gICAgMjlcdFx0Ly8gTuG6v3Uga2jDtG5nIGPDsyByb2xlIMSRxrDhu6NjIGNo4buJIMSR4buLbmgsIGzhuqV5IGRhbmggc8OhY2ggbOG7m3AgaOG7jWMgbcOgIG5nxrDhu51pIGTDuW5nIHPhu58gaOG7r3VcbiAgICAzMFx0XHRpZiBwYXJhbXMuUm9sZSA9PSBuaWwge1xuICAgIDMxXHRcdFx0Ly8gTOG6pXkgZGFuaCBzw6FjaCBs4bubcCBo4buNYyBtw6AgbmfGsOG7nWkgZMO5bmcgc+G7nyBo4buvdVxuICAgIDMyXHRcdFx0b3duZWRQYXJhbXMgOj0gcmVxLkZpbHRlck93bmVkQ2xhc3Nyb29tc1JlcXtcbiAgICAzM1x0XHRcdFx0UGFnaW5hdGlvblJlcTogcGFyYW1zLlBhZ2luYXRpb25SZXEsXG4gICAgMzRcdFx0XHR9XG4gICAgMzVcdFx0XHRyZXN1bHQsIGVyciA6PSB1LlJlcG8uRmlsdGVyT3duZWRDbGFzc3Jvb21zKGN0eCwgdXNlcklELCBvd25lZFBhcmFtcylcbiAgICAzNlx0XHRcdGlmIGVyciAhPSBuaWwge1xuICAgIDM3XHRcdFx0XHRsb2dnZXIuRXJyb3IoXCJmYWlsZWQgdG8gZmlsdGVyIG93bmVkIGNsYXNzcm9vbXNcIiwgemFwLlN0cmluZyhcInVzZXIgaWRcIiwgdXNlcklEKSwgemFwLkVycm9yKGVycikpXG4gICAgMzhcdFx0XHRcdHJldHVybiBuaWwsIGVyclxuICAgIDM5XHRcdFx0fVxuICAgIDQwXHRcdFx0cmV0dXJuIHJlc3VsdCwgbmlsXG4gICAgNDFcdFx0fVxuICAgIDQyXHRcbiAgICA0M1x0XHQvLyBO4bq/dSBjw7Mgcm9sZSDEkcaw4bujYyBjaOG7iSDEkeG7i25oLCBs4buNYyB0aGVvIHJvbGVcbiAgICA0NFx0XHRqb2luZWRQYXJhbXMgOj0gcmVxLkZpbHRlckpvaW5lZENsYXNzcm9vbXNSZXF7XG4gICAgNDVcdFx0XHRQYWdpbmF0aW9uUmVxOiBwYXJhbXMuUGFnaW5hdGlvblJlcSxcbiAgICA0Nlx0XHR9XG4gICAgNDdcdFx0cmVzdWx0LCBlcnIgOj0gdS5SZXBvLkZpbHRlckpvaW5lZENsYXNzcm9vbXMoY3R4LCB1c2VySUQsICpwYXJhbXMuUm9sZSwgam9pbmVkUGFyYW1zKVxuICAgIDQ4XHRcdGlmIGVyciAhPSBuaWwge1xuICAgIDQ5XHRcdFx0bG9nZ2VyLkVycm9yKFwiZmFpbGVkIHRvIGZpbHRlciBqb2luZWQgY2xhc3Nyb29tcyB3aXRoIHJvbGVcIiwgemFwLlN0cmluZyhcInVzZXIgaWRcIiwgdXNlcklEKSwgemFwLlN0cmluZyhcInJvbGVcIiwgc3RyaW5nKCpwYXJhbXMuUm9sZSkpLCB6YXAuRXJyb3IoZXJyKSlcbiAgICA1MFx0XHRcdHJldHVybiBuaWwsIGVyclxuICAgIDUxXHRcdH1cbiAgICA1Mlx0XHRyZXR1cm4gcmVzdWx0LCBuaWxcbiAgICA1M1x0fVxuICAgIDU0XHRcblRvdGFsIGxpbmVzIGluIGZpbGU6IDU0XG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn0sInJlcXVlc3RJZCI6ImFhYzc0YWNlLTU2NmItNDRhMC04MzBmLTc2MzQzNDdlOTE4NiIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFFWnNSVkdLenRVQm9QZDFza3BjcVBLIn0sImE5Mzk0NWNiLTZiMTEtNDA1NS05Y2VhLTNmNWFiNjk5ZmYwMzt0b29sdV92cnR4XzAxWEdVS0R4dXJrTlA4V3pvWDk1N3hwSyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJTdWNjZXNzZnVsbHkgZWRpdGVkIHRoZSBmaWxlIHVzZWNhc2UvZmlsdGVyX2pvaW5lZF9jbGFzc3Jvb21zLmdvLlxuUmVzdWx0IGZvciBzdHJfcmVwbGFjZV9lbnRyaWVzWzBdOlxuUmVwbGFjZW1lbnQgc3VjY2Vzc2Z1bC5cbkVkaXRlZCBzZWN0aW9uIGFmdGVyIElERSBhdXRvLWZvcm1hdHRpbmcgd2FzIGFwcGxpZWQ6XG4gICAgMjRcdFx0XHRSZXBvOiByZXBvLFxuICAgIDI1XHRcdH1cbiAgICAyNlx0fVxuICAgIDI3XHRcbiAgICAyOFx0ZnVuYyAodSAqZmlsdGVySm9pbmVkQ2xhc3Nyb29tc1VzZUNhc2VJbXBsKSBFeGVjdXRlKGN0eCBjb250ZXh0LkNvbnRleHQsIHVzZXJJRCBzdHJpbmcsIHBhcmFtcyByZXEuRmlsdGVySm9pbmVkQ2xhc3Nyb29tc1JlcSkgKCpyZWNvcmQuUGFnaW5hdGlvbltlbnRpdHkuQ2xhc3Nyb29tRW50aXR5XSwgZXJyb3IpIHtcbiAgICAyOVx0XHQvLyBO4bq/dSBraMO0bmcgY8OzIHJvbGUgxJHGsOG7o2MgY2jhu4kgxJHhu4tuaCwgbOG6pXkgZGFuaCBzw6FjaCBs4bubcCBo4buNYyBtw6AgbmfGsOG7nWkgZMO5bmcgc+G7nyBo4buvdVxuICAgIDMwXHRcdGlmIHBhcmFtcy5Sb2xlID09IG5pbCB7XG4gICAgMzFcdFx0XHQvLyBT4butIGThu6VuZyByb2xlIHRlYWNoZXIgxJHhu4MgbOG7jWMgY8OhYyBs4bubcCBo4buNYyBtw6AgbmfGsOG7nWkgZMO5bmcgbMOgIGdpw6FvIHZpw6puXG4gICAgMzJcdFx0XHR0ZWFjaGVyUm9sZSA6PSBlbnRpdHkuQ2xhc3Nyb29tTWVtYmVyUm9sZVRlYWNoZXJcbiAgICAzM1x0XHRcdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCwgdXNlcklELCB0ZWFjaGVyUm9sZSwgcGFyYW1zKVxuICAgIDM0XHRcdFx0aWYgZXJyICE9IG5pbCB7XG4gICAgMzVcdFx0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgam9pbmVkIGNsYXNzcm9vbXMgYXMgdGVhY2hlclwiLCB6YXAuU3RyaW5nKFwidXNlciBpZFwiLCB1c2VySUQpLCB6YXAuRXJyb3IoZXJyKSlcbiAgICAzNlx0XHRcdFx0cmV0dXJuIG5pbCwgZXJyXG4gICAgMzdcdFx0XHR9XG4gICAgMzhcdFx0XHRyZXR1cm4gcmVzdWx0LCBuaWxcbiAgICAzOVx0XHR9XG4gICAgNDBcdFxuICAgIDQxXHRcdC8vIE7hur91IGPDsyByb2xlIMSRxrDhu6NjIGNo4buJIMSR4buLbmgsIGzhu41jIHRoZW8gcm9sZVxuICAgIDQyXHRcdHJlc3VsdCwgZXJyIDo9IHUuUmVwby5GaWx0ZXJKb2luZWRDbGFzc3Jvb21zKGN0eCwgdXNlcklELCAqcGFyYW1zLlJvbGUsIHBhcmFtcylcbiAgICA0M1x0XHRpZiBlcnIgIT0gbmlsIHtcbiAgICA0NFx0XHRcdGxvZ2dlci5FcnJvcihcImZhaWxlZCB0byBmaWx0ZXIgam9pbmVkIGNsYXNzcm9vbXMgd2l0aCByb2xlXCIsIHphcC5TdHJpbmcoXCJ1c2VyIGlkXCIsIHVzZXJJRCksIHphcC5TdHJpbmcoXCJyb2xlXCIsIHN0cmluZygqcGFyYW1zLlJvbGUpKSwgemFwLkVycm9yKGVycikpXG4gICAgNDVcdFx0XHRyZXR1cm4gbmlsLCBlcnJcbiAgICA0Nlx0XHR9XG4gICAgNDdcdFx0cmV0dXJuIHJlc3VsdCwgbmlsXG4gICAgNDhcdH1cbiAgICA0OVx0XG5cblJldmlldyB0aGUgY2hhbmdlcyBhbmQgbWFrZSBzdXJlIHRoZXkgYXJlIGFzIGV4cGVjdGVkIChjb3JyZWN0IGluZGVudGF0aW9uLCBubyBkdXBsaWNhdGUgbGluZXMsIGV0YykuXG5FZGl0IHRoZSBmaWxlIGFnYWluIGlmIG5lY2Vzc2FyeS5cbiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifSwicmVxdWVzdElkIjoiYTkzOTQ1Y2ItNmIxMS00MDU1LTljZWEtM2Y1YWI2OTlmZjAzIiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMVhHVUtEeHVya05QOFd6b1g5NTd4cEsifSwiNjQxOGI5ZTctZDhhOC00NTZiLTg1M2YtZGIwNGNhMzRmODJiO3Rvb2x1X3ZydHhfMDFHdEdWdktTM0tvWWVqZ3Zwc1o2QmE5Ijp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkZpbGUocykgcmVtb3ZlZDogcmVwb3NpdG9yeS9maWx0ZXJfb3duZWRfY2xhc3Nyb29tcy5nbyIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifSwicmVxdWVzdElkIjoiNjQxOGI5ZTctZDhhOC00NTZiLTg1M2YtZGIwNGNhMzRmODJiIiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMUd0R1Z2S1MzS29ZZWpndnBzWjZCYTkifSwiY2M5NzdiMDAtNmU0Mi00MTI1LTk1YzItNWJhOWYwYjJhMDIzO3Rvb2x1X3ZydHhfMDFGNDc2VUVrVzkxWTJzM0ZnY3FMdDdVIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUgYXJlIHRoZSByZXN1bHRzIGZyb20gZXhlY3V0aW5nIHRoZSBjb21tYW5kLlxuICAgICAgICA8cmV0dXJuLWNvZGU+XG4gICAgICAgIDBcbiAgICAgICAgPC9yZXR1cm4tY29kZT5cbiAgICAgICAgPHN0ZG91dD5cbiAgICAgICAgMjAyNS8wNC8yMiAwMDowMjoxOCBTdWNjZXNzZnVsbHkgY29ubmVjdGVkIHRvIFBvc3RncmVTUUwgZGF0YWJhc2VcbjIwMjUtMDQtMjJUMDA6MDI6MTgrMDc6MDBcdEVSUk9SXHRsb2dnZXIvbG9nZ2VyLmdvOjE0Mlx0ZmFpbGVkIHRvIHN0YXJ0IHNlcnZlclx0e1wiZXJyb3JcIjogXCJmYWlsZWQgdG8gbGlzdGVuOiBsaXN0ZW4gdGNwNCA6NTAwMTogYmluZDogYWRkcmVzcyBhbHJlYWR5IGluIHVzZVwifVxuZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmUvbG9nZ2VyLkVycm9yXG5cdC9Vc2Vycy9ubmVlL2dvL3BrZy9tb2QvZ2l0aHViLmNvbS9ubmVlMjgxMC9taW1pLWNvcmVAdjAuMC4xOS9sb2dnZXIvbG9nZ2VyLmdvOjE0MlxucXVpenp5LWNsYXNzcm9vbS9zZXJ2ZXIuUnVuXG5cdC9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tL3NlcnZlci9zZXJ2ZXIuZ286NDRcbnF1aXp6eS1jbGFzc3Jvb20vY21kLmluaXQuZnVuYzJcblx0L1VzZXJzL25uZWUvZGV2L3F1aXp6eS1jbGFzc3Jvb20vY21kL3NlcnZlLmdvOjM1XG5naXRodWIuY29tL3NwZjEzL2NvYnJhLigqQ29tbWFuZCkuZXhlY3V0ZVxuXHQvVXNlcnMvbm5lZS9nby9wa2cvbW9kL2dpdGh1Yi5jb20vc3BmMTMvY29icmFAdjEuOS4xL2NvbW1hbmQuZ286MTAxOVxuZ2l0aHViLmNvbS9zcGYxMy9jb2JyYS4oKkNvbW1hbmQpLkV4ZWN1dGVDXG5cdC9Vc2Vycy9ubmVlL2dvL3BrZy9tb2QvZ2l0aHViLmNvbS9zcGYxMy9jb2JyYUB2MS45LjEvY29tbWFuZC5nbzoxMTQ4XG5naXRodWIuY29tL3NwZjEzL2NvYnJhLigqQ29tbWFuZCkuRXhlY3V0ZVxuXHQvVXNlcnMvbm5lZS9nby9wa2cvbW9kL2dpdGh1Yi5jb20vc3BmMTMvY29icmFAdjEuOS4xL2NvbW1hbmQuZ286MTA3MVxucXVpenp5LWNsYXNzcm9vbS9jbWQuRXhlY3V0ZVxuXHQvVXNlcnMvbm5lZS9kZXYvcXVpenp5LWNsYXNzcm9vbS9jbWQvcm9vdC5nbzozMFxubWFpbi5tYWluXG5cdC9Vc2Vycy9ubmVlL2Rldi9xdWl6enktY2xhc3Nyb29tL21haW4uZ286NlxucnVudGltZS5tYWluXG5cdC9vcHQvaG9tZWJyZXcvQ2VsbGFyL2dvLzEuMjQuMS9saWJleGVjL3NyYy9ydW50aW1lL3Byb2MuZ286MjgzXG5cbiAgICAgICAgPC9zdGRvdXQ+XG4gICAgICAgIDxzdGRlcnI+XG4gICAgICAgIFxuICAgICAgICA8L3N0ZGVycj4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn0sInJlcXVlc3RJZCI6ImNjOTc3YjAwLTZlNDItNDEyNS05NWMyLTViYTlmMGIyYTAyMyIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFGNDc2VUVrVzkxWTJzM0ZnY3FMdDdVIn0sIjVlNzFjN2YzLTZlMzItNGExMy1hNGQ1LTMwMjVhYzEyMzVkMDt0b29sdV92cnR4XzAxM2R3dlU5WjVvYmI1b2RyVmlxckJ6dCI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJDb21tYW5kIGlzIHN0aWxsIHJ1bm5pbmcgYWZ0ZXIgMCBzZWNvbmRzLiBZb3UgY2FuIHVzZSByZWFkLXByb2Nlc3MgdG8gZ2V0IG1vcmUgb3V0cHV0XG5hbmQga2lsbC1wcm9jZXNzIHRvIHRlcm1pbmF0ZSBpdCBpZiBuZWVkZWQuXG5QSUQgMTFcbk91dHB1dCBzbyBmYXI6XG48c3Rkb3V0PlxuXG48L3N0ZG91dD5cbjxzdGRlcnI+XG5cbjwvc3RkZXJyPiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifSwicmVxdWVzdElkIjoiNWU3MWM3ZjMtNmUzMi00YTEzLWE0ZDUtMzAyNWFjMTIzNWQwIiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMTNkd3ZVOVo1b2JiNW9kclZpcXJCenQifSwiOWUxNTJiZDctZDY1YS00MzkyLWE3MjQtZWExZDgwNWI4Mzk3O3Rvb2x1X3ZydHhfMDFOelBmWlA4VHhBaWNXdEJmUkQzSHJoIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkNvbW1hbmQgaXMgc3RpbGwgcnVubmluZyBhZnRlciAwIHNlY29uZHMuIFlvdSBjYW4gdXNlIHJlYWQtcHJvY2VzcyB0byBnZXQgbW9yZSBvdXRwdXRcbmFuZCBraWxsLXByb2Nlc3MgdG8gdGVybWluYXRlIGl0IGlmIG5lZWRlZC5cblBJRCAxMlxuT3V0cHV0IHNvIGZhcjpcbjxzdGRvdXQ+XG5cbjwvc3Rkb3V0PlxuPHN0ZGVycj5cblxuPC9zdGRlcnI+IiwiaXNFcnJvciI6ZmFsc2UsInJlcXVlc3RJZCI6IiJ9LCJyZXF1ZXN0SWQiOiI5ZTE1MmJkNy1kNjVhLTQzOTItYTcyNC1lYTFkODA1YjgzOTciLCJ0b29sVXNlSWQiOiJ0b29sdV92cnR4XzAxTnpQZlpQOFR4QWljV3RCZlJEM0hyaCJ9LCI2ZjNmZGU2Zi01YTVjLTQ0NDItOTdlMS1kNDBkMjUyZTU3MmQ7dG9vbHVfdnJ0eF8wMU1OZFU3akxEamhLTkNXVVpONmtWVDEiOnsicGhhc2UiOjUsInJlc3VsdCI6eyJ0ZXh0IjoiQ29tbWFuZCBpcyBzdGlsbCBydW5uaW5nIGFmdGVyIDAgc2Vjb25kcy4gWW91IGNhbiB1c2UgcmVhZC1wcm9jZXNzIHRvIGdldCBtb3JlIG91dHB1dFxuYW5kIGtpbGwtcHJvY2VzcyB0byB0ZXJtaW5hdGUgaXQgaWYgbmVlZGVkLlxuUElEIDEzXG5PdXRwdXQgc28gZmFyOlxuPHN0ZG91dD5cblxuPC9zdGRvdXQ+XG48c3RkZXJyPlxuXG48L3N0ZGVycj4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn0sInJlcXVlc3RJZCI6IjZmM2ZkZTZmLTVhNWMtNDQ0Mi05N2UxLWQ0MGQyNTJlNTcyZCIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFNTmRVN2pMRGpoS05DV1VaTjZrVlQxIn0sImY2ZTk4YTk3LTM4OGEtNDMxYi04NGY2LTVjMmJiOTgyNDQ4ZTt0b29sdV92cnR4XzAxMldSY2p4SEppdW5UYjJKQlA4Y2F0NyI6eyJwaGFzZSI6NSwicmVzdWx0Ijp7InRleHQiOiJDb21tYW5kIGlzIHN0aWxsIHJ1bm5pbmcgYWZ0ZXIgMCBzZWNvbmRzLiBZb3UgY2FuIHVzZSByZWFkLXByb2Nlc3MgdG8gZ2V0IG1vcmUgb3V0cHV0XG5hbmQga2lsbC1wcm9jZXNzIHRvIHRlcm1pbmF0ZSBpdCBpZiBuZWVkZWQuXG5QSUQgMTRcbk91dHB1dCBzbyBmYXI6XG48c3Rkb3V0PlxuXG48L3N0ZG91dD5cbjxzdGRlcnI+XG5cbjwvc3RkZXJyPiIsImlzRXJyb3IiOmZhbHNlLCJyZXF1ZXN0SWQiOiIifSwicmVxdWVzdElkIjoiZjZlOThhOTctMzg4YS00MzFiLTg0ZjYtNWMyYmI5ODI0NDhlIiwidG9vbFVzZUlkIjoidG9vbHVfdnJ0eF8wMTJXUmNqeEhKaXVuVGIySkJQOGNhdDcifSwiZWRjM2VmOGQtYzA5Mi00YTI0LWIwZGQtOGI1OGMzMDY1OWJlO3Rvb2x1X3ZydHhfMDFVSzJ4UVBGeW9mak1oMlpQdkhVaWFKIjp7InBoYXNlIjo1LCJyZXN1bHQiOnsidGV4dCI6IkhlcmUncyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgYGNhdCAtbmAgb24gZGVwbG95L2xvY2FsLmVudjpcbiAgICAgMVx0RU5WPWxvY2FsXG4gICAgIDJcdFBPUlQ9NTAwMVxuICAgICAzXHRcbiAgICAgNFx0REJfSE9TVD1hd3MtMC1hcC1zb3V0aGVhc3QtMS5wb29sZXIuc3VwYWJhc2UuY29tXG4gICAgIDVcdERCX1BPUlQ9NTQzMlxuICAgICA2XHREQl9VU0VSPXBvc3RncmVzLnpzbXZ6bGFubXZ3aHVlc2F3d21xXG4gICAgIDdcdERCX1BBU1NXT1JEPVlKYnowdXV2RHc2S0hrVDlcbiAgICAgOFx0REJfTkFNRT1wb3N0Z3Jlc1xuICAgICA5XHRcbiAgICAxMFx0U1VQQUJBU0VfVVJMPWh0dHBzOi8venNtdnpsYW5tdndodWVzYXd3bXEuc3VwYWJhc2UuY29cbiAgICAxMVx0U1VQQUJBU0VfQU5PTl9LRVk9ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnBjM01pT2lKemRYQmhZbUZ6WlNJc0luSmxaaUk2SW5wemJYWjZiR0Z1YlhaM2FIVmxjMkYzZDIxeElpd2ljbTlzWlNJNkltRnViMjRpTENKcFlYUWlPakUzTkRNek1ESXhOellzSW1WNGNDSTZNakExT0RnM09ERTNObjAuWDVKeHBWa2xUUFVoS05BRFlWUHctclJsMl9aZ25nU2hZMGZtSXdJNDhiVVxuICAgIDEyXHRKV1RfU0VDUkVUPVVRYTdOWmZkTTR5T2hkaWJpUDNuYklqak5ucjZUTEFyWXVvN253N1NFVkZhd2k3eWRWZW5QWG5qM2FMSE5sTzJxTGgrZHNHUnE0VEJxMmY4S2pMWG53PT1cblRvdGFsIGxpbmVzIGluIGZpbGU6IDEyXG4iLCJpc0Vycm9yIjpmYWxzZSwicmVxdWVzdElkIjoiIn0sInJlcXVlc3RJZCI6ImVkYzNlZjhkLWMwOTItNGEyNC1iMGRkLThiNThjMzA2NTliZSIsInRvb2xVc2VJZCI6InRvb2x1X3ZydHhfMDFVSzJ4UVBGeW9mak1oMlpQdkhVaWFKIn19LCJkcmFmdEV4Y2hhbmdlIjp7InJlcXVlc3RfbWVzc2FnZSI6IiIsInJpY2hfdGV4dF9qc29uX3JlcHIiOnsidHlwZSI6ImRvYyIsImNvbnRlbnQiOlt7InR5cGUiOiJwYXJhZ3JhcGgifV19LCJtZW50aW9uZWRfaXRlbXMiOltdLCJzdGF0dXMiOiJkcmFmdCJ9LCJyZXF1ZXN0SWRzIjpbXSwiaXNQaW5uZWQiOmZhbHNlLCJpc1NoYXJlYWJsZSI6dHJ1ZSwiZXh0cmFEYXRhIjp7ImlzQWdlbnRDb252ZXJzYXRpb24iOnRydWUsImhhc0RpcnR5RWRpdHMiOmZhbHNlfSwiZHJhZnRBY3RpdmVDb250ZXh0SWRzIjpbIi9Vc2Vycy9ubmVlL2Rldi9xdWl6enkvcXVpenp5LWNsYXNzcm9vbS9tb2RlbC9yZXMvZ2V0X2NsYXNzcm9vbV9zdGF0LmdvOkw1LTUiLCIvVXNlcnMvbm5lZS9kZXYvcXVpenp5L3F1aXp6eS1jbGFzc3Jvb20vbW9kZWwvcmVzL2NvdW50X2NsYXNzcm9vbV9zdGF0LmdvIiwiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS9xdWl6enktY2xhc3Nyb29tZmFsc2VmYWxzZSIsInVzZXJHdWlkZWxpbmVzIiwiYWdlbnRNZW1vcmllcyJdfSwiOTViMTJiNDAtZWRkZS00Y2JkLWE5ZjEtOWFhZmRiOTQ3NTQwIjp7ImlkIjoiOTViMTJiNDAtZWRkZS00Y2JkLWE5ZjEtOWFhZmRiOTQ3NTQwIiwiY3JlYXRlZEF0SXNvIjoiMjAyNS0wNS0wOVQxNDo0MjowMC41MDdaIiwibGFzdEludGVyYWN0ZWRBdElzbyI6IjIwMjUtMDUtMDlUMTQ6NDM6MDQuNzI5WiIsImNoYXRIaXN0b3J5IjpbeyJyZXF1ZXN0X2lkIjoiYzJiMmJhMDAtZWQxZi00NDBhLTkyY2UtZDQwNjhlNTc5MzNmIiwidXVpZCI6IjIzYmUwYTU5LWFiY2YtNDE4ZS1iZDI1LWE2MzA0OGQwNGY4ZiIsImNoYXRJdGVtVHlwZSI6ImFnZW50aWMtY2hlY2twb2ludC1kZWxpbWl0ZXIiLCJzdGF0dXMiOiJzdWNjZXNzIiwiZnJvbVRpbWVzdGFtcCI6MCwidG9UaW1lc3RhbXAiOjE3NDY4MDE3MjA1MDksInNlZW5fc3RhdGUiOiJzZWVuIn0seyJzdGF0dXMiOiJzdWNjZXNzIiwicmVxdWVzdF9pZCI6ImU0YWQ2ZjYxLTU3ZDItNDI2OS1iNmEyLTQ1MmI4NjkzZjQzMyIsInJlcXVlc3RfbWVzc2FnZSI6ImThu7FhIHbDoG8gcmVzcG9uc2UgcmVzcG9uc2UgQG1vZGVsL3Jlcy9nZXRfY2xhc3Nyb29tX3N0YXQuZ28gaMOjeSB2aeG6v3QgcmVwbyDEkeG6v20gc+G7kSBsxrDhu6NuZyBjw6FjIGNsYXNzIMSRYW5nIHPhu58gaOG7r3UsIHPhu5EgbMaw4bujbmcgY8OhYyBjbGFzcyDEkWFuZyB0aGFtIGdpYSwgc+G7kSBsxrDhu6NuZyBwZW5kaW5nIGludmF0YXRpb24iLCJyaWNoX3RleHRfanNvbl9yZXByIjp7InR5cGUiOiJkb2MiLCJjb250ZW50IjpbeyJ0eXBlIjoicGFyYWdyYXBoIiwiY29udGVudCI6W3sidHlwZSI6InRleHQiLCJ0ZXh0IjoiZOG7sWEgdsOgbyByZXNwb25zZSByZXNwb25zZSAifSx7InR5cGUiOiJtZW50aW9uIiwiYXR0cnMiOnsiaWQiOiIvbW9kZWwvcmVzL2dldF9jbGFzc3Jvb21fc3RhdC5nbyIsImxhYmVsIjoiZ2V0X2NsYXNzcm9vbV9zdGF0LmdvIiwiZGF0YSI6eyJsYWJlbCI6ImdldF9jbGFzc3Jvb21fc3RhdC5nbyIsIm5hbWUiOiJtb2RlbC9yZXMvZ2V0X2NsYXNzcm9vbV9zdGF0LmdvIiwiaWQiOiIvbW9kZWwvcmVzL2dldF9jbGFzc3Jvb21fc3RhdC5nbyIsImZpbGUiOnsicmVwb1Jvb3QiOiIiLCJwYXRoTmFtZSI6Im1vZGVsL3Jlcy9nZXRfY2xhc3Nyb29tX3N0YXQuZ28ifSwidHlwZSI6Iml0ZW0ifX19LHsidHlwZSI6InRleHQiLCJ0ZXh0IjoiIGjDo3kgdmnhur90IHJlcG8gxJHhur9tIHPhu5EgbMaw4bujbmcgY8OhYyBjbGFzcyDEkWFuZyBz4bufIGjhu691LCBz4buRIGzGsOG7o25nIGPDoWMgY2xhc3MgxJFhbmcgdGhhbSBnaWEsIHPhu5EgbMaw4bujbmcgcGVuZGluZyBpbnZhdGF0aW9uIn1dfV19LCJtZW50aW9uZWRfaXRlbXMiOlt7ImxhYmVsIjoiZ2V0X2NsYXNzcm9vbV9zdGF0LmdvIiwibmFtZSI6Im1vZGVsL3Jlcy9nZXRfY2xhc3Nyb29tX3N0YXQuZ28iLCJpZCI6Ii9tb2RlbC9yZXMvZ2V0X2NsYXNzcm9vbV9zdGF0LmdvIiwiZmlsZSI6eyJyZXBvUm9vdCI6IiIsInBhdGhOYW1lIjoibW9kZWwvcmVzL2dldF9jbGFzc3Jvb21fc3RhdC5nbyJ9LCJ0eXBlIjoiaXRlbSJ9XSwic3RydWN0dXJlZF9vdXRwdXRfbm9kZXMiOlt7ImlkIjowLCJ0eXBlIjowLCJjb250ZW50IjoiIn0seyJpZCI6MSwidHlwZSI6MiwiY29udGVudCI6IipZb3VyIHN1YnNjcmlwdGlvbiBmb3IgYWNjb3VudCBkb3JhZW1vbjI4MTAwMkBnbWFpbC5jb20gaXMgaW5hY3RpdmUuIElmIHlvdSBoYXZlIGFub3RoZXIgYWNjb3VudCB3aXRoIGFuIGFjdGl2ZSBzdWJzY3JpcHRpb24sIHBsZWFzZSBzaWduIG91dCBhbmQgc2lnbiBpbiB3aXRoIHRoYXQgb25lLiBPdGhlcndpc2UsIHVwZGF0ZSB5b3VyIHBsYW4gW2hlcmVdKGh0dHBzOi8vYXBwLmF1Z21lbnRjb2RlLmNvbS9hY2NvdW50L3BsYW4pIHRvIGNvbnRpbnVlIHVzaW5nIEF1Z21lbnQuKiJ9XSwic2Vlbl9zdGF0ZSI6InNlZW4iLCJzdHJ1Y3R1cmVkX3JlcXVlc3Rfbm9kZXMiOlt7ImlkIjoxLCJ0eXBlIjowLCJ0ZXh0X25vZGUiOnsiY29udGVudCI6ImThu7FhIHbDoG8gcmVzcG9uc2UgcmVzcG9uc2UgQG1vZGVsL3Jlcy9nZXRfY2xhc3Nyb29tX3N0YXQuZ28gaMOjeSB2aeG6v3QgcmVwbyDEkeG6v20gc+G7kSBsxrDhu6NuZyBjw6FjIGNsYXNzIMSRYW5nIHPhu58gaOG7r3UsIHPhu5EgbMaw4bujbmcgY8OhYyBjbGFzcyDEkWFuZyB0aGFtIGdpYSwgc+G7kSBsxrDhu6NuZyBwZW5kaW5nIGludmF0YXRpb24ifX0seyJpZCI6MiwidHlwZSI6NCwiaWRlX3N0YXRlX25vZGUiOnsid29ya3NwYWNlRm9sZGVycyI6W3sicmVwb3NpdG9yeVJvb3QiOiIvVXNlcnMvbm5lZS9kZXYvcXVpenp5L3F1aXp6eS1jbGFzc3Jvb20iLCJmb2xkZXJSb290IjoiL1VzZXJzL25uZWUvZGV2L3F1aXp6eS9xdWl6enktY2xhc3Nyb29tIn1dLCJ3b3Jrc3BhY2VGb2xkZXJzVW5jaGFuZ2VkIjpmYWxzZX19XSwidGltZXN0YW1wIjoiMjAyNS0wNS0wOVQxNDo0MzowNC43NDZaIiwicmVzcG9uc2VfdGV4dCI6IipZb3VyIHN1YnNjcmlwdGlvbiBmb3IgYWNjb3VudCBkb3JhZW1vbjI4MTAwMkBnbWFpbC5jb20gaXMgaW5hY3RpdmUuIElmIHlvdSBoYXZlIGFub3RoZXIgYWNjb3VudCB3aXRoIGFuIGFjdGl2ZSBzdWJzY3JpcHRpb24sIHBsZWFzZSBzaWduIG91dCBhbmQgc2lnbiBpbiB3aXRoIHRoYXQgb25lLiBPdGhlcndpc2UsIHVwZGF0ZSB5b3VyIHBsYW4gW2hlcmVdKGh0dHBzOi8vYXBwLmF1Z21lbnRjb2RlLmNvbS9hY2NvdW50L3BsYW4pIHRvIGNvbnRpbnVlIHVzaW5nIEF1Z21lbnQuKiIsIndvcmtzcGFjZV9maWxlX2NodW5rcyI6W119XSwiZmVlZGJhY2tTdGF0ZXMiOnsidGVtcC1mZS05ZTc5NDQzYS05MmM3LTRmNDktODJjNi02YjM1NTY2YzcxMGYiOnsic2VsZWN0ZWRSYXRpbmciOjAsImZlZWRiYWNrTm90ZSI6IiJ9fSwidG9vbFVzZVN0YXRlcyI6e30sImRyYWZ0RXhjaGFuZ2UiOnsicmVxdWVzdF9tZXNzYWdlIjoiIiwicmljaF90ZXh0X2pzb25fcmVwciI6eyJ0eXBlIjoiZG9jIiwiY29udGVudCI6W3sidHlwZSI6InBhcmFncmFwaCJ9XX0sInN0YXR1cyI6ImRyYWZ0In0sInJlcXVlc3RJZHMiOltdLCJpc1Bpbm5lZCI6ZmFsc2UsImlzU2hhcmVhYmxlIjp0cnVlLCJleHRyYURhdGEiOnsiaXNBZ2VudENvbnZlcnNhdGlvbiI6dHJ1ZSwiaGFzRGlydHlFZGl0cyI6ZmFsc2V9LCJwZXJzb25hVHlwZSI6MH19LCJhZ2VudEV4ZWN1dGlvbk1vZGUiOiJtYW51YWwiLCJpc0FnZW50RWRpdHNDb2xsYXBzZWQiOmZhbHNlLCJzaG91bGREaXNwbGF5QWdlbnRCYW5uZXIiOmZhbHNlLCJoYXNOb3RVc2VkQWdlbnQiOmZhbHNlfQ==" />
      </map>
    </option>
  </component>
</project>